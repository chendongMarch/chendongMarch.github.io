<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Rxjava2.xÂºÄÂèë-n-Backpressure-todo]]></title>
    <url>%2Farticle%2F2a4b463b%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶ÅËÆ∞ÂΩïÊÄªÁªìËÉåÂéãÁöÑÁõ∏ÂÖ≥Áü•ËØÜ„ÄÇ ÂΩì‰∏äÊ∏∏ÂèëÈÄÅÁöÑ‰∫ã‰ª∂ÁöÑÈÄüÂ∫¶ÂæàÂø´Ôºå‰∏ãÊ∏∏Â§ÑÁêÜ‰∫ã‰ª∂ÁöÑÈÄüÂ∫¶ÂæàÊÖ¢ÔºåÂ∞±‰ºöÂá∫Áé∞ËÉåÂéãÔºåËøôÂæàÂ•ΩÁêÜËß£ÔºåÂ∞±Â•ΩÊØî‰∏ÄÊù°Ê∞¥ÁÆ°Ôºå‰∏äÊ∏∏Ê∞¥ÊµÅÈáèÂ§™Â§ßÔºå‰∏ãÊ∏∏Ê∞¥ÊµÅÈáèÂ§™Â∞èÔºå‰∏äÊ∏∏ÈÄÅËøáÊù•ÁöÑÊ∞¥‰∏ãÊ∏∏‰∏çËÉΩÂèäÊó∂ËæìÂá∫ÔºåÂ∞±‰ºö‰∫ßÁîüÂéãÂäõÔºåËøôÂ∞±ÊòØËÉåÂéã„ÄÇ ËÉåÂéãÊòØÊåáÂú®ÂºÇÊ≠•Âú∫ÊôØ‰∏≠ÔºåË¢´ËßÇÂØüËÄÖÂèëÈÄÅ‰∫ã‰ª∂ÈÄüÂ∫¶ËøúÂø´‰∫éËßÇÂØüËÄÖÁöÑÂ§ÑÁêÜÈÄüÂ∫¶ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏ÄÁßçÂëäËØâ‰∏äÊ∏∏ÁöÑË¢´ËßÇÂØüËÄÖÈôç‰ΩéÂèëÈÄÅÈÄüÂ∫¶ÁöÑÁ≠ñÁï• Êú¨Êù•ÊÉ≥ÂÜô‰∏ÄÊÆµÁ®ãÂ∫èËß¶Âèë‰∏Ä‰∏ã MissingBackpressureException ÔºåÁªìÊûúÊ≤°ÊàêÂäü„ÄÇ Âú® RxJava2.x ‰∏≠ Observable ÊòØÈªòËÆ§‰∏çÊîØÊåÅËÉåÂéãÁöÑÔºåËÄå Flowable ÊòØÊîØÊåÅËÉåÂéãÁöÑ„ÄÇ]]></content>
      <categories>
        <category>Android</category>
        <category>Library</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Library</tag>
        <tag>RxJava2.x</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android ÊÄßËÉΩ‰ºòÂåñ - UI [ËøõÈò∂]]]></title>
    <url>%2Farticle%2Fd1ceed0f%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶ÅÊÄªÁªìÂíåËÆ∞ÂΩï Android ÂºÄÂèëËøáÁ®ã‰∏≠ÂØπ UI ÁªòÂà∂‰∏äÁöÑ‰ºòÂåñÔºå‰ºòÂåñ UI ÁªòÂà∂ÂèØ‰ª•ÂáèÂ∞ëÁªòÂà∂ÁöÑÊó∂Èó¥ÔºåÂ∞ΩÂèØËÉΩÂø´ÈÄüÁöÑÂ∞ÜÁïåÈù¢Â±ïÁ§∫Âá∫Êù•ÔºåËøòÂèØ‰ª•ÂáèËΩª CPU ÁöÑÂéãÂäõÔºåÈÅøÂÖçËøáÂ∫¶ÁªòÂà∂Ôºå‰øùËØÅ UI ÁöÑÊµÅÁïÖÂ∫¶„ÄÇ ÂâçË®ÄÁïåÈù¢ UI ÊØèÈöî 16 ms ËØ∑Ê±ÇÁªòÂà∂‰∏ÄÊ¨°ÔºåÁõ∏ÂΩì‰∫é 1000ms/16 =&gt; 60fpsÔºå60fps ÊòØ‰∫∫ËÉΩÊÑüËßâÂà∞ÁöÑÊúÄÈ´òÂ∏ßÁéáÔºå‰πüÂ∞±ÊòØËØ¥Ë∂ÖËøá 60fps ÊòØÊ≤°ÊúâÂøÖË¶ÅÁöÑÔºåÂêåÊó∂ÔºåÂ¶ÇÊûú‰Ωé‰∫é 30fps Â∞Ü‰ºöÊó†Ê≥ïÊµÅÁïÖÂ±ïÁ§∫ÂÜÖÂÆπ„ÄÇ ËøáÂ∫¶ÁªòÂà∂ Ë∞ÉËØïËøáÂ∫¶ÁªòÂà∂ ÈÄöËøáÊâãÊú∫ÁöÑÂºÄÂèëËÄÖÈÄâÈ°πÂèØ‰ª•Ë∞ÉËØïËøáÂ∫¶ÁªòÂà∂ÔºåËÆæÁΩÆ -&gt; ÂºÄÂèëËÄÖÈÄâÈ°π -&gt; Ë∞ÉËØïGPUËøáÂ∫¶ÁªòÂà∂ -&gt; ÊòæÁ§∫GPUËøáÂ∫¶ÁªòÂà∂ ÊâìÂºÄË∞ÉËØïËøáÂ∫¶ÁªòÂà∂‰ª•ÂêéÔºåÁïåÈù¢‰ºöÊòæÁ§∫‰∏çÂêåÁöÑÈ¢úËâ≤ÔºåÂàÜÂà´‰ª£Ë°®ËøáÂ∫¶ÁªòÂà∂ÁöÑÊ¨°Êï∞Ôºö È¢úËâ≤ ÊèèËø∞ Ë°®Á§∫ ËìùÁ¥´Ëâ≤ overdraw 1ÂÄç ÁªòÂà∂‰∫Ü2Ê¨°ÔºåÂ§ßÁâáÁöÑËìùÁ¥´Ëâ≤ÊòØÂèØ‰ª•Êé•ÂèóÁöÑ ÁªøËâ≤ overdraw 2ÂÄç ÁªòÂà∂‰∫Ü3Ê¨°Ôºå‰∏≠Á≠âÂ§ßÂ∞èÁöÑÁªøËâ≤Âå∫ÂüüÊòØÂèØ‰ª•Êé•ÂèóÁöÑ‰ΩÜ‰Ω†Â∫îËØ•Â∞ùËØï‰ºòÂåñ„ÄÅÂáèÂ∞ëÂÆÉ‰ª¨ Ê∑°Á∫¢ overdraw 3ÂÄç ÁªòÂà∂‰∫Ü4Ê¨°ÔºåÂ∞èËåÉÂõ¥ÂèØ‰ª•Êé•Âèó Ê∑±Á∫¢ overdraw 4ÂÄç ÁªòÂà∂‰∫Ü5+Ê¨°ÔºåËøôÊòØÈîôËØØÁöÑÔºåË¶Å‰øÆÂ§ç Êü•ÁúãÂæÆ‰ø°ÁöÑËøáÂ∫¶ÁªòÂà∂ÊÉÖÂÜµÔºåÈ¶ñÈ°µÂü∫Êú¨Âú®2ÂÄç‰ª•ÂÜÖÔºåÂÖ∂‰ªñÈ°µÈù¢ÂàóË°®Êúâ3ÂÄçÁöÑÊÉÖÂÜµÔºå4ÂÄçÁöÑÁªòÂà∂‰∏ÄËà¨Âá∫Áé∞Âú®ÊûÅÂ∞èÁöÑÂå∫ÂüüÂÜÖÔºåÊØîÂ¶ÇÊñáÂ≠óÂíåÂõæÊ†áÁ≠â„ÄÇ ÁõÆÊ†áÊòØÂ∞ΩÈáèÂ¢ûÂä†ËìùÁ¥´Ëâ≤ÁöÑÂå∫ÂüüÔºåÂáèÂ∞ëÁ∫¢Ëâ≤Âå∫Âüü„ÄÇ GPU ‰ΩøÁî® ÈÄöËøáÊâãÊú∫ÁöÑÂºÄÂèëËÄÖÈÄâÈ°πÂèØ‰ª•ÂºÄÂêØ GPU ÂëàÁé∞Ê®°ÂºèÂàÜÊûêÔºå ËÆæÁΩÆ -&gt; ÂºÄÂèëËÄÖÈÄâÈ°π -&gt; GPUÂëàÁé∞Ê®°ÂºèÂàÜÊûê ÔºåÂèØ‰ª•Êü•ÁúãÊüê‰∏™ÁïåÈù¢ÁöÑ GPU Âç†Áî®ÊÉÖÂÜµ„ÄÇ UI Â±ÇÁ∫ßÂ¶ÇÊûúÂ∏ÉÂ±ÄÂ±ÇÁ∫ßÂµåÂ•óËøáÊ∑±Ôºå‰πü‰ºöÂØºËá¥ UI ÁªòÂà∂ÁöÑÈóÆÈ¢òÔºåÂ∞§ÂÖ∂ÊòØ‰ΩøÁî® xml Â∏ÉÂ±ÄÊñá‰ª∂ÔºåÂõ†‰∏∫‰∏ÄÊñπÈù¢Ëß£Êûê xml Â∞±ÈúÄË¶ÅËÄóË¥πÂ§ßÈáèÁöÑ CPUÔºåÂè¶Â§ñÂ∏ÉÂ±Ä measure ÁöÑÊó∂ÂÄôÔºåÂ≠êÂ∏ÉÂ±ÄÈúÄË¶ÅÂëäÁü•Áà∂Â∏ÉÂ±ÄËá™Â∑±ÁöÑÂ§ßÂ∞èÂíåÂç†ÊçÆÁöÑ‰ΩçÁΩÆÔºåÂ±ÇÁ∫ßËøáÂ§ö‰πãÂêéÂ∞±‰ºöÂç†Áî®Êõ¥Â§öÁöÑÊó∂Èó¥ÂíåÂÜÖÂ≠ò„ÄÇ Hierarchy Viewer ÊòØ‰∏Ä‰∏™Êü•Áúã UI Â∏ÉÂ±ÄÂ±ÇÁ∫ßÁöÑÂ∑•ÂÖ∑Ôºå‰ΩøÁî® AndroidStudio Âú® Tools -&gt; Android -&gt; Device Monitor ‰∏çËøáÁúüÊú∫Êó†Ê≥ïË∞ÉËØïÔºåÂè™ËÉΩ‰ΩøÁî®Ê®°ÊãüÂô®Ôºå‰∏çËøáÂ§ßÂÆ∂ÂèØ‰ª•ÂèÇËÄÉËøô‰∏™È°πÁõÆ GitHub-ViewServerÔºå‰∏çËøáÂú®ÁîµËÑë‰∏äÈù¢Êü•Áúã‰ºöÂæàÂç°ÔºåËÄå‰∏îÊãñÂä®Ëµ∑Êù•Âæà‰∏çÊñπ‰æø„ÄÇ Â¶ÇÊûúÈ°πÁõÆ‰∏≠‰ΩøÁî®‰∫ÜÁΩëÁªúÊ°ÜÊû∂ÔºåÂèØ‰ª•‰ΩøÁî®Ôºö 12compile 'com.facebook.stetho:stetho:1.4.2',compile 'com.facebook.stetho:stetho-okhttp3:1.4.2', ÁÑ∂ÂêéÂú® chrome://inspect Êü•ÁúãÂ∏ÉÂ±ÄÔºåÁÇπÂáªÊåáÂÆöÂ∏ÉÂ±ÄÔºåÊâãÊú∫‰ºöÂêåÊó∂È´ò‰∫ÆÊòæÁ§∫ UI ‰ºòÂåñËß£ÂÜ≥ÂäûÊ≥ïÈíàÂØπ‰ª•‰∏ä‰∏§ÁßçÊÉÖÂÜµÔºåËß£ÂÜ≥ UI ÁªòÂà∂ÈóÆÈ¢ò‰∏ªË¶ÅÊòØ ÂáèÂ∞ëËøáÂ∫¶ÁªòÂà∂ Âíå ÂáèÂ∞ëÂ∏ÉÂ±ÄÂ±ÇÁ∫ß ‰∏§‰∏™ÊñπÈù¢„ÄÇ Âà†Èô§ÈáçÂ§çÊó†Áî®ÁöÑËÉåÊôØ Â¶ÇÊûúÂ±ÇÁ∫ßË¶ÜÁõñÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ºòÂÖàËÆæÁΩÆÂ∫ïÂ±Ç View ÁöÑËÉåÊôØÔºåÈ°∂Â±ÇÂ¶ÇÊûúÂÖ∑ÊúâÁõ∏ÂêåÈ¢úËâ≤ÁöÑËÉåÊôØÔºåÂ∞±‰∏çË¶ÅÈáçÂ§çËÆæÁΩÆÂï¶„ÄÇ Â¶ÇÊûúÂ∫ïÂ±ÇÁöÑ View Ë¶ÜÁõñ‰∫ÜÊï¥‰∏™Â±èÂπïÔºåÈÇ£‰πà Window ÁöÑËÉåÊôØ‰πüÊòØ‰∏çÈúÄË¶ÅÁöÑÔºåÂèØ‰ª•‰ΩøÁî®Ôºö 1getWindow().setBackgroundDrawable(null); ÂêàÁêÜÈÄâÊã©Â∏ÉÂ±Ä Â∏ÉÂ±ÄË¶ÅÈÅµÂæ™ Â¢ûÂä†ÂÆΩÂ∫¶ÔºåÂáèÂ∞èÊ∑±Â∫¶ ÁöÑÂéüÂàôÔºåÂ∞ΩÂèØËÉΩÁöÑÂáèÂ∞ë UI Â±ÇÁ∫ß ‰∏ç‰ΩøÁî®ÁªùÂØπÂ∏ÉÂ±Ä AbsoluteLayout„ÄÇ Â§çÊùÇÂ∏ÉÂ±ÄÔºå‰ºòÂÖà‰ΩøÁî® RelativeLayoutÔºåÂèØ‰ª•Êõ¥Â•ΩÁöÑÊéßÂà∂Â≠êÊéß‰ª∂ÁöÑ‰ΩçÁΩÆ„ÄÇ Áõ∏ÂêåÁöÑÂ±ÇÁ∫ßÊÉÖÂÜµ‰∏ãÔºå‰ºòÂÖà‰ΩøÁî® LinearLayoutÔºå‰ªñÁöÑÂ∏ÉÂ±ÄÊïàÁéáÊõ¥È´ò„ÄÇ Â∞ΩÂèØËÉΩÂ∞ëÁî® layout_weight Â±ûÊÄßÔºå‰ªñ‰ºöÈÄ†ÊàêÂ§öÊ¨°ÊµãÈáè„ÄÇ ‰ΩøÁî® ConstraintLayoutÔºåÂèØ‰ª•ÂæàÂ•ΩÁöÑÂáèÂ∞ëÂ∏ÉÂ±ÄÁöÑÂ±ÇÁ∫ß„ÄÇ Xml Drawable ËßÑÂàôÂõæÂΩ¢ÔºåÂ∞ΩÈáè‰ΩøÁî® shape.xml ‰ª£ÊõøÂõæÁâá ‰ΩøÁî® selector Êó∂ÔºåÂ∞Ü normal Áä∂ÊÄÅ‰∏ãÁöÑÈ¢úËâ≤ËÆæÁΩÆ‰∏∫ transparent Include ‰ΩøÁî® &lt;include/&gt; Ê†áÁ≠æÂ§çÁî®Â∏ÉÂ±ÄÔºåËøô‰∏™ÂÖ∂ÂÆûÂπ∂‰∏çËÉΩËµ∑Âà∞‰ºòÂåñ UI ÁªòÂà∂ÁöÑ‰ΩúÁî®Ôºå‰∏çËøáËÆ≤ÂêàÈÄÇÁöÑÂ∏ÉÂ±ÄÂàÜÁ¶ªÂ§ÑÁêÜÂÅöÊàêÁã¨Á´ãÁöÑ xmlÔºåÂèØ‰ª•Êõ¥Â•ΩÁöÑÂ∞ÜÂ∏ÉÂ±ÄÁªÑ‰ª∂Âåñ„ÄÇ 1234567&lt;include layout="@layout/activity_about_us" android:layout_width="match_parent" android:layout_height="100dp" android:layout_margin="10dp" android:orientation="horizontal" android:visibility="visible"/&gt; ‰ΩøÁî® &lt;include/&gt; ÈúÄË¶ÅÊ≥®ÊÑèÂá†ÁÇπÔºåÂú® &lt;include/&gt; Ê†áÁ≠æ‰∏≠ÂèØ‰ª•‰ΩøÁî®ÈÉ®ÂàÜÂ±ûÊÄßÊù•‰ªéÊñ∞ÂÆö‰πâÂ∏ÉÂ±ÄÔºåÂ¶Ç width„ÄÅheight„ÄÅvisibility„ÄÅmargin„ÄÅid Á≠âÔºåÂ¶ÇÊåáÂÆö‰∫Ü idÔºåÂ∞Ü‰ºöË¶ÜÁõñ &lt;include/&gt; ÈáåÈù¢Ê†πÂ∏ÉÂ±ÄÁöÑ idÔºåÈÄ†ÊàêÊü•Êâæ‰∏çÂà∞ÁöÑÊÉÖÂÜµ„ÄÇ ViewStub Â¶ÇÊûú‰∏Ä‰∏™Êéß‰ª∂Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ã‰∏çËøõË°åÊòæÁ§∫ÔºåÈÇ£‰πà‰ΩøÁî® ViewStub Ë¶ÅÊØî‰ΩøÁî® Visibility Êõ¥Â•ΩÔºå‰ªñ‰∏ç‰ºöÂç†ÊçÆ‰ªª‰Ωï‰ΩçÁΩÆÔºåËß£Êûê xml ‰πü‰∏ç‰ºöËÄóË¥πÊõ¥Â§öËµÑÊ∫ê„ÄÇ 12345&lt;ViewStub android:id="@+id/viewstub" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout="@layout/activity_about_us"/&gt; ÂΩìÈúÄË¶ÅÂ±ïÁ§∫ÂÜÖÈÉ®Â∏ÉÂ±ÄÊó∂Ôºå‰ΩøÁî® inflate() Â±ïÂºÄÂ∏ÉÂ±ÄÔºåÂ∏ÉÂ±ÄÂ±ïÂºÄÂêéÔºåViewStub ÈáåÈù¢ÁöÑÂÜÖÂÆπÂ∞±‰ºö‰ª£Êõø ViewStub ÁöÑ‰ΩçÁΩÆÔºåÂêåÊó∂ ViewStub Â∞±Êü•Êâæ‰∏çÂà∞‰∫ÜÔºåËÄå‰∏îÊàë‰ª¨‰πü‰∏çÂ∏åÊúõÂ±ïÂºÄÂ§öÊ¨°ÔºåÊâÄ‰ª•Ë¶ÅÂÅö‰∏Ä‰∏ãÁ©∫Âà§Êñ≠Ôºå‰∏ç‰∏∫Á©∫Êó∂Ôºå‰ΩøÁî® setVisibility Â±ïÁ§∫Â∏ÉÂ±Ä„ÄÇ 12345678910111213private View viewStubView;private void openViewStub() &#123; // Â∑≤ÁªèÂ±ïÂºÄÔºåÁõ¥Êé•‰ΩøÁî® setVisibility if (viewStubView != null) &#123; viewStubView.setVisibility(View.VISIBLE); &#125; else &#123; ViewStub viewStub = findViewById(R.id.viewstub); // Ê≤°ÊúâÂ±ïÂºÄÔºå‰ΩøÁî® ViewStub if (viewStub != null) &#123; viewStubView = viewStub.inflate(); &#125; &#125;&#125; Merge ‰ΩøÁî® xml Â∏ÉÂ±ÄÊó∂ÔºåÊúÄÂ§ñÂ±ÇÂè™ËÉΩÊúâ‰∏Ä‰∏™Áà∂Êéß‰ª∂ÔºåÂΩìÊàë‰ª¨Â∏åÊúõÊääÂÖ∂‰∏≠ÈÉ®ÂàÜÊèêÂèñÂà∞ &lt;include/&gt; ‰∏≠Êó∂ÔºåÂ∞±ÈúÄË¶ÅÂú®Â≠êÂ∏ÉÂ±ÄÊúÄÂ§ñÂ±ÇÂÜçÂä†‰∏ÄÂ±ÇÊéß‰ª∂ÂåÖÂê´ÔºåËøôÊ†∑Â∞±Â¢ûÂä†‰∫ÜÂ∏ÉÂ±ÄÁöÑÊ∑±Â∫¶„ÄÇ &lt;merge/&gt; Â∞±ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥‰∏äËø∞ÈóÆÈ¢òÔºåÂÆÉ‰∏ªË¶ÅÊòØÁî®Êù•Â∞Ü‰∏§‰∏™Áõ∏ÂêåÁöÑÂ∏ÉÂ±ÄÂêàÂπ∂‰∏∫‰∏Ä‰∏™Ôºå‰∏ªË¶ÅÁî®‰∫é‰∏§ÁßçÊÉÖÂÜµÔºö Á¨¨‰∏ÄÁßçÊÉÖÂÜµÊòØÔºåË∞ÉÁî® setContentView() Êó∂ÔºåÂÖ∂ÂÆûÊòØÂ∞ÜÊàë‰ª¨ÁöÑÂ∏ÉÂ±ÄËÆæÁΩÆÂà∞‰∫Ü id ‰∏∫ R.id.content ÁöÑ FrameLayout ‰∏≠ÔºåÈÇ£‰πàÂ¶ÇÊûúÊàë‰ª¨ÁöÑÈ°∂Â±ÇÂ∏ÉÂ±Ä‰πüÊòØ FrameLayoutÔºåÂêåÊó∂Ê≤°Êúâ background Âíå padding Á≠âÂ±ûÊÄßÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•‰ΩøÁî® &lt;merge/&gt;ÔºåÂ∞Ü‰∫åËÄÖÂêà‰∏∫‰∏Ä‰∏™ÔºåÁêÜËß£Ëµ∑Êù•‰πüÁÆÄÂçïÔºåÊú¨Êù•Â∞±ÊòØ‰∏§‰∏™‰∏ÄÊ†∑ÁöÑÂ∏ÉÂ±ÄÂ•óÂú®‰∏ÄËµ∑ÔºåÂêà‰∏∫‰∏Ä‰∏™Âπ∂‰∏çÂΩ±Âìç„ÄÇ Á¨¨‰∫åÁßçÊÉÖÂÜµÊòØÔºå‰ΩøÁî® &lt;include/&gt; Êó∂‰πüÊòØ‰∏ÄÊ†∑ÁöÑÈÅìÁêÜÔºåÂ¶ÇÊûú &lt;include/&gt; ‰∏≠ÁöÑÈ°∂Â±ÇÂ∏ÉÂ±ÄÂíå‰ªñÂ∞ÜË¶ÅÊ∑ªÂä†Âà∞ÁöÑÂ∏ÉÂ±ÄÈáåÈù¢ÁöÑ layout ÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•‰ΩøÁî® &lt;merge/&gt;ÔºåËäÇÁúÅ‰∏ÄÂ±ÇÂ∏ÉÂ±ÄÔºåÂ¶Ç‰∏ãÔºö 1234567891011121314151617// test_layout.xml&lt;LinearLayout android:layout_width="match_parent" android:layout_height="match_parent" android:orientation="vertical"&gt; &lt;TextView ... /&gt; &lt;include layout="@layout/test_item_layout"/&gt;&lt;/LinearLayout&gt;// test_item_layout.xml&lt;LinearLayout android:layout_width="match_parent" android:layout_height="match_parent" android:orientation="vertical"&gt; &lt;TextView ... /&gt; &lt;TextView ... /&gt;&lt;/LinearLayout&gt; Áî±‰∫é &lt;include/&gt; È°∂Â±Ç View ‰πüÊòØ LinearLayoutÔºåÂõ†Ê≠§ÂèØ‰ª•‰ΩøÁî® &lt;merge/&gt; ‰ª£Êõø 1234567&lt;merge android:layout_width="match_parent" android:layout_height="match_parent" android:orientation="vertical"&gt; &lt;TextView ... /&gt; &lt;TextView ... /&gt;&lt;/merge&gt;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android ÊÄßËÉΩ‰ºòÂåñ - ÂÜÖÂ≠ò [ËøõÈò∂]]]></title>
    <url>%2Farticle%2F666476b4%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶ÅÊÄªÁªì Android ÂºÄÂèëËøáÁ®ã‰∏≠ÂØπÂÜÖÂ≠ò‰ΩøÁî®‰∏äÁöÑ‰ºòÂåñÔºåÈÄöËøáÂèäÊó∂ÊúâÊïàÁöÑÁÆ°ÁêÜÂÜÖÂ≠òÁ©∫Èó¥ÂèØ‰ª•ÈÅøÂÖçÂÜÖÂ≠òÊ≥ÑÊºèÂíå OOM ÁöÑÂèëÁîü„ÄÇ ÂâçË®ÄÂõõÁßçÂºïÁî®Á±ªÂûãÔºö Âº∫ÂºïÁî®ÔºöÈªòËÆ§ÂºïÁî®Á±ªÂûãÔºåÂº∫ÂºïÁî®ÁöÑÂØπË±°Âç≥‰ΩøÊäõÂá∫ OOM ‰πü‰∏ç‰ºöË¢´ÂõûÊî∂„ÄÇ ËΩØÂºïÁî® SoftReferenceÔºöÂΩìÂÜÖÂ≠ò‰∏çË∂≥Êó∂‰ºöË¢´ÂõûÊî∂„ÄÇ Âº±ÂºïÁî® WeakReferenceÔºöÂú® GC Êó∂Ôºå‰∏ÄÊó¶ÂèëÁé∞‰∫ÜÂè™ÂÖ∑ÊúâÂº±ÂºïÁî®ÁöÑÂØπË±°ÔºåÈÉΩ‰ºöËøõË°åÂõûÊî∂„ÄÇ ËôöÂºïÁî® PhantomReferenceÔºö‰ªª‰ΩïÊó∂ÂÄôÈÉΩÂèØ‰ª•Ë¢´ GC ÂõûÊî∂„ÄÇ ÂÜÖÂ≠òÈóÆÈ¢ò‰∏ªË¶Å‰ΩìÁé∞Âú®Ôºö ÂÜÖÂ≠òÊ≥ÑÊºèÔºöÊåáÁöÑÊòØÂΩì‰∏Ä‰∏™ÂØπË±°‰∏çÂÜçË¢´‰ΩøÁî®Êó∂ÔºåÁî±‰∫éÂÖ∂‰ªñÂØπË±°‰ªçÁÑ∂ÊåÅÊúâËØ•ÂØπË±°ÁöÑÂº∫ÂºïÁî®ÔºåÂØºËá¥ËØ•ÂØπË±°Êó†Ê≥ïË¢´ÈáäÊîæÔºåÈÄ†ÊàêÂÜÖÂ≠òÁ©∫Èó¥ÁöÑÊµ™Ë¥πÔºåÂ§ßÈáèÂç†ÊçÆÂÜÖÂ≠òÁ©∫Èó¥ÂèØËÉΩÂºïÂèë OOM; ÂÜÖÂ≠òÊ∫¢Âá∫ÔºöÂç≥ OOMÔºåÂΩìÂêëÁ≥ªÁªüÁî≥ËØ∑ÂÜÖÂ≠òÊó∂ÔºåÊ≤°ÊúâË∂≥Â§üÁöÑÂÜÖÂ≠òÁ©∫Èó¥Êó∂‰ºöÂºïÂèë OOMÔºåOOM ÂèëÁîüÁöÑÊÉÖÂÜµÂæàÂ§öÔºåËÄå‰∏îÊúÄÂêé Crash ÁöÑÂú∞ÊñπÂπ∂‰∏ç‰∏ÄÂÆöÊòØÈóÆÈ¢òÁöÑÊ†πÊ∫êÔºåÂèØËÉΩÊòØÂÖ∂‰ªñÁöÑÊìç‰ΩúÂç†Áî®‰∫ÜÂ§ßÈáèÂÜÖÂ≠ò„ÄÇ ÂÜÖÂ≠òÊäñÂä®ÔºöÊåáÁöÑÊòØÈ¢ëÁπÅÁöÑÊúâÂ§ßÈáèÁöÑÂØπË±°ÂàõÂª∫ÂíåÈîÄÊØÅÔºåÂºïÂèëÈ´òÈ¢ëÁöÑÁ≥ªÁªü GCÔºåÂΩì GC Á∫øÁ®ãÂêØÂä®Êó∂ÂÖ∂‰ªñÁ∫øÁ®ãÈÉΩ‰ºöÊöÇÂÅúÔºå‰ºöÈÄ†ÊàêÈ°µÈù¢ÁöÑÂç°È°øÁ≠â„ÄÇ ÂÜÖÂ≠òÂàÜÊûêÂíåÁõëÊéß Ëé∑ÂèñÂàÜÈÖçÁöÑÂÜÖÂ≠òÂíåÂèØÁî®ÂÜÖÂ≠òÂ§ßÂ∞è 12long totalMemory = Runtime.getRuntime().totalMemory();long freeMemory = Runtime.getRuntime().freeMemory(); Android Profiler ‰ΩøÁî® AndroidStudioÔºåÈÄöËøá View -&gt; ToolWindows -&gt; Android ProfilerÔºåÂèØ‰ª•Êü•ÁúãÂÜÖÂ≠ò„ÄÅÁΩëÁªú„ÄÅCPU ÂèòÂåñÊÉÖÂÜµÔºåËøòÂèØ‰ª• Dump ÂÜÖÂ≠òËÆ∞ÂΩïÔºåÁî®‰∫éÂÜÖÂ≠òÂàÜÊûê„ÄÇ Memory View ‰ΩøÁî® AndroidStudioÔºåÈÄöËøá View -&gt; ToolWindows -&gt; Memory ViewÔºåÂèØ‰ª•ÁªìÂêàÊñ≠ÁÇπË∞ÉËØï dump ÊåáÂÆöÊñ≠ÁÇπÂ§ÑÁöÑÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºåËøõË°åÂÜÖÂ≠òÂàÜÊûê„ÄÇ ÂÜÖÂ≠òÁõëÊéß ÂΩìÂ∫îÁî®ÂÜÖÂ≠ò‰∏çË∂≥Êó∂Ôºå‰ºöË∞ÉÁî® Application ÁöÑ onTrimMemory() ÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ËøôÈáåÂÅö‰∏Ä‰∫õÊ∏ÖÁêÜÂÜÖÂ≠òÁöÑÊìç‰ΩúÔºåÈÅøÂÖçÂÜÖÂ≠òËøáÂ§ßÈÄ†Êàê OOM 1234567public class MyApplication extends BaseApplication &#123; @Override public void onTrimMemory(int level) &#123; super.onTrimMemory(level); &#125; &#125; LeakCanaryLeakCanary-GitHub : A memory leak detection library for Android and Java. LeakCanary ÊòØ squre ÂºÄÊ∫êÁöÑ‰∏Ä‰∏™Áî®‰∫éÂú® Android Âíå Java Âπ≥Âè∞‰∏ãÊ£ÄÊµãÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÂ∑•ÂÖ∑ÔºåÊèê‰æõ‰∫Ü‰∏§Áßç‰æùËµñÊñπÂºèÔºåÂú® release ÁâàÊú¨‰∏ã‰∏ç‰ºöËøõË°åÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÊ£ÄÊµãÔºåÈÅøÂÖçÊÄßËÉΩÈóÆÈ¢ò„ÄÇ 12compile "com.squareup.leakcanary:leakcanary-android-no-op:1.5.1"debugCompile "com.squareup.leakcanary:leakcanary-android:1.5.1" Âú® Application ‰∏≠ÂàùÂßãÂåñ 1234567891011121314151617181920212223public class MyApplication extends BaseApplication &#123; @Override public void onCreate() &#123; super.onCreate(); initLeakCanary(); &#125; private RefWatcher mRefWatcher; public void initLeakCanary() &#123; if (LeakCanary.isInAnalyzerProcess(this)) &#123; return; &#125; mRefWatcher = LeakCanary.install(this); &#125; public static RefWatcher getRefWatcher(Context context) &#123; MyApplication application = (MyApplication) context.getApplicationContext(); return application.mRefWatcher; &#125;&#125; ÂàùÂßãÂåñ‰πãÂêéÂ∞±ÂèØ‰ª•Ëá™Âä®Ê£ÄÊµã Activity ÁöÑÂÜÖÂ≠òÊ≥ÑÈú≤ÈóÆÈ¢òÔºåÂ¶ÇÊûúÈúÄË¶ÅÊ£ÄÊµã Fragment Á≠âÂÖ∂‰ªñÂØπË±°ÁöÑÂÜÖÂ≠òÈóÆÈ¢òÔºåÈúÄË¶ÅÂú®Â∏åÊúõÂØπË±°Ë¢´ÂõûÊî∂ÁöÑÊó∂ÂÄôÊ≥®ÂÜåÊ£ÄÊµãÁõëÂê¨ 1234567public class MyFragment extends BaseFragment &#123; @Override public void onDestroy() &#123; super.onDestroy(); MyApplication.getRefWatcher(getContext()).watch(this,"fragment"); &#125;&#125; ÂÜÖÈÉ®Á±ªÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºèÂú®ÂÜÖÂ≠òÈóÆÈ¢ò‰∏äÊàë‰ª¨ÁÆÄÂçïÁöÑÊääÂÜÖÈÉ®Á±ªÂàÜ‰∏∫ÈùôÊÄÅÂÜÖÈÉ®Á±ªÂíåÈùûÈùôÊÄÅÂÜÖÈÉ®Á±ªÔºö ÈùôÊÄÅÂÜÖÈÉ®Á±ªÔºö‰∏éÂ§ñÈÉ®Á±ªÁã¨Á´ãÔºåÂÜÖÈÉ®Á±ªÁöÑÂàõÂª∫‰∏çÈúÄË¶Å‰æùËµñÂ§ñÈÉ®Á±ªÂÆû‰æãÔºåËÄåÊòØ‰æùËµñ‰∫é Class Êú¨Ë∫´Ôºå‰ªñÂè™ËÉΩËÆøÈóÆÂ§ñÈÉ®Á±ªÁöÑÈùôÊÄÅÂèòÈáèÂíåÊñπÊ≥ïÔºåÂèØ‰ª•Áúã‰Ωú‰∏Ä‰∏™ÂÆåÂÖ®Áã¨Á´ãÁöÑÁ±ªÔºå‰∏éÂ§ñÈÉ®Á±ªÂÆåÂÖ®ÈöîÁ¶ªÔºå‰∏ç‰ºöÂ≠òÂú®ÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÈóÆÈ¢ò„ÄÇ ÈùûÈùôÊÄÅÂÜÖÈÉ®Á±ªÔºö‰πüÂ∞±ÊòØÂÖ∂‰ªñÁ±ªÂûãÁöÑÂÜÖÈÉ®Á±ªÔºå‰∏ªË¶ÅÂåÖÊã¨Â±ÄÈÉ®ÂÜÖÈÉ®Á±ª„ÄÅÂåøÂêçÂÜÖÈÉ®Á±ªÁ≠âÔºå‰ªñ‰ª¨ÁöÑÂàõÂª∫‰æùËµñ‰∫éÂ§ñÈÉ®Á±ªÁöÑÂÆû‰æãÔºåÈùûÈùôÊÄÅÂÜÖÈÉ®Á±ªÂèØ‰ª•ËÆøÈóÆÂ§ñÈÉ®ÁöÑÈùûÈùôÊÄÅÊàêÂëòÔºåÁîöËá≥ÊòØÁßÅÊúâÊàêÂëòÔºåËøôÊòØÂõ†‰∏∫ÂÜÖÈÉ®Á±ª‰∏≠ÈöêÂºèÁöÑÊåÅÊúâ‰∫ÜÂ§ñÈÉ®Á±ªÁöÑÂºïÁî®ÔºåÂú®ÁºñËØëÂêéÔºå‰ºöÂΩ¢Êàê OuterClass$InnerClass Á±ªÔºåËÄåËøô‰∏™Á±ª‰∏≠Â∞±‰ºöÊåÅÊúâÂ§ñÈÉ®Á±ªÁöÑÂºïÁî®ÔºåÂõ†Ê≠§ÂΩìÂ§ñÈÉ®Á±ªË¢´ÈîÄÊØÅÂêéÔºåÁî±‰∫éÂÜÖÈÉ®Á±ª‰ªçÊóßÂº∫ÂºïÁî®ÊåÅÊúâ‰∫ÜÂ§ñÈÉ®Á±ªÔºåÂõ†Ê≠§Â§ñÈÉ®Á±ª‰∏çËÉΩË¢´ÂèäÊó∂ÂõûÊî∂ÔºåÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÊºèÈóÆÈ¢ò„ÄÇ ‰∏çÊòØËØ¥ÊâÄÊúâÁöÑÂÜÖÈÉ®Á±ªÈÉΩ‰ºöÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÊºèÔºåÂ§ñÈÉ®Á±ªÈîÄÊØÅÊó∂ÈÄöÂ∏∏‰πü‰ºöÈîÄÊØÅÂÜÖÈÉ®Á±ªÔºåÂÜÖÂ≠òÊ≥ÑÊºèÂæÄÂæÄÂèëÁîüÂú®Áî±‰∫é‰∏Ä‰∫õÂéüÂõ†ÂØºËá¥ÂÜÖÈÉ®Á±ªÊó†Ê≥ïË¢´ÈîÄÊØÅÁöÑÊÉÖÂÜµÔºåÂ¶ÇÁîüÂëΩÂë®Êúü‰∏çÁªü‰∏Ä„ÄÇ ÁîüÂëΩÂë®Êúü‰∏çÁªü‰∏ÄÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºèÁîüÂëΩÂë®Êúü‰∏çÁªü‰∏ÄÊåáÁöÑÊòØ ObjB ÂºïÁî®‰∫Ü ObjAÔºå‰ΩÜÊòØ ObjB ÊØî ObjA ÁîüÂëΩÊõ¥ÈïøÔºåÂΩì ObjA Ëá™Â∑±ÈîÄÊØÅÊó∂ÔºåÁî±‰∫é ObjB ËøòÂú®Ê¥ªË∑ÉÔºåÂØºËá¥ ObjA Êó†Ê≥ïË¢´ÂõûÊî∂„ÄÇ Âõ†‰∏∫ÂÜÖÈÉ®Á±ªÊåÅÊúâÂ§ñÈÉ®Á±ªÁöÑÂºïÁî®ÔºåÂ¶ÇÊûúÂÜÖÈÉ®Á±ªÂ≠òÂú®‰∫é‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÈáåÈù¢ÔºåÈÇ£‰πàÂÜÖÈÉ®Á±ªÁöÑÁîüÂëΩÂë®ÊúüÂ∞±‰æùËµñ‰∫éÊñ∞ÁöÑÁ∫øÁ®ãÁöÑÁîüÂëΩÂë®ÊúüÔºå‰∏§ËÄÖ‰∏ç‰∏ÄËá¥ÔºåÂΩìÂ§ñÈÉ®Á±ªË¢´ÈîÄÊØÅÊó∂ÔºåÂ∞±‰ºöÈÄ†ÊàêÂÜÖÂ≠òÈóÆÈ¢òÔºåÊØîËæÉÂ∏∏ËßÅÁöÑ‰ΩìÁé∞Âú® Handler„ÄÅAsyncTask Âíå Thread Á≠âÊ∂âÂèäÁ∫øÁ®ãÁöÑÊìç‰Ωú„ÄÇ Handler 123456Handler mHandler = new Handler()&#123; @Override public void handleMessage(Message msg) &#123; super.handleMessage(msg); &#125;&#125;; Âú® Activity ‰∏≠‰ΩøÁî® Handler ÂèëÈÄÅÁöÑ Message ÊéíÈòüÂú® Looper Á∫øÁ®ãÁöÑ MessageQueue ‰∏≠ÔºåÂêåÊó∂ Message ‰∏≠ÊåÅÊúâ Handler ÁöÑÂºïÁî®ÔºåËÄåÁî±‰∫éHandler ÂåøÂêçÂÜÖÈÉ®Á±ªÈöêÂºèÁöÑÊåÅÊúâ‰∫ÜÂ§ñÈÉ®Á±ªÁöÑÂºïÁî®ÔºåÂ∞±Áõ∏ÂΩì‰∫é Activity Ë¢´Âº∫ÂÖ≥ËÅîÂú®‰∫ÜËøôÊù°Ê∂àÊÅØ‰∏äÈù¢„ÄÇÂç≥ Activity -&gt; Handler -&gt; Message -&gt; MessageQueue -&gt; Looper ÂΩì Activity Ë¢´ÈîÄÊØÅÂêéËøòÊòØ‰ºöÊåâÁÖßÊåáÂÆöÁöÑÊó∂Èó¥ÂèëÈÄÅËØ•Ê∂àÊÅØÔºåÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇÂõ†Ê≠§Âú® Activity ÈùûÈùôÊÄÅÁöÑÂ£∞Êòé‰∏Ä‰∏™ Handler ‰ºöË≠¶ÂëäÔºöÂåøÂêçÁöÑ Handler ÂèØËÉΩ‰ºöÂºïÂèëÂÜÖÂ≠òÊ≥ÑÊºè 1This Handler class should be static or leaks might occur (anonymous android.os.Handler) Ëøô‰∏™ÈóÆÈ¢òÂ∞§ÂÖ∂‰ΩìÁé∞Âú®‰ΩøÁî® Handler ÂèëÈÄÅ‰∫Ü‰∏Ä‰∏™Âª∂Êó∂Ê∂àÊÅØÔºåÂΩì Activity Ë¢´ÈîÄÊØÅÂêéÔºåËøô‰∏™Ê∂àÊÅØÊâçË¢´ÂèëÈÄÅÂá∫Êù•ÔºåÂºÄÂßãÊâßË°å„ÄÇ Èô§‰∫ÜÂåøÂêçÂ£∞Êòé Handler ‰πãÂ§ñÔºåÂΩì‰ΩøÁî® Handler ÂèëÈÄÅ‰∏Ä‰∏™ Runnable Êó∂‰πü‰ºöÂ≠òÂú®‰∏ÄÊ†∑ÁöÑÈóÆÈ¢òÔºåËøôÈáå Handler ‰∏çÊòØÂÜÖÈÉ®Á±ª‰∫ÜÔºå‰ΩÜÊòØÂèëÈÄÅÁöÑ Runnale ÈáåÈù¢‰πü‰ºöÈöêÂºèÊåÅÊúâÂ§ñÈÉ®Á±ªÁöÑÂ∫îÁî®ÔºåÂç≥ Activity -&gt; Runnale -&gt; Message -&gt; MessageQueue -&gt; Looper 1234567Handler mHandler = new Handler();mHandler.post(new Runnable() &#123; @Override public void run() &#123; &#125;&#125;); Thread Âíå AsyncTask ÈÄöÂ∏∏Êàë‰ª¨Âú®Â≠êÁ∫øÁ®ãÊâßË°åËÄóÊó∂‰ªªÂä°ÔºåÊâßË°åÂÆåÊàêÂêéÂÜçÂõûÂà∞‰∏ªÁ∫øÁ®ãÊìç‰ΩúÔºåÂ¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåThread Âíå AsyncTask ÁªìÊùüÁöÑÊó∂Êú∫ÊòØÊ≤°ÂäûÊ≥ïÊéßÂà∂ÁöÑÔºåËÄå‰ªñ‰ª¨ÈÉΩ‰ºöÊåÅÊúâÂ§ñÈÉ® Activity ÁöÑÂºïÁî®ÔºåÂØºËá¥Êó†Ê≥ïÂõûÊî∂„ÄÇ 12345678910111213new Thread(new Runnable() &#123; @Override public void run() &#123; &#125;&#125;).start();new AsyncTask&lt;Void, Void, Void&gt;() &#123; @Override protected Void doInBackground(Void... voids) &#123; return null; &#125;&#125;.execute(); ÈùôÊÄÅÂºïÁî®ÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºèÈùôÊÄÅÂºïÁî®ÁöÑÂèòÈáè‰∏ç‰æùËµñ‰∫éÊüê‰∏™Á±ªÂÆû‰æãÔºåÊâÄ‰ª•‰ªñ‰∏ç‰ºöÈöèÁùÄÊüê‰∏™ÂÆû‰æãÁöÑÈîÄÊØÅËÄåÈöè‰πãÈîÄÊØÅÔºåÂõ†Ê≠§‰∏ÄÊó¶Â£∞ÊòéÈùôÊÄÅÂºïÁî®‰∫ÜÊüê‰∏™ÂØπË±°ÂÆû‰æãÔºåÂç≥‰ΩøÊäõÂá∫ÂºÇÂ∏∏‰πü‰∏ç‰ºöË¢´ÂõûÊî∂„ÄÇ ‰ΩøÁî®ÈùôÊÄÅÂèòÈáèË¶ÅÊÖéÈáçÔºåÈÅøÂÖç‰∏∫‰∫ÜÁÆÄÂçïÁöÑÂÖ±‰∫´Êï∞ÊçÆÈùôÊÄÅÁöÑÂ£∞ÊòéÂç†Áî®Â§ßÈáèÂÜÖÂ≠òÁöÑÊï∞ÊçÆÂØπË±°ÔºåÂ∞§ÂÖ∂ÊòØÈõÜÂêàÁ±ªÂØπË±°„ÄÇ Á±ªÊØî‰∏äÈù¢ÁöÑËØ¥Ê≥ïÔºå‰πüÂèØ‰ª•Áúã‰ΩúÁîüÂëΩÂë®Êúü‰∏çÁªü‰∏ÄÈÄ†ÊàêÁöÑÈóÆÈ¢òÔºåÂõ†‰∏∫ÈùôÊÄÅÂºïÁî®ÁöÑÂèòÈáèÂÖ∑ÊúâÂíå Application Áõ∏ÂêåÁöÑÁîüÂëΩÂë®ÊúüÔºåËÄå Activity ÁöÑÁîüÂëΩÂë®ÊúüÈÄöÂ∏∏ËæÉÁü≠„ÄÇ ÈùôÊÄÅÂºïÁî® Context ÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºèËøôËæπÂçïÁã¨ÊãøÂá∫Êù•ËØ¥ÊòØÂõ†‰∏∫Âú® Android ‰∏≠ÈùôÊÄÅÂºïÁî® Context ‰πüÊòØÂÜÖÂ≠òÊ≥ÑÊºèÈáçÁÅæÂå∫ÔºåÂ¶Ç‰∏ãÂàó‰∏æÂ∏∏ËßÅÁöÑÂá†ÁßçÂèØËÉΩÈùôÊÄÅÂºïÁî® Context ÁöÑÂú∫ÊôØÂ¶ÇÔºö Êüê‰∏™ÂØπË±°Ê≤°ÊúâÈùôÊÄÅÂºïÁî® ContextÔºå‰ΩÜÊòØËøô‰∏™ÂØπË±°Âú®ÂÖ∂‰ªñ‰ΩçÁΩÆË¢´ÈùôÊÄÅÂºïÁî®‰∫ÜÔºåÂØºËá¥ Context Èó¥Êé•ÁöÑÈùôÊÄÅÂºïÁî®„ÄÇ Âçï‰æãÔºåÂçï‰æãÂÖ∂ÂÆû‰πüÊòØÈùôÊÄÅÁöÑÂºïÁî®Ôºå‰∏çËÉΩÂú®Âçï‰æã‰∏≠ÂºïÁî® Context„ÄÇ ToastÔºå‰∏∫‰∫ÜÁÆ°ÁêÜ ToastÔºåÊØîÂ¶ÇÈÅøÂÖçÂ§ßÈáè Toast ÊéíÈòüÈÄöÂ∏∏‰ºöÂÜô‰∏Ä‰∏™ ToastUtilsÔºåÈáåÈù¢Â∞±‰ºöÈùôÊÄÅÊåÅÊúâ Toast ÂØπË±°ÔºåËÄå Toast ‰∏≠ÊòØÂºïÁî®‰∫Ü Context ÁöÑ„ÄÇ ViewÔºåÁî±‰∫é View ‰∏≠ÂºïÁî®‰∫Ü ContextÔºåÈùôÊÄÅÁöÑ View Â∞±ÂæàÂç±Èô©„ÄÇ AnimatorÔºåÂ±ûÊÄßÂä®ÁîªÈÄöÂ∏∏ÁªëÂÆöÂà∞‰∏Ä‰∏™ View ‰∏äÈù¢ÔºåÈùôÊÄÅÂºïÁî® Animator Áõ∏ÂΩì‰∫éÈùôÊÄÅÂºïÁî®‰∫Ü View„ÄÇ AnimationÔºåË°•Èó¥Âä®Áîª‰∏≠Âπ∂Ê≤°ÊúâÊòæÂºèÁöÑÂºïÁî® View ÊàñËÄÖ ContextÔºå‰ΩÜÊòØ‰ªñÊúâ‰∏Ä‰∏™ mListenerHandlerÔºåËøô‰∏™ÁõëÂê¨Âú® View.draw() ÊñπÊ≥ï‰∏≠Â¶ÇÊûúÂΩìÂâç View ÁöÑ Animation ‰∏ç‰∏∫Á©∫Ôºå‰ºöÁªô‰ªñ‰∏Ä‰∏™ mAttachInfo.mHandlerÔºåËÄåËøôÈáåÈù¢ÂºïÁî®‰∫Ü ViewRootImpl.mContext„ÄÇ ÁâπÂà´Ê≥®ÊÑèÈùôÊÄÅÂºïÁî®ÁöÑÈõÜÂêàÊï∞ÊçÆÁ±ªÂûãÔºåÂ¶Ç List Âíå MapÔºåÈáåÈù¢ÈÄöÂ∏∏‰ºöÂ≠òÂÇ®Â§ßÈáèÁöÑÂØπË±°ÔºåÂ¶ÇÊûúËøô‰∫õÂØπË±°‰∏≠ÊúâÊüê‰∫õÂØπË±°ÂºïÁî®‰∫Ü ContextÔºåÂêåÊ†∑‰ºöÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇ ËµÑÊ∫êÂõûÊî∂‰∏çÂèäÊó∂ÊåáÁöÑÊòØ‰∏Ä‰∫õÂØπË±°Êàë‰ª¨‰ΩøÁî®ÂÆåÂêéË¶ÅÂèäÊó∂ÂÖ≥Èó≠„ÄÅÂõûÊî∂ÊàñËÄÖËß£Èô§Ê≥®ÂÜåÔºåÊù•‰øùËØÅÂÜÖÂ≠òÂèØ‰ª•Ë¢´ÂèäÊó∂ÂõûÊî∂ÔºåÂ¶ÇÔºö Cursor IO ÊµÅ Bitmap Animation BroadcastReceiver Bitmap Âç†Áî®Â§ßÈáèÂÜÖÂ≠òÂõæÁâáÊòØÂ∫îÁî®ËøêË°åËøáÁ®ã‰∏≠ÂÜÖÂ≠òÂç†Áî®ÁöÑÂ§ßÊà∑ÔºåÂ§ßÂ§öÊï∞ÁöÑ OOMÔºåÈÉΩÊòØÂõ†‰∏∫ Bitmap Â§ÑÁêÜ‰∏çÂΩìÂØºËá¥ÁöÑÔºåÂõ†Ê≠§Êää Bitmap ÂçïÁã¨ÊãøÂá∫Êù•ËØ¥‰∏Ä‰∏ã„ÄÇ ÂõæÁâáË¥®ÈáèË¶ÅÊ±Ç‰∏çÊòØÈÇ£‰πàÈ´òÁöÑÊó∂ÂÄôÔºå‰ΩøÁî® RBG_565 Config ÊèèËø∞ ALPHA_8 8‰ΩçAlpha‰ΩçÂõæ RGB_565 16‰ΩçRGB‰ΩçÂõæ ARGB_4444 16‰ΩçARGB‰ΩçÂõæ ARGB_8888 32‰ΩçARGB‰ΩçÂõæ 1234567Bitmap bitmap = null;bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.RGB_565);BitmapFactory.Options options = new BitmapFactory.Options();options.inPreferredConfig = Bitmap.Config.RGB_565;bitmap = BitmapFactory.decodeFile(filePath, options); ÈíàÂØπÊòæÁ§∫ÁöÑÂ§ßÂ∞èËÆ°ÁÆó inSampleSize ÂØπÂõæÁâáËøõË°åÈááÊ†∑ÊòæÁ§∫ 1234567891011121314151617181920212223242526public Bitmap decodeFile(String filePath) &#123; // ÊÉ≥ÊòæÁ§∫ÁöÑÂõæÁâáÂ§ßÂ∞è int reqWidth = 100; int reqHeight = 100; // ÂÖàËé∑ÂèñÂõæÁâáÂÆΩÈ´ò BitmapFactory.Options options = new BitmapFactory.Options(); options.inJustDecodeBounds = true; BitmapFactory.decodeFile(filePath, options); int imgHeight = options.outHeight; int imgWidth = options.outWidth; // ËÆ°ÁÆó sampleSize int inSampleSize = 1; if (imgHeight &gt; reqHeight || imgWidth &gt; reqWidth) &#123; final int halfHeight = imgHeight / 2; final int halfWidth = imgWidth / 2; // Âú®‰øùËØÅËß£ÊûêÂá∫ÁöÑ bitmap ÂÆΩÈ´òÂàÜÂà´Â§ß‰∫éÁõÆÊ†áÂ∞∫ÂØ∏ÂÆΩÈ´òÁöÑÂâçÊèê‰∏ã // ÂèñÂèØËÉΩÁöÑ inSampleSize ÁöÑÊúÄÂ§ßÂÄº while ((halfHeight / inSampleSize) &gt; reqHeight &amp;&amp; (halfWidth / inSampleSize) &gt; reqWidth) &#123; inSampleSize *= 2; &#125; &#125; options.inSampleSize = inSampleSize; options.inJustDecodeBounds = false; return BitmapFactory.decodeFile(filePath, options);&#125; ‰ΩøÁî® inBitmap ‰ºòÂåñ Bitmap ÂÜÖÂ≠ò‰ΩøÁî® ÂèÇËÄÉ1: Android Developer Manage Memory ÂèÇËÄÉ2: ÂÖ≥‰∫é inBitmap ÁöÑÁü•‰πéÂõûÁ≠î ÂèÇÊï∞ inBitmap ‰∏ªË¶ÅÊòØÁî®Êù•Â§çÁî®Â∑≤ÁªèÂ≠òÂú® Bitmap ÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰ªñË¶ÅÊ±Ç‰Ω†Â∞Ü‰∏Ä‰∏™Â∑≤ÁªèÂ≠òÂú®ÁöÑ Bitmap ÊîæÂÖ• optionsÔºåËøôÊ†∑Êñ∞ÂàõÂª∫ÁöÑ Bitmap Â∞Ü‰ºöÈáçÊñ∞ÊîæÂú®ËøôÂùóÂÜÖÂ≠òÁ©∫Èó¥‰∏äÔºåÂáèÂ∞ë‰∫ÜÂÜÖÂ≠òÁ©∫Èó¥ÁöÑÈáçÂ§çÂºÄËæüÂíåÂõûÊî∂„ÄÇ Ëøô‰∏™ÂèÇÊï∞ÁªìÂêà LruCache Â∞Ü‰ºöÊúâÊõ¥Â•ΩÁöÑ‰ΩøÁî®ÊïàÊûúÔºåÂú® LruCache ‰∏≠Ë¢´ÁßªÈô§ÁöÑ Bitmap ‰∏çÁî®Á´ãÂàªËøõË°åÂõûÊî∂ÔºåËÄåÊòØÂ≠òÂÇ®Ëµ∑Êù•‰∏∫‰∏ã‰∏Ä‰∏™Â∞ÜË¶ÅÂàõÂª∫ Bitmap Êèê‰æõÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰ªéËÄåÈÅøÂÖçÂºÄËæüËøáÂ§öÁöÑÂÜÖÂ≠òÔºåÈÄ†ÊàêÊµ™Ë¥πÂíå OOM„ÄÇ ÈáçÂ§çÂàõÂª∫ÂØπË±°Âú®‰ª£Á†Å‰∏≠Â∏∏Â∏∏Êúâ‰∏Ä‰∫õÂæ™ÁéØÊìç‰ΩúÂíåÂèëÁîüÈ¢ëÁéáÊØîËæÉÈ´òÁöÑÊìç‰ΩúÔºåÂú®ËøôÁ±ªÊìç‰Ωú‰∏≠Â∫îËØ•Â∞ΩÈáèÈÅøÂÖçÂàõÂª∫ÂØπË±°ÔºåËôΩÁÑ∂‰∏ç‰ºöÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºè‰ΩÜÊòØÈ¢ëÁπÅÂàõÂª∫ÂíåÈîÄÊØÅÂØπË±°‰ºöÂç†Áî®Â§ßÈáèÂÜÖÂ≠òÂíåÂºïËµ∑ÊòæËëóÁöÑÂÜÖÂ≠òÊäñÂä®Ôºå‰æãÂ¶ÇÔºö È´òÈ¢ëÊìç‰ΩúÔºåÊé•ÂÖ• Weex Êó∂Áî®Âà∞Ëá™ÂÆö‰πâËØ∑Ê±ÇÊîØÊåÅ OkHttpClientAdapterÔºåÊØèÊ¨°ÂèëÈÄÅËØ∑Ê±ÇÈÉΩ‰ºöËµ∞Ëøô‰∏™ AdapterÔºåÂêåÊó∂ÂàõÂª∫ OkHttpClient ÁÑ∂ÂêéÂèëÈÄÅËØ∑Ê±ÇÔºåÂú®ÂÆûÈôÖÂ∫îÁî®‰∏≠ËØ∑Ê±ÇÂèëÈÄÅÈ¢ëÁéáÂæàÈ´òÔºåÂõ†Ê≠§ÂàõÂª∫‰∫ÜÂ§ßÈáèÁöÑ OkHttpClientÔºåÂêéÊù•Â∞ÜÂàõÂª∫ÂØπË±°ÁöÑ‰ª£Á†ÅÊèêÂèñÂà∞ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠ÔºåËøô‰∏™ÈóÆÈ¢òÂæóÂà∞‰∫ÜÊîπÂñÑ„ÄÇ Âæ™ÁéØÔºåÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÂæ™ÁéØÊ¨°Êï∞ÂæÄÂæÄ‰∏çÂèØÊéßÔºåÂ∫îËØ•ÈÅøÂÖçÂú®Âæ™ÁéØ‰∏≠ÂàõÂª∫Êñ∞ÁöÑÂØπË±°„ÄÇ Â≠óÁ¨¶‰∏≤ÊãºÊé•Êìç‰ΩúÔºåÊØèÊ¨°Â≠óÁ¨¶‰∏≤ÊãºÊé•ÈÉΩ‰ºö‰∫ßÁîü‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂõ†Ê≠§Â¶ÇÊûúÊúâÈ¢ëÁπÅÁöÑÊãºÊé•Êìç‰ΩúÔºåËØ∑‰ΩøÁî® StringBuilder„ÄÇ ÊñπÊ≥ïÂêçÁöÑÂÆö‰πâÂØºËá¥‰ΩøÁî®ÁöÑ‰∏çÂΩìÔºåÂú® getXXX() ÊñπÊ≥ï‰∏≠‰∏çÂ∫îËØ•ËøõË°åÂàõÂª∫ÂØπË±°ÁöÑÊìç‰ΩúÔºåÂ¶ÇÊûúÊúâË¶ÅÂä†ÂÖ•‰ªÖÂàõÂª∫‰∏ÄÊ¨°ÁöÑÂà§Êñ≠ÔºåÂõ†‰∏∫ÂΩìÂà´‰∫∫ÂíåËá™Â∑±Âú®‰ΩøÁî®ËØ•ÊñπÊ≥ïÂèØËÉΩ‰ºöÁõ¥Êé•Ë∞ÉÁî®ÔºåÂõ†‰∏∫ÂØπ‰ΩøÁî®ËÄÖÊù•ËØ¥ÔºåËøôÂè™ÊòØ‰∏Ä‰∏™Ëé∑ÂèñÊìç‰ΩúÔºåÂ∞±‰ºöÈ¢ëÁπÅÁöÑ‰ΩøÁî®ÂÆÉÔºåÂπ∂‰∏çÁü•ÈÅìÂÜÖÈÉ®ËøîÂõû‰∫Ü‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑÂØπË±°„ÄÇ 12345678910111213141516171819private ViewModel mViewModel;// ‰∏çÂ∫îËØ•Âú® get ÊñπÊ≥ï‰∏≠‰∏çÂä†Âà§Êñ≠ÁöÑÂàõÂª∫ÂØπË±°public ViewModel getViewModel() &#123; return new ViewModel();&#125;// Â¶ÇÊûú‰ªÖÊâßË°åÂàõÂª∫Êñ∞ÂØπË±°ÁöÑÊìç‰ΩúÂ∫îËØ•ÂëΩÂêç‰∏∫ newXXX()public ViewModel newViewModel() &#123; return new ViewModel();&#125;// Â¶ÇÊûú‰∏ÄÂÆöË¶Å‰ΩøÁî® get() ÊñπÊ≥ïÔºåÈúÄË¶ÅÂ¢ûÂä†ÂàõÂª∫‰∏ÄÊ¨°ÁöÑÂà§ËØªpublic ViewModel getViewModel() &#123; if(mViewModel == null)&#123; mViewModel = new ViewModel(); &#125; return mViewModel;&#125; ÂÜÖÂ≠ò‰ºòÂåñËß£ÂÜ≥ÂäûÊ≥ï ÂΩì‰∏çÂèØÈÅøÂÖçÁöÑÈúÄË¶ÅÈùôÊÄÅÂºïÁî® Context Êó∂Ôºå‰ΩøÁî®ËôöÂºïÁî®‰ª£Êõø 12WeakReference&lt;Context&gt; mContextWeakRef;mContextWeakRef = new WeakReference&lt;&gt;(getContext()); ÂçïÁ∫ØÁöÑÂÜÖÈÉ®Á±ª‰∏ç‰ºöÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÊºèÔºå‰∏çÁî®ËøáÂàÜ‰øùÊä§ÔºåÂØπ‰∫éÁîüÂëΩÂë®Êúü‰∏çÂèØÊéßÁöÑÂÜÖÈÉ®Á±ªÔºåÈááÁî®ÈùôÊÄÅÂ£∞ÊòéÔºåÁªìÂêàËôöÂºïÁî®Êù•Â∞ÜÂÜÖÈÉ®Á±ªÂíåÂ§ñÈÉ®Á±ªÈöîÁ¶ª 12345678910111213141516static class NoLeakHandler extends Handler &#123; private WeakReference&lt;Activity&gt; mActivityWeakRef; public NoLeakHandler(Activity activity) &#123; mActivityWeakRef = new WeakReference&lt;&gt;(activit &#125; @Override public void handleMessage(Message msg) &#123; super.handleMessage(msg); Activity activity = mActivityWeakRef.get(); if (activity != null) &#123; activity.finish(); &#125; &#125;&#125;Handler mHandler = new NoLeakHandler(this); ‰ΩøÁî®Á∫øÁ®ãËøõË°åÊìç‰ΩúÊó∂Ôºå‰πüÈúÄË¶Å‰ΩøÁî®ËôöÂºïÁî®‰∏é Context ‰∫§‰∫í 123456789101112131415161718class NoLeakAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; &#123; private WeakReference&lt;Activity&gt; mActivityWeakRef; public NoLeakAsyncTask(Activity activity) &#123; mActivityWeakRef = new WeakReference&lt;&gt;(activity); &#125; @Override protected Void doInBackground(Void... voids) &#123; return null; &#125; @Override protected void onPostExecute(Void aVoid) &#123; super.onPostExecute(aVoid); Activity activity = mActivityWeakRef.get(); if (activity != null) &#123; activity.finish(); &#125; &#125;&#125; ÂΩì Activity ÈîÄÊØÅÊó∂ÔºåÂ∞Ü Handler ÁöÑÊ∂àÊÅØÈòüÂàóÊ∏ÖÁ©∫ 1mHandler.removeCallbacksAndMessages(null); Â∞ΩÂèØËÉΩ‰ΩøÁî® Application ÁöÑ ContextÔºåËÄå‰∏çÊòØ Activity ÁöÑ„ÄÇ 12Context appContext = context.getApplicationContext();Application application = (Application) context.getApplicationContext(); Â∞ΩÂèØËÉΩÂèäÊó∂ÁöÑÂõûÊî∂ËµÑÊ∫êÂíåÂÜÖÂ≠òÁ©∫Èó¥ 123456789101112131415161718192021222324// CursorCursor cursor = ...;cursor.close();// StreamFileOutputStream outputStream = ...outputStream.close();// BitmapBitmap bitmap = ...;bitmap.recycle();// AnimationAnimation animation = ...;animation.cancel();animation.setAnimationListener(null);// BroadcastReceiverBroadcastReceiver broadcastReceiver = ...context.unregisterReceiver(broadcastReceiver);// bytebyte[] bytes = new byte[1024 * 8];bytes = null;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android ÂºÄÂèëÈóÆÈ¢òÊ±áÊÄª]]></title>
    <url>%2Farticle%2F39cb08bb%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶ÅËÆ∞ÂΩï Android ÂºÄÂèëËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑÊØîËæÉ Á•ûÔºàcaoÔºâÂ•áÔºàdanÔºâÁöÑÈóÆÈ¢òÔºå ‰∏Ä‰∫õÁÆÄÂçïÁöÑÈóÆÈ¢òÂç¥Èöæ‰ª•ÂÆö‰ΩçÔºåÊü•ÊâæÈóÆÈ¢òÊó∂ËÄΩËØØÂæàÂ§öÊó∂Èó¥ÔºåÂºÄÂèëËøáÁ®ã‰∏≠Â∫îËØ•‰ªéÂºÄÂßãÂ∞±ËßÑÈÅøËøôÁ±ªÈóÆÈ¢òÁöÑÂèëÁîü„ÄÇ Bundle ‰º†ÈÄíÈóÆÈ¢ò‰∏∫‰∫Ü‰øùËØÅ‰ªéÂ§ñÈù¢‰º†ÈÄíËøáÊù•ÁöÑÊï∞ÊçÆËÉΩÂ§üË¢´ÂÆåÊï¥ÁöÑ‰º†ÈÄí‰∏ãÂéªÔºåÈÄöÂ∏∏Êàë‰ª¨‰ºöÁõ¥Êé•Â∞ÜÂéüÂÖàÁöÑ bundle Áõ¥Êé•‰º†ÈÄí‰∏ãÂéªÔºå‰æãÂ¶ÇÔºö 123456789101112131415161718192021222324252627public class DetailPagerAdapter extends FragmentPagerAdapter &#123; Bundle bundle; public DetailPagerAdapter(FragmentManager fm, Bundle bundle) &#123; super(fm); this.bundle = bundle; &#125; @Override public Fragment getItem(int position) &#123; BaseFragment fragment = null; switch (position) &#123; case 0: fragment = new DetailIndexFragment(); break; case 1: fragment = new DetailGraphicFragment(); bundle.putInt("type", 1); break; &#125; if (null != fragment) &#123; fragment.setArguments(bundle); &#125; return fragment; &#125;&#125; ËøôÊ†∑‰ºöÈÄ†ÊàêÁöÑÈóÆÈ¢òÊòØÂ§ö‰∏™ÂØπË±°ÂêåÊó∂ÊåÅÊúâ‰∫Ü bundle ÁöÑÂºïÁî®ÔºåÂ¶Ç‰∏äÈù¢‰æãÂ≠ê‰∏≠ adapter ÁöÑÂÆø‰∏ªÔºåDetailIndexFragment Âíå DetailGraphicFragment ÈÉΩ‰ºöÊåÅÊúâ bundle ÁöÑÂºïÁî®ÔºåËøô‰ºöËÆ©Êï∞ÊçÆÂèòÁöÑÈöæ‰ª•ÁÆ°ÁêÜÔºåbundle ÈáåÈù¢ÁöÑÊï∞ÊçÆ‰ºöËé´ÂêçÂÖ∂Â¶ôÁöÑÂèëÁîüÊîπÂèòÔºåËÄåÊàë‰ª¨Èöæ‰ª•ÂÆö‰ΩçÊòØË∞ÅÊîπÂèò‰∫Ü‰ªñÔºåÂ•ΩÁöÑÂÅöÊ≥ïÊòØÔºåÂàõÂª∫‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑ bundle Âπ∂ÊåÅÊúâÂΩìÂâçÁä∂ÊÄÅ‰∏ãÁöÑÊï∞ÊçÆ„ÄÇ 1234567891011121314151617181920212223242526public class DetailPagerAdapter extends FragmentPagerAdapter &#123; Bundle mTransBundle; public DetailPagerAdapter(FragmentManager fm, Bundle bundle) &#123; super(fm); mTransBundle = bundle; &#125; @Override public Fragment getItem(int position) &#123; BaseFragment fragment = null; fragmentBundle = new Bundle(mTransBundle); switch (position) &#123; case 0: fragment = new DetailIndexFragment(); break; case 1: fragment = new DetailGraphicFragment(); fragmentBundle.putInt("type", 1); break; &#125; fragment.setArguments(fragmentBundle); return fragment; &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ªé Retrofit ÁúãÂä®ÊÄÅ‰ª£ÁêÜ [ËÆæËÆ°Ê®°Âºè]]]></title>
    <url>%2Farticle%2Fe73f8f32%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶ÅÂ≠¶‰π†‰ª£ÁêÜÊ®°ÂºèÂú® Java ‰∏ãÁöÑÂÆûÁé∞Ôºå‰ª•Âèä Âä®ÊÄÅ‰ª£ÁêÜ Âú® Retrofit ‰∏≠ÁöÑÂ∫îÁî®„ÄÇ ‰ª£ÁêÜÊ®°Âºè ÔºöÁªôÊüê‰∏Ä‰∏™ÂØπË±°Êèê‰æõ‰∏Ä‰∏™‰ª£ÁêÜÔºåÂπ∂Áî±‰ª£ÁêÜÂØπË±°ÊéßÂà∂ÂØπÂéüÂØπË±°ÁöÑÂºïÁî®ÔºåÂÆÉÂèØ‰ª•Âú®Â±èËîΩÂØπÁõÆÊ†áÂØπË±°ËÆøÈóÆÁöÑÂêåÊó∂ÔºåËøõË°åËá™ÂÆö‰πâÁöÑÊâ©Â±ï„ÄÇ Graphic Design Patterns - ‰ª£ÁêÜÊ®°Âºè ‰ºòÁº∫‰ºòÁÇπ ‰ª£ÁêÜÊ®°ÂºèËÉΩÂ§üÂçèË∞ÉË∞ÉÁî®ËÄÖÂíåË¢´Ë∞ÉÁî®ËÄÖÔºåÂú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÈôç‰Ωé‰∫ÜÁ≥ª ÁªüÁöÑËÄ¶ÂêàÂ∫¶„ÄÇ ËøúÁ®ã‰ª£ÁêÜ‰ΩøÂæóÂÆ¢Êà∑Á´ØÂèØ‰ª•ËÆøÈóÆÂú®ËøúÁ®ãÊú∫Âô®‰∏äÁöÑÂØπË±°ÔºåËøúÁ®ãÊú∫Âô® ÂèØËÉΩÂÖ∑ÊúâÊõ¥Â•ΩÁöÑËÆ°ÁÆóÊÄßËÉΩ‰∏éÂ§ÑÁêÜÈÄüÂ∫¶ÔºåÂèØ‰ª•Âø´ÈÄüÂìçÂ∫îÂπ∂Â§ÑÁêÜÂÆ¢Êà∑Á´ØËØ∑Ê±Ç„ÄÇ ËôöÊãü‰ª£ÁêÜÈÄöËøá‰ΩøÁî®‰∏Ä‰∏™Â∞èÂØπË±°Êù•‰ª£Ë°®‰∏Ä‰∏™Â§ßÂØπË±°ÔºåÂèØ‰ª•ÂáèÂ∞ëÁ≥ª ÁªüËµÑÊ∫êÁöÑÊ∂àËÄóÔºåÂØπÁ≥ªÁªüËøõË°å‰ºòÂåñÂπ∂ÊèêÈ´òËøêË°åÈÄüÂ∫¶„ÄÇ ‰øùÊä§‰ª£ÁêÜÂèØ‰ª•ÊéßÂà∂ÂØπÁúüÂÆûÂØπË±°ÁöÑ‰ΩøÁî®ÊùÉÈôê„ÄÇ Áº∫ÁÇπ Áî±‰∫éÂú®ÂÆ¢Êà∑Á´ØÂíåÁúüÂÆû‰∏ªÈ¢ò‰πãÈó¥Â¢ûÂä†‰∫Ü‰ª£ÁêÜÂØπË±°ÔºåÂõ†Ê≠§ Êúâ‰∫õÁ±ªÂûãÁöÑ‰ª£ÁêÜÊ®°ÂºèÂèØËÉΩ‰ºöÈÄ†ÊàêËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÈÄüÂ∫¶ÂèòÊÖ¢„ÄÇ ÂÆûÁé∞‰ª£ÁêÜÊ®°ÂºèÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂ∑•‰ΩúÔºåÊúâ‰∫õ‰ª£ÁêÜÊ®°ÂºèÁöÑÂÆûÁé∞ ÈùûÂ∏∏Â§çÊùÇ„ÄÇ ÈùôÊÄÅ‰ª£ÁêÜÊàë‰ª¨Ê®°Êãü‰∏Ä‰∏™Âú∫ÊôØÔºöÊàë‰ª¨Ë¶ÅÈÇÄËØ∑‰∏Ä‰∏™Ê≠åÊâãÊù•ÂèÇÂä†‰∏ÄÂú∫ÊºîÂî±‰ºöÔºåÈÇ£‰πàÊàë‰ª¨ÊòØ‰∏çËÉΩÁõ¥Êé•ÂíåÊ≠åÊâãËÅîÁ≥ªÁöÑÔºåÊàë‰ª¨ÈúÄË¶ÅÂÖàËÅîÁ≥ªÊ≠åÊâãÁöÑÁªèÁ∫™‰∫∫ÔºåÂú®ËøôÈáåÁªèÁ∫™‰∫∫ÊâÆÊºî‰∫Ü‰ª£ÁêÜÁöÑËßíËâ≤Ôºå‰ªñÂ±èËîΩ‰∫ÜÊàë‰ª¨ÂØπÊ≠åÊâãÁöÑËÆøÈóÆÔºåÊàë‰ª¨Ë¶ÅËÅîÁ≥ªÊ≠åÊâãÔºåÂøÖÈ°ªÈÄöËøáÁªèÁ∫™‰∫∫‰ª£ÁêÜÂÆûÁé∞„ÄÇ È¶ñÂÖàÂÆö‰πâÊé•Âè£ÂÆûÁé∞ 12345// Ê≠åÊâãÊé•Âè£interface SingingInterface &#123; // ÂºÄÂßãË°®Êºî void performance();&#125; ÂêåÊó∂Ê†πÊçÆÊé•Âè£ÂÆûÁé∞‰∏Ä‰∏™ÁúüÊ≠£ÁöÑÊ≠åÊâãÁ±ªÔºåÊØîÂ¶Ç Âë®Ëë£ 123456class JayChou implements SingingInterface &#123; @Override public void performance() &#123; log("`Âø´Âø´‰ΩøÁî®ÂèåÊà™Ê£çÔºåÂìºÂìºÂìàÂòø--`"); &#125;&#125; ÂÆö‰πâÁªèÁ∫™‰∫∫Á±ªÔºåÂÆÉÂèØ‰ª•‰∏éÊ≠åÊâãËÅîÁ≥ªÔºåÂπ∂‰∏îÂ±èËîΩÂ§ñÁïåÂØπÊ≠åÊâãÁöÑËÆøÈóÆÔºåËÄå‰∏î‰ªñËøòË¶ÅÂÅö‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÂ∑•‰ΩúÔºåÊØîÂ¶ÇÂÆâÊéíÊ≠åÊâãÊ°£ÊúüÂèäÊî∂ÂèñÊä•ÈÖ¨Á≠â„ÄÇ 12345678910111213// ÁªèÁ∫™‰∫∫class StarBroker implements SingingInterface&#123; private SingingInterface mSingingInterface; public StarBroker() &#123; mSingingInterface = new JayChou(); &#125; @Override public void performance() &#123; log("ÂÆâÊéíÊ≠åÊâãÊ°£Êúü„ÄÇ"); mSingingInterface.performance(); log("Êî∂ÂèñÊä•ÈÖ¨„ÄÇ"); &#125;&#125; ÊúÄÂêéÊàë‰ª¨ÂèØ‰ª•È¢ÑÁ∫¶Ê≠åÊâãÊù•ÂèÇÂä†Êàë‰ª¨ÁöÑÊºîÂî±‰ºöÂï¶ 12StarBroker starBroker = new StarBroker();starBroker.performance(); Âä®ÊÄÅ‰ª£ÁêÜÂú®ÈùôÊÄÅ‰ª£ÁêÜ‰∏≠Êàë‰ª¨‰ΩøÁî®‰ª£ÁêÜÁ±ªÊù•ÊéßÂà∂ÂØπÁõÆÊ†áÂØπË±°ÁöÑËÆøÈóÆÔºåÂÆûÁé∞Ëµ∑Êù•Áõ∏ÂØπÈ∫ªÁÉ¶ÔºåÊàë‰ª¨Ë¶ÅÂÆö‰πâ‰ª£ÁêÜÁ±ªÂπ∂‰∏îËÆ©ÂÆÉÊåÅÊúâÁõÆÊ†áÂØπË±°ÁöÑÂºïÁî®ÔºåËÄå‰∏îÂΩìÈúÄË¶Å‰ª£ÁêÜÁöÑÊñπÊ≥ïË∂äÊù•Ë∂äÂ§öÊó∂ÔºåÂ∞±ÈúÄË¶ÅÂú®ÊØè‰∏™ÊñπÊ≥ï‰∏≠ÂÜçÂéªË∞ÉÁî®ÁõÆÊ†áÂØπË±°ÁöÑÂØπÂ∫îÊñπÊ≥ï„ÄÇ Âä®ÊÄÅ‰ª£ÁêÜÊòØ‰∏ÄÁßçÂú®ËøêË°åÊúüÈó¥Âä®ÊÄÅÁîüÊàê‰ª£ÁêÜÁ±ªÁöÑÊñπÊ≥ïÔºå‰ªñ‰∏çÈúÄË¶ÅÂÆö‰πâ‰ª£ÁêÜÁ±ªÁöÑÁ±ªÁªìÊûÑÔºåËÄåÊòØÂÄüÂä© InvocationHandler Êé•Âè£ÔºåÂØπÁõÆÊ†áÂØπË±°ÊâÄÊúâÊñπÊ≥ïËøõË°å‰ª£ÁêÜ„ÄÇ ÂÖ≥‰∫é InvocationHandler Êé•Âè£Ôºå‰ªñÂè™Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÔºö Object proxy ÂΩìÂâçÁöÑ‰ª£ÁêÜÁ±ª Method method ‰ª£ÁêÜÁ±ªË¢´Ë∞ÉÁî®ÁöÑÊñπÊ≥ï Object[] args Ë∞ÉÁî®ÊñπÊ≥ïÊó∂‰º†ÂÖ•ÁöÑÂèÇÊï∞ 1public Object invoke(Object proxy, Method method, Object[] args) throws Throwable Êàë‰ª¨Âä®ÊÄÅÁîüÊàê‰ª£ÁêÜÁ±ªÂú®ÊâßË°åÊñπÊ≥ïÊó∂Ôºå‰ºöÈÄöËøáËøô‰∏™ÊñπÊ≥ïÔºåÁÑ∂ÂêéÊàë‰ª¨Â∞±ÂèØ‰ª•Âú®Ëøô‰∏™ÊñπÊ≥ïÈáåÈù¢ÂéªË∞ÉÁî®ÁõÆÊ†áÂØπË±°ÁöÑÂØπÂ∫îÊñπÊ≥ïÔºåÂπ∂ÂÅö‰∏Ä‰∫õËá™Â∑±ÁöÑÊâ©Â±ïÔºåËææÂà∞‰ª£ÁêÜÁõÆÊ†áÂØπË±°ËÆøÈóÆÁöÑÁõÆÁöÑ„ÄÇ Êàë‰ª¨ÂÆö‰πâ InvocationHandler ÁöÑÂÆûÁé∞Á±ªÔºå 12345678910111213141516class SingingInvocationHandler implements InvocationHandler &#123; // ÁõÆÊ†áÂØπË±° private Object singer; public SingingInvocationHandler(Object singer) &#123; this.singer = singer; &#125; @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; // ‰∏ãÈù¢ÂÆûÁé∞‰∫ÜÁ±ª‰ººÁªèÁ∫™‰∫∫ÁöÑÂäüËÉΩ log("ÂÆâÊéíÊ≠åÊâãÊ°£Êúü„ÄÇ"); // Ë∞ÉÁî®ÁõÆÊ†áÂØπË±°ÁöÑÂØπÂ∫îÊñπÊ≥ï Object invoke = method.invoke(singer, args); log("Êî∂ÂèñÊä•ÈÖ¨„ÄÇ"); return invoke; &#125;&#125; ÂÄüÂä© SingingInvocationHandler ÂÆûÁé∞ËøêË°åÊúüÁöÑÂä®ÊÄÅ‰ª£ÁêÜÔºåËøôÈáåËØ¥‰∏Ä‰∏ãÂá†‰∏™ÂèÇÊï∞ÁöÑÊÑè‰πâ SingingInterface.class.getClassLoader() =&gt; ÊòØ‰ª£ÁêÜÁ±ªÁîüÊàêÈúÄË¶ÅÁöÑÁöÑ loader new Class[]{SingingInterface.class} =&gt; ‰ª£ÁêÜÁ±ªÈúÄË¶ÅÂÆûÁé∞ÁöÑÊé•Âè£ÂàóË°®ÔºåËøôÈáåÂèØ‰ª•ÊòØÂ§ö‰∏™ new SingingInvocationHandler(new JayChou()) =&gt; InvocationHandler + ÁõÆÊ†áÂØπË±° 1234SingingInterface proxy = (SingingInterface) Proxy.newProxyInstance( SingingInterface.class.getClassLoader(), new Class[]&#123;SingingInterface.class&#125;, new SingingInvocationHandler(new JayChou())); ÂΩìÊàë‰ª¨‰ΩøÁî®ÁîüÊàêÁöÑ‰ª£ÁêÜÁ±ªÂØπË±° proxy Ë∞ÉÁî®ÊñπÊ≥ïÊó∂ÔºåÂ∞±‰ºöÁªèËøá InvocationHandler ÈáåÈù¢ÁöÑÂÆûÁé∞Âï¶„ÄÇ 12// ÊâßË°å SingingInterface ÁöÑÊñπÊ≥ïproxy.performance(); 123ÂÆâÊéíÊ≠åÊâãÊ°£Êúü„ÄÇ`Âø´Âø´‰ΩøÁî®ÂèåÊà™Ê£çÔºåÂìºÂìºÂìàÂòø--`Êî∂ÂèñÊä•ÈÖ¨„ÄÇ ‰∏∫‰∫Ü‰ΩìÁé∞Âä®ÊÄÅ‰ª£ÁêÜÂíåÈùôÊÄÅ‰ª£ÁêÜÁöÑÁõ∏‰ºº‰πãÂ§ÑÔºå‰∏äÈù¢ÁöÑÂÜôÊ≥ïÁõ∏ÂØπÁÆÄÂçïÔºåÂÖ∂ÂÆû‰πüÊòØÂ≠òÂú®ÂæàÂ§öÈóÆÈ¢òÁöÑÔºåÊàë‰ª¨ÁîüÊàêÁöÑ‰ª£ÁêÜÂØπË±° proxy ÂèØ‰ª•ÂÆûÁé∞Â§ö‰∏™Êé•Âè£ÔºåÊâßË°åÁöÑÊâÄÊúâÊñπÊ≥ïÁîöËá≥ÊòØ‰ªé Object ‰∏≠ÁªßÊâøÁöÑÊñπÊ≥ïÈÉΩ‰ºöÁªèËøá InvocationHandlerÔºåÂõ†Ê≠§Âú®ËøõË°å‰ª£ÁêÜÊòØÊàë‰ª¨ÂøÖÈ°ªÊòØÈÄâÊã©ÊÄßÁöÑ‰ª£ÁêÜÈÉ®ÂàÜÊñπÊ≥ï„ÄÇ Â£∞Êòé TestInterface Áî®Êù•ÊµãËØï‰ª£ÁêÜÁ±ªÂÆûÁé∞Â§ö‰∏™Êé•Âè£ÁöÑÊÉÖÂÜµ 123interface TestInterface &#123; void testProxyMethod();&#125; ÊâÄ‰ª•Êàë‰ª¨ÁîüÊàê‰ª£ÁêÜÁ±ªÊó∂Â∞±ÂèòÊàê‰∫ÜÂ¶Ç‰∏ãÔºåÊ≠§Êó∂ÁöÑ proxy Êó¢ÊòØ SingingInterface ÁöÑÂÆûÁé∞Á±ª‰πüÂÆûÁé∞‰∫Ü TestInterface 1234SingingInterface proxy = (SingingInterface) Proxy.newProxyInstance( SingingInterface.class.getClassLoader(), new Class[]&#123;SingingInterface.class, TestInterface.class&#125;, new SingingInvocationHandler(new JayChou())); ÂØπ InvocationHandler ‰πüËøõË°å‰∏Ä‰∏ãÂÆåÂñÑÔºåËÆ©‰ªñÂèØ‰ª•Âå∫ÂàÜ‰∏çÂêåÁöÑÊñπÊ≥ïÁöÑÊù•Ê∫êÔºåÁÑ∂ÂêéÈÄâÊã©ÊÄßÁöÑËøõË°å‰ª£ÁêÜ 12345678910111213141516171819202122232425262728293031class SingingInvocationHandler implements InvocationHandler &#123; // ÁõÆÊ†áÂØπË±° private Object singer; public SingingInvocationHandler(Object singer) &#123; this.singer = singer; &#125; @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; // ÂÖ®ÈÉ®ÁöÑÊñπÊ≥ïÈÉΩ‰ºöË¢´‰ª£ÁêÜÂà∞ËøôËæπÔºåÂ¶ÇÊûúÊòØ Object ÁöÑÊñπÊ≥ïÔºå‰∏çÂ∞ΩÂÖ¥‰ª£ÁêÜ // Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ËØ•ÊñπÊ≥ïÂå∫ÂàÜÔºåÊñπÊ≥ïÊù•Ëá™Âì™‰∏™Áà∂Á±ªÊàñËÄÖÊé•Âè£ÔºåÈÄâÊã©ÊÄßÁöÑËøõË°å‰ª£ÁêÜ if (method.getDeclaringClass() == Object.class) &#123; return method.invoke(this, args); &#125; if (method.getDeclaringClass() == TestInterface.class) &#123; return method.invoke(new TestInterface() &#123; @Override public void testProxyMethod() &#123; log("ÊâßË°å‰∫Ü TestInterface ÁöÑÊñπÊ≥ïÂì¶"); &#125; &#125;, args); &#125; // ‰∏ãÈù¢ÂÆûÁé∞‰∫ÜÁ±ª‰ººÁªèÁ∫™‰∫∫ÁöÑÂäüËÉΩ if (method.getDeclaringClass() == SingingInterface.class) &#123; log("ÂÆâÊéíÊ≠åÊâãÊ°£Êúü„ÄÇ"); Object invoke = method.invoke(singer, args); log("Êî∂ÂèñÊä•ÈÖ¨„ÄÇ"); return invoke; &#125; return null; &#125;&#125; Êàë‰ª¨ÂàÜÂà´ÊâßË°å Object „ÄÅSingingInterface Âíå TestInterface ÁöÑÊñπÊ≥ï 123456// ÊâßË°å Object ÁöÑÊñπÊ≥ïproxy.hashCode();// ÊâßË°å SingingInterface ÁöÑÊñπÊ≥ï((SingingInterface) proxy).performance();// ÊâßË°å TestInterface ÁöÑÊñπÊ≥ï((TestInterface) proxy).testProxyMethod(); 12345ÊâßË°å‰∫Ü Object ÁöÑÊñπÊ≥ïÂì¶ÂÆâÊéíÊ≠åÊâãÊ°£Êúü„ÄÇ`Âø´Âø´‰ΩøÁî®ÂèåÊà™Ê£çÔºåÂìºÂìºÂìàÂòø--`Êî∂ÂèñÊä•ÈÖ¨„ÄÇÊâßË°å‰∫Ü TestInterface ÁöÑÊñπÊ≥ïÂì¶ Retrofit ‰∏é Âä®ÊÄÅ‰ª£ÁêÜËøôÈáå‰∏çÊòØÂØπ Retrofit Ê∫êÁ†ÅËøõË°åÂàÜÊûêÔºåÈÇ£ÈúÄË¶ÅÊõ¥Â§ßÁöÑÁØáÂπÖÔºåËøôÈáåÂè™ÊòØÈíàÂØπÂä®ÊÄÅ‰ª£ÁêÜÂú® Retrofit ÁöÑÂ∫îÁî®ÊñπÂºèËøõË°åÂ≠¶‰π†„ÄÇ ‰Ωú‰∏∫Áé∞Âú®ÁΩëÁªúËØ∑Ê±ÇÊ°ÜÊû∂‰∏≠ÊúÄÂèóÊ¨¢ËøéÁöÑ RetrofitÔºåÊ°ÜÊû∂ËÆæËÆ°‰∏äÊúÄÂ§ßÁöÑÁâπÁÇπÂ∞±ÊòØ‰ΩøÁî®‰∫ÜÂä®ÊÄÅ‰ª£ÁêÜÂ∞ÜÁΩëÁªúËØ∑Ê±ÇÂèòÊàê‰∏Ä‰∏™‰ΩøÁî®Ê≥®Ëß£ÈÖçÁΩÆÁöÑËøáÁ®ã„ÄÇ Âú®ÂéüÊù•ÁöÑÊ®°Âºè‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶ÅÂÄüÂä© OkHttp ÂÅöÂàõÂª∫ËØ∑Ê±ÇÔºåÈÖçÁΩÆÊï∞ÊçÆÔºåÂèëËµ∑ËØ∑Ê±ÇÔºåËøîÂõûÊï∞ÊçÆÔºåËß£ÊûêÊï∞ÊçÆÁ≠â‰∏ÄÁ≥ªÂàóÊìç‰ΩúÔºåËÄåÂÄüÂä©Âä®ÊÄÅ‰ª£ÁêÜÔºåÂèØ‰ª•ÊääËøô‰∫õÊìç‰ΩúÈÉΩÂØπ‰ΩøÁî®ËÄÖÂ±èËîΩÊéâÔºå‰ΩøÁî®ËÄÖÂè™ÈúÄË¶ÅÂÅö‰∏§‰ª∂‰∫ãÔºåÈÇ£Â∞±ÊòØÈÖçÁΩÆËØ∑Ê±ÇÂíåÂ§ÑÁêÜËß£ÊûêÂ•ΩÁöÑÊï∞ÊçÆÔºåËøôÊ†∑Êõ¥Â§ßÁ®ãÂ∫¶‰∏äÁöÑ‰∏ìÊ≥®‰∫é‰∏öÂä°ÈÄªËæë„ÄÇ Êï¥‰∏™ËøáÁ®ãÊòØËøôÊ†∑ÁöÑÔºö Êàë‰ª¨Â£∞ÊòéÂåÖÂê´‰∏ÄÁ≥ªÂàóËØ∑Ê±ÇÊñπÊ≥ïÁöÑÊé•Âè£Á±ª ApiServiceÔºåÂπ∂Âú®ÊñπÊ≥ï‰∏ä‰ΩøÁî®Ê≥®Ëß£ÂØπ Path„ÄÅHeader„ÄÅQuery Á≠âËØ∑Ê±ÇÂøÖÈ°ªÁöÑÂèÇÊï∞ËøõË°åÈÖçÁΩÆ„ÄÇ ÂÄüÂä© Retrofit ÁöÑÈùôÊÄÅÊñπÊ≥ï create() Âä®ÊÄÅÁîüÊàê ApiService Á±ªÂûãÁöÑ‰ª£ÁêÜÂØπË±°ËøîÂõûÁªôË∞ÉÁî®ËÄÖ„ÄÇ ÂΩìË∞ÉÁî®ËÄÖË∞ÉÁî®‰ª£ÁêÜÁ±ªÁöÑÊñπÊ≥ïÂèëËµ∑ËØ∑Ê±ÇÊó∂ÔºåÂ∞±‰ºöËøõÂÖ• InvocationHandler ‰∏≠ ‰ªéÊ≥®Ëß£‰∏≠Ëé∑ÂèñÂà∞ÂÖ®ÈÉ®ÁöÑÈÖçÁΩÆÔºåÂàùÂßãÂåñËØ∑Ê±ÇÔºåÂèëËµ∑ËØ∑Ê±ÇÔºåÁ≠âÂæÖËøîÂõûÔºåËß£ÊûêÊï∞ÊçÆ Â∞ÜËß£ÊûêÂ•ΩÁöÑÊï∞ÊçÆËøîÂõûÔºåË∞ÉÁî®ËÄÖÂ∞±‰ºöÊãøÂà∞ÊúüÊúõÁöÑÊï∞ÊçÆ Â£∞ÊòéËØ∑Ê±ÇÁöÑ ApiServiceÔºåÂÆÉÂè™ÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÊôÆÊôÆÈÄöÈÄöÁöÑÊé•Âè£ÔºåÊØè‰∏™ÊñπÊ≥ï‰∏äÈù¢ÁöÑÊ≥®Ëß£Áî®Êù•ÊâøËΩΩ‰∏Ä‰∫õËØ∑Ê±ÇÁöÑÈÖçÁΩÆ 123456public interface ApiService&#123; @GET("/page/list") @Headers("domain:baidu") Observable&lt;List&lt;String&gt;&gt; getList(@Query("type") int type);&#125; ‰ΩøÁî® Retrofit ÁöÑÈùôÊÄÅÊñπÊ≥ïÂàõÂª∫Âä®ÊÄÅ‰ª£ÁêÜÂØπË±° 123ApiService apiService = mRetrofit.create(ApiService.class);apiService.getList(2); Áúã‰∏Ä‰∏ã create() ÊñπÊ≥ï‰∏≠ÁöÑÂÆûÁé∞ 12345678910111213141516171819202122232425public &lt;T&gt; T create(final Class&lt;T&gt; service) &#123; Utils.validateServiceInterface(service); if (validateEagerly) &#123; eagerlyValidateMethods(service); &#125; return (T) Proxy.newProxyInstance(service.getClassLoader(), new Class&lt;?&gt;[] &#123; service &#125;, new InvocationHandler() &#123; private final Platform platform = Platform.get(); @Override public Object invoke(Object proxy, Method method, @Nullable Object[] args throws Throwable &#123; // If the method is a method from Object then defer to normal invocation. if (method.getDeclaringClass() == Object.class) &#123; return method.invoke(this, args); &#125; if (platform.isDefaultMethod(method)) &#123; return platform.invokeDefaultMethod(method, service, proxy, args); &#125; // ÂàõÂª∫ËØ∑Ê±Ç„ÄÅÂèëËµ∑ËØ∑Ê±Ç„ÄÅËß£ÊûêÊï∞ÊçÆ ServiceMethod&lt;Object, Object&gt; serviceMethod = (ServiceMethod&lt;Object, Object&gt;) loadServiceMethod(method); OkHttpCall&lt;Object&gt; okHttpCall = new OkHttpCall&lt;&gt;(serviceMethod, args); return serviceMethod.callAdapter.adapt(okHttpCall); &#125; &#125;);&#125; Êàë‰ª¨‰∏çÂéªÂÖ≥Ê≥®Ëß£ÊûêÊ≥®Ëß£ÈÖçÁΩÆÂíåËØ∑Ê±ÇÂèëËµ∑ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºåÁúãËµ∑Êù•ÂíåÊàë‰ª¨‰πãÂâç‰ªãÁªçÁöÑÂä®ÊÄÅ‰ª£ÁêÜÂÆûÁé∞ÊòØ‰∏ÄÊ†∑ÁöÑÔºåÊâÄ‰ª• Retrofit ÈÄâÊã©‰∫Ü‰∏ÄÁßçÈùûÂ∏∏ÂêàÈÄÇÁöÑËÆæËÆ°Ê®°ÂºèÔºåËÆ©ÂéüÊú¨ÂæàÂ§çÊùÇÁöÑÊìç‰ΩúÂèòÂæóÂæàÁÆÄÂçïÂæà‰ºòÈõÖ„ÄÇ]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Https ËØ¶Ëß£ [ÁΩëÁªú]]]></title>
    <url>%2Farticle%2F882ae1dd%2F</url>
    <content type="text"><![CDATA[Ë∂ÖÊñáÊú¨‰º†ËæìÂÆâÂÖ®ÂçèËÆÆÔºàHTTPSÔºåÂ∏∏Áß∞‰∏∫ HTTP over TLS/SSLÔºâÊòØ‰∏ÄÁßçÈÄöËøáËÆ°ÁÆóÊú∫ÁΩëÁªúËøõË°åÂÆâÂÖ®ÈÄö‰ø°ÁöÑ‰º†ËæìÂçèËÆÆ„ÄÇHTTPS ÁªèÁî± HTTP ËøõË°åÈÄö‰ø°Ôºå‰ΩÜÂà©Áî® SSL/TLS Êù•Âä†ÂØÜÊï∞ÊçÆÂåÖ„ÄÇHTTPS ÂºÄÂèëÁöÑ‰∏ªË¶ÅÁõÆÁöÑÔºåÊòØÊèê‰æõÂØπÁΩëÁ´ôÊúçÂä°Âô®ÁöÑË∫´‰ªΩËÆ§ËØÅÔºå‰øùÊä§‰∫§Êç¢Êï∞ÊçÆÁöÑÈöêÁßÅ‰∏éÂÆåÊï¥ÊÄß„ÄÇ Êú¨Êñá‰∏ªË¶Å‰ªãÁªç Ôºö Https Â¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰º†ËæìÁöÑÂÆâÂÖ® CA ÁöÑÂ≠òÂú®ÂèäÂÖ∂ÂÆâÂÖ®ÊÄß ËØÅ‰π¶Â∑•ÂÖ∑ keytool ËØÅ‰π¶È™åËØÅÊµÅÁ®ã Https Êè°ÊâãÊµÅÁ®ã Android ‰∏ãËøõË°å HttpsËÆøÈóÆ TLS/SSLTCP (Transmission Control Protoco) ‰º†ËæìÂ±ÇÊéßÂà∂ÂçèËÆÆ TLS (Transport Layer Security) ‰º†ËæìÂ±ÇÂÆâÂÖ®ÂçèÂÆö SSL (Secure Socket Layer) ÂÆâÂÖ®Â•óÊé•Â±Ç HTTP(Hypertext Transfer Protocol) Âü∫‰∫é TCP ÂçèËÆÆÔºåÊó†ËøûÊé•ÔºåÊØèÊ¨°ËøûÊé•Âè™Â§ÑÁêÜ‰∏Ä‰∏™ËØ∑Ê±ÇÔºåÁªìÊùüÂêéÊñ≠ÂºÄËøûÊé•ÔºõÊó†Áä∂ÊÄÅÔºåÊó†Ê≥ï‰øùÊåÅÁî®Êà∑Áä∂ÊÄÅÔºå‰ΩøÁî® cookie Âíå session Ëß£ÂÜ≥„ÄÇ HTTPS(HTTP over TLS/SSL) ÂÆâÂÖ®ÁöÑ http ÂçèËÆÆÔºåHTTP ÂçèËÆÆÂíå TCP ÂçèËÆÆ‰πãÈó¥Â¢ûÂä†‰∫Ü TLS/SSL ‰øùËØÅÊï∞ÊçÆÁöÑÂÆâÂÖ®‰º†Ëæì„ÄÇ ÂéÜÂè≤ËøõÁ®ãÔºö 12345678910111213141994Âπ¥ÔºåNetScapeÂÖ¨Âè∏ËÆæËÆ°‰∫ÜSSLÂçèËÆÆÔºàSecure Sockets LayerÔºâÁöÑ1.0ÁâàÔºå‰ΩÜÊòØÊú™ÂèëÂ∏É„ÄÇ1995Âπ¥ÔºåNetScapeÂÖ¨Âè∏ÂèëÂ∏ÉSSL 2.0ÁâàÔºåÂæàÂø´ÂèëÁé∞Êúâ‰∏•ÈáçÊºèÊ¥û„ÄÇ1996Âπ¥ÔºåSSL 3.0ÁâàÈóÆ‰∏ñÔºåÂæóÂà∞Â§ßËßÑÊ®°Â∫îÁî®„ÄÇ1999Âπ¥Ôºå‰∫íËÅîÁΩëÊ†áÂáÜÂåñÁªÑÁªáISOCÊé•ÊõøNetScapeÂÖ¨Âè∏ÔºåÂèëÂ∏É‰∫ÜSSLÁöÑÂçáÁ∫ßÁâàTLS 1.0Áâà„ÄÇ2006Âπ¥Âíå2008Âπ¥ÔºåTLSËøõË°å‰∫Ü‰∏§Ê¨°ÂçáÁ∫ßÔºåÂàÜÂà´‰∏∫TLS 1.1ÁâàÂíåTLS 1.2Áâà„ÄÇÊúÄÊñ∞ÁöÑÂèòÂä®ÊòØ2011Âπ¥TLS 1.2ÁöÑ‰øÆËÆ¢Áâà„ÄÇTLS 1.0ÈÄöÂ∏∏Ë¢´Ê†áÁ§∫‰∏∫SSL 3.1ÔºåTLS 1.1‰∏∫SSL 3.2ÔºåTLS 1.2‰∏∫SSL 3.3„ÄÇÁõÆÂâçÔºåÂ∫îÁî®ÊúÄÂπøÊ≥õÁöÑÊòØTLS 1.0ÔºåÊé•‰∏ãÊù•ÊòØSSL 3.0„ÄÇ‰ΩÜÊòØÔºå‰∏ªÊµÅÊµèËßàÂô®ÈÉΩÂ∑≤ÁªèÂÆûÁé∞‰∫ÜTLS 1.2ÁöÑÊîØÊåÅ„ÄÇ Https ÂÆâÂÖ®ÊÄßHTTP ÂçèËÆÆÁöÑ‰∏çÂÆâÂÖ®ÊÄß‰ΩìÁé∞Âú® 3 ‰∏™ÊñπÈù¢Ôºö È£éÈô© ÊèèËø∞ httpsËß£ÂÜ≥ÊñπÊ°à Á™ÉÂê¨È£éÈô© ÊîªÂáªËÄÖÂèØ‰ª•Ëé∑Áü•Ê∂àÊÅØÂÜÖÂÆπ Ê∂àÊÅØÂä†ÂØÜ ÁØ°ÊîπÈ£éÈô© ÊîªÂáªËÄÖÂèØ‰ª•ÁØ°ÊîπÊ∂àÊÅØÂÜÖÂÆπ Ê∂àÊÅØÊëòË¶Å ÂÜíÂÖÖÈ£éÈô© ÊîªÂáªËÄÖÂèØ‰ª•ÂÜíÂÖÖÂÖ∂‰ªñ‰∫∫ÂèÇ‰∏éÈÄö‰ø° CA Ë∫´‰ªΩËÆ§ËØÅ CA ‰∏çÂèØ‰ø° ‰ø°‰ªªÁöÑ CA ‰π±Á≠æÂèëËØÅ‰π¶ ËØÅ‰π¶ÈîÅ Á™ÉÂê¨/ÂóÖÊé¢ÊåáÁöÑÊòØË∑ØÁî±‰∏äÁöÑÊîªÂáªËÄÖÔºåÂèØ‰ª•ÂÅ∑Á™•Âà∞‰º†ËæìÁöÑÊ∂àÊÅØÂÜÖÂÆπ„ÄÇ Ëß£ÂÜ≥ÊñπÊ°àÔºö ‰ΩøÁî®ÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂä†ÂØÜÈÄö‰ø°ÂÜÖÂÆπÔºåÁ™ÉÂê¨ËÄÖËé∑ÂèñÂà∞Ê∂àÊÅØ‰πüÊó†Ê≥ïËØÜÂà´ÔºåÂ≠òÂú®ÈóÆÈ¢ò -&gt; ÂØÜÈí•‰º†ÈÄíÁöÑÂÆâÂÖ®ÊÄßÔºåÂú®ÁΩëÁªú‰∏äÈù¢ÁöÑÈÄö‰ø°ÂèåÊñπÈÉΩÊòØÈôåÁîü‰∫∫ÔºåÊó†Ê≥ïËØÜÂà´Ë∫´‰ªΩÔºåÂØÜÈí•Ë¶ÅÈÄöËøáÁΩëÁªú‰º†ËæìÊó∂ÂæàÊúâÂèØËÉΩË¢´Á™ÉÂèñ„ÄÇ‚ùå ‰ΩøÁî®ÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂä†ÂØÜÈÄö‰ø°ÂÜÖÂÆπÔºåÂèëÂ∏ÉÁöÑÂÖ¨Èí•Áî®Êù•Âä†ÂØÜÔºåÁßÅÈí•Áî®Êù•Ëß£ÂØÜÔºåÂç≥‰ΩøÂÖ¨Èí•Ë¢´Á™ÉÂèñÔºå‰æùÁÑ∂Êó†Ê≥ïËß£ÂØÜÊ∂àÊÅØÂÜÖÂÆπ„ÄÇÂ≠òÂú®ÈóÆÈ¢ò -&gt; ÈÄüÂ∫¶ÊÖ¢ÔºåÊ∂àËÄóÂ§ßÔºõÂÖ¨Èí•Ë¢´ÂÖ¨ÂºÄÔºåÂ¶ÇÊûúÂõûÂèëÁßÅÈí•Âä†ÂØÜÁöÑ‰ø°ÊÅØÔºå‰ªª‰ΩïÊåÅÊúâÂÖ¨Èí•ÁöÑ‰∫∫ÈÉΩÂèØ‰ª•Ëß£ÂØÜ„ÄÇ‚ùå ÊúÄÁªàÔºåÊ∂àÊÅØÂÜÖÂÆπ‰ªçÊóß‰ΩøÁî®ÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÊù•Âä†ÂØÜÔºå‰ΩÜÊòØÂâçÊúüÂØπÁß∞Âä†ÂØÜÁöÑÂØÜÈí•‰∫§Êç¢‰ΩøÁî®ÈùûÂØπÁß∞Âä†ÂØÜÊù•ËøõË°åÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÊúçÂä°Á´ØÂÖ¨Èí•Âä†ÂØÜÂØπÁß∞Âä†ÂØÜÁöÑÂØÜÈí•ÔºåËøôÊ†∑Â∞±Âè™ÊúâÊã•ÊúâÁßÅÈí•ÁöÑÊúçÂä°Á´ØÂèØ‰ª•Ëé∑ÂèñÂà∞Âä†ÂØÜÂÜÖÂÆπÔºåÁî±‰∫éÂØπÁß∞Âä†ÂØÜÂØÜÈí•ÈïøÂ∫¶ÊúâÈôêÔºåÂä†ÂØÜÁöÑÊó∂Èó¥ÂèØ‰ª•ÂøΩÁï•‰∏çËÆ°„ÄÇ‚úÖ ‰ª•‰∏äÔºåÂèØ‰ª•Èò≤Ê≠¢ÂóÖÊé¢ÁöÑÈóÆÈ¢òÔºåË∑ØÁî±‰∏äÈù¢ÁöÑÊîªÂáªËÄÖÂç≥‰ΩøËé∑ÂèñÂà∞Ê∂àÊÅØ‰πüÊó†Ê≥ïËØÜÂà´Ê∂àÊÅØÁöÑÂÜÖÂÆπ„ÄÇ Ê∂àÊÅØÁØ°ÊîπÊ∂àÊÅØÂä†ÂØÜ‰ª•ÂêéÊîªÂáªËÄÖÊó†Ê≥ïËé∑ÂèñÊ∂àÊÅØÂÜÖÂÆπÁöÑÂê´‰πâÔºå‰ΩÜÊòØÂèØ‰ª•ÁØ°ÊîπÊ∂àÊÅØÂÜÖÂÆπÔºåÁØ°Êîπ‰πãÂêéÊé•Êî∂Êñπ‰πüÊó†Ê≥ïÊÑüÁü•„ÄÇ Ëß£ÂÜ≥ÊñπÊ°àÔºö ÈááÁî® Ê∂àÊÅØÊëòË¶ÅÔºàËßÅÊñáÊú´Ê≥®ËÑöÔºâ ÁÆóÊ≥ïÂèØ‰ª•È™åËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÔºåÊàë‰ª¨Â∞ÜÂèëÈÄÅÁöÑÊ∂àÊÅØËøõË°åÊëòË¶ÅÔºåËøûÂêåÊ∂àÊÅØ‰∏ÄËµ∑ÂèëÈÄÅÁªôÊé•Êî∂ÊñπÔºåÊé•Êî∂ÊñπÊãøÂà∞Ê∂àÊÅØ‰πãÂêéÂØπÊ∂àÊÅØÂÅöÂêåÊ†∑ÁöÑÊëòË¶ÅÂ§ÑÁêÜÔºåÂØπÊØîÊëòË¶ÅÁªìÊûúÔºåÂç≥ÂèØÁü•ÈÅìÊ∂àÊÅØÊúâÊ≤°ÊúâË¢´ÁØ°Êîπ„ÄÇ ‰ª•‰∏äÔºåÂèØ‰ª•Ëß£ÂÜ≥Ê∂àÊÅØÂÆåÊï¥ÊÄßÂíåÁúüÂÆûÊÄßÁöÑÈóÆÈ¢ò„ÄÇ ‰∏≠Èó¥‰∫∫ÊîªÂáª‰∏≠Èó¥‰∫∫ÊîªÂáªÔºàMan-in-the-middle AttackÔºåMITMÔºâÊåáÁöÑÊòØÊîªÂáªËÄÖÂú®ÈìæË∑Ø‰∏ä‰º™Ë£ÖËá™Â∑±Ôºå‰∏éÈÄöËÆØÂèåÊñπÂàÜÂà´Âª∫Á´ãËÅîÁ≥ªÔºåÂπ∂‰∫§Êç¢ÂÖ∂ÊâÄÊî∂Âà∞ÁöÑÊï∞ÊçÆÔºå‰ΩøÈÄöËÆØÁöÑ‰∏§Á´ØËÆ§‰∏∫‰ªñ‰ª¨Ê≠£Âú®ÈÄöËøá‰∏Ä‰∏™ÁßÅÂØÜÁöÑËøûÊé•‰∏éÂØπÊñπÁõ¥Êé•ÂØπËØùÔºå‰ΩÜ‰∫ãÂÆû‰∏äÊï¥‰∏™‰ºöËØùÈÉΩË¢´ÊîªÂáªËÄÖÂÆåÂÖ®ÊéßÂà∂„ÄÇ ‰Ωú‰∏∫ A Âíå B ÈÄö‰ø°Ë∑ØÁî±‰∏äÁöÑÊîªÂáªËÄÖ MÔºå‰Ωú‰∏∫‰∏≠Èó¥‰∫∫‰º™ÈÄ†Ëá™Â∑±ÁöÑË∫´‰ªΩ„ÄÇA Âêë B ËØ∑Ê±ÇÁî®‰∫éÈÄö‰ø°ÁöÑ PK_AÔºå‰ΩÜÊòØË¢´‰∏≠Èó¥‰∫∫ M Êà™Ëé∑Ôºå‰ªñ‰º™ÈÄ†ÁîüÊàê‰∫ÜÂÅáÁöÑÂÖ¨Èí• PK_MÔºåÂèëÈÄÅÁªô‰∫Ü AÔºåÂêåÊó∂Âêë B ËØ∑Ê±ÇÂπ∂Ëé∑Âèñ‰∫Ü B ÁöÑÂÖ¨ÂºÄÂØÜÈí• PK_BÔºåÂéüÊù•ÂÆâÂÖ®ÁöÑÈÄö‰ø°ËøáÁ®ã A(‰ΩøÁî® PK_B Âä†ÂØÜ) -&gt; ÂÆâÂÖ® -&gt; B(‰ΩøÁî® SK_B Ëß£ÂØÜ)ÔºåÁé∞Âú®ÂèòÊàê‰∫Ü A(‰ΩøÁî® PK_M Âä†ÂØÜ) -&gt; M(‰ΩøÁî® SK_M Ëß£ÂØÜËé∑ÂèñÊòéÊñáÂÜÖÂÆπÔºåÂÜçÁî® PK_B Âä†ÂØÜÔºåÂèØËÉΩÁØ°ÊîπÊï∞ÊçÆ) -&gt; B(‰ΩøÁî® SK_B Ëß£ÂØÜ)„ÄÇ Âá∫Áé∞ÈóÆÈ¢òÁöÑÂéüÂõ†Âú®‰∫éÔºåÂØÜÈí•Âú®‰∫§Êç¢ÁöÑÂàùÊúüÊòØ‰∏çÂÆâÂÖ®ÁöÑÔºåÁΩëÁªú‰∏äÁöÑÈÄö‰ø°ÂèåÊñπÔºåÊó†Ê≥ïÁ°ÆÂÆöÂØπÊñπÁöÑË∫´‰ªΩÔºåÂç≥Êó†Ê≥ïËé∑ÊÇâÂΩìÂâçÁöÑÂÖ¨Èí•ÊòØ‰∏çÊòØËá™Â∑±ÊÉ≥Ë¶ÅÁöÑÂÖ¨Èí•„ÄÇ Ëß£ÂÜ≥ÊñπÊ°àÔºö ÂºïÂÖ•Á¨¨‰∏âÊñπÂÖ¨Ê≠£‰Ωú‰ø°Áî®ËÉå‰π¶ÔºåÁ¨¨‰∏âÊñπÂÖ¨Ê≠£ÂÖ∑ÊúâÊùÉÂ®ÅÊÄßÔºå‰ªñÂíåÈÄö‰ø°ÂèåÊñπÊ≤°ÊúâÂÖ≥Á≥ªÔºåÊé•Êî∂ÊñπÊó†Êù°‰ª∂‰ø°‰ªªÂÖ¨ËØÅÊú∫ÊûÑÔºå‰πüÂ∞±‰ºö‰ø°‰ªª‰ªñÁ≠æÂêçÁöÑ‰ø°ÊÅØ„ÄÇËøôÁßçÊú∫ÊûÑË¢´Áß∞‰∏∫ CAÔºàCertificate Authority Êú∫ÊûÑÔºåÂç≥Êï∞Â≠óËØÅ‰π¶ËÆ§ËØÅÊú∫ÊûÑ„ÄÇCA Êú∫ÊûÑ‰∏éÊµèËßàÂô®ÂíåÊìç‰ΩúÁ≥ªÁªüÂéÇÂïÜÂêà‰ΩúÔºåÂ∞ÜÂÖ¨Èí•ÂÜÖÁΩÆÂú®ÊµèËßàÂô®ÂíåÊìç‰ΩúÁ≥ªÁªü‰∏≠Ôºå‰πüÂ∞±ÊòØ‰∏çËµ∞ÁΩëÁªú‰º†Ëæì‰∫ÜÔºåËøôÊ†∑‰∏ÄÂÆöÁ®ãÂ∫¶‰∏ä‰øùËØÅ‰∫ÜÂÖ¨Èí•‰∏ç‰ºöË¢´Á™ÉÂèñÁØ°Êîπ„ÄÇ ÊúçÂä°Á´Ø Server Â∞ÜËá™Â∑±ÁöÑÊ∂àÊÅØÔºàÊ∂àÊÅØÂÜÖÂÆπÂ§ßËá¥ÂåÖÊã¨ÁîµÂ≠êÁ≠æËØÅÊú∫ÂÖ≥ÁöÑ‰ø°ÊÅØ„ÄÅÂÖ¨Èí•Áî®Êà∑‰ø°ÊÅØ„ÄÅÂÖ¨Èí•„ÄÅÊùÉÂ®ÅÊú∫ÊûÑÁöÑÁ≠æÂ≠óÂíåÊúâÊïàÊúüÁ≠âÔºâËøõË°åÊëòË¶Å‰πãÂêéÔºåÂèëÁªô CA Êú∫ÊûÑ AUTH Á≠æÂèëËØÅ‰π¶ÔºåServer ‰ΩøÁî®Ëá™Â∑±ÁöÑÁßÅÈí•ÂØπÊ∂àÊÅØÊëòË¶ÅÂä†ÂØÜÔºåÂΩ¢ÊàêËØÅ‰π¶ÔºåÂπ∂Â∞ÜËØÅ‰π¶ÂíåÊ∂àÊÅØÂÜÖÂÆπÂèëÈÄÅÁªô ClientÔºåClient Êî∂Âà∞ÂêéÔºåÂèëÁé∞ÊòØ AUTH ÁöÑËØÅ‰π¶ÔºåÂêåÊó∂ÂØπ AUTH ÊòØ‰ø°‰ªªÁöÑÔºåÂàô‰ºö‰ΩøÁî® AUTH ÁöÑÂÖ¨Èí•ÂØπËØÅ‰π¶ËøõË°åËß£ÂØÜÔºàËøôÈáåÊ∂âÂèäËØÅ‰π¶ÈìæÁöÑÈ™åËØÅÔºåÂÖ∂ÂÆûË¶ÅÊõ¥Âä†Â§çÊùÇÔºâÔºåËé∑ÂèñÂà∞Ê∂àÊÅØÊëòË¶ÅÔºåÂêåÊó∂ÂØπÊî∂Âà∞ÁöÑÊ∂àÊÅØËøõË°åÊëòË¶ÅÔºåÂØπÊØîÔºåÂ¶ÇÊûú‰∏ÄËá¥ÂàôËØ¥ÊòéÂÜÖÂÆπÊ≤°ÊúâË¢´ÁØ°ÊîπÔºåÊòØÂèØ‰ø°ÁöÑÔºåÂõ†‰∏∫ÁîüÊàêÂä†ÂØÜÊï∞ÊçÆÁöÑÁßÅÈí•Âè™Êúâ CA Êú∫ÊûÑÊâçÊúâÔºåËøô‰∏ÄËøáÁ®ãÁß∞‰∏∫È™åËØÅÊï∞Â≠óÁ≠æÂêç„ÄÇ ‰ª•‰∏äÔºåÂèØ‰ª•Ëß£ÂÜ≥‰∏≠Èó¥‰∫∫ÊîªÂáªÁöÑÊñáÂõæÔºåÂè¶Â§ñÊ∂âÂèäÂà∞ÈùûÂØπÁß∞Âä†ÂØÜÁöÑ‰∏§ÁßçÂ∫îÁî®Âú∫ÊôØÔºåËØ¶ÁªÜ‰ªãÁªçËßÅÊñáÊú´ÈùûÂØπÁß∞Âä†ÂØÜÂ∫îÁî®Âú∫ÊôØ„ÄÇ CA ÈîôËØØÁ≠æÂèëÂèó‰ø°‰ªªÁöÑ CAÔºàËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÔºâÊúâÂ•ΩÂá†Áôæ‰∏™Ôºå‰ªñ‰ª¨Êàê‰∏∫Êï¥‰∏™ÁΩëÁ´ôË∫´‰ªΩËÆ§ËØÅËøáÁ®ã‰∏≠‰∏Ä‰∏™ËæÉÂ§ßÁöÑÊîªÂáªÈù¢„ÄÇÂÆûÈôÖ‰∏äÔºåÁõÆÂâçÁî±‰∫é CA Â§±ËØØÂØºËá¥ÈîôËØØÁ≠æÂèëËØÅ‰π¶Ôºå‰ª•Âèä‰∏™Âà´ CA Âá∫‰∫éÊüê‰∫õÁõÆÁöÑÔºàÂ¶ÇÁõëÊéßÂä†ÂØÜÊµÅÈáèÔºâÊïÖÊÑèÂêëÁ¨¨‰∏âÊñπÈöèÊÑèÁ≠æÂèëËØÅ‰π¶Ëøô‰∏§ÁßçÊÉÖÂÜµÊó∂ÊúâÂèëÁîü„ÄÇÁé∞ÊúâÁöÑËØÅ‰π¶‰ø°‰ªªÈìæÊú∫Âà∂ÊúÄÂ§ßÁöÑÈóÆÈ¢òÊòØÔºå‰ªª‰Ωï‰∏ÄÂÆ∂Âèó‰ø°‰ªªÁöÑ CA ÈÉΩÂèØ‰ª•Á≠æÂèë‰ªªÊÑèÁΩëÁ´ôÁöÑÁ´ôÁÇπËØÅ‰π¶ÔºåËøô‰∫õËØÅ‰π¶Âú®ÂÆ¢Êà∑Á´ØÁúãÊù•ÔºåÈÉΩÊòØÂêàÊ≥ïÁöÑÔºåÊòØÂèØ‰ª•ÈÄöËøáÈ™åËØÅÁöÑ„ÄÇ Ëß£ÂÜ≥ÊñπÊ°àÔºö ËØÅ‰π¶ÈîÅÔºàCertificate PinningÔºâÔºåËØÅ‰π¶ÈîÅÊòØ‰∏∫‰∫ÜÈò≤ËåÉÁî± „Äå‰º™ÈÄ†Êàñ‰∏çÊ≠£ÂΩìÊâãÊÆµËé∑ÂæóÁΩëÁ´ôËØÅ‰π¶„Äç ÈÄ†ÊàêÁöÑ‰∏≠Èó¥‰∫∫ÊîªÂáª„ÄÇ ËØÅ‰π¶ÈîÅÁ±ª‰ºº‰∫é HPKP ÊäÄÊúØÔºà‰∏ãÈù¢ÊúâÁÆÄÂçï‰ªãÁªçÔºâÔºåÁªô‰∫àÊàë‰ª¨‰∏ªÂä®ÈÄâÊã©‰ø°‰ªª CA ÁöÑÊùÉÂà©„ÄÇÂÆÉÁöÑÂ∑•‰ΩúÂéüÁêÜÂ∞±ÊòØ‰ΩøÁî®È¢ÑÂÖàËÆæÁΩÆÁöÑËØÅ‰π¶ÊåáÁ∫πÂíåÊúçÂä°Âô®‰º†ËøáÊù•ÁöÑËØÅ‰π¶Èìæ‰∏≠ÁöÑËØÅ‰π¶ÊåáÁ∫πËøõË°åÂåπÈÖçÔºåÂè™Ë¶ÅÊúâ‰ªª‰Ωï‰∏ÄÂØπÊåáÁ∫πÂåπÈÖçÊàêÂäüÔºåÂàôËÆ§‰∏∫ÊòØ‰∏ÄÊ¨°ÂêàÊ≥ïÁöÑËøûÊé•ÔºåÂê¶ÂàôÁ¶ÅÊ≠¢Êú¨Ê¨°ÈìæÊé•„ÄÇ ‰πüÂ∞±ÊòØËØ¥Ôºå‰ΩøÁî®ËØÅ‰π¶ÈîÅ‰πãÂêéÔºå‰∏çÊòØÊâÄÊúâË¢´Á≥ªÁªü‰ø°‰ªªÁöÑ CA ÈÉΩÂèØ‰ª•ÈÄöËøáÈ™åËØÅÔºåÂè™ÊúâÊàë‰øùÂ≠ò‰∫ÜÊåáÁ∫πÁöÑ‰∏Ä‰∫õ CA Á≠æÂèëÁöÑËØÅ‰π¶ÊâçÂèØ‰ª•ÔºåÊØîÂ¶ÇÊúâ 100 ‰∏™ CA Êú∫ÊûÑÔºå‰ΩÜÊàëÂ∞±‰ø°‰ªªÂÖ∂‰∏≠‰∏Ä‰∏™ÔºåÊàëÂèØ‰ª•‰øùËØÅËøô‰∏™ CA ‰∏ç‰ºö‰π±Á≠æÂèëËØÅ‰π¶ÔºåÈÇ£ÊàëÂ∞±Âè™‰øùÂ≠òËøô‰∏™ CA ÁöÑÊåáÁ∫πÔºåÂç≥‰ΩøÊîªÂáªËÄÖ‰ªéÂÖ∂‰ªñÁöÑ 99 ‰∏™ CA Á≠æÂèëËØÅ‰π¶ÔºåÂØπÊàëËøõË°åÊîªÂáªÔºå‰πüÊó†Ê≥ïÂÆåÊàêËøûÊé•„ÄÇ ËØÅ‰π¶ÈîÅÂÆöÂ¢ûÂä†‰∫ÜÂÆâÂÖ®ÊÄßÔºå‰ΩÜÈôêÂà∂‰∫Ü‰Ω†ÁöÑÊúçÂä°Âô®Âõ¢ÈòüÂçáÁ∫ß TLS ËØÅ‰π¶ÁöÑËÉΩÂäõ„ÄÇ ‰ª•‰∏äÔºåÂèØ‰ª•Ëß£ÂÜ≥ CA Êú∫ÊûÑÁ≠æÂèëËØÅ‰π¶ÊùÉÂ®ÅÊÄß‰∏çË∂≥ÁöÑÈóÆÈ¢òÔºåÁõ∏ÂÖ≥Ëß£ÂÜ≥ÊñπÊ°àËØ¶ËßÅÊñáÊú´ Á≠æÂèëËØÅ‰π¶ÊùÉÂ®ÅÊÄßÈóÆÈ¢ò üî• Áªº‰∏äÔºåÂØπÁß∞Âä†ÂØÜÈÄö‰ø° + ÈùûÂØπÁß∞Âä†ÂØÜ‰∫§Êç¢ÂØÜÈí• + CA ËÆ§ËØÅË∫´‰ªΩ + ËØÅ‰π¶ÈîÅÈîÅÂÆöËØÅ‰π¶ÊåáÁ∫π ÂÖ±Âêå‰øùËØÅ‰∫Ü https ÁöÑÂÆâÂÖ®ÊÄß„ÄÇ CA ÂÆâÂÖ®ÊÄß‰Ωú‰∏∫ÂÖ®ÁΩë https ËøûÊé•ÁöÑÊùÉÂ®ÅÂÖ¨Ê≠£ÔºåCA ÁöÑÂÆâÂÖ®ÊÄßËá≥ÂÖ≥ÈáçË¶Å„ÄÇ ÂÆâÂÖ®‰øùÂ≠ò CA‰ªéÊ†π CA ÂºÄÂßãÂà∞Áõ¥Êé•ÁªôÂÆ¢Êà∑ÂèëÊîæËØÅ‰π¶ÁöÑÂêÑÂ±ÇÊ¨° CAÔºåÈÉΩÊúâÂÖ∂Ëá™Ë∫´ÁöÑÂØÜÈí•ÂØπ„ÄÇCA ‰∏≠ÂøÉÁöÑÂØÜÈí•ÂØπ‰∏ÄËà¨Áî±Á°¨‰ª∂Âä†ÂØÜÊúçÂä°Âô®Âú®Êú∫Âô®ÂÜÖÁõ¥Êé•‰∫ßÁîüÔºåÂπ∂Â≠òÂÇ®‰∫éÂä†ÂØÜÁ°¨‰ª∂ÂÜÖÔºåÊàñ‰ª•‰∏ÄÂÆöÁöÑÂä†ÂØÜÂΩ¢ÂºèÂ≠òÊîæ‰∫éÂØÜÈí•Êï∞ÊçÆÂ∫ìÂÜÖ„ÄÇÂä†ÂØÜÂ§á‰ªΩ‰∫é IC Âç°ÊàñÂÖ∂‰ªñÂ≠òÂÇ®‰ªãË¥®‰∏≠ÔºåÂπ∂‰ª•È´òÁ≠âÁ∫ßÁöÑÁâ©ÁêÜÂÆâÂÖ®Êé™ÊñΩ‰øùÊä§Ëµ∑Êù•„ÄÇ ÂØÜÈí•ÁöÑÈîÄÊØÅË¶Å‰ª•ÂÆâÂÖ®ÁöÑÂØÜÈí•ÂÜ≤ÂÜôÊ†áÂáÜÔºåÂΩªÂ∫ïÊ∏ÖÈô§ÂéüÊúâÁöÑÂØÜÈí•ÁóïËøπ„ÄÇÈúÄË¶ÅÂº∫Ë∞ÉÁöÑÊòØÔºåÊ†π CA ÂØÜÈí•ÁöÑÂÆâÂÖ®ÊÄßËá≥ÂÖ≥ÈáçË¶ÅÔºåÂÆÉÁöÑÊ≥ÑÈú≤ÊÑèÂë≥ÁùÄÊï¥‰∏™ÂÖ¨Èí•‰ø°‰ªª‰ΩìÁ≥ªÁöÑÂ¥©Ê∫ÉÔºåÊâÄ‰ª• CA ÁöÑÂØÜÈí•‰øùÊä§ÂøÖÈ°ªÊåâÁÖßÊúÄÈ´òÂÆâÂÖ®Á∫ßÁöÑ‰øùÊä§ÊñπÂºèÊù•ËøõË°åËÆæÁΩÆÂíåÁÆ°ÁêÜ„ÄÇCA ÁöÑÁßÅÈí•ÊòØËá™Â∑±Èù†‰∏äËø∞ÊñπÊ≥ï‰øùÁÆ°ÁöÑÔºå‰∏çÂØπÂ§ñÂÖ¨ÂºÄ„ÄÇ ÊâÄ‰ª• CA ÂØÜÈí•ÁöÑÂÆâÂÖ®ÊÄß‰æùËµñ‰∫éÁâ©ÁêÜÁ°¨‰ª∂ÁöÑÂÆâÂÖ®ÊÄßÔºå‰∏çÈÄöËøáÁΩëÁªú‰º†ËæìÈÅøÂÖç‰∫ÜË¢´ÊîªÂáªÁöÑÂèØËÉΩ„ÄÇ CA ÁöÑÂÖ¨Èí•ÊòØÂéÇÂïÜË∑üÊµèËßàÂô®ÂíåÊìç‰ΩúÁ≥ªÁªüÂêà‰ΩúÔºåÊääÂÖ¨Èí•ÈªòËÆ§Ë£ÖÂà∞ÊµèËßàÂô®ÊàñËÄÖÊìç‰ΩúÁ≥ªÁªüÁéØÂ¢ÉÈáå„ÄÇÊØîÂ¶Ç firefox Â∞±Ëá™Â∑±Áª¥Êä§‰∫Ü‰∏Ä‰∏™ÂèØ‰ø°‰ªªÁöÑ CA ÂàóË°®ÔºåËÄå chrome Âíå IE ‰ΩøÁî®ÁöÑÊòØÊìç‰ΩúÁ≥ªÁªüÁöÑ CA ÂàóË°®„ÄÇ ËØÅ‰π¶ÈìæÁé∞Âú®Â§ßÁöÑ CA ÈÉΩ‰ºöÊúâËØÅ‰π¶ÈìæÔºåËØÅ‰π¶ÈìæÁöÑÂ•ΩÂ§Ñ‰∏ÄÊòØÂÆâÂÖ®Ôºå‰øùÊåÅÊ†π CA ÁöÑÁßÅÈí•Á¶ªÁ∫ø‰ΩøÁî®„ÄÇÁ¨¨‰∫å‰∏™Â•ΩÂ§ÑÊòØÊñπ‰æøÈÉ®ÁΩ≤ÂíåÊí§ÈîÄÔºåÂç≥Â¶ÇÊûúËØÅ‰π¶Âá∫Áé∞ÈóÆÈ¢òÔºåÂè™ÈúÄË¶ÅÊí§ÈîÄÁõ∏Â∫îÁ∫ßÂà´ÁöÑËØÅ‰π¶ÔºåÊ†πËØÅ‰π¶‰æùÁÑ∂ÂÆâÂÖ®„ÄÇ Ê†π CA ËØÅ‰π¶ÈÉΩÊòØËá™Á≠æÂêçÔºåÂç≥Áî®Ëá™Â∑±ÁöÑÂÖ¨Èí•ÂíåÁßÅÈí•ÂÆåÊàê‰∫ÜÁ≠æÂêçÁöÑÂà∂‰ΩúÂíåÈ™åËØÅ„ÄÇËÄåËØÅ‰π¶Èìæ‰∏äÁöÑËØÅ‰π¶Á≠æÂêçÈÉΩÊòØ‰ΩøÁî®‰∏ä‰∏ÄÁ∫ßËØÅ‰π¶ÁöÑÂØÜÈí•ÂØπÂÆåÊàêÁ≠æÂêçÂíåÈ™åËØÅÁöÑ„ÄÇ ËØÅ‰π¶È™åËØÅËØÅ‰π¶ÊòØÂê¶ÊòØ‰ø°‰ªªÁöÑÊúâÊïàËØÅ‰π¶ ÊòØÂê¶‰ø°‰ªª ÔºöÊé•Êî∂ÊñπÂÜÖÁΩÆ‰∫Ü‰ø°‰ªªÊ†πËØÅ‰π¶ÁöÑÂÖ¨Èí•ÔºåÈúÄË¶ÅËØÅ‰π¶ÊòØ‰∏çÊòØËøô‰∫õ‰ø°‰ªªÊ†πËØÅ‰π¶Á≠æÂèëÁöÑÊàñËÄÖ‰ø°‰ªªÊ†πËØÅ‰π¶ÁöÑ‰∫åÁ∫ßËØÅ‰π¶Êú∫ÊûÑÈ¢ÅÂèëÁöÑ„ÄÇ ÊòØÂê¶ÊúâÊïàÔºöËØÅ‰π¶ÊòØÂê¶Âú®ÊúâÊïàÊúüÂÜÖ„ÄÇ ÊòØÂê¶ÂêàÊ≥ïÔºöÂØπÊñπÊòØ‰∏çÊòØ‰∏äËø∞ËØÅ‰π¶ÁöÑÂêàÊ≥ïÊåÅÊúâËÄÖÔºåËØÅÊòéÂØπÊñπÊòØÂê¶ÊåÅÊúâËØÅ‰π¶ÁöÑÂØπÂ∫îÁßÅÈí•„ÄÇÈ™åËØÅÊñπÊ≥ï‰∏§ÁßçÔºå‰∏ÄÁßçÊòØÂØπÊñπÁ≠æ‰∏™ÂêçÔºåÊàëÁî®ËØÅ‰π¶È™åËØÅÁ≠æÂêçÔºõÂè¶Â§ñ‰∏ÄÁßçÊòØÁî®ËØÅ‰π¶ÂÅö‰∏™‰ø°Â∞ÅÔºåÁúãÂØπÊñπÊòØÂê¶ËÉΩËß£ÂºÄ„ÄÇ ÊòØÂê¶ÂêäÈîÄÔºöÈ™åËØÅÊòØÂê¶ÂêäÈîÄÂèØ‰ª•ÈááÁî®ÈªëÂêçÂçïÊñπÂºèÊàñËÄÖ OCSP ÊñπÂºè„ÄÇÈªëÂêçÂçïÂ∞±ÊòØÂÆöÊúü‰ªé CA ‰∏ãËΩΩ‰∏Ä‰∏™ÂêçÂçïÂàóË°®ÔºåÈáåÈù¢ÊúâÂêäÈîÄÁöÑËØÅ‰π¶Â∫èÂàóÂè∑ÔºåËá™Â∑±Âú®Êú¨Âú∞ÊØîÂØπ‰∏Ä‰∏ãÂ∞±Ë°å„ÄÇ‰ºòÁÇπÊòØÊïàÁéáÈ´ò„ÄÇÁº∫ÁÇπÊòØ‰∏çÂÆûÊó∂„ÄÇOCSP ÊòØÂÆûÊó∂ËøûÊé• CA ÂéªÈ™åËØÅÔºå‰ºòÁÇπÊòØÂÆûÊó∂ÔºåÁº∫ÁÇπÊòØÊïàÁéá‰∏çÈ´ò„ÄÇ Ëá™Á≠æÂêçËØÅ‰π¶Â¶Ç‰ΩïÈ™åËØÅËá™Á≠æÂêçËØÅ‰π¶ÊòØËá™Â∑±ÁªôËá™Â∑±Á≠æÂèëÁöÑËØÅ‰π¶Ôºå‰πüÂ∞±ÊòØËØ¥Ëá™Â∑±ÂÅöËá™Â∑±ÁöÑ CA Êú∫ÊûÑÔºå‰∏∫Ëá™Â∑±ÊãÖ‰øùÔºåÂõ†Ê≠§Êó†Ê≥ïÂÜÖÁΩÆÂú®Á≥ªÁªüÂΩì‰∏≠ÔºåÂõ†Ê≠§Êàë‰ª¨ÈÄöÂ∏∏‰ºöÂú®ÂÆ¢Êà∑ÂÜÖÁΩÆ‰∏Ä‰∏™ËØÅ‰π¶Êñá‰ª∂ÔºåËá™Â∑±ËøõË°åÊ†°È™å„ÄÇ ÁÆÄÂçïÊù•ËØ¥ÔºåÊè°ÊâãÊµÅÁ®ãÈúÄË¶Å‰∏§ÂØπÂØÜÈí•ÂØπÔºö ‰∏ÄÂØπ CA ÁöÑÂØÜÈí•ÂØπ JKS_AÔºåÁî± CA Êú∫ÊûÑÁª¥Êä§ÔºåÈÄöÂ∏∏‰ªñÁöÑÂÖ¨Èí•ÂÜÖÁΩÆÂú® os ‰∏≠ÔºåÁî®Êù•Á≠æÂêçÊúçÂä°Á´Ø‰ø°ÊÅØÊëòË¶ÅÔºå‰øùËØÅÊúçÂä°Á´ØÂÖ¨Èí•ÁöÑÁúüÂÆûÊÄßÔºåÈÅøÂÖç‰∏≠Èó¥‰∫∫ÊîªÂáª„ÄÇ ‰∏ÄÂØπÊúçÂä°Âô®ÁöÑÂØÜÈí•ÂØπ JKS_BÔºå‰ªñÊòØÊè°ÊâãËøáÁ®ã‰∏≠ÈöèÊú∫ÁîüÊàêÁöÑÔºåÁÑ∂ÂêéÁî®„ÄåÂÆÉÁöÑÂÖ¨Èí•ÂèäÂÖ∂‰ªñÂÜÖÂÆπ„ÄçÁöÑÊëòË¶ÅÂéªÂêë CA ÂÆûÊó∂Á≠æÂèëËØÅ‰π¶ÔºåÁî®Êù•ËøõË°åÂØπÁß∞ÂØÜÈí•ÁöÑÂä†ÂØÜ‰º†Ëæì„ÄÇ Ëá™Á≠æÂêçËØÅ‰π¶Â∞±ÊòØ‰∏çËµ∞ CA Êú∫ÊûÑÔºåËÄåÊòØËá™Â∑±ÁîüÊàê‰∏ÄÂØπÂØÜÈí•ÂØπ JKS_CÔºå‰ªñÁöÑ‰ΩúÁî®Â∞±Â•ΩÊØî CA ÁöÑÂØÜÈí•ÂØπ JKS_AÔºå‰πüÊòØ‰∏∫‰∫Ü‰øùËØÅÂÖ¨Èí•ÁöÑÁúüÂÆûÊÄßÔºåÊè°ÊâãËøáÁ®ãÂíåÂéüÊù•‰∏ÄÊ†∑ÔºåÂè™ÊòØÊàë‰ª¨‰∏çÈúÄË¶ÅÂéª CA Á≠æÂèëËØÅ‰π¶‰∫ÜÔºåÁî®Ëá™Â∑±ÁöÑ JKS_C Á≠æÂèëÂ∞±ÂèØ‰ª•‰∫ÜÔºõÂêåÊ†∑Âõ†‰∏∫ JKS_C ÊòØÊàë‰ª¨Ëá™Â∑±ÁöÑÂØÜÈí•ÂØπÔºåÂÖ¨Èí•Ê≤°ÊúâË¢´ÂÜÖÁΩÆÂú® os ‰∏≠ÔºåÊâÄ‰ª•Ê≠§Êó∂ÈúÄË¶ÅÊàë‰ª¨Ëá™Â∑±Êää cert Êñá‰ª∂ÔºàJKS_C ÁöÑÂÖ¨Èí•ÔºâÊîæÂà∞Êú¨Âú∞ÔºåËá™Â∑±ÂÆåÊàêÂéüÊú¨Áî± os ÂÆåÊàêÁöÑ CA Ê†°È™å‰ªªÂä°„ÄÇ ÂèåÂêëÈ™åËØÅÂèåÂêëÈ™åËØÅÊåáÁöÑÊòØÔºå‰∏çÂÖâÂÆ¢Êà∑Á´ØË¶ÅÈ™åËØÅÊù•Ëá™ÊúçÂä°Âô®ÁöÑËøûÊé•ÊòØ‰∏çÊòØÂèØÈù†ÔºåÊúçÂä°Âô®‰πüË¶ÅÈ™åËØÅÂÆ¢Êà∑Á´Ø„ÄÇ ÊúçÂä°Á´Ø‰πü‰ºöÂÜÖÁΩÆ‰∏ÄÂ•óÂèó‰ø°‰ªªÁöÑ CA ËØÅ‰π¶ÂàóË°®ÔºåÁî®‰∫éÈ™åËØÅÂÆ¢Êà∑Á´ØËØÅ‰π¶ÁöÑÁúüÂÆûÊÄß„ÄÇÈ™åËØÅËøáÁ®ãÂíåÂÆ¢Êà∑Á´ØÈ™åËØÅÊúçÂä°Á´ØÁ±ª‰ºº„ÄÇ Https Êè°ÊâãÂçïÂêëÈ™åËØÅÊè°ÊâãËøáÁ®ãÔºö 1„ÄÅClient Hello ‚û°Ô∏è ÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÈÄÅÊè°Êâã‰ø°ÊÅØÔºåÂëäÁü•Ëá™Â∑±ÊîØÊåÅÁöÑÂä†ÂØÜÁÆóÊ≥ï„ÄÅÊëòË¶ÅÁÆóÊ≥ï„ÄÅÂÆâÂÖ®Â±ÇÂçèËÆÆÁâàÊú¨„ÄÅÈöèÊú∫Êï∞ Random-Secret-C„ÄÇ 2„ÄÅServer Hello ‚¨ÖÔ∏è ÊúçÂä°Á´ØÈöèÊú∫ÁîüÊàêÊú¨Ê¨°Êè°ÊâãÈúÄË¶ÅÁöÑÈùûÂØπÁß∞Âä†ÂØÜÁöÑÂØÜÈí•ÂØπÔºàÁßÅÈí•+ÂÖ¨Èí•ÔºâÔºåÂ∞ÜÊù•Áî®Êù•‰º†ËæìÂØπÁß∞Âä†ÂØÜÂØÜÈí•„ÄÇ ÊúçÂä°Á´ØÁîüÊàêÊ∂àÊÅØÔºåÂÜÖÂÆπÂåÖÂê´ÈöèÊú∫Êï∞ Random-Secret-SÔºåÁ°ÆÂÆöÁöÑ‰∏ÄÁªÑÂä†ÂØÜÁÆóÊ≥ïÂíåÊëòË¶ÅÁÆóÊ≥ïÔºåÊúçÂä°Á´ØÂÖ¨Èí•ÔºåÂüüÂêç‰ø°ÊÅØÁ≠â„ÄÇ ÊúçÂä°Á´ØÂØπ‰ø°ÊÅØÂÜÖÂÆπÊëòË¶ÅÔºå‰ΩøÁî®ÊëòË¶ÅÁöÑ‰ø°ÊÅØÂêë CA Êú∫ÊûÑÁî≥ËØ∑ÁöÑÁ≠æÂêçËØÅ‰π¶„ÄÇ ÊúçÂä°Á´ØÂêëÂÆ¢Êà∑Á´ØÂèëÈÄÅÊ∂àÊÅØÂíåÁî≥ËØ∑ÁöÑËØÅ‰π¶„ÄÇ Â¶ÇÊûúÈúÄË¶ÅÂèåÂêëÈ™åËØÅÁöÑËØùÔºåËØ∑Ê±ÇÂÆ¢Êà∑Á´ØËØÅ‰π¶„ÄÇ 3„ÄÅÈ™åËØÅÊúçÂä°Á´ØËØÅ‰π¶ÔºåÊèêÂèñÊúçÂä°Á´ØÂÖ¨Èí• ‚û°Ô∏è ÂÆ¢Êà∑Á´Ø‰ªé‰ø°‰ªªËØÅ‰π¶ÂàóË°®‰∏≠ÂèëÁé∞ÊòØÂèó‰ø°‰ªªÁöÑËØÅ‰π¶Ôºå‰ºöÈ¶ñÂÖàÈ™åËØÅËØÅ‰π¶ÊòØÂê¶Ë¢´‰ø°‰ªª„ÄÅÊúâÊïàÊÄß„ÄÅÂêàÊ≥ïÊÄßÁ≠â‰ø°ÊÅØÔºåÈ™åËØÅËøáÁ®ãÂèÇÁÖß‰∏äÈù¢ÁöÑ ËØÅ‰π¶È™åËØÅ„ÄÇ È™åËØÅÈÄöËøáÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® CA Êú∫ÊûÑÁöÑÂÖ¨Èí•ÂØπËØÅ‰π¶Ëß£ÂØÜÔºåÊãøÂà∞Ê∂àÊÅØÁöÑÊëòË¶ÅÔºåÂØπÁúüÊ≠£ÁöÑÊ∂àÊÅØÂÜÖÂÆπËøõË°åÊëòË¶ÅÔºåÂØπÊØîÁ°ÆÂÆöÊ∂àÊÅØÊ≤°ÊúâË¢´ÁØ°ÊîπÔºåÂàôÂèñÂá∫ÊúçÂä°Á´ØÂÖ¨Èí•„ÄÇ Â¶ÇÊûúÈúÄË¶ÅÂèåÂêëÈ™åËØÅÁöÑËØùÔºåÂêëÊúçÂä°Á´ØÂèëÈÄÅËá™Â∑±ÁöÑËØÅ‰π¶„ÄÇ ÂÆ¢Êà∑Á´ØÁîüÊàêÈöèÊú∫Êï∞Â≠ó Pre-Master-SecretÔºåÂ∞ÜÂÖ∂ËøõË°åÊëòË¶ÅÂ§ÑÁêÜÔºå‰ΩøÁî®ÊúçÂä°Á´ØÂÖ¨Èí•ÂØπÊ∂àÊÅØÂíåÊëòË¶ÅÁªìÊûúÂä†ÂØÜÔºåÂèëÈÄÅÁªôÊúçÂä°Âô®ÔºåÂπ∂ÂèëÈÄÅ‰∏Ä‰∏™ÁºñÁ†ÅÊîπÂèòÈÄöÁü•ÔºåËØ¥Êòé‰ª•ÂêéÂ∞Ü‰ºöÂºÄÂßãÂä†ÂØÜÈÄö‰ø°„ÄÇ 4„ÄÅÁîüÊàêÂØπÁß∞Âä†ÂØÜÂØÜÈí• ‚¨ÖÔ∏è Â¶ÇÊûúÈúÄË¶ÅÂèåÂêëÈ™åËØÅÁöÑËØùÔºåÈ¶ñÂÖàÈ™åËØÅÂÆ¢Êà∑Á´ØËØÅ‰π¶ÔºåÈ™åËØÅËøáÁ®ãÁ±ª‰ººÂÆ¢Êà∑Á´ØÈ™åËØÅÔºåÈ™åËØÅÂ§±Ë¥•ÂàôÊñ≠ÂºÄËøûÊé• ÊúçÂä°Âô®‰ΩøÁî®ÁßÅÈí•ÂØπÊî∂Âà∞ÁöÑ‰ø°ÊÅØËß£ÂØÜÔºåÂØπÊ∂àÊÅØËøõË°åÊëòË¶ÅÂØπÊØîÊó†ËØØÔºåÂàôËØ¥ÊòéÂØπÁß∞Âä†ÂØÜÁöÑÂØÜÈí•Ê≤°ÊúâË¢´ÁØ°ÊîπÔºåÁÑ∂Âêé‰ΩøÁî® Random-Secret-C,Random-Secret-S,Pre-Master-Secret ÁîüÊàêÊúÄÁªàÂ∞ÜË¶ÅËøõË°åÂØπÁß∞Âä†ÂØÜÈÄö‰ø°ÁöÑÂØÜÈí• Master-Secret„ÄÇ ÊúçÂä°Âô®‰ΩøÁî® Master-Secret Âä†ÂØÜ‰∏ÄÊÆµÊè°Êâã‰ø°ÊÅØÂèäÂÖ∂ÊëòË¶ÅÔºåÂèëÈÄÅÁªôÂÆ¢Êà∑Á´ØÔºåÂπ∂ÂèëÈÄÅ‰∏Ä‰∏™ÁºñÁ†ÅÊîπÂèòÈÄöÁü•ÔºåËØ¥Êòé‰ª•ÂêéÂ∞Ü‰ºöÂºÄÂßãÂä†ÂØÜÈÄö‰ø°„ÄÇ 5„ÄÅÂÆ¢Êà∑Á´ØÈ™åËØÅÂä†ÂØÜÁªìÊûúÔºåÊè°ÊâãÁªìÊùü üëå ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Random-Secret-C,Random-Secret-S,Pre-Master-Secret ÁîüÊàêÂêåÊ†∑ÁöÑÂØπÁß∞Âä†ÂØÜÂØÜÈí• Master-SecretÔºå‰ΩøÁî®ÂØÜÈí•Ëß£ÂØÜÔºåÂπ∂È™åËØÅ‰ø°ÊÅØÊëòË¶ÅÔºåÊ≤°ÊúâÈóÆÈ¢òÂàôÊè°ÊâãÁªìÊùü„ÄÇ ÂêéÈù¢ÁöÑÈÄö‰ø°Â∞Ü‰ºö‰ΩøÁî®Êñ∞ÁîüÊàêÁöÑÂØπÁß∞Âä†ÂØÜÂØÜÈí•Âä†ÂØÜËøõË°å„ÄÇ ÂõæËß£Ôºö ÈóÆÈ¢òËÆ∞ÂΩïQÔºö‰∏∫‰ªÄ‰πàË¶ÅÊúâ 3 ‰∏™ÈöèÊú∫Êï∞Ôºü ‰∏çÁÆ°ÊòØÂÆ¢Êà∑Á´ØËøòÊòØÊúçÂä°Âô®ÔºåÈÉΩÈúÄË¶ÅÈöèÊú∫Êï∞ÔºåËøôÊ†∑ÁîüÊàêÁöÑÂØÜÈí•Êâç‰∏ç‰ºöÊØèÊ¨°ÈÉΩ‰∏ÄÊ†∑„ÄÇÁî±‰∫é SSL ÂçèËÆÆ‰∏≠ËØÅ‰π¶ÊòØÈùôÊÄÅÁöÑÔºåÂõ†Ê≠§ÂçÅÂàÜÊúâÂøÖË¶ÅÂºïÂÖ•‰∏ÄÁßçÈöèÊú∫Âõ†Á¥†Êù•‰øùËØÅÂçèÂïÜÂá∫Êù•ÁöÑÂØÜÈí•ÁöÑÈöèÊú∫ÊÄß„ÄÇÂØπ‰∫éRSAÂØÜÈí•‰∫§Êç¢ÁÆóÊ≥ïÊù•ËØ¥ÔºåPre-Master-Secret Êú¨Ë∫´Â∞±ÊòØ‰∏Ä‰∏™ÈöèÊú∫Êï∞ÔºåÂÜçÂä†‰∏ä hello Ê∂àÊÅØ‰∏≠ÁöÑÈöèÊú∫Ôºå‰∏â‰∏™ÈöèÊú∫Êï∞ÈÄöËøá‰∏Ä‰∏™ÂØÜÈí•ÂØºÂá∫Âô®ÊúÄÁªàÂØºÂá∫‰∏Ä‰∏™ÂØπÁß∞ÂØÜÈí•„ÄÇ Pre-Master ÁöÑÂ≠òÂú®Âú®‰∫é SSL ÂçèËÆÆ‰∏ç‰ø°‰ªªÊØè‰∏™‰∏ªÊú∫ÈÉΩËÉΩ‰∫ßÁîüÂÆåÂÖ®ÈöèÊú∫ÁöÑÈöèÊú∫Êï∞ÔºåÂ¶ÇÊûúÈöèÊú∫Êï∞‰∏çÈöèÊú∫ÔºåÈÇ£‰πà Pre-Master-Secret Â∞±ÊúâÂèØËÉΩË¢´ÁåúÂá∫Êù•ÔºåÈÇ£‰πà‰ªÖÈÄÇÁî® Pre-Master-Secret ‰Ωú‰∏∫ÂØÜÈí•Â∞±‰∏çÂêàÈÄÇ‰∫ÜÔºåÂõ†Ê≠§ÂøÖÈ°ªÂºïÂÖ•Êñ∞ÁöÑÈöèÊú∫Âõ†Á¥†ÔºåÈÇ£‰πàÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®Âä†‰∏ä Pre-Master-Secret ‰∏â‰∏™ÈöèÊú∫Êï∞‰∏ÄÂêåÁîüÊàêÁöÑÂØÜÈí•Â∞±‰∏çÂÆπÊòìË¢´ÁåúÂá∫‰∫ÜÔºå‰∏Ä‰∏™‰º™ÈöèÊú∫ÂèØËÉΩÂÆåÂÖ®‰∏çÈöèÊú∫ÔºåÂèØÊòØÊòØ‰∏â‰∏™‰º™ÈöèÊú∫Â∞±ÂçÅÂàÜÊé•ËøëÈöèÊú∫‰∫ÜÔºåÊØèÂ¢ûÂä†‰∏Ä‰∏™Ëá™Áî±Â∫¶ÔºåÈöèÊú∫ÊÄßÂ¢ûÂä†ÁöÑÂèØ‰∏çÊòØ‰∏Ä„ÄÇ‚Äù QÔºöÊîæÂú® Android ÂÆ¢Êà∑Á´ØÁöÑ cert Êñá‰ª∂ÊòØÂï•Ôºü ÊòØËá™Á≠æÂêçËØÅ‰π¶ÁöÑÂÖ¨Èí•ÔºåËá™Á≠æÂêçËØÅ‰π¶Â∞±ÊòØËá™Â∑±ÂÅöËá™Â∑±ÁöÑ CA Êú∫ÊûÑÔºåÊúçÂä°Á´Ø‰ºöËá™Â∑±Áª¥Êä§‰∏Ä‰∏™ÂØÜÈí•ÂØπ JKSÔºå‰ªñÂ∞±Áõ∏ÂΩì‰∫é CA ÁöÑÁ≠æÂèëËØÅ‰π¶ÁöÑÂØÜÈí•ÂØπÔºåÂú®Êè°ÊâãËøáÁ®ã‰∏≠ÊúçÂä°Âô®‰∏çÈúÄË¶ÅËµ∞ CA Áî≥ËØ∑Á≠æÂêçËØÅ‰π¶‰∫ÜÔºåËá™Â∑±Á≠æÂèëÂ∞±ÂèØ‰ª•ÔºåÂéüÊú¨ CA ÁöÑÂÖ¨Èí•Ë¢´ÂÜÖÁΩÆÂú® os ‰∏≠ÔºåCA ÁöÑÈ™åËØÅ‰∏çÈúÄË¶ÅÊàë‰ª¨Êù•ÂÖ≥Ê≥®Ôºå‰ΩÜÊòØÁé∞Âú®ÊòØËá™Á≠æÂêçÁöÑÔºåËá™Â∑±ÂÅöËá™Â∑±ÁöÑ CAÔºåÊâÄ‰ª• JKS ÁöÑÂÖ¨Èí•Êàë‰ª¨Ë¶ÅÂÜÖÁΩÆÂú®ÂÆ¢Êà∑Á´Ø‰∏≠ÔºåËá™Â∑±ÂÆåÊàêÈ™åËØÅËøáÁ®ãÔºåÊõø‰ª£ÂéüÊù• os ÁöÑÈ™åËØÅ„ÄÇ ËØÅ‰π¶Â∑•ÂÖ∑-keytoolÊèêÂèñËØÅ‰π¶ÂÜÖÂÆπ‰∏∫‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ 1keytool -printcert -rfc -file [srca.cer] ÁîüÊàêÂØÜÈí•ÂØπ 1keytool -genkey -alias [march_server] -keyalg RSA -keystore [march_server.jks] -validity 3600 -storepass [123456] ËØªÂèñÂØÜÈí•ÂØπ‰ø°ÊÅØ 1keytool -list -v -keystore [srca.jks] -storepass [123456] ÊèêÂèñÂÖ¨Èí•ÔºåÁ≠æÂèë cert Êñá‰ª∂ 1keytool -export -alias march_server -file march_server.cer -keystore march_server.jks -storepass 123456 Â∞ÜÂÆ¢Êà∑Á´ØÂÖ¨Èí•ÂØºÂÖ•ÂÆ¢Êà∑Á´ØÂØÜÈí•ÂØπ‰∏≠Ôºå‰∏ªË¶ÅÊòØÊúçÂä°Âô®‰∏çËÉΩ‰ΩøÁî® cert ËØÅ‰π¶ÔºåÈúÄË¶ÅÂØºÂÖ•Âà∞ jks Êñá‰ª∂‰∏≠ 1keytool -import -alias [march_client] -file [march_client.cer] -keystore [march_client_for_server.jks] Êê≠Âª∫ https ÊúçÂä°ËøôÈÉ®ÂàÜÂÜÖÂÆπÂèÇËÄÉ‰∫Ü CSDN-hongyang-Android Https ÂÆåÂÖ®Ëß£ÊûêÔºåËøôÈáåÂÅö‰∏Ä‰∏™Ê±áÊÄªÂíåÊï¥ÁêÜ„ÄÇ ÂÄüÂä© tomcat Êê≠Âª∫ÁÆÄÂçïÁöÑ https ÊúçÂä°Ôºå‰∏ªË¶ÅÊòØÁî®Êù•ÊµãËØïÔºå‰πãÂâç‰ΩøÁî® 12306 ÁöÑËØÅ‰π¶ÊµãËØïÔºå‰ΩÜÊòØÂâçÊÆµÊó∂Èó¥ 12306 ËØÅ‰π¶Êç¢Êéâ‰∫ÜÔºåÁé∞Âú®Â∑≤ÁªèÊòØÊ≠£ÂºèËØÅ‰π¶‰∫ÜÔºåÊâÄ‰ª•‰∏çÂæó‰ª•ÈúÄË¶ÅËá™Â∑±Êê≠Âª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊúçÂä°Êù•ÂÅöËÆøÈóÆÊµãËØï„ÄÇ Êê≠Âª∫ÂçïÂêëÈ™åËØÅÁöÑ https ÊúçÂä° È¶ñÂÖàÊàë‰ª¨ÂáÜÂ§áÂ•ΩÂØÜÈí•ÂíåËØÅ‰π¶Ôºå‰ΩøÁî® keytool Â∑•ÂÖ∑ÁîüÊàêÊúçÂä°Á´Ø march_server.jks ÂØÜÈí•ÂØπÔºåÁÑ∂ÂêéÊèêÂèñÊúçÂä°Á´ØÂÖ¨Èí• march_server.cert„ÄÇ ÈÖçÁΩÆÊúçÂä°Ôºå‰∏ªË¶ÅÊòØÈÖçÁΩÆ tomcat/conf/server.xml Êñá‰ª∂ÔºåÊ∑ªÂä†‰∏Ä‰∏™Â¶Ç‰∏ãÁöÑ Connector„ÄÇ 123456789101112131415161718192021222324&lt;!-- https ÊµãËØïÊúçÂä° clientAuth Âíå truststoreFile ÈÖçÁΩÆÊúçÂä°Âô®È™åËØÅÂÆ¢Êà∑Á´Ø keystoreFile Âíå keystorePass ÈÖçÁΩÆÂÆ¢Êà∑Á´ØÈ™åËØÅÊúçÂä°Âô® --&gt; &lt;Connector clientAuth="false" keystoreFile="/Users/march/Documents/march_server.jks" keystorePass="123456" disableUploadTimeout="true" enableLookups="true" SSLEnabled="true" acceptCount="100" maxSpareThreads="75" maxThreads="200" minSpareThreads="5" protocol="org.apache.coyote.http11.Http11NioProtocol" scheme="https" secure="true" port="8443" sslProtocol="TLS"/&gt; Êê≠Âª∫ÂèåÂêëÈ™åËØÅÁöÑ https ÊúçÂä° ÂÜçÁîüÊàêÂÆ¢Êà∑Á´ØÂØÜÈí•ÂØπ march_client.jksÔºåÁÑ∂ÂêéÁ≠æÂèëÂÆ¢Êà∑Á´ØÂÖ¨Èí• march_client.certÔºå‰∏∫‰∫ÜËÉΩÂú®ÊúçÂä°Á´Ø‰ΩøÁî®ÔºåÂ∞Ü march_client.cert ÂØºÂÖ•Âà∞Êñ∞ÁöÑÂØÜÈí•ÂØπ march_client_for_server.jks„ÄÇ‰ΩøÁî®ÁöÑÂëΩ‰ª§ÈÉΩÂèØ‰ª•Âú®‰∏ä‰∏ÄËäÇÊâæÂà∞ÔºåÁîüÊàêËøôÂá†‰∏™ÂØÜÈí•ÔºåÊòØ‰∏∫‰∫ÜÊê≠Âª∫ÂêéÈù¢ÁöÑÊúçÂä°‰ΩúÂáÜÂ§á„ÄÇ Êõ¥Êîπ conf/server.xml ÈÖçÁΩÆ 12345678910111213141516171819202122232425&lt;!-- https ÊµãËØïÊúçÂä° clientAuth Âíå truststoreFile ÈÖçÁΩÆÊúçÂä°Âô®È™åËØÅÂÆ¢Êà∑Á´Ø keystoreFile Âíå keystorePass ÈÖçÁΩÆÂÆ¢Êà∑Á´ØÈ™åËØÅÊúçÂä°Âô® --&gt; &lt;Connector clientAuth="true" truststoreFile="/Users/march/Documents/march_client_for_server.jks" keystoreFile="/Users/march/Documents/march_server.jks" keystorePass="123456" disableUploadTimeout="true" enableLookups="true" SSLEnabled="true" acceptCount="100" maxSpareThreads="75" maxThreads="200" minSpareThreads="5" protocol="org.apache.coyote.http11.Http11NioProtocol" scheme="https" secure="true" port="8443" sslProtocol="TLS"/&gt; Ê≠§Êó∂ÊµèËßàÂô®Â∑≤Áªè‰∏çËÉΩËÆøÈóÆ Android ËøõË°å Https ËÆøÈóÆÂ¶ÇÊûú‰Ω†ÁöÑËØÅ‰π¶ÊòØË¥≠‰π∞ÁöÑ CA Á≠æÂèëÁöÑËØÅ‰π¶ÔºåÊòØÂèØ‰ª•Áõ¥Êé•ËøõË°å https ËÆøÈóÆÁöÑÔºå‰∏çÈúÄË¶ÅÂÅö‰ªÄ‰πàÁâπÊÆäÂ§ÑÁêÜÔºå‰∏ãÈù¢‰∏ªË¶Å‰ªãÁªç‰ΩøÁî®Ëá™Á≠æÂêçËØÅ‰π¶ÁöÑÊÉÖÂÜµ„ÄÇ ÂêØÁî®ÂèåÂêëÈ™åËØÅÊó∂ÔºåAndroid ÂÆ¢Êà∑Á´Ø‰πü‰∏çËÉΩÁõ¥Êé•‰ΩøÁî® march_client.jks ÈúÄË¶ÅËΩ¨‰∏∫ bks Êñá‰ª∂Ôºå‰ΩøÁî®‰∏ãÈù¢ÁöÑÂ∑•ÂÖ∑„ÄÇjks ËΩ¨ bks Â∑•ÂÖ∑ Ê≥®ÔºöËøôÈÉ®ÂàÜ‰∏çÊòØËØ¥Â¶Ç‰ΩïÂèëËØ∑Ê±ÇÔºåÂè™ÊòØËÆ®ËÆ∫ÊÄé‰πàÈÖçÁΩÆËØÅ‰π¶ÂíåÂØÜÈí•ÂØπÂéªÂèëËµ∑ Https ËÆøÈóÆ„ÄÇ Âú® Android ‰∏≠ËøõË°å Https ËÆøÈóÆÔºå‰∏ªË¶ÅÁâµÊâØÂà∞‰ª•‰∏ãÂá†‰∏™ÂÖ≥ÈîÆÁ±ªÔºö TrustManagerFactoryÔºåÂÆÉ‰∏ªË¶ÅÊòØÁî®Êù•ÂØºÂÖ•Ëá™Á≠æÂêçËØÅ‰π¶ÔºåÁî®Êù•È™åËØÅÊù•Ëá™ÊúçÂä°Âô®ÁöÑËøûÊé•„ÄÇ KeyManagerFactoryÔºåÂΩìÂºÄÂêØÂèåÂêëÈ™åËØÅÊó∂ÔºåÁî®Êù•ÂØºÂÖ•ÂÆ¢Êà∑Á´ØÁöÑÂØÜÈí•ÂØπ„ÄÇ SSLContextÔºåSSL ‰∏ä‰∏ãÊñáÔºå‰ΩøÁî®‰∏äÈù¢ÁöÑ‰∏§‰∏™Á±ªËøõË°åÂàùÂßãÂåñÔºåÂ∞±ÊòØ‰∏™‰∏ä‰∏ãÊñáÁéØÂ¢É„ÄÇ üò† ÈÉΩËÆ©ÂºÄÔºåÊàëË¶ÅË¥¥‰ª£Á†Å‰∫ÜÔºÅ SSLContext‰∏∫‰∫ÜÁÆÄÂçïËµ∑ËßÅÔºåÊàë‰ª¨ÂÖàÊù•ÁúãÁúãÂ¶Ç‰ΩïÁîüÊàê SSLContext 12345678910111213141516171819/** * ÂàõÂª∫ SSLContext * @param keyManagerFactory Áî®‰∫éÂèåÂêëÈ™åËØÅÔºå‰∏çÈúÄË¶ÅÂèØ‰ª•Áõ¥Êé•‰∏∫Á©∫ * @param trustManagerFactory Áî®‰∫éÂØºÂÖ•ËØÅ‰π¶ * @return SSLContext */private SSLContext getSSLContext(@Nullable KeyManagerFactory keyManagerFactory, TrustManagerFactory trustManagerFactory) throws NoSuchAlgorithmException, KeyManagementException &#123; if (trustManagerFactory == null) return null; SSLContext sslContext = SSLContext.getInstance("TLS"); KeyManager[] keyManagers = null; if (keyManagerFactory != null) &#123; keyManagers = keyManagerFactory.getKeyManagers(); &#125; sslContext.init(keyManagers, trustManagerFactory.getTrustManagers(), new SecureRandom()); return sslContext;&#125; TrustManagerFactoryÂØºÂÖ•ÂÆ¢Êà∑Á´ØËØÅ‰π¶ÔºåÁîüÊàê TrustManagerFactory 123456789101112131415161718192021222324252627282930/** * ÂØºÂÖ•ÂÆ¢Êà∑Á´ØËØÅ‰π¶ÔºåÁîüÊàê TrustManagerFactory * @param serverCertInputStreams ËØÅ‰π¶ÁöÑËæìÂÖ•ÊµÅ * @return TrustManagerFactory */private TrustManagerFactory getTrustManagerFactory(InputStream... serverCertInputStreams) throws KeyStoreException, CertificateException, NoSuchAlgorithmException, IOException &#123; if (serverCertInputStreams == null || serverCertInputStreams.length == 0) &#123; return null; &#125; CertificateFactory certificateFactory = CertificateFactory.getInstance("X.509"); // ‰∏∫ËØÅ‰π¶ËÆæÁΩÆ‰∏Ä‰∏™keyStoreÔºåÂπ∂Â∞ÜËØÅ‰π¶ÊîæÂÖ• keyStore ‰∏≠ KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType()); keyStore.load(null, null); int index = 0; for (InputStream inputStream : serverCertInputStreams) &#123; String alias = Integer.toString(index++); Certificate certificate = certificateFactory.generateCertificate(inputStream); keyStore.setCertificateEntry(alias, certificate); &#125; // ÂàõÂª∫ TrustManagerFactory TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm()); trustManagerFactory.init(keyStore); TrustManager[] trustManagers = trustManagerFactory.getTrustManagers(); if (trustManagers.length != 1 || !(trustManagers[0] instanceof X509TrustManager)) &#123; throw new IllegalStateException("Unexpected default trust managers:" + Arrays.toString(trustManagers)); &#125; return trustManagerFactory;&#125; KeyManagerFactoryÂèåÂêëÈ™åËØÅÊó∂ÔºåÈÖçÁΩÆÂÆ¢Êà∑Á´ØÂØÜÈí•ÂØπÔºåÁîüÊàê KeyManagerFactory 12345678910111213141516171819/** * ÂèåÂêëÈ™åËØÅÊó∂ÔºåÈÖçÁΩÆÂÆ¢Êà∑Á´ØÂØÜÈí•ÂØπÔºåÁîüÊàê KeyManagerFactory * * @param clientCertInputStream ÂØÜÈí•ÂØπËæìÂÖ•ÊµÅ * @param passWd ÂØÜÈí•ÂØπÂØÜÁ†Å * @return KeyManagerFactory */private KeyManagerFactory getKeyManagerFactory(InputStream clientCertInputStream, String passWd) throws KeyStoreException, CertificateException, NoSuchAlgorithmException, IOException, UnrecoverableKeyException &#123; if (clientCertInputStream == null || passWd == null) &#123; return null; &#125; //Êú¨Âú∞ËØÅ‰π¶ ÂàùÂßãÂåñkeystore KeyStore clientKeyStore = KeyStore.getInstance(KeyStore.getDefaultType()); clientKeyStore.load(clientCertInputStream, passWd.toCharArray()); KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm()); keyManagerFactory.init(clientKeyStore, passWd.toCharArray()); return keyManagerFactory;&#125; Init ConnectionËøôÊ†∑Êàë‰ª¨Â∞±ÊãøÂà∞‰∫ÜÂ∑≤ÁªèÁîüÊàêÂ•ΩÁöÑ SSLContextÔºåÊàë‰ª¨ÈúÄË¶ÅÁöÑ KeyManagerFactoryÔºåTrustManagerFactory ÈÉΩÂ∑≤ÁªèÂä†Âà∞ SSLContext ÈáåÈù¢‰∫Ü„ÄÇ Â¶ÇÊûúÊòØÁî® HttpsURLConnection 1connection.setSSLSocketFactory(sslContext.getSocketFactory()); Â¶ÇÊûúÊòØÁî® OkHttp 12345678910111213// Ëøô‰∏™ÊñπÊ≥ïÂ∑≤ÁªèËøáÊó∂‰∫ÜokHttpClientBuilder.sslSocketFactory(sslContext.getSocketFactory());// Êñ∞ÁöÑÊñπÊ≥ïÈúÄË¶Å‰∏Ä‰∏™ X509TrustManagerÔºåÈÇ£Êàë‰ª¨Â∞±‰ªé TrustManagerFactory ÂèñÂá∫Êù•Áªô‰ªñTrustManagerFactory trustManagerFactory = getTrustManagerFactory(serverCertInputStreams);KeyManagerFactory keyManagerFactory = getKeyManagerFactory(clientCertInputStream, passWd);if (trustManagerFactory != null) &#123; X509TrustManager x509TrustManager = (X509TrustManager) trustManagerFactory.getTrustManagers()[0]; SSLContext sslContext = getSSLContext(keyManagerFactory, trustManagerFactory); if (x509TrustManager != null &amp;&amp; sslContext != null) &#123; okHttpClientBuilder.sslSocketFactory(sslContext.getSocketFactory(), x509TrustManager); &#125;&#125; HostnameVerifierÂè¶Â§ñ HostnameVerifier ‰πüÊòØÂøÖË¶ÅÁöÑÔºåËøô‰∏™ HttpsURLConnection Âíå OkHttp Ê≤°Âï•Â∑ÆÂà´ 12345678910111213connection.setHostnameVerifier(new HostnameVerifier() &#123; @Override public boolean verify(String hostname, SSLSession session) &#123; return true; &#125;&#125;);okHttpClientBuilder.hostnameVerifier(new HostnameVerifier() &#123; @Override public boolean verify(String hostname, SSLSession session) &#123; return true; &#125;&#125;); Êé®ËçêÈòÖËØªËÖæËÆØ‰∫ë-HTTPS ÂéüÁêÜÊµÖÊûêÂèäÂÖ∂Âú® Android ‰∏≠ÁöÑ‰ΩøÁî® ÈòøÈáåÁßªÂä®ÂÆâÂÖ® CSDN Â¶Ç‰ΩïÁêÜËß£HTTPÂçèËÆÆÁöÑ ‚ÄúÊó†ËøûÊé•ÔºåÊó†Áä∂ÊÄÅ‚Äù ÁâπÁÇπÔºü Áü•‰πé ‰∏Ä‰∏™ÊïÖ‰∫ãËÆ©‰Ω†ÂΩªÂ∫ïÁêÜËß£ Https ÁÆÄ‰π¶ HTTPS ÊòØÂ¶Ç‰Ωï‰øùËØÅÂÆâÂÖ®ÁöÑÔºü ‰∏™‰∫∫ÂçöÂÆ¢-È•ø‰∫Ü‰πàAndroid-ËÅäËÅä Android HTTPS ÁöÑ‰ΩøÁî®ÂßøÂäø ‰∏™‰∫∫ÂçöÂÆ¢-ÁªÜËØ¥ CA ÂíåËØÅ‰π¶ ‰∏™‰∫∫ÂçöÂÆ¢-httpsËØ¶Ëß£ Ê¶ÇË¶Å‰ªãÁªç CSDN-hongyang-Android Https ÂÆåÂÖ®Ëß£Êûê ÈòÆ‰∏ÄÂ≥∞-SSL/TLSÂçèËÆÆËøêË°åÊú∫Âà∂ÁöÑÊ¶ÇËø∞ Ê≥®ËÑöÊ∂àÊÅØÊëòË¶ÅÔºàMessage DigestÔºâ ÊåáÁöÑÊòØÂ∞ÜÈïøÂ∫¶‰∏çÂõ∫ÂÆöÁöÑÂèÇÊï∞‰Ωú‰∏∫ËæìÂÖ•ÂèÇÊï∞ÔºåËøêË°åÁâπÂÆö hash ÂáΩÊï∞ÔºåÁîüÊàêÂõ∫ÂÆöÈïøÂ∫¶ÁöÑËæìÂá∫ÔºåËøô‰∏™ËæìÂá∫Â∞±ÊòØÊ∂àÊÅØÁöÑÊëòË¶ÅÔºåÂ∏∏Áî®ÁÆóÊ≥ïÊúâ MD5 Âíå SHA1ÔºåÊëòË¶ÅÁÆóÊ≥ïÊòØÂçïÂêë‰∏çÂèØÈÄÜÁöÑÔºåÂç≥Êó†Ê≥ï‰ªéÊëòË¶ÅÈáçÊñ∞ÂèçÂêëÂá∫ÂéüÊ∂àÊÅØÁöÑÂÜÖÂÆπ„ÄÇ ‰ø°Áî®ËÉå‰π¶ Á•®ÊçÆÁöÑÊî∂Ê¨æ‰∫∫ÊàñÊåÅÊúâ‰∫∫Âú®ËΩ¨ËÆ©Á•®ÊçÆÊó∂ÔºåÂú®Á•®ÊçÆËÉåÈù¢Á≠æÂêçÊàñ‰π¶ÂÜôÊñáÂè•ÁöÑÊâãÁª≠„ÄÇËÉå‰π¶ÁöÑ‰∫∫Â∞±‰ºöÂØπËøôÂº†ÊîØÁ•®Ë¥üÊüêÁßçÁ®ãÂ∫¶„ÄÅÁ±ª‰ººÊãÖ‰øùÁöÑÂÅøËøòË¥£‰ªª„ÄÇ ÈùûÂØπÁß∞Âä†ÂØÜÁöÑ‰∏§ÁßçÂ∫îÁî®Âú∫ÊôØ ÊüêÁî®Êà∑‰ΩøÁî®Ëá™Â∑±ÁöÑÁßÅÈí•ÂØπÊï∞ÊçÆÂä†ÂØÜÔºå‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•‰ΩøÁî®ÂÖ¨Èí•ÂØπÊï∞ÊçÆËøõË°åËß£ÂØÜÔºåÂõ†‰∏∫ÁßÅÈí•Âè™ÊúâËØ•Áî®Êà∑ÊåÅÊúâÔºåÂàôËØ¥ÊòéËØ•Êï∞ÊçÆ‰∏ÄÂÆöÂá∫Ëá™‰∫éËØ•Áî®Êà∑„ÄÇÂÖ¨‰ºóÂèØ‰ª•Áî®Ëøô‰∏ÄÊñπÊ≥ïÈ™åËØÅÂÜÖÂÆπÊòØÂê¶ÂÆåÊï¥ÔºåÊòØÂê¶Ë¢´ÁØ°ÊîπÔºåÊé•ÂèóËÄÖÂèØ‰ª•ËÆ§ÂÆöËØ•ÂÜÖÂÆπÂá∫Ëá™ËØ•Áî®Êà∑ÔºåËØ•Áî®Êà∑‰πüÊó†Ê≥ïÊäµËµñÔºåËøôË¢´Áß∞‰ΩúÊï∞Â≠óÁ≠æÂêç„ÄÇ ÊüêÁî®Êà∑‰ΩøÁî®ÂÖ¨ÂºÄÁöÑÂÖ¨Èí•ÂØπÊï∞ÊçÆËøõË°åÂä†ÂØÜÔºåÈÇ£‰πàÂèØ‰ª•‰øùËØÅÂè™ÊúâÂèëÂ∏ÉÂÖ¨Èí•ÁöÑ‰∏ÄÊñπÂèØ‰ª•ÂØπÊï∞ÊçÆËøõË°åËß£ÂØÜÔºåÂà´‰∫∫Êó†Ê≥ïËé∑ÂèñÊï∞ÊçÆÁöÑÂÜÖÂÆπÔºå‰øùËØÅÊï∞ÊçÆ‰º†ÈÄíÁöÑÂÆâÂÖ®„ÄÇ Â∫îÂØπ CA Á≠æÂèëËØÅ‰π¶ÊùÉÂ®ÅÊÄßÈóÆÈ¢òÁöÑËß£ÂÜ≥ÊñπÊ°à Google Êé®Âä®ÁöÑ Certificate Transparency ÊäÄÊúØÔºåÂÆÉÊó®Âú®ÈÄöËøáÂºÄÊîæÁöÑÂÆ°ËÆ°ÂíåÁõëÊéßÁ≥ªÁªüÔºåÊèêÈ´ò HTTPS ÁΩëÁ´ôËØÅ‰π¶ÂÆâÂÖ®ÊÄß„ÄÇCT ÊäÄÊúØËÉΩÊîπÂñÑËøôÁßçÊÉÖÂÜµÔºå‰ΩÜ CT ËøòÊ≤°ÊúâÊôÆÂèäÔºåÁé∞Èò∂ÊÆµÊµèËßàÂô®‰∏çËÉΩË¥∏ÁÑ∂ÈòªÊñ≠Ê≤°ÊúâÊèê‰æõ SCT ‰ø°ÊÅØÁöÑ HTTPS ÁΩëÁ´ô„ÄÇCT ‰ªãÁªç HTTP Public Key Pinning ÊäÄÊúØ HPKP ‰ªãÁªç Êú¨ÊñáÈ¶ñÂèë‰∫éÊàëÁöÑÂçöÂÆ¢ cdevlab.top]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>NetWork</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂõæÁâáÂ§ÑÁêÜ-1-È©¨ËµõÂÖãÂíåÊ∂ÇÈ∏¶ÊïàÊûú]]></title>
    <url>%2Farticle%2F245d7c3b%2F</url>
    <content type="text"><![CDATA[ÂõæÁâáÂ§ÑÁêÜÁ≥ªÂàó‰πãÊ∂ÇÈ∏¶ÊïàÊûú ÂÖ∂ÂÆûÈ©¨ËµõÂÖãÊïàÊûúÊòØÊàë‰ª¨ÊúÄÂ∏∏ËßÅÁöÑÊ∂ÇÈ∏¶ÊïàÊûú‰πã‰∏ÄÔºåÂèØ‰ª•Áî®Êù•Â±ÄÈÉ®ÈÅÆÊå°ÂõæÁâáÔºå‰ΩÜÊòØÊ∂ÇÈ∏¶ÊïàÊûú‰∏ç‰ªÖ‰ªÖÊòØÂè™ÊúâÈ©¨ËµõÂÖã‰∏ÄÁßçÔºåÂè¶Â§ñËøòÊúâÁ∫ØËâ≤ÊïàÊûúÔºàÁ±ª‰ººÂæÆ‰ø°ÁöÑÊ∂ÇÈ∏¶ÔºâÔºåpoly ÊïàÊûúÔºàÁ±ª‰ººÈ©¨ËµõÂÖãÔºâÔºåÈ´òÊñØÊ®°Á≥äÊïàÊûúÁ≠âÁ≠âÔºåÂÆÉ‰ª¨ÂÆûÁé∞ÁöÑÊñπÊ≥ïÁ±ª‰ººÔºåÈÉΩÊòØÂØπÂõæÁâáÁöÑÈÅÆÊå°ÔºåÊâÄ‰ª•Êú¨ÊñáÂ∞ÜËøôÁßçÊïàÊûúÁß∞‰πã‰∏∫ Ê∂ÇÈ∏¶ÊïàÊûú Ôºå Êú¨È°πÁõÆÂÆûÁé∞ÁöÑÊ∂ÇÈ∏¶ÊïàÊûúÊ®°‰ªøÁöÑÊòØÁæéÂõæÁöÑÂÆûÁé∞Ôºå‰∏ªË¶ÅÊúâ‰ª•‰∏ãÁâπÁÇπÔºö ÊîØÊåÅÁ∫ØËâ≤„ÄÅÈ©¨ËµõÂÖã„ÄÅpoly„ÄÅÈ´òÊñØÊ®°Á≥äÂíåÂõæÁâáÁ≠âÊïàÊûúÔºåÂπ∂ÂÖ∑ÊúâÊâ©Â±ïÊÄß„ÄÇ ÊâãÂäøÊîØÊåÅ path(Ë∑üÈöèÊâãÊåáÁöÑË∑ØÂæÑ) Âíå rect(Ë∑üÈöèÊâãÊåáÁöÑÁü©ÂΩ¢Âå∫Âüü) ÊîØÊåÅÁªòÂà∂ÂíåÊ©°ÁöÆÊì¶Ëá™Áî±ÂàáÊç¢ ÊîØÊåÅÂ§ö‰∏™Ê∂ÇÈ∏¶ÊïàÊûúÁ¥ØÂä† ÂÜôÂú®ÂâçÈù¢]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Weex ÂºÄÂèë [Weex]]]></title>
    <url>%2Farticle%2F41ed2d2f%2F</url>
    <content type="text"><![CDATA[ÂâçÂá†Â§©ÁúãÁü•‰πéÔºåEvan You Âè´ Weex ‰Ωú Vue-Nativeüòä Êú¨Êñá‰∏ªË¶ÅÂ≠¶‰π†Â¶Ç‰Ωï‰ΩøÁî® Weex Â∏∏Áî®ÁªÑ‰ª∂ËøõË°åÂºÄÂèëÂ∑•‰ΩúÔºåÂÜçÊ†πÊçÆÂºÄÂèëËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑÈóÆÈ¢òÔºåÂÆåÂñÑË°•ÂÖÖ„ÄÇ Tips ‰∏çÊîØÊåÅÁõ∏ÂØπÂçï‰Ωç emÔºårem Á≠âÔºåÂè™ËÉΩ‰ΩøÁî® pxÔºõ ‰∏çÊîØÊåÅ css ÁªÑÂêàÂÜôÊ≥ïÔºåÂè™ËÉΩËÆæÁΩÆ‰∏Ä‰∏™Â±ûÊÄßÂÄºÔºåÂ¶Ç border: 1 solid red; &lt;image&gt; Âú® ios Âπ≥Âè∞ border ‰∏çÊîØÊåÅËÆæÁΩÆ‰∏çÂêåÁöÑ radiusÔºõ ‰∏çÊîØÊåÅÁôæÂàÜÊØî Ê†πÂ∏ÉÂ±ÄÂøÖÈ°ªÊòØ &lt;div&gt;„ÄÅ&lt;scroller&gt; ‰∫ã‰ª∂ÊúÄÂ•ΩÂÆö‰πâÊàêÊúâÊÑè‰πâÁöÑÂΩ¢ÂºèÔºå‰∏çÁÑ∂ÊúâÊó∂‰ºöÂá∫ÈóÆÈ¢òÔºå‰æãÂ¶Ç @change=&quot;change&quot; ÁõëÂê¨ change ‰∫ã‰ª∂Ê≤°ÈóÆÈ¢òÔºå‰ΩÜÊòØ @scroll=&quot;scroll&quot; Â∞±‰ºöÂá∫Áé∞ÁõëÂê¨‰∏çÂà∞ÁöÑÈóÆÈ¢ò„ÄÇ Ê†áÁ≠æÂ±ûÊÄß‰∏ÄÂÆöË¶ÅÂÜôÊàêÊ†áÁ≠æÂ±ûÊÄßÁöÑÂΩ¢Âºè porperty=valueÔºå‰∏çËÉΩÁî® css Â±ûÊÄß‰ª£ÊõøÔºåÊúâ‰∫õÂ±ûÊÄßÂú® Android ‰∏äÈù¢ÊîØÊåÅÔºå‰ΩÜÊòØÂú® ios ÈÇ£Ëæπ‰∏çÊîØÊåÅ„ÄÇ ÂΩì‰∏çÊòØÊ†πÂÖÉÁ¥†ÁöÑ div ÂµåÂ•óÂàóË°®Êó∂ÔºåÊØîÂ¶Ç listÔºåÂàóË°®Âú® ios ‰∏äÊó†Ê≥ïÊòæÁ§∫Âá∫Êù•ÔºåË¶ÅÊòæÂºèÁöÑÊåáÂÆö div ÁöÑÈ´òÂ∫¶ÔºåÊúâÁÇπÁ±ª‰ºº‰∏§‰∏™ÂèØÊªëÂä®ÁöÑÁªÑ‰ª∂Â•óÂú®‰∏ÄËµ∑ÔºåÊó†Ê≥ïÊµãÈáèÈ´òÂ∫¶ÁöÑÊÉÖÂÜµ„ÄÇ ‰ΩøÁî® :style ÊîØÊåÅÂä®ÊÄÅËÆæÁΩÆÂ§ö‰∏™Â±ûÊÄßÊó∂ÔºåÂ¶ÇÊûúÂÄºÂ∏¶ÊúâÂçï‰ΩçÔºåÂàô‰∏ÄÂÆöË¶Å‰ΩøÁî® &#39;&#39; ÂåÖÂê´Ôºå‰∏≠Èó¥‰ª•ÈÄóÂè∑ÂàÜÈöîÔºåÂ¶Ç :style=&quot;{width:&#39;750px&#39;,color:red,height:height+&#39;px&#39;}&quot; ÁõíÊ®°Âûã Weex ÁõíÊ®°ÂûãÁöÑ box-sizing ÈªòËÆ§‰∏∫ border-boxÔºåÂç≥ÁõíÂ≠êÁöÑÂÆΩÈ´òÂåÖÂê´ÂÜÖÂÆπ„ÄÅÂÜÖËæπË∑ùÂíåËæπÊ°ÜÁöÑÂÆΩÂ∫¶Ôºå‰∏çÂåÖÂê´Â§ñËæπË∑ùÁöÑÂÆΩÂ∫¶„ÄÇ width/height - ÊåáÁöÑÊòØ content + padding + border ÈÉ®ÂàÜÁöÑÂ∞∫ÂØ∏ 1234.frame&#123; width:100px; height:100px;&#125; padding - ÂÜÖËæπË∑ùÔºåcontent Âíå border ‰πãÈó¥ÁöÑË∑ùÁ¶ª 12345.frame&#123; padding:100px; padding-top:100px; padding-xxxx:100px;&#125; margin - Â§ñËæπË∑ùÔºåÂÖÉÁ¥†‰∏éÂÖÉÁ¥†‰πãÈó¥ÁöÑË∑ùÁ¶ª 12345.frame&#123; margin:100px; margin-top:100px; margin-xxxx:100px;&#125; border - ËæπÊ°Ü 123456789101112.frame&#123; /* solid Áõ¥Á∫øÔºåÈªòËÆ§ÂÄºÔºõdashed ËôöÁ∫øÔºõdotted ÁÇπÁ∫øÔºõ*/ border-style: solid | dashed | dotted; border-xxxx-style: solid | dashed | dotted; border-color:#0f0f0f; border-xxxx-color:#0f0f0f; /* ÂÖà top/bottomÔºåÂêé left/right */ border-radius:10px; border-xxxx-yyyy-radius:10px;&#125; FlexBoxflexbox ÊòØ CSS3.0 Êñ∞ÁöÑÂ∏ÉÂ±ÄÊ®°ÂºèÔºåWeex ÂØπÂÆÉËøõË°å‰∫ÜÈÉ®ÂàÜÁöÑÊîØÊåÅ„ÄÇ flexbox ÊòØÂîØ‰∏ÄÁöÑÈªòËÆ§ÁöÑÂ∏ÉÂ±ÄÊ®°ÂºèÔºå‰∏çÈúÄË¶ÅÊåáÂÆö display: flex;ÔºåÈªòËÆ§ÊâÄÊúâÁöÑÂÆπÂô®Á±ªÂÖÉÁ¥†ÈÉΩÊòØ flex ÂÆπÂô®„ÄÇ Â∏ÉÂ±ÄÊñπÂêë 1234.frame&#123; /* row,Â∑¶Âà∞Âè≥ÊéíÂàóÔºõcolumn,‰∏äÂà∞‰∏ãÊéíÂàó*/ flex-direction: row | column;&#125; ‰∏ªËΩ¥ÊñπÂêëÂÖÉÁ¥†ÁöÑÊéíÂàó 12345678910.frame&#123; /* flex-start : ÂÖÉÁ¥†ÂÖ®ÈÉ®Èù†Â∑¶ flex-end : ÂÖÉÁ¥†ÂÖ®ÈÉ®Èù†Âè≥ center : ÂÖÉÁ¥†Â±Ö‰∏≠ space-between : ÂÖÉÁ¥†‰πãÈó¥Èó¥Ë∑ùÁõ∏ÂêåÔºåÂàÜÊï£ÊéíÂàóÔºå‰∏§Ëæπ‰∏çÁïôÁôΩ space-arround : ÂÖÉÁ¥†‰πãÈó¥Èó¥Ë∑ùÁõ∏ÂêåÔºåÂàÜÊï£ÊéíÂàóÔºå‰∏§ËæπÁïôÈó¥Ë∑ùÁöÑ‰∏ÄÂçä */ justify-content: flex-start | flex-end | center | space-between | space-arround;&#125; ‰æßËΩ¥ÊñπÂêëÂÖÉÁ¥†ÁöÑÊéíÂàó„ÄÇ 123456789.frame&#123; /* flex-start : ÂÖÉÁ¥†Èù†È°∂ÈÉ®ÂØπÈΩêÔºõ flex-end : ÂÖÉÁ¥†Èù†Â∫ïÈÉ®ÂØπÈΩêÔºõ center : Â±Ö‰∏≠ stretch : Êãâ‰º∏Âà∞ flex ÂÆπÂô®Â§ßÂ∞è */ align-items : flex-start | flex-end | center | stretch;&#125; flex ÊàêÂëòÈ°π flex Â±ûÊÄßÂÆö‰πâ‰∫Ü flex ÊàêÂëòÈ°πÂèØ‰ª•Âç†Áî®ÂÆπÂô®‰∏≠Ââ©‰ΩôÁ©∫Èó¥ÁöÑÂ§ßÂ∞è„ÄÇÂ¶ÇÊûúÊâÄÊúâÁöÑÊàêÂëòÈ°πËÆæÁΩÆÁõ∏ÂêåÁöÑÂÄº flex: 1ÔºåÂÆÉ‰ª¨Â∞ÜÂπ≥ÂùáÂàÜÈÖçÂâ©‰ΩôÁ©∫Èó¥. Â¶ÇÊûú‰∏Ä‰∏™ÊàêÂëòÈ°πËÆæÁΩÆÁöÑÂÄº‰∏∫ flex: 2ÔºåÂÖ∂ÂÆÉÁöÑÊàêÂëòÈ°πËÆæÁΩÆÁöÑÂÄº‰∏∫ flex: 1ÔºåÈÇ£‰πàËøô‰∏™ÊàêÂëòÈ°πÊâÄÂç†Áî®ÁöÑÂâ©‰ΩôÁ©∫Èó¥ÊòØÂÖ∂ÂÆÉÊàêÂëòÈ°πÁöÑ 2 ÂÄç„ÄÇ 123.frame&#123; flex:2;&#125; pseudo‰∏ªË¶ÅÊîØÊåÅ activeÔºåfocusÔºåenabledÔºådisabled„ÄÇÊâÄÊúâÁªÑ‰ª∂ÊîØÊåÅ activeÔºåÂè™Êúâ input Âíå textarea ÊîØÊåÅ focus„ÄÇ Âú®ÂÆ¢Êà∑Á´Ø‰∏≠Ôºåactive Ë°®Á§∫ÁªÑ‰ª∂Ë¢´ÊåâÂéãÊó∂ÁöÑÁä∂ÊÄÅÔºåfocus Ë°®Á§∫ÁªÑ‰ª∂Ëé∑ÂèñÂà∞ÁÑ¶ÁÇπÊó∂ÁöÑÁä∂ÊÄÅÔºåenabled Ë°®Á§∫ÂèØÁî®Êó∂ÁöÑÁä∂ÊÄÅÔºådisable Ë°®Á§∫‰∏çÂèØÁî®Êó∂ÁöÑÁä∂ÊÄÅ„ÄÇ Âú® ios ‰∏äÔºåenable Ê≤°ÊúâÊïàÊûú„ÄÇ ‰ºòÂÖàÁ∫ßÔºö 1234active &gt; focus &gt; enableactive &gt; disabled disabled ÊòØ‰∏ÄÁßçÊ∂àÊûÅÁä∂ÊÄÅÔºådisabled Âíå focus„ÄÅenable ËøôÁ±ªÁßØÊûÅÁöÑÁä∂ÊÄÅ‰∏ç‰ºöÂÜ≤Á™Å„ÄÇ div‰∏çÂèØÂµåÂ•óÂ±ÇÁ∫ßËøáÊ∑±ÔºåÊéßÂà∂Âú® 10 Â±Ç‰ª•ÂÜÖÔºåÈÅøÂÖçÊÄßËÉΩÈóÆÈ¢òÔºõ ‰∏çËÉΩÂú® div ‰∏≠Áõ¥Êé•ÂÜôÊñáÂ≠óÔºåÈúÄË¶Å‰ΩøÁî® &lt;text&gt; ÁªÑ‰ª∂Ôºõ Âç≥‰ΩøÈ´òÂ∫¶Ë∂ÖÂá∫ËåÉÂõ¥ div ‰πü‰∏çËÉΩÊªëÂä®Ôºõ web‰∏çÊîØÊåÅ click Âíå longpress ‰∫ã‰ª∂ Ê†áÁ≠æÂ±ûÊÄß 12// Âä†ËΩΩÁöÑÂú∞ÂùÄsrc = "https://m.alibaba.com" ‰∫ã‰ª∂Ôºåevent ÈáåÈù¢ÂÜÖÂÆπÂæàÂ§ö 12345678// È°µÈù¢ÂºÄÂßãÂä†ËΩΩ@pagestart// È°µÈù¢Âä†ËΩΩÂÆåÊàê@pagefinish// Âä†ËΩΩÂá∫Áé∞ÈîôËØØ@error videoÂÜÖÈÉ®Âè™ËÉΩÂåÖÂê´ &lt;text&gt; Ê†áÁ≠æ Ê†áÁ≠æÂ±ûÊÄß 12345678// Êí≠ÊîæÂú∞ÂùÄsrc="url"// Êí≠ÊîæÁä∂ÊÄÅÔºåÊéßÂà∂Ëøô‰∏™ÂÄºÂèØ‰ª•ÊéßÂà∂Êí≠ÊîæÂíåÊöÇÂÅúplay-status="play|pause"// Âä†ËΩΩÂÆåÊàêÂêéËá™Âä®Êí≠Êîæauto-play = true ‰∫ã‰ª∂ 1234567891011// ÊØèÊ¨°ÂºÄÂßãÊí≠ÊîæÔºåËá™Âä®Êí≠ÊîæÊàñËÄÖÊöÇÂÅúÂêéÊí≠ÊîæÈÉΩ‰ºöËß¶Âèë@start// ÊöÇÂÅúÊó∂Ëß¶Âèë@pause// Êí≠ÊîæÂÆåÊàêÊó∂Ëß¶Âèë@finish// Êí≠ÊîæÂ§±Ë¥•Êó∂Ëß¶Âèë@fail switchÊ†áÁ≠æÂ±ûÊÄß 12checked = true // ÊòØÂê¶ÈÄâ‰∏≠disabled = false // ÊòØÂê¶‰∏çÂèØÁî® ÊñáÊ°£‰∏≠ÊèêÂà∞Ôºå‰∏ãÈù¢ÁöÑÊ†∑Âºè‰∏çËÉΩ‰ΩøÁî®ÔºåÊµãËØïÂèëÁé∞ÔºåwidthÔºèheight„ÄÅmargin„ÄÅborder Ëøô‰∫õÂ±ûÊÄßÈÉΩÊòØÂèØ‰ª•‰ΩøÁî®ÁöÑÔºå‰∏çËøáÁ°ÆÂÆûÊúâÈÉ®ÂàÜÂ±ûÊÄßÂú® ios ‰∏äÈù¢Ê≤°ÊúâÊïàÊûú„ÄÇ 1234567widthheightmin-widthmin-heightmarginpaddingborder ‰∫ã‰ª∂ 123456// Áä∂ÊÄÅÂàáÊç¢Êó∂Ëß¶Âèë@changeevent =&gt; value &#123;boolean&#125; : ÈÄâ‰∏≠Âê¶ timestamp : Êó∂Èó¥Êà≥ AÂÆÉÊòØ‰∏Ä‰∏™ÂÆπÂô®Á±ªÁöÑÊ†áÁ≠æÔºåÁúã Android ËøôËæπÁöÑÊ∫êÁ†ÅÔºåÊòØÁªßÊâøËá™ div Ê†áÁ≠æÔºåa Âíå html ÈáåÈù¢ÁöÑ a Ê†áÁ≠æÂ∑Æ‰∏çÂ§öÔºå‰ΩÜÊòØ‰∏çËÉΩÂåÖÂê´ÊñáÊú¨ÔºåÂ¶ÇÊûúË¶ÅÊúâÊñáÊú¨ÈúÄË¶Å‰ΩøÁî® &lt;text&gt; Ê†áÁ≠æ„ÄÇ ÁÇπÂáª‰πãÂêé‰ºöË∞ÉÁî®‰∏Ä‰∏™Âêç‰∏∫ event ÁöÑ module ÁöÑ openURL ÊñπÊ≥ïÔºåËøô‰∏™ module ÈúÄË¶ÅÊàë‰ª¨Êù•Ê≥®ÂÖ•Âà∞ sdk ‰∏≠ÔºåÂèÇÊï∞Â∞±ÊòØ href„ÄÇ 123&lt;a class="button" href="http://g.tbcdn.cn/ali-wireless-h5/res/0.0.16/hello.js"&gt; &lt;text class="text"&gt;Jump&lt;/text&gt;&lt;/a&gt; image„Äåimage„ÄçÊ†áÁ≠æÁî®Êù•ÊòæÁ§∫ÂõæÁâáÔºåÂøÖÈ°ªÊåáÂÆö width Âíå heightÔºåÂê¶ÂàôÊó†Ê≥ïÊòæÁ§∫Ôºå‰∏çËÉΩÂåÖÂê´Â≠êÁªÑ‰ª∂Ôºå Ê†áÁ≠æÂ±ûÊÄß 1234567891011// ÊòæÁ§∫ÁöÑÂõæÁâáÂú∞ÂùÄsrc = "http://www.abc.com/xxx.jpg" // ÂõæÁâá‰∏ãËΩΩÊó∂ÁöÑÈªòËÆ§ÂõæÔºåÊ≤°ÊúâÊâæÂà∞ÊñπÊ≥ïÊµãËØï placeholder = ".."// ÊòæÁ§∫Ê®°Âºè// stretch ÊòØÈªòËÆ§ÂÄºÔºåÊãâ‰º∏ÂõæÁâáÂ°´ÂÖÖÔºåfitXY// cover Â∞Ü‰ºöÊîæÂ§ßÂõæÁâáÁÑ∂ÂêéË£ÅÂâ™ÔºåcenterCrop// contain ÈïøËæπÂ°´ÂÖÖÊª°ÔºåÁü≠ËæπÊåâÊØî‰æãÔºå‰øùËØÅÂõæÁâáÊØî‰æã‰∏çË¢´Á†¥ÂùèÔºåfitCenterresize = stretch | cover | contain ‰∫ã‰ª∂ 1234567// ÂõæÁâáÂä†ËΩΩÊàêÂäüÁõëÂê¨@load = "loadImageOver"result =&gt; success &#123;boolean&#125;: ÊòØÂê¶Âä†ËΩΩÊàêÂäü size =&gt; ÂõæÁâáÂéüÂßãÂÆΩÈ´ò naturalWidth &#123;number&#125; naturalHeight &#123;number&#125; ÊñπÊ≥ï 12345678910// Â∞ÜÂõæÁâá‰øùÂ≠òÂà∞Êú¨Âú∞save(callback(result))result =&gt; success &#123;boolean&#125;: ÊòØÂê¶‰øùÂ≠òÊàêÂäü errorDesc &#123;string&#125;: ÈîôËØØ‰ø°ÊÅØÔºåsuccess‰∏∫falseÊó∂ËøîÂõûeg:var el = this.$refs.image_ref;el.save(result =&gt; this.logt("save image " + result.success)); text + input + textareaÊñáÊú¨Ê†∑ÂºèÊ±áÊÄª 1234567891011.mytext &#123; lines: 2; /* ÊñáÊú¨Ë°åÊï∞ÔºåÈªòËÆ§0‰∏çÈôêÂà∂ */ color: red; /* ÊñáÊú¨È¢úËâ≤*/ font-size: 40px; /* ÊñáÂ≠óÂ§ßÂ∞è ios,h5ÈªòËÆ§32,androidÂàÜËÆæÂ§á‰∏çÂêå*/ font-style: italic; /* normalÊ≠£Â∏∏ÔºåitalicÊñú‰Ωì */ font-weight: bold; /* ÂÄºÂøÖÈ°ª‰∏∫Êï¥ÁôæÁöÑÊï∞Â≠ó,normal(400)bold(700),iosÊîØÊåÅ100-900,androidÊîØÊåÅnormalÂíåboldÔºå‰πüÂ∞±ÊòØ400Ôºå700ÔºålighterÂíåbolder‰∏çÊîØÊåÅ */ text-decoration: underline; /* underline(‰∏ãÂàíÁ∫ø) line-through(Ê®™ÂàíÁ∫ø) none(Êó†ÔºåÈªòËÆ§) */ text-align: center; /* left center right ÈªòËÆ§ÂÄº‰∏∫ leftÔºåÁõÆÂâçÊöÇ‰∏çÊîØÊåÅ justify, justify-all */ text-overflow: ellipsis; /* ÊñáÂ≠óË∂ÖÂá∫ÂêéÊà™Êñ≠Ê†∑ÂºèÔºåclip Áõ¥Êé•Êà™Êñ≠Ôºåellipsis ÊòæÁ§∫ÁúÅÁï•Âè∑ */ font-family: "iconfont2";&#125; „Äåtext-decoration„ÄçÔºåÂ∑≤ÁªèÊîØÊåÅÂâçÂêéÂ∏¶ÊúâÁ©∫Ê†ºÊòæÁ§∫ÔºåÂΩìÂ∏¶ÊúâÁ©∫Ê†ºÊó∂ÔºåÂ¶ÇÊûúÂä†‰∫Ü decorationÔºåÂú® android ‰∏äÈù¢Á©∫Ê†ºÁöÑÂú∞Êñπ‰πü‰ºöÊúâË£ÖÈ•∞Ôºåios Âè™‰ºöÂú®ÊñáÂ≠óÁöÑÂú∞ÊñπÊúâ„ÄÇ „Äåfont-family„ÄçÔºåÂú®ÁîüÂëΩÂë®ÊúüÊñπÊ≥ï beforeCreate ‰∏∫È°µÈù¢Âä†ËΩΩ‰∏ÄÂ•óÂ≠ó‰Ωì 12345678beforeCreate() &#123; var domModule = weex.requireModule("dom"); // ÁõÆÂâçÊîØÊåÅttf„ÄÅwoffÊñá‰ª∂Ôºå‰∏çÊîØÊåÅsvg„ÄÅeotÁ±ªÂûã,moreItem at http://www.iconfont.cn/ domModule.addRule("fontFace", &#123; fontFamily: "iconfont2", src: "url('http://at.alicdn.com/t/font_1469606063_76593.ttf')" &#125;);&#125; textÁªÑ‰ª∂ text ÂÖ∑Êúâ value Â±ûÊÄßÔºåÁî®Êù•Ë°®Á§∫ÊòæÁ§∫ÁöÑÂÄºÔºåÂΩì value ÂíåÂÜÖÂÆπÈÉΩÊåáÂÆöÊó∂ÔºåÂ∞Ü‰ºöÊòæÁ§∫ÂÜÖÂÆπÁöÑÂÄº„ÄÇ 1&lt;text class='mytext' value="test1"&gt; test2 &lt;/text&gt; inputÁªÑ‰ª∂ input Ê†áÁ≠æÂ±ûÊÄßÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂ¶ÇÊûúÊ†áÁ≠æ‰∏≠Èó¥ÂÜô‰∫ÜÊñáÊ°àÔºå‰ºöÊòæÁ§∫Âú®ÁªÑ‰ª∂‰∏ãÊñπ„ÄÇ 12345678910111213141516maxlength = 10 // ÂèØ‰ª•ËæìÂÖ•ÁöÑÊúÄÈïøÈïøÂ∫¶return-key-type = 'done' // default,done,search,send,go,next ÂõûËΩ¶ÈîÆÁöÑÊ†∑Âºèdisabled = false // ÊòØÂê¶ÂèØ‰ª•ËæìÂÖ•ÔºåÈªòËÆ§false,‰∏∫trueÊó∂‰∏çÂèØ‰ª•ËæìÂÖ•autofocus = true // Ëá™Âä®Ëé∑ÂæóÁÑ¶ÁÇπÔºåÂºπÂá∫ÈîÆÁõòplaceholder = 'ËØ∑ËæìÂÖ•' // ËæìÂÖ•ÊèêÁ§∫ÊñáÊ°àtype = "number" // ËæìÂÖ•Á±ªÂûãÔºåtext,password,url,email,tel,number Á∫¶Êùü‰∏çÊòØÂº∫Á∫¶ÊùüÔºåÁî®Êà∑‰∏ÄÊ†∑ÂèØ‰ª•ÂàáÊç¢ÈîÆÁõòÊ†∑Âºè„ÄÇvalue = "ÈªòËÆ§ÊñáÊ°à" // ÈªòËÆ§Â°´ÂÖÖÁöÑÊñáÂ≠ó&lt;input class='myinput' maxlength=10 return-key-type='done' disabled=false autofocus=true placeholder='hint' type="number" value="11"&gt; ËøôÈáåÁöÑÊñáÊ°à‰ºöÊòæÁ§∫Âú®ÁªÑ‰ª∂‰∏ãÈù¢ &lt;/input&gt; ‰º™Á±ª 123456789101112.myinput:active &#123; color: purple; /* pressÊó∂ÁöÑÁä∂ÊÄÅÔºå*/&#125;.myinput:focus &#123; color: green; /* Ëé∑ÂæóÁÑ¶ÁÇπÁöÑÁä∂ÊÄÅ*/&#125;.myinput:enabled &#123; color: orange; /* ÂèØÁî®Êó∂ÁöÑÁä∂ÊÄÅÔºåios Êó†ÊïàÊûú*/&#125;.myinput:disabled &#123; color: sienna; /* ‰∏çÂèØÁî®Êó∂ÁöÑÁä∂ÊÄÅ*/&#125; ÊîØÊåÅÁöÑ css Â±ûÊÄß 123456ÂêåÊ†∑ÊîØÊåÅ color,font-size,fone-weight,font-style,text-align Â±ûÊÄß.myinput &#123; /*ÊèêÁ§∫ÊñáÊ°àÁöÑÈ¢úËâ≤*/ placeholder-color: blue;&#125; ‰∫ã‰ª∂ 1234567891011121314151617181920212223242526@input ËæìÂÖ•ÁõëÂê¨ÔºåÊØèÊ¨°ËæìÂÖ•ÂÜÖÂÆπÂèòÂåñÔºå‰ºöË∞Éevent =&gt; value &#123;string&#125; : ÊñáÊú¨ÂÜÖÂÆπ timestamp : Êó∂Èó¥Êà≥@focus Ëé∑ÂæóÁÑ¶ÁÇπÁõëÂê¨event =&gt; timestamp : Êó∂Èó¥Êà≥ @blur Â§±ÂéªÁÑ¶ÁÇπÁõëÂê¨event =&gt; timestamp : Êó∂Èó¥Êà≥ @change ËæìÂÖ•ÂÆåÊàê‰∏îÂÜÖÂÆπÂèëÁîüÊîπÂèòÁõëÂê¨ÔºåÂèëÁîüÂú® blur ‰πãÂêéevent =&gt; value &#123;string&#125; : ÊñáÊú¨ÂÜÖÂÆπ timestamp : Êó∂Èó¥Êà≥@return ÈîÆÁõòÂõûËΩ¶ÈîÆÁõëÂê¨event=&gt; returnKeyType &#123;string&#125; : ËÆæÁΩÆÁöÑreturn-key-type value &#123;string&#125; : ÊñáÊú¨ÂÜÖÂÆπ ÊñπÊ≥ïÔºå‰∏∫ input ÁªÑ‰ª∂ËÆæÁΩÆ ref=&quot;input_ref&quot; 1234567891011121314151617181920212223242526var el = this.$refs["input_ref"];‰Ωø input Ëé∑ÂèñÁÑ¶ÁÇπÔºåÂºπÂá∫ÈîÆÁõòfocus() eg:el.focus();‰Ωø input Â§±ÂéªÁÑ¶ÁÇπÔºåÈöêËóèÈîÆÁõòblur() eg:el.blur();ËÆæÁΩÆÈÄâ‰∏≠Âå∫ÂüüsetSelectionRange(start,end)eg:el.setSelectionRange(0,el.attr.value.length);Ëé∑ÂèñÈÄâ‰∏≠Âå∫ÂüüÔºå ios ‰∏çÊîØÊåÅgetSelectionRange(event&#123;selectionStart,selectionEnd&#125;)eg:el.getSelectionRange(event =&gt; &#123; this.logt(event.selectionStart + " | " + event.selectionEnd);&#125;); textareaÂ§öË°åÊñáÊú¨ËæìÂÖ• textarea Âíå input Âü∫Êú¨Á±ª‰ººÔºå ‰ªñ‰ª¨‰ø©ÁöÑÂ∑ÆÂà´Ôºö ‰∫ã‰ª∂‰∏äÔºåtextarea ‰∏çÊîØÊåÅ @return ‰∫ã‰ª∂ ÊñπÊ≥ï‰∏äÔºå ÂùáÊîØÊåÅ Ê†áÁ≠æÂ±ûÊÄß‰∏äÔºåÂ¢ûÂä†‰∫Ü rows Â±ûÊÄßÔºå‰∏çÊîØÊåÅ return-key-typeÔºåmax-lengthÔºåtypeÔºåÊîØÊåÅÁöÑÂ±ûÊÄßÊ±áÊÄªÂ¶Ç‰∏ãÔºö 12345rows = 3 // ÊåáÂÆöÁªÑ‰ª∂ÁöÑÈ´òÂ∫¶ÔºåÈªòËÆ§2disabled = false // ÊòØÂê¶ÂèØ‰ª•ËæìÂÖ•ÔºåÈªòËÆ§false,‰∏∫trueÊó∂‰∏çÂèØ‰ª•ËæìÂÖ•autofocus = true // Ëá™Âä®Ëé∑ÂæóÁÑ¶ÁÇπÔºåÂºπÂá∫ÈîÆÁõòplaceholder = 'ËØ∑ËæìÂÖ•' // ËæìÂÖ•ÊèêÁ§∫ÊñáÊ°àvalue = "ÈªòËÆ§ÊñáÊ°à" // ÈªòËÆ§Â°´ÂÖÖÁöÑÊñáÂ≠ó slider + indicatorslider ÈªòËÆ§È´òÂ∫¶‰ºöÂç†Êª°Â±èÂπïÔºåÊâÄ‰ª•ÂøÖÈ°ª‰∏∫ slider ÊåáÂÆö‰∏Ä‰∏™È´òÂ∫¶ÔºåËÄå indicator ‰πü‰ºöÁªßÊâøËøô‰∏™È´òÂ∫¶„ÄÇ 123456&lt;slider class="slider" interval=3000 auto-play=true infinite=true @change="changePage" @scroll="scrollSlider "&gt; &lt;div v-for="(img,index) in imagelist"&gt; &lt;image class='image' :src="img"&gt;&lt;/image&gt; &lt;/div&gt; &lt;indicator class="indicator"&gt;&lt;/indicator&gt;&lt;/slider&gt; slider Ê†áÁ≠æÂ±ûÊÄß 1234interval = 3000; // Êí≠ÊîæÊó∂Èó¥Èó¥Èöî auto-play = true; // Ëá™Âä®Êí≠Êîæinfinite = true; // Êó†ÈôêÂæ™ÁéØoffset-x-accuracy = 20px; // ÊéßÂà∂onscroll‰∫ã‰ª∂Ëß¶ÂèëÁöÑÈ¢ëÁéáÔºåÈªòËÆ§ÂÄº‰∏∫10,Ë∂äÂ∞èÁöÑËØù onscroll Ëß¶ÂèëË∂äÈ¢ëÁπÅÔºåÂèØËÉΩÈôç‰ΩéÊÄßËÉΩ slider css Â±ûÊÄß 1234.slider&#123; height:400px; /* È´òÂ∫¶ÔºåÈúÄË¶ÅÊåáÂÆö */ scrollable:false; /* ÂèØ‰∏çÂèØ‰ª•ÊâãÂäøÊªëÂä® */&#125; indicator Â∏∏Áî®Â±ûÊÄß 123456789.indicator&#123; width:750px; height:400px; position:absolute; top:150px; /* ÁªùÂØπÂÆö‰ΩçË∑ùÁ¶ªÈ°∂ÈÉ®ÁöÑË∑ùÁ¶ª */ item-color:#eeeeee; /* Ê≤°ÊúâÈÄâ‰∏≠ÁöÑÈ¢úËâ≤ */ item-selected-color:#ff0000; /* ÈÄâ‰∏≠ÁöÑÈ¢úËâ≤ */ item-size:20; /* ÊåáÁ§∫Ê†áËÆ∞Â§ßÂ∞è */&#125; ‰∫ã‰ª∂ 123456789// change ‰∫ã‰ª∂ÔºåÂΩìÈ°µÈù¢ÊªëÂä®Âà∞‰∏ã‰∏ÄÈ°µÊó∂Ëß¶Âèë@change = 'changePage'event =&gt; index &#123;number&#125; ÊªëÂä®Âà∞ÁöÑÁ¥¢Âºï// scroll ‰∫ã‰ª∂ÔºåÊØè‰∏ÄÈ°µÁöÑÁßªÂä®ÈÉΩ‰ºöËß¶ÂèëÔºåËß¶ÂèëÈ¢ëÁéáÂèñÂÜ≥‰∫é offset-x-accuracy@scroll ÊªëÂä®ÁõëÂê¨event =&gt; offsetXRatio &#123;number&#125; ÂÅèÁßªÈáèÔºå[-1,1]ÔºåË¥üÂÄºË°®Á§∫ÂêëÂ∑¶ÊªöÂä®ÔºåË°®Á§∫ÂΩìÂâçÊúâÊØè‰∏ÄÈ°µÁöÑ offsetXRatio ÊªöÂä®Âà∞‰∫ÜÈ°µÈù¢Â§ñ scrollerÂØπÂÆ¢Êà∑Á´ØÊù•ËØ¥ÊòØ‰∏çÂèØÂ§çÁî®ÂÖÉÁ¥†ÁöÑÂàóË°® ÊªëÂä®ÊñπÂêë - ÂèØ‰ª•ÂûÇÁõ¥ÊàñËÄÖÊ∞¥Âπ≥ÊªëÂä®Ôºåflex Âíå scroll ÁöÑÊñπÂêëÂøÖÈ°ª‰∏ÄËá¥„ÄÇ 1234567891011‰∏§ËÄÖÊñπÂêëÂøÖÈ°ª‰∏ÄËá¥flex-direction ÈªòËÆ§ÂÄº row scroll-direction ÈªòËÆ§ÂÄº verticalÂ¶ÇÊûúÊòØÂûÇÁõ¥ÊªëÂä®Ôºåflex-direction:column;scroll-direction = verticalÂ¶ÇÊûúÊ∞¥Âπ≥ÊªëÂä®flex-direction:row;scroll-direction = horizontal ÂÆûÁé∞‰∏Ä‰∏™ tab ÂØºËà™ 1234567&lt;scroller class="scroller" scroll-direction=horizontal @scroll='scrollerScroll'&gt; &lt;div class="tab-group" v-for="(item,index) in tablist" @click="changeTab(index)" :ref="'tab'+index"&gt; &lt;text class="tab-item"&gt; &#123;&#123;item&#125;&#125; &lt;/text&gt; &lt;text&gt; Êä¢Ë¥≠‰∏≠ &lt;/text&gt; &lt;div class="tab-line" v-if="index == current_tab"&gt; &lt;/div&gt; &lt;/div&gt;&lt;/scroller&gt; Â∏∏Áî®Ê†áÁ≠æÂ±ûÊÄßÔºåÂêåÊ†∑ÊîØÊåÅ‰∏Ä‰∫õÂàóË°®Áªü‰∏ÄÁöÑÊ†áÁ≠æÂ±ûÊÄß ÂàóË°®Ê†áÁ≠æÂ±ûÊÄß 12// ÊªëÂä®ÊñπÂêëÔºåÈªòËÆ§ verticalscroll-direction = vertical|horizontal ÊîØÊåÅ loadmore ‰∫ã‰ª∂ÔºåËßÅ ÂàóË°® loadmore ÊîØÊåÅ scroll ‰∫ã‰ª∂ÔºåËßÅ ÂàóË°® scroll ÊîØÊåÅ resetLoadmoreÔºåËßÅ ÂàóË°® resetLoadmore ÊîØÊåÅ scrollToElementÔºåËßÅ ÂàóË°® scrollToElement list + waterfall + cell + headerÊää‰ªñ‰ª¨ÊîæÂú®‰∏ÄËµ∑ÊòØÂõ†‰∏∫‰ªñ‰ª¨‰∏ÄËµ∑ÂÆåÊàê‰∫Ü‰∏Ä‰∏™ÂàóË°®ÁöÑÊòæÁ§∫ÔºåÂÖ∂ÂÆû waterfall Âíå list ÊòØ‰∏ÄÊ†∑ÁöÑÔºå Á±ª‰ºº Android ‰∏äÈù¢ÂΩìÂπ¥ÁöÑ ListView Âíå GridViewÔºåÂΩìÁÑ∂Áé∞Âú®ÈÉΩÂ∑≤ÁªèË¢´ RecyclerView ‰ª£Êõø‰∫ÜÔºå‰ªñ‰ª¨Ë°®Áé∞ÁöÑÈÉΩÊòØ‰∏Ä‰∏™ ÂûÇÁõ¥ÂàóË°®ÔºåËÄå waterfall ÊîØÊåÅÂ§öÂàóÁöÑÊòæÁ§∫Ôºå ‰ΩøÁî® cell ÁîüÊàêÂàóË°®ÁöÑÊØè‰∏ÄÈ°πÔºåheader ÂÖ∂ÂÆûÊòØ cell ÁöÑÂ≠êÁ±ªÔºåÂÆÉÂèØ‰ª•Âú®ÊªëÂä®Âá∫Â±èÂπïÊó∂ÔºåÂõ∫ÂÆöÂú®Â±èÂπïÈ°∂Á´ØÔºåÂÆûÁé∞ÊÇ¨ÊåÇÁöÑÊïàÊûú„ÄÇ ÂàóË°®‰∏≠Âè™ÊîØÊåÅ cell „ÄÅheader„ÄÅrefresh„ÄÅloading Âíå ‰ΩøÁî® fix ÂÆö‰ΩçÁöÑÁªÑ‰ª∂ÔºåÂÖ∂‰ªñÁªÑ‰ª∂‰∏çËÉΩÊ≠£Á°ÆÊ∏≤Êüì„ÄÇ ÂÆûÁé∞‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂàóË°®ÊòæÁ§∫ÔºåÈúÄË¶ÅÊ†ºÂ§ñÊ≥®ÊÑèÁöÑÊòØÔºåv-for ÁöÑËØ≠Âè•Ë¶ÅÂÜôÂú® cell ‰∏äÈù¢ÔºåËøôÊ†∑ÊâçËÉΩ‰øùËØÅÁîüÊàêÂ§ö‰∏™ cellÔºåÂºÄÂßãÁöÑÊó∂ÂÄôÊàëÂÜôÂú®‰∫Ü div ‰∏äÈù¢ÔºåÂÖ∂ÂÆûÊòØÂú®‰∏Ä‰∏™ cell ÈáåÈù¢ÁîüÊàê‰∫ÜÂ§ö‰∏™ divÔºåËøôÊ†∑Â∞±Êó†Ê≥ïÂÆûÁé∞ÂõûÊî∂ÂíåÂ§çÁî®„ÄÇ 1234567&lt;list style="height:500px;" @loadmore="loadmorelist"&gt; &lt;cell v-for="(item,index) in product_list"&gt; &lt;div class="product-group" @click="clickProduct(item,index)"&gt; &lt;text class="origin-price"&gt; ¬• &#123;&#123;item.origin_price&#125;&#125;&lt;/text&gt; &lt;/div&gt; &lt;/cell&gt;&lt;/list&gt; headerËøô‰∏™ header Áî®Ëµ∑Êù•ÂùëÊØîËæÉÂ§öÔºåÊ±áÊÄª‰∏Ä‰∏ãÔºö Âú® list ÈáåÈù¢Áî® headerÔºåÈªòËÆ§ÊòØ‰∏ÄÊ†∑ÊÇ¨ÊåÇÊïàÊûúÔºåÂ∞±ÊòØÂΩì header Âêë‰∏äÂ∞ÜË¶ÅË¢´ÊªëÂá∫Â±èÂπïÊó∂‰ºöÂõ∫ÂÆöÂú®Â±èÂπïÈ°∂Á´ØÔºå‰ΩÜÊòØÂêë‰∏ãÊªëÂá∫Êó∂‰∏ç‰ºöÂõ∫ÂÆöÂú®Â∫ïÁ´Ø„ÄÇ list ÈáåÈù¢ header ‰∏äÈù¢ÁöÑ cell ‰∏çËÉΩÂÖ®ÈÉ®‰ΩøÁî® v-for ÁîüÊàêÔºåÂ¶ÇÊûúÊòØÁöÑËØùÔºåÂØπ header Ê≤°ÊúâÊå§ÂéãÊïàÊûúÔºåheader ‰ºö‰∏ÄÁõ¥Âú®È°∂ÈÉ®ÔºåÂ∞±Â•ΩÂÉè v-for ÁîüÊàêÁöÑÈÇ£‰∫õ cell Ê≤°ÊúâÂéãÂú® header ‰∏äÈù¢Ôºå‰ΩÜÊòØ‰∏ÄÊó¶Êúâ‰∏Ä‰∏™‰∏çÊòØ v-for ÁîüÊàêÁöÑÔºåÂ∞±Â•Ω‰∫ÜÔºåËøôÂ∫îËØ•ÊòØ‰∏™bug; waterfall ÈáåÈù¢‰ΩøÁî® header Êó∂ÔºåÈªòËÆ§ÊòØÊ≤°ÊúâÊÇ¨ÊåÇÊïàÊûúÁöÑÔºå‰ºöÂÉèÊôÆÈÄöÁöÑ cell ‰∏ÄÊ†∑Ë∑üÁùÄÊï¥‰∏™ÂàóË°®‰∏ÄËµ∑Ëµ∞ÔºåËøôÊ†∑ÂèØ‰ª•ÂÆûÁé∞ÂçïÂàóÂíåÂ§öÂàóÂπ∂Â≠òÁöÑÊïàÊûú„ÄÇ Â¶ÇÊûúÂ∏åÊúõ waterfall ÈáåÈù¢ÊúâÊÇ¨ÊåÇÊïàÊûúÔºåË¶ÅÂØπ header ËÆæÁΩÆ position:sticky;Ôºå‰ΩøÁî®Ëøô‰∏™Â±ûÊÄßÔºå‰ªñ‰∏ç‰ºöÊªëÂá∫Â±èÂπïÔºå‰∏çÁÆ°‰∏äÈù¢ËøòÊòØ‰∏ãÈù¢ÈÉΩ‰ºöÊåÇ‰Ωè„ÄÇ Âú® list ‰∏≠‰ΩøÁî® sticky Ê≤°‰ªÄ‰πàÊïàÊûúÔºåÂú® waterfall ‰∏≠‰∏ÄÊñπÈù¢ÂèØ‰ª•‰ΩøÁî® sticky ÂØπ header ÂÅöÊÇ¨ÊåÇÊïàÊûúÔºåÂè¶‰∏ÄÊñπÈù¢ cell Â¶ÇÊûúËÆæÁΩÆ‰∫Ü sticky ‰ºöÂèòÊàêË∑®Ë∂äÊ≠£Ë°åÔºåÁ±ª‰ºº header ‰ΩøÁî® header Ê†áÁ≠æÂÆûÁé∞ÊÇ¨ÊåÇÊïàÊûú &lt;header/&gt; Ê†áÁ≠æÊòØ list ÂèØ‰ª•Ê∏≤ÊüìÁöÑÊ†áÁ≠æ‰πã‰∏ÄÔºåÂΩì header Âà∞ËææÈ°∂ÈÉ®Êó∂Ôºå‰ºöÂê∏ÈôÑÂú®Â±èÂπïÈ°∂ÈÉ®Ôºå&lt;header/&gt; ‰∏ç‰∏ÄÂÆöË¶ÅÂú®È°∂ÈÉ®ÔºåÂèØ‰ª•Âú®ÂàóË°®ÁöÑ‰ªª‰Ωï‰ΩçÁΩÆÔºåÂΩìËøô‰∏ÄÈ°πÔºåË¢´ÊªëÂä®Âà∞È°∂Á´ØÊó∂Ôºå‰ºöÂê∏ÈôÑÂú®È°∂ÈÉ®Ôºå‰∏ç‰ºöÂàíÂá∫Â±èÂπï„ÄÇ psÔºöÂêåÊ†∑ÁöÑÊïàÊûúÔºåÂ¶ÇÊûúÂú® cell ‰∏äÈù¢‰ΩøÁî® position:fixed; Âú® Android ÂèØ‰ª•Ê≠£Á°ÆÊòæÁ§∫Ôºå‰ΩÜÊòØÂú® ios Ê≤°Êúâ‰ªª‰ΩïÊïàÊûú ‰ΩøÁî®ÊñπÊ≥ïÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂ∞ÜÊüê‰∏ÄÈ°π‰ΩøÁî® &lt;header&gt; ÂåÖÂê´Âç≥ÂèØ„ÄÇ 123456&lt;list&gt; &lt;cell&gt;&lt;/cell&gt; &lt;cell&gt;&lt;/cell&gt; &lt;header&gt;&lt;/header&gt; &lt;cell&gt;&lt;/cell&gt;&lt;/list&gt; waterfallüëÆÂ¶ÇÊûúÊòØ‰∏Ä‰∏™ list Â•óÂú® div ÈáåÈù¢ÊòæÁ§∫Ê≤°ÈóÆÈ¢òÔºå‰ΩÜÊòØÂ¶ÇÊûúÊòØ waterfall Â∞±‰∏çË°åÔºåÁúãÂà∞ÊúâÊä•ÈîôËØ¥Êó†Ê≥ïËß£Êûê autoÔºåÂΩìÁÑ∂ËÆæÁΩÆÊàêÂõ∫ÂÆöÂÄº‰πü‰∏çË°åÔºåËß£ÂÜ≥ÊñπÊ°àÊòØÁªô waterfall ‰∏Ä‰∏™Âõ∫ÂÆöÁöÑÂÆΩÂ∫¶ÔºåËÆ©‰ªñÂèØ‰ª•ËÆ°ÁÆóÔºåÂ∞±Ê≤°ÈóÆÈ¢ò‰∫Ü„ÄÇ ÁÄëÂ∏ÉÊµÅ waterfall ÊîØÊåÅÂ§öÂàóÊòæÁ§∫ÔºåÂõ†Ê≠§Áõ∏ÊØî list Â§ö‰∫Ü‰∏Ä‰∫õÂ±ûÊÄßÔºå‰ΩÜÊòØ list ÁöÑÂ±ûÊÄßÂíå‰∫ã‰ª∂‰ªñ‰πüÊòØÊîØÊåÅÁöÑ„ÄÇ „Äåwaterfall„Äç ÁâπÊúâÂ±ûÊÄßÔºåcolumn-width Âíå column-count ‰∏çËÉΩÂêåÊó∂ÊåáÂÆö‰∏∫ auto Êó†Ê≥ïËÆ°ÁÆóÂ∞ÜÊó†Ê≥ïÊòæÁ§∫„ÄÇ 12345678ÂΩìÊüê‰∏™Â±ûÊÄßÊåáÂÆö‰∏∫ auto Êó∂Ôºå‰ºö‰ΩøÁî®‰∏ãÈù¢ÁöÑÁ∫¶ÊùüÊù•ËÆ°ÁÆó auto ÂØπÂ∫îÁöÑÂÄº„ÄÇtotalWidth = column-width * column-count + (column-count-1) * column-gapcolumn-width: ÂàóÂÆΩÔºåÂèØ‰ª•‰ΩøÁî®ÊåáÂÆöÂÆΩÂ∫¶Ôºå‰πüÂèØ‰ª•‰ΩøÁî® auto Ë°®Á§∫Ê†πÊçÆÂÖ∂‰ªñÂ±ûÊÄßÊù•ÂÜ≥ÂÆöcolumn-count: ÂàóÊï∞ÔºåÂèØ‰ª•‰ΩøÁî®ÊåáÂÆöÊï∞Â≠óÔºå‰πüÂèØ‰ª•‰ΩøÁî® auto Ë°®Á§∫Ê†πÊçÆÂÖ∂‰ªñÂ±ûÊÄßÂÜ≥ÂÆö„ÄÇcolumn-gap: Èó¥ÈöîÔºåÂèØ‰ª•‰ΩøÁî®ÊåáÂÆöÂÆΩÂ∫¶Ôºå‰πüÂèØ‰ª•‰ΩøÁî® normal Ë°®Á§∫ 32„ÄÇ common„Äåwaterfall Âíå list„Äç Â∏∏Áî®Â±ûÊÄß - ÊîØÊåÅÂàóË°®Áªü‰∏ÄÁöÑÊ†áÁ≠æÂ±ûÊÄß ÂàóË°®Ê†áÁ≠æÂ±ûÊÄß „Äåwaterfall Âíå list„Äç ÊîØÊåÅ loadmore ‰∫ã‰ª∂ÔºåËßÅ ÂàóË°® loadmore „Äåwaterfall Âíå list„Äç ÊîØÊåÅ scroll ‰∫ã‰ª∂ÔºåËßÅ ÂàóË°® scroll „Äåwaterfall Âíå list„Äç ÊîØÊåÅ resetLoadmoreÔºåËßÅ ÂàóË°® resetLoadmore „Äåwaterfall Âíå list„Äç ÊîØÊåÅ scrollToElementÔºåËßÅ ÂàóË°® scrollToElement ÂàóË°® Âú® weex ÊåáÁöÑÂ∞±ÊòØ scroller Âíå list ‰∫ÜÔºåËøôÈáåÊ±áÊÄª‰∏Ä‰∫õÂÖ¨ÂÖ±ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ïÔºåÊñπ‰æøÁÆ°ÁêÜÂíåÂØπÊØî„ÄÇ Á±ª‰ºº scroller Âíå list ÈÉΩÂ±û‰∫éÂàóË°®Ôºå‰ªñ‰ª¨Êúâ‰∏Ä‰∫õÈÄöÁî®ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ïÔºåÊèêÂèñÂá∫Êù•Áªü‰∏Ä‰ªãÁªçÔºå‚ö†Ô∏è ‰∏çÂÖÅËÆ∏Áõ∏ÂêåÊñπÂêëÁöÑÂàóË°®‰∫íÁõ∏ÂµåÂ•ó ÂàóË°®Ê†áÁ≠æÂ±ûÊÄß123456// Â±èÂπïÂ∫ïÈÉ®Âà∞È°µÈù¢Â∫ïÈÉ®ÁöÑË∑ùÁ¶ªÔºåÁî®Êù•Ëß¶Âèë loadmoreÔºåÈªòËÆ§ 0loadmoreoffset = 20 // Ëß¶Âèë scroll ÁöÑÈ¢ëÁéáÔºåÈªòËÆ§ 10pxoffset-accuracy = 20px// ÊòæÁ§∫ÊªöÂä®Êù°ÔºåÈªòËÆ§trueÔºå‰ΩÜÊòØÂèëÁé∞Âú® android ÈªòËÆ§ÊòØ‰∏çÊòæÁ§∫ÁöÑÔºå‰ΩÜÊòØ ios ÊòæÁ§∫show-scrollbar = false ÂàóË°®‰∫ã‰ª∂123456789101112@loadmore Âä†ËΩΩÊõ¥Â§ö‰∫ã‰ª∂ÔºåÊ®™ÂêëÊªëÂä®Êó∂Ôºå`loadmore` ‰∏çËÉΩËß¶ÂèëÊ≤°ÊúâÂèÇÊï∞@scroll ÊªëÂä®ÁõëÂê¨event =&gt; contentSize &#123;Object&#125; ÂàóË°®ÁöÑÂ∞∫ÂØ∏ÔºåÂÆΩÂ∫¶ÂíåÈ´òÂ∫¶ÊòØÊÄªÁöÑÈïøÂ∫¶ÔºåÂ¶Ç 150px * 10 = 1500px - width &#123;number&#125; - height &#123;number&#125; contentOffset &#123;Object&#125; ÂàóË°®ÂÅèÁßªÂ∞∫ÂØ∏ÔºåÊï¥‰∏™ÂàóË°®ÊÄªÂÖ±Ë¢´ÊªëÂä®ÁöÑ px Êï∞ÔºåÊòØ‰∏Ä‰∏™Ë¥üÂÄºÔºåË∂äÂæÄÂè≥|‰∏ãÊªëÂä®ÔºåÁªùÂØπÂÄºË∂äÂ§ß - x &#123;number&#125; - y &#123;number&#125; ÊñπÊ≥ï resetLoadmore(node,options) ÈáçÁΩÆ loadmoreÔºåÂ¶ÇÊûúËøõË°åËøá‰∏ÄÊ¨° loadmore ‰πãÂêéÔºåÂàóË°®ÂÜÖÂÆπÊ≤°ÊúâÂèëÁîüÂèòÊõ¥ÔºåÂàôÂÜçÊ¨°ÊªëÂä®Âà∞Êú´Â∞æÊó∂Ôºå‰∏ç‰ºöËß¶Âèë loadmore ‰∫ã‰ª∂ÔºåÈúÄË¶Å‰ΩøÁî® resetLoadmore() Êù•ÈáçÁΩÆÁä∂ÊÄÅ„ÄÇ 12345678910111213scroller.resetLoadmore(node,options)node &#123;node&#125; ÊåáÁöÑÊòØËäÇÁÇπÔºåÊöÇÊó∂‰∏çÁü•ÈÅìÂÅö‰ªÄ‰πàÁî®ÁöÑÔºå‰º†‰ªª‰ΩïËäÇÁÇπÈÉΩÂèØ‰ª•Ëµ∑‰ΩúÁî®options &#123;object&#125; - offset &#123;number&#125; ‰∏Ä‰∏™Âà∞ÂÖ∂ÂèØËßÅ‰ΩçÁΩÆÁöÑÂÅèÁßªË∑ùÁ¶ªÔºåÈªòËÆ§ 0eg:// ËÆæÁΩÆ scroller ÁöÑ ref ‰∏∫ sv// Âú®Âä†ËΩΩÊõ¥Â§öÁöÑ‰∫ã‰ª∂‰∏≠ÔºåÈáçÁΩÆÁä∂ÊÄÅÔºåËÆ©‰ªñÂèØ‰ª•‰∏ÄÁõ¥Ëß¶Âèë loadmore ‰∫ã‰ª∂loadmoreScroll()&#123; const el = this.$refs.sv el.resetLoadmore(el,&#123;offset:20&#125;)&#125; scrollToElement(node,options) ‰ΩøÂæóÂàóË°®ÊªëÂä®Âà∞ÊåáÂÆöÁöÑ nodeÔºåÈúÄË¶Å‰ΩøÁî® dom module Êù•Êìç‰Ωú psÔºö‰ΩøÁî®ËøáÁ®ã‰∏≠ÂèëÁé∞ waterfall ÁªÑ‰ª∂ÁöÑ scrollToElement Âú® andorid ‰∏äÊòØÂ∞ÜÊåáÂÆöÈ°πÊªöÂä®Âà∞Â±èÂπïÂ∫ïÈÉ®Ôºåios ÊòØÊªöÂä®Âà∞È°∂ÈÉ®Ôºålist Âíå scroller Ê≠£Â∏∏ÔºåÈÉΩÊòØÂà∞È°∂ÈÉ®„ÄÇ 123456scrollToElement(node,options)node &#123;node&#125; ÂàóË°®ÁöÑÂ≠êËäÇÁÇπÔºåÂ∞Ü‰ºöÊªëÂä®Âà∞Ëøô‰∏™ËäÇÁÇπoptions &#123;object&#125; - offset &#123;number&#125; ÊåáÂÆöÁöÑÂ≠êËäÇÁÇπÊªëÂä®ÂêéË∑ùÁ¶ªÂ∑¶ËæπÁöÑË∑ùÁ¶ªÁöÑË¥üÂÄº - animated &#123;boolean&#125; Âä®ÁîªÊïàÊûúÔºåÈªòËÆ§ true Á§∫‰æãÔºåÂØπ‰∏Ä‰∏™Ê®™ÂêëÂàóË°®ËøõË°åÊìç‰ΩúÔºå‰ΩøÂæóÁÇπÂáªÁöÑÈÇ£‰∏™Â≠êÂÖÉÁ¥†Ëá™Âä®ÊªëÂä®Âà∞Â±Ö‰∏≠ÊòæÁ§∫ 12345&lt;scroller class="scroller" scroll-direction='horizontal'&gt; &lt;div class="tab-group" v-for="(item,index) in tablist" @click="changeTab(index)" :ref="'tab'+index"&gt; &lt;text class="tab-item"&gt; &#123;&#123;item&#125;&#125; &lt;/text&gt; &lt;/div&gt;&lt;/scroller&gt; Âú® click ‰∫ã‰ª∂‰∏≠ÔºåÊªëÂä® scroller Áî±‰∫éÊàëÊØè‰∏Ä‰∏™Â≠êÈ°πÁöÑÂÆΩÂ∫¶ËÆæÁΩÆ‰∏∫‰∫Ü 150pxÔºåËÄå weex ÈªòËÆ§Â±èÂπïÊòØ 750pxÔºå‰∏ÄÊ¨°Â±èÂπïÂÜÖÊ≠£Â•ΩÂèØ‰ª•ÊîæÁΩÆ 5 ‰∏™Â≠êÈ°πÔºåË∑ùÁ¶ªÂ∑¶Ëæπ 300px Âç≥ÂèØÂ±Ö‰∏≠„ÄÇ 123456changeTab(index)&#123; const dom = weex.requireModule('dom') this.current_tab = index; const el = this.$refs['tab'+index][0]; dom.scrollToElement(el,&#123;offset:-300&#125;);&#125;, refresh + loading‰ΩøÁî® refresh Âíå loading ÂÆûÁé∞Âä†ËΩΩÊï∞ÊçÆÁöÑÊïàÊûúÔºårefresh ÊòØ‰∏ãÊãâÂà∑Êñ∞Êï∞ÊçÆÔºåloading ÊòØ‰∏äÊãâÂä†ËΩΩÊõ¥Â§öÊï∞ÊçÆÔºå‰ªñ‰ª¨Âè™ÊúâÂú®Ë¢´ list Âíå scroller ÂåÖÂê´Êó∂ÊâçËÉΩÊ≠£Á°ÆÊ∏≤ÊüìÔºåÊé•‰∏ãÊù•Â∞Ü‰ºö‰ª• list ‰∏∫‰æãÁÆÄÂçïÂ≠¶‰π†‰∏Ä‰∏ã‰ΩøÁî®ÊñπÊ≥ïÔºåÂú® scroller ÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇÂú®Áî®Ê≥ï‰∏äÔºårefresh Âíå loading ‰πüÂü∫Êú¨Áõ∏ÂêåÔºåÂè™ÊòØÊòæÁ§∫ÁöÑ‰ΩçÁΩÆ‰∏çÂêåÂíå‰∏Ä‰∫õ‰∫ã‰ª∂ÂêçÂ≠ó‰∏çÂêå„ÄÇ „Äådiaplay„ÄçÂ±ûÊÄßÊù•ÂÜ≥ÂÆöÁªÑ‰ª∂ÁöÑÂ±ïÁ§∫ÂíåÈöêËóèÔºådisplay ÂÄº‰∏∫ show Êàñ hide„ÄÇ‰ªÖÈöêËóè &lt;indicator&gt;Ôºå&lt;loading&gt; ÂÖ∂‰ªñÂ≠êÁªÑ‰ª∂‰æùÁÑ∂ÂèØËßÅÔºåloading ‰∫ã‰ª∂‰ªç‰ºöË¢´Ëß¶ÂèëÔºåÂõ†Ê≠§Êàë‰ª¨Ë¶ÅÂÆûÁé∞Âà∑Êñ∞ÁöÑÊïàÊûúÈúÄË¶ÅÂä®ÊÄÅÁöÑ‰øÆÊîπ display ÁöÑÂÄº„ÄÇ 1&lt;refresh :display="isRefreshing?'show':'hide'"&gt;&lt;/refresh&gt; „Äå&lt;loading-indicator&gt;„Äç ÊòØÂÜÖÁΩÆ‰∏Ä‰∏™ÁªÑ‰ª∂ÔºåÊòæÁ§∫ÊòØ‰∏Ä‰∏™Â∏¶Âä®ÁîªÊïàÊûúÁöÑÂúÜÂΩ¢ËøõÂ∫¶Êù°ÔºåÂ∞±ÊòØÁ≥ªÁªüÈªòËÆ§ÁöÑÂä†ËΩΩÂä®ÁîªÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂÆΩÈ´òÂøÖÈ°ªÊåáÂÆöÔºå‰∏çÁÑ∂ÈªòËÆ§ÊòØ0Êó†Ê≥ïÊòæÁ§∫ÔºåÂèØ‰ª•‰ΩøÁî® color Â±ûÊÄßÊù•Êõ¥ÊîπËøõÂ∫¶Êù°ÁöÑÈ¢úËâ≤„ÄÇ 1&lt;loading-indicator style='color:red;width:40px;height:40px;'&gt;&lt;/loading-indicator&gt; ‰∫ã‰ª∂Ôºå&lt;refresh&gt; Êúâ @refresh ‰∫ã‰ª∂Ôºå&lt;loading&gt; Êúâ @loading ‰∫ã‰ª∂Ôºå‰ªñ‰ª¨ÈÉΩ‰ºöÂú®ÊªëÂä®Ë∑ùÁ¶ªË∂ÖËøáÊï¥‰∏™ÁªÑ‰ª∂ÁöÑÈ´òÂ∫¶Êó∂Ë¢´Ëß¶ÂèëÔºåÂèØ‰ª•Âú®ËøôÈáåÈù¢ÂÅöÂä†ËΩΩÊï∞ÊçÆÁöÑÊìç‰Ωú„ÄÇ Âè¶Â§ñ &lt;refresh&gt; ËøòÊúâ‰∏Ä‰∏™Ëá™Â∑±ÁöÑ‰∫ã‰ª∂Ôºå@pullingdown ‰∫ã‰ª∂‰ºöËøîÂõûÁªÑ‰ª∂ÊªëÂä®ËøáÁ®ã‰∏≠ÁöÑ‰∏Ä‰∫õÊï∞ÊçÆÔºå‰∏çËøáËøô‰∏™ÁõëÂê¨Âú® andorid Âíå ios ‰∏äÈù¢ÁöÑÊï∞ÊçÆÂ∑ÆÂà´ÊØîËæÉÂ§ß„ÄÇ 12345678910event =&gt; dy : ÊØèÊ¨°ÁßªÂä®ÁöÑÂèòÂåñÈáèÔºåË°®ËææÁöÑÊòØÂçï‰ΩçÊó∂Èó¥ÂÜÖÊªëÂä®ÁöÑË∑ùÁ¶ªÔºåÊØèÊ¨°ÂºÄÂßãÂä®ÂÄºÊØîËæÉÂ§ßÔºåÂø´ÂÅúÊ≠¢Êó∂ÂÄºÂèòÂ∞è„ÄÇ pullingDistance : ÊÄªÂÖ±ÊªëÂä®ÁöÑË∑ùÁ¶ªÔºõ ÂΩìÂà∑Êñ∞Â§¥Èú≤Âá∫Êó∂Ôºåandroid ËøîÂõûÁöÑÂÄº‰∏∫Ê≠£Êï∞Ôºåios ËøîÂõûÁöÑÂÄº‰∏∫Ë¥üÊï∞Ôºõ ÂΩìÂà∑Êñ∞Â§¥ÈöêËóèÊó∂ÔºåÂàóË°®ÊªëÂä®Êó∂Ôºåandroid ‰∏ç‰ºöËß¶ÂèëËøô‰∏™ÁõëÂê¨Ôºå‰ΩÜÊòØ ios ‰ºö‰∏ÄÁõ¥Ëß¶ÂèëÔºåÂπ∂‰∏î pullingDistance Âèò‰∏∫Ê≠£Êï∞ÔºåÂπ∂‰∏î‰∏ÄÁõ¥‰ºöÂèòÂ§ß„ÄÇ viewHeight : Âà∑Êñ∞ÁªÑ‰ª∂ÁöÑÈ´òÂ∫¶ÔºåÊªëÂä®Ë∂ÖËøáËøô‰∏™È´òÂ∫¶‰ºöËß¶ÂèëÂà∑Êñ∞ event.type : ‰∏çÂèòÁöÑÂ≠óÁ¨¶‰∏≤ pullingdown ÂÆåÊï¥ÁöÑÂ∏¶ÊúâÂà∑Êñ∞ÂíåÂä†ËΩΩÂäüËÉΩÁöÑ‰ª£Á†Å 123456789101112131415&lt;list&gt; &lt;refresh class='load_part' :display="isRefreshing?'show':'hide'" @refresh='refreshList' @pullingdown='pullList'&gt; &lt;loading-indicator style='color:red;width:40px;height:40px;'&gt;&lt;/loading-indicator&gt; &lt;text style='text-align:center'&gt; ‰∏ãÊãâÂºÄÂßãÂà∑Êñ∞ &lt;/text&gt; &lt;/refresh&gt; &lt;cell v-for="(item,index) in product_list"&gt; ... &lt;/cell&gt; &lt;loading class='load_part' :display="isLoading?'show':'hide'" @loading='loadingList'&gt; &lt;loading-indicator style='color:red;width:40px;height:40px;'&gt;&lt;/loading-indicator&gt; &lt;text style='text-align:center'&gt; ‰∏äÊãâÂºÄÂßãÂä†ËΩΩ &lt;/text&gt; &lt;/loading&gt;&lt;/list&gt; ÈªòËÆ§ isFreshing Âíå isLoading Ëá™ÁÑ∂ÈÉΩÊòØ falseÔºåÂΩìÂà∑Êñ∞Êó∂ÔºåÊõ¥ÊîπÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅ‰∏∫ÊòæÁ§∫ÔºåÂºÄÂßãÂä†ËΩΩÊï∞ÊçÆ,Âπ∂‰∏îÂª∂Êó∂ 1s ÂêéÂ∞ÜÁªÑ‰ª∂ÈöêËóè„ÄÇ 1234567891011121314refreshList()&#123; modal.toast(&#123;message:"refresh"&#125;) this.isRefreshing=true setTimeout(() =&gt; &#123; this.isRefreshing=false &#125;, 1000);&#125;,loadingList()&#123; modal.toast(&#123;message:"loading"&#125;) this.isLoading =true setTimeout(() =&gt; &#123; this.isLoading=false &#125;, 1000);&#125;, configÊñáÊ°£ËØ¥Êòé‰ΩøÁî® weex.config Ëé∑ÂèñÔºå‰ΩÜÊòØÊµãËØïÂèëÁé∞‰∏çË°åÔºåÈúÄË¶Å‰ΩøÁî® this.$getConfig() Ëé∑ÂèñÂà∞ÔºåË∞ÉÊü•ÂèëÁé∞ weex.config ÈúÄË¶Å weex ÁâàÊú¨ &gt;=0.9.5 ÊâçÂèØ‰ª•ÔºåËÄåÊàë‰ΩøÁî®ÂÆòÊñπÁöÑ playground ÁâàÊú¨ÊòØ 0.9.4„ÄÇ ÈªòËÆ§‰ª•ÂÆΩÂ∫¶‰∏∫ 750px ÂÅöÈÄÇÈÖçÊ∏≤ÊüìÔºåË¶ÅËé∑Âæó 750px ‰∏ãÁöÑÂ±èÂπïÈ´òÂ∫¶ÔºåÂèØ‰ª•ÈÄöËøá height = 750/deviceWidth*deviceHeight ÂÖ¨ÂºèËé∑ÂæóÔºåÂèØ‰ª•‰ΩøÁî®Âà∞ CSS ‰∏≠ÔºåÁî®Êù•ËÆæÁΩÆÂÖ®Â±èÂ∞∫ÂØ∏„ÄÇ Êï∞ÊçÆÁªìÊûÑÔºö 123456789101112config bundleUrl &#123;string&#125; :js bundle ÁöÑ url env &#123;obj&#125; weexVersion &#123;string&#125; :Weex sdk ÁâàÊú¨ appName &#123;string&#125; :Â∫îÁî®ÂêçÂ≠ó appVersion &#123;string&#125; :Â∫îÁî®ÁâàÊú¨„ÄÇ platform &#123;string&#125; :Âπ≥Âè∞‰ø°ÊÅØÔºåÊòØ iOS„ÄÅAndroid ËøòÊòØ Web osName &#123;string&#125; :iOSÊàñËÄÖandroidÔºåË°®Á§∫Êìç‰ΩúÁ≥ªÁªüÁöÑÂêçÁß∞ osVersion &#123;string&#125; :Á≥ªÁªüÁâàÊú¨ deviceModel &#123;string&#125; :ËÆæÂ§áÂûãÂè∑ (‰ªÖÂéüÁîüÂ∫îÁî®) deviceWidth &#123;number&#125; :ËÆæÂ§áÂÆΩÂ∫¶ deviceHeight &#123;number&#125; :ËÆæÂ§áÈ´òÂ∫¶]]></content>
      <categories>
        <category>weex</category>
      </categories>
      <tags>
        <tag>weex</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Bolts Êõ¥ÁÆÄÂçï‰ªªÂä°ÁÆ°ÁêÜÂíåÁ∫øÁ®ãÂàáÊç¢ [Ê∫êÁ†Å]]]></title>
    <url>%2Farticle%2F1dbbedd%2F</url>
    <content type="text"><![CDATA[Â∞§Â°ûÊÅ©¬∑Âú£Âà©Â••¬∑ÂçöÂ∞îÁâπ Usain St Leo BoltÔºåÁâô‰π∞Âä†Áü≠Ë∑ëËøêÂä®ÂëòÔºåÁî∑Â≠ê100Á±≥„ÄÅÁî∑Â≠ê200Á±≥‰ª•ÂèäÁî∑Â≠ê400Á±≥Êé•ÂäõËµõÁöÑ‰∏ñÁïåÁ∫™ÂΩï‰øùÊåÅ‰∫∫ÔºåÂêåÊó∂ÊòØ‰ª•‰∏ä‰∏âÈ°πËµõ‰∫ãÁöÑËøûÁª≠‰∏âÂ±äÂ••ËøêÈáëÁâåÂæó‰∏ª„ÄÇ ‰ΩøÁî® Bolts ÂèØ‰ª•Â∞Ü‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊìç‰ΩúÊãÜÂàÜÊàêÂ§ö‰∏™Â≠ê‰ªªÂä°ÔºåËøô‰∫õÂ≠ê‰ªªÂä°ÂèØ‰ª•Ëá™Áî±ÁöÑÊãÜÂàÜ„ÄÅÁªÑÂêàÂíåÊõøÊç¢ÔºåÊØè‰∏™‰ªªÂä°‰Ωú‰∏∫Êï¥‰∏™‰ªªÂä°ÈìæÁöÑ‰∏ÄÁéØÂèØ‰ª•ËøêË°åÂú®ÊåáÂÆöÁ∫øÁ®ã‰∏≠ÔºåÂêåÊó∂Êó¢ËÉΩ‰ªé‰∏äË°å‰ªªÂä°‰∏≠Ëé∑Âèñ‰ªªÂä°ÁªìÊûúÔºåÂèàÂèØ‰ª•Âêë‰∏ãË°å‰ªªÂä°ÂèëÂ∏ÉÂΩìÂâç‰ªªÂä°ÁöÑÁªìÊûúÔºåËÄå‰∏çÂøÖËÄÉËôëÁ∫øÁ®ã‰πãÈó¥ÁöÑ‰∫§‰∫í„ÄÇ Bolts-Android Bolts Âú® Android ‰∏ãÁöÑÂÆûÁé∞Bolts-ObjC Bolts Âú® OC ‰∏ãÁöÑÂÆûÁé∞Bolts-Swift Bolts Âú® Swift ‰∏ãÁöÑÂÆûÁé∞ ÂâçË®Ä‰∏Ä‰∏™ÂÖ≥‰∫éÁ∫øÁ®ãË∞ÉÂ∫¶ÁöÑÁÆÄÂçïÈúÄÊ±ÇÔºåÂú®Â≠êÁ∫øÁ®ã‰ªéÁΩëÁªú‰∏ãËΩΩÂõæÁâáÔºåÂπ∂ËøîÂõû‰∏ãËΩΩÁöÑÂõæÁâáÔºåÂú®‰∏ªÁ∫øÁ®ã‰ΩøÁî®ËØ•ÂõæÁâáÊõ¥Êñ∞Âà∞ UIÔºåÂêåÊó∂ËøîÂõûÂΩìÂâç UI ÁöÑÁä∂ÊÄÅ jsonÔºåÂú®Â≠êÁ∫øÁ®ãÂ∞Ü json Êï∞ÊçÆ‰øùÂ≠òÂà∞Êú¨Âú∞Êñá‰ª∂ÔºåÂÆåÊàêÂêéÂú®‰∏ªÁ∫øÁ®ãÂºπÂá∫ÊèêÁ§∫ÔºåËøô‰∏≠Èó¥Ê∂âÂèäÂà∞‰∫Ü 4 Ê¨°Á∫øÁ®ãÂàáÊç¢ÔºåÂêåÊó∂ÂêéÈù¢ÁöÑ‰ªªÂä°ÈúÄË¶ÅÂâçÈù¢‰ªªÂä°ÂÆåÊàêÂêéÁöÑËøîÂõûÂÄº‰Ωú‰∏∫ÂèÇÊï∞„ÄÇ ‰ΩøÁî® Thread + Handler ÂÆûÁé∞ÔºåÁ∫øÁ®ãË∞ÉÂ∫¶Âæà‰∏çÁÅµÊ¥ªÔºå‰ª£Á†ÅÂèØËØªÊÄßÂ∑ÆÔºå‰∏çÁæéËßÇÔºåÊâ©Â±ïÊÄßÂ∑ÆÔºåÈîôËØØÂ§ÑÁêÜÂºÇÂ∏∏È∫ªÁÉ¶„ÄÇ 12345678910111213141516String url = "http://www.baidu.com";Handler handler = new Handler(Looper.getMainLooper());new Thread(() -&gt; &#123; // ‰∏ãËΩΩ Bitmap bitmap = downloadBitmap(url); handler.post(() -&gt; &#123; // Êõ¥Êñ∞ UI String json = updateUI(bitmap); new Thread(() -&gt; &#123; // ÂêëÂ≠òÂÇ®ÂÜôÂÖ•UIÁä∂ÊÄÅ saveUIState(json); // ‰øùÂ≠òÊàêÂäüÂêéÔºåÊèêÁ§∫ handler.post(() -&gt; toastMsg("save finish.")); &#125;).start(); &#125;);&#125;).start(); ‰ΩøÁî® RxJava ÂÆûÁé∞ÔºåÁ∫øÁ®ãË∞ÉÂ∫¶ÈùûÂ∏∏ÁÅµÊ¥ªÔºåÈìæÂºèË∞ÉÁî®Ôºå‰ª£Á†ÅÊ∏ÖÊô∞ÔºåÊâ©Â±ïÊÄßÂ•ΩÔºåÊúâÁªü‰∏ÄÁöÑÂºÇÂ∏∏Â§ÑÁêÜÊú∫Âà∂Ôºå‰∏çËøá Rx ÊòØ‰∏Ä‰∏™ÂæàÂº∫Â§ßÁöÑÂ∫ìÔºåÂ¶ÇÊûúÂè™Áî®Êù•ÂÅöÁ∫øÁ®ãË∞ÉÂ∫¶ÁöÑËØùÔºåRx Â∞±ÊòæÂæóÊúâÁÇπÂ§™Èáç‰∫Ü„ÄÇ 123456789101112131415Observable.just(URL) // ‰∏ãËΩΩ .map(this::downloadBitmap) .subscribeOn(Schedulers.newThread()) // Êõ¥Êñ∞UI .observeOn(AndroidSchedulers.mainThread()) .map(this::updateUI) // Â≠òÂÇ® UI Áä∂ÊÄÅ .observeOn(Schedulers.io()) .map(this::saveUIState) // ÊòæÁ§∫ÊèêÁ§∫ .observeOn(AndroidSchedulers.mainThread()) .subscribe(rst -&gt; toastMsg("save to " + rst), // handle error Throwable::printStackTrace); ‰ΩøÁî® bolts ÂÆûÁé∞ÔºåÁ∫øÁ®ãË∞ÉÂ∫¶ÁÅµÊ¥ªÔºåÈìæÂºèË∞ÉÁî®Ôºå‰ª£Á†ÅÊ∏ÖÊô∞ÔºåÂÖ∑ÊúâËâØÂ•ΩÁöÑÊâ©Â±ïÊÄßÔºåÂÖ∑ÊúâÁªü‰∏ÄÁöÑÂºÇÂ∏∏Â§ÑÁêÜÊú∫Âà∂ÔºåËôΩÁÑ∂Ê≤°Êúâ Rx ÈÇ£‰πà‰∏∞ÂØåÁöÑÊìç‰ΩúÁ¨¶Ôºå‰ΩÜÊòØËÉúÂú®Á±ªÂ∫ìÈùûÂ∏∏ÈùûÂ∏∏Â∞èÔºåÂè™Êúâ 38 KB„ÄÇ 123456789101112131415161718Task .forResult(URL) // ‰∏ãËΩΩ .onSuccess(task -&gt; downloadBitmap(task.getResult()), Task.BACKGROUND_EXECUTOR) // Êõ¥Êñ∞UI .onSuccess(task -&gt; updateUI(task.getResult()), Task.UI_THREAD_EXECUTOR) // Â≠òÂÇ®UIÁä∂ÊÄÅ .onSuccess(task -&gt; saveUIState(task.getResult()), Task.BACKGROUND_EXECUTOR) // ÊèêÁ§∫ .onSuccess(task -&gt; toastMsg("save to " + task.getResult()), Task.UI_THREAD_EXECUT // handle error .continueWith(task -&gt; &#123; if (task.isFaulted()) &#123; task.getError().printStackTrace(); return false; &#125; return true; &#125;); Á∫øÁ®ãË∞ÉÂ∫¶Âô®ÂÖ±Êúâ 4 ÁßçÁ±ªÂûãÊâßË°åÁ∫øÁ®ãÔºåÂ∞Ü‰ªªÂä°ÂàÜÂèëÂà∞ÊåáÂÆöÁ∫øÁ®ãÊâßË°åÔºåÂàÜÂà´ÊòØ backgroud - ÂêéÂè∞Á∫øÁ®ãÊ±†ÔºåÂèØ‰ª•Âπ∂ÂèëÊâßË°å‰ªªÂä°„ÄÇ scheduled - ÂçïÁ∫øÁ®ãÊ±†ÔºåÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÔºå‰∏ªË¶ÅÁî®Êù•ÊâßË°å delay Êìç‰Ωú„ÄÇ immediate - Âç≥Êó∂Á∫øÁ®ãÔºåÂ¶ÇÊûúÁ∫øÁ®ãË∞ÉÁî®Ê†àÂ∞è‰∫é 15ÔºåÂàôÂú®ÂΩìÂâçÁ∫øÁ®ãÊâßË°åÔºåÂê¶Âàô‰ª£ÁêÜÁªô background„ÄÇ uiThread - ÈíàÂØπ Android ËÆæËÆ°Ôºå‰ΩøÁî® Handler ÂèëÈÄÅÂà∞‰∏ªÁ∫øÁ®ãÊâßË°å„ÄÇ backgroud‰∏ªË¶ÅÁî®Êù•Âú®ÂêéÂè∞Âπ∂ÂèëÊâßË°åÂ§ö‰ªªÂä° 1public static final ExecutorService BACKGROUND_EXECUTOR = BoltsExecutors.background(); Âú® Android Âπ≥Âè∞‰∏ãÊ†πÊçÆ CPU Ê†∏Êï∞ÂàõÂª∫Á∫øÁ®ãÊ±†ÔºåÂÖ∂‰ªñÊÉÖÂÜµ‰∏ãÔºåÂàõÂª∫ÁºìÂ≠òÁ∫øÁ®ãÊ±†„ÄÇ 123background = !isAndroidRuntime() ? java.util.concurrent.Executors.newCachedThreadPool() : AndroidExecutors.newCachedThreadPool(); scheduled‰∏ªË¶ÅÁî®‰∫é‰ªªÂä°‰πãÈó¥ÂÅö delay Êìç‰ΩúÔºåÂπ∂‰∏çÂÆûÈôÖÊâßË°å‰ªªÂä°„ÄÇ 1scheduled = Executors.newSingleThreadScheduledExecutor(); immediate‰∏ªË¶ÅÁî®Êù•ÁÆÄÂåñÈÇ£‰∫õ‰∏çÊåáÂÆöËøêË°åÁ∫øÁ®ãÁöÑÊñπÊ≥ïÔºåÈªòËÆ§Âú®ÂΩìÂâçÁ∫øÁ®ãÂéªÊâßË°å‰ªªÂä°Ôºå‰ΩøÁî® ThreadLocal ‰øùÂ≠òÊØè‰∏™Á∫øÁ®ãË∞ÉÁî®Ê†àÁöÑÊ∑±Â∫¶ÔºåÂ¶ÇÊûúÊ∑±Â∫¶‰∏çË∂ÖËøá 15ÔºåÂàôÂú®ÂΩìÂâçÁ∫øÁ®ãÊâßË°åÔºåÂê¶Âàô‰ª£ÁêÜÁªô backgroud ÊâßË°å„ÄÇ 12345678910111213141516private static final Executor IMMEDIATE_EXECUTOR = BoltsExecutors.immediate();// ÂÖ≥ÈîÆÊñπÊ≥ï@Overridepublic void execute(Runnable command) &#123; int depth = incrementDepth(); try &#123; if (depth &lt;= MAX_DEPTH) &#123; command.run(); &#125; else &#123; BoltsExecutors.background().execute(command) &#125; &#125; finally &#123; decrementDepth(); &#125;&#125; uiThread‰∏∫ Android ‰∏ìÈó®ËÆæËÆ°ÔºåÂú®‰∏ªÁ∫øÁ®ãÊâßË°å‰ªªÂä°„ÄÇ 1public static final Executor UI_THREAD_EXECUTOR = AndroidExecutors.uiThread(); 123456private static class UIThreadExecutor implements Executor &#123; @Override public void execute(Runnable command) &#123; new Handler(Looper.getMainLooper()).post(command); &#125;&#125; Ê†∏ÂøÉÁ±ªTaskÔºåÊúÄÊ†∏ÂøÉÁöÑÁ±ªÔºåÊØè‰∏™Â≠ê‰ªªÂä°ÈÉΩÊòØ‰∏Ä‰∏™ TaskÔºåÂÆÉ‰ª¨Ë¥üË¥£Ëá™Â∑±ÈúÄË¶ÅÊâßË°åÁöÑ‰ªªÂä°„ÄÇÊØè‰∏™ Task ÂÖ∑Êúâ 3 ÁßçÁä∂ÊÄÅ Result„ÄÅError Âíå CancelÔºåÂàÜÂà´‰ª£Ë°®ÊàêÂäü„ÄÅÂºÇÂ∏∏ÂíåÂèñÊ∂à„ÄÇ ContinuationÔºåÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂÆÉÂ∞±ÂÉèÈìæÊé•Â≠ê‰ªªÂä°ÊØè‰∏ÄÁéØÁöÑÈîÅÊâ£ÔºåÊää‰∏Ä‰∏™‰∏™Áã¨Á´ãÁöÑ‰ªªÂä°ÈìæÊé•Âú®‰∏ÄËµ∑„ÄÇ ÈÄöËøá Task - Continuation - Task - Continuation ‚Ä¶ ÁöÑÂΩ¢ÂºèÁªÑÊàêÂÆåÊï¥ÁöÑ‰ªªÂä°ÈìæÔºåÈ°∫Â∫èÂú®ÂêÑËá™Á∫øÁ®ãÊâßË°å„ÄÇ ÂàõÂª∫ TaskÊ†πÊçÆ Task ÁöÑ 3 ÁßçÁä∂ÊÄÅÔºåÂàõÂª∫ÁÆÄÂçïÁöÑ TaskÔºå‰ºöÂ§çÁî®Â∑≤ÊúâÁöÑ‰ªªÂä°ÂØπË±° 12345public static &lt;TResult&gt; Task&lt;TResult&gt; forResult(TResult value)public static &lt;TResult&gt; Task&lt;TResult&gt; forError(Exception error)public static &lt;TResult&gt; Task&lt;TResult&gt; cancelled() ‰ΩøÁî® delay ÊñπÊ≥ïÔºåÂª∂Êó∂ÊâßË°åÂπ∂ÂàõÂª∫ Task 123public static Task&lt;Void&gt; delay(long delay)public static Task&lt;Void&gt; delay(long delay, CancellationToken cancellationToken) ‰ΩøÁî® whenAny ÊñπÊ≥ïÔºåÊâßË°åÂ§ö‰∏™‰ªªÂä°ÔºåÂΩì‰ªªÊÑè‰ªªÂä°ËøîÂõûÁªìÊûúÊó∂Ôºå‰øùÂ≠òËøô‰∏™ÁªìÊûú 123public static &lt;TResult&gt; Task&lt;Task&lt;TResult&gt;&gt; whenAnyResult(Collection&lt;? extends Task&lt;TResult&gt;&gt; tasks)public static Task&lt;Task&lt;?&gt;&gt; whenAny(Collection&lt;? extends Task&lt;?&gt;&gt; tasks) ‰ΩøÁî® whenAll ÊñπÊ≥ïÔºåÊâßË°åÂ§ö‰∏™‰ªªÂä°ÔºåÂΩìÂÖ®ÈÉ®‰ªªÂä°ÊâßË°åÂÆåÂêéÔºåËøîÂõûÁªìÊûú 123public static Task&lt;Void&gt; whenAll(Collection&lt;? extends Task&lt;?&gt;&gt; tasks) public static &lt;TResult&gt; Task&lt;List&lt;TResult&gt;&gt; whenAllResult(final Collection&lt;? extends Task&lt;TResult&gt;&gt; tasks) ‰ΩøÁî® call ÊñπÊ≥ïÔºåÊâßË°å‰∏Ä‰∏™‰ªªÂä°ÔºåÂêåÊó∂ÂàõÂª∫ Task 12public static &lt;TResult&gt; Task&lt;TResult&gt; call(final Callable&lt;TResult&gt; callable, Executor executor, final CancellationToken ct) ÈìæÊé•Â≠ê‰ªªÂä°‰ΩøÁî® continueWith ÊñπÊ≥ïÔºåÈìæÊé•‰∏Ä‰∏™Â≠ê‰ªªÂä°ÔºåÂ¶ÇÊûúÂâçË°å‰ªªÂä°Â∑≤ÁªèÊâßË°åÂÆåÊàêÔºåÂàôÁ´ãÂç≥ÊâßË°åÂΩìÂâç‰ªªÂä°ÔºåÂê¶ÂàôÂä†ÂÖ•ÈòüÂàó‰∏≠ÔºåÁ≠âÂæÖ„ÄÇ 123public &lt;TContinuationResult&gt; Task&lt;TContinuationResult&gt; continueWith( final Continuation&lt;TResult, TContinuationResult&gt; continuation, final Executor executor, final CancellationToken ct) ‰ΩøÁî® continueWithTask ÊñπÊ≥ïÔºåÂú®ÂΩìÂâç‰ªªÂä°‰πãÂêéÈìæÊé•Âè¶‰∏Ä‰∏™‰ªªÂä°ÈìæÔºåËøôÁßçÂÅöÊ≥ïÊòØ‰∏∫‰∫ÜÊª°Ë∂≥ÈÇ£ÁßçÂ∞ÜÈÉ®ÂàÜ‰ªªÂä°ÁªÑÂêàÂú®‰∏ÄËµ∑ÂàÜÁ¶ªÂá∫ÂéªÔºå‰Ωú‰∏∫ÂÖ¨ÂÖ±‰ªªÂä°ÁöÑÂú∫ÊôØÔºå‰ªñÊé•ÂèóÂ∞ÜÂè¶Â§ñ‰∏Ä‰∏™ÂÆåÂÖ®Áã¨Á´ãÁöÑ‰ªªÂä°ÈìæÔºåËøΩÂä†Âú®ÂΩìÂâçÊâßË°åÁöÑ‰ªªÂä°ÂêéÈù¢„ÄÇ 123public &lt;TContinuationResult&gt; Task&lt;TContinuationResult&gt; continueWithTask( final Continuation&lt;TResult, Task&lt;TContinuationResult&gt;&gt; continuation, final Executor executor, final CancellationToken ct) ‰ΩøÁî® continueWhile ÊñπÊ≥ïÈìæÊé•Â≠ê‰ªªÂä°Ôºå‰∏é continueWith Âå∫Âà´Âú®‰∫éÔºå‰ªñÊúâ‰∏Ä‰∏™ predicate Ë°®ËææÂºèÔºåÂè™ÊúâÂΩìË°®ËææÂºèÊàêÁ´ãÊó∂ÔºåÊâç‰ºöËøΩÂä†Â≠ê‰ªªÂä°ÔºåËøôÊ†∑ÂÅöÊòØÂú®ÊâßË°å‰ªªÂä°ÂâçÂèØ‰ª•ÂÅö‰∏Ä‰∏™Êã¶Êà™Êìç‰ΩúÔºå‰πüÊòØ‰∏∫‰∫Ü‰∏çÁ†¥ÁéØÈìæÂºèË∞ÉÁî®ÁöÑÊï¥‰ΩìÈ£éÊ†º„ÄÇ 123public Task&lt;Void&gt; continueWhile(final Callable&lt;Boolean&gt; predicate, final Continuation&lt;Void, Task&lt;Void&gt;&gt; continuation, final Executor executor, final CancellationToken ct) ‰ΩøÁî® onSuccess Âíå onSuccessTask ÈìæÊé•Âçï‰∏™‰ªªÂä°‰∏™‰ªªÂä°ÈìæÔºåÂå∫Âà´‰∫é continueWith Âú®‰∫éÔºåonSuccess ÊñπÊ≥ïÔºåÂâçË°å‰ªªÂä°Â¶ÇÊûúÂ§±Ë¥•‰∫ÜÔºåÂêéË°åÁöÑ‰ªªÂä°‰πü‰ºöÁõ¥Êé•Â§±Ë¥•Ôºå‰∏ç‰ºöÂÜçÊâßË°åÔºå‰ΩÜÊòØ continueWith ÁöÑÂêÑ‰∏™Â≠ê‰ªªÂä°‰πãÈó¥Ê≤°ÊúâÂÖ≥ËÅîÔºåÂ∞±ÁÆóÂâçË°å‰ªªÂä°Â§±Ë¥•ÔºåÂêéË°å‰ªªÂä°‰πü‰ºöÊâßË°å„ÄÇ 123public &lt;TContinuationResult&gt; Task&lt;TContinuationResult&gt; onSuccess( final Continuation&lt;TResult, TContinuationResult&gt; continuation, Executor executor, final CancellationToken ct) ÂèñÊ∂à‰ªªÂä°Task Ê≤°Êúâ cancel ÊñπÊ≥ïÔºåËÄåÊòØ‰ΩøÁî®‰∫Ü CancellationToken ‰Ωú‰∏∫Ê†áËÆ∞Ôºå‰ªªÂä°ÊâßË°å‰πãÂâç‰ºöÊ£ÄÊü•Ëøô‰∏™Ê†áËÆ∞ÔºåÂ¶ÇÊûúÊ†áËÆ∞‰∏∫ÈÄÄÂá∫ÔºåÂàô‰ºöÁõ¥Êé•ÈÄÄÂá∫‰ªªÂä°„ÄÇ 1234567CancellationTokenSource cancellationTokenSource = new CancellationTokenSource();CancellationToken token = cancellationTokenSource.getToken();Task.call((Callable&lt;String&gt;) () -&gt; null, Task.BACKGROUND_EXECUTOR, token);// ÂèñÊ∂à‰ªªÂä°cancellationTokenSource.cancel(); ÂºÇÂ∏∏ÁöÑÂ§ÑÁêÜÂÖ≥‰∫éÂºÇÂ∏∏ÁöÑÂ§ÑÁêÜÔºåÊï¥‰∏™Êú∫Âà∂‰∏ãÊù•ÔºåÊØè‰∏™‰ªªÂä°‰Ωú‰∏∫‰∏Ä‰∏™Áã¨Á´ãÁöÑÂçï‰ΩçÔºåÂºÇÂ∏∏‰ºöË¢´Áªü‰∏ÄÊçïÊçâÔºåÂõ†Ê≠§‰∏çÂøÖÈíàÂØπ‰ªªÂä°‰∏≠ÁöÑÊñπÊ≥ïËøõË°åÂçïÁã¨ÁöÑÂ§ÑÁêÜ„ÄÇ Â¶ÇÊûú‰ΩøÁî®‰∫Ü continueWith ÈìæÊé•‰ªªÂä°ÔºåÈÇ£‰πàÂΩìÂâç‰ªªÂä°ÁöÑÁöÑÂºÇÂ∏∏‰ø°ÊÅØÔºåÂ∞Ü‰ºö‰øùÂ≠òÂú®ÂΩìÂâç Task ‰∏≠Âú®‰∏ãË°å‰ªªÂä°‰∏≠ËøõË°åÂ§ÑÁêÜÔºå‰∏ãË°å‰ªªÂä°‰πüÂèØ‰ª•‰∏çÂ§ÑÁêÜËøô‰∏™ÂºÇÂ∏∏ÔºåÁõ¥Êé•ÊâßË°å‰ªªÂä°ÔºåÈÇ£‰πàËøô‰∏™ÂºÇÂ∏∏Â∞±Âà∞ËøôÈáåÂÅúÊ≠¢‰∫ÜÔºå‰∏ç‰ºöÂÜçÂêë‰∏ã‰º†ÈÄíÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÂè™Êúâ‰∏ãË°å‰ªªÂä°ÊâçÁü•ÈÅìÂΩìÂâç‰ªªÂä°ÁöÑÁªìÊûúÔºå‰∏çÁÆ°ÊòØÊàêÂäüËøòÊòØÂºÇÂ∏∏„ÄÇ ÂΩìÁÑ∂‰∫ÜÔºåÂ¶ÇÊûú‰ªªÂä°‰πãÈó¥ÊúâÂÖ≥ËÅîÔºåÁî±‰∫é‰∏äË°å‰ªªÂä°ÁöÑÂºÇÂ∏∏ÊûÅÂ§ßÂèØËÉΩÈÄ†ÊàêÂΩìÂâç‰ªªÂä°ÁöÑÂºÇÂ∏∏ÔºåÈÇ£‰πàÂΩìÂâç‰ªªÂä°ÂºÇÂ∏∏ÁöÑ‰ø°ÊÅØÔºåÂèà‰ºöÂêë‰∏ã‰º†ÈÄíÔºå‰ΩÜÊòØ‰∏äË°å‰ªªÂä°ÁöÑÂºÇÂ∏∏Â∞±Âà∞ËøôÈáå‰∏∫Ê≠¢‰∫Ü„ÄÇ Â¶ÇÊûú‰ΩøÁî® onSuccess ‰πãÁ±ªÁöÑÊñπÊ≥ïÔºåÂ¶ÇÊûú‰∏äË°å‰ªªÂä°ÂºÇÂ∏∏‰∫ÜÔºåÈÇ£‰πà‰∏ãË°å‰ªªÂä°Ê†πÊú¨‰∏ç‰ºöÊâßË°åÔºåËÄåÊòØÁõ¥Êé•Â∞ÜÂºÇÂ∏∏ÂæÄ‰∏ãÈù¢‰º†ÈÄíÔºåÁõ¥Âà∞Ë¢´Â§ÑÁêÜÊéâ„ÄÇ ‰ªªÂä°ÁöÑÂàÜÁ¶ªÂíåÁªÑÂêàÊàë‰ª¨ÂèØ‰ª•Â∞Ü‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊìç‰ΩúÁªÜÂàÜÊàêÂ§ö‰∏™‰ªªÂä°ÔºåÊØè‰∏™‰ªªÂä°ÈÉΩÈÅµÂæ™Âçï‰∏ÄËÅåË¥£ÁöÑÂéüÂàôËÄåÂ∞ΩÈáèÁÆÄÂçïÔºåËøôÊ†∑ÂèØ‰ª•Âú®‰ªªÂä°‰πãÈó¥ÂÜçÁ©øÊèíÊñ∞ÁöÑ‰ªªÂä°ÔºåÊàñËÄÖÂ∞ÜÈÉ®ÂàÜ‰ªªÂä°ÂàÜÁ¶ªÂá∫Êù•ÁªÑÂêàÂà∞‰∏ÄËµ∑Á≠â„ÄÇ Êâ©Â±ïÊÄßÊàë‰ª¨ÂèØ‰ª•Âú®‰∏§‰∏™ÁªÜÂàÜÁöÑ‰ªªÂä°‰πãÈó¥Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÊìç‰ΩúÔºåËÄå‰∏çÂΩ±Âìç‰∏äË°åÂíå‰∏ãË°å‰ªªÂä°ÔºåÂ¶ÇÊàë‰ª¨ÁªôÊñáÁ´†ÂºÄÂ§¥ÁöÑÈúÄÊ±Ç‰∏≠Êõ¥Êñ∞ UI ‰πãÂâçÔºåÂ∞Ü Bitmap ÂÖà‰øùÂ≠òÂà∞Êú¨Âú∞„ÄÇ 123456789Task .forResult(URL) // ‰∏ãËΩΩ .onSuccess(task -&gt; downloadBitmap(task.getResult()), Task.BACKGROUND_EXECUTOR) // ‰øùÂ≠òÂú®Êú¨Âú∞ .onSuccess(task -&gt; saveBitmapToFile(task.getResult()),Task.BACKGROUND_EXECUTOR) // Êõ¥Êñ∞UI .onSuccess(task -&gt; updateUI(task.getResult()), Task.UI_THREAD_EXECUTOR) ... Â§çÁî®ÊÄßÂØπ‰∏Ä‰∫õÂÖ¨ÂÖ±ÁöÑÊìç‰ΩúÔºåÂèØ‰ª•ÂçïÁã¨ÂàÜÁ¶ªÊàêÊñ∞ÁöÑ‰ªªÂä°ÔºåÂΩìÈúÄË¶ÅÂÅöÁ±ª‰ººÊìç‰ΩúÊó∂ÔºåÂç≥ÂèØÂ§çÁî®ËøôÈÉ®‰ªΩÂäüËÉΩÔºåÂ¶ÇÂèØ‰ª•Â∞Ü‰∏ãËΩΩÂõæÁâáÂπ∂Êõ¥Êñ∞ UI„ÄÅ‰øùÂ≠òÁä∂ÊÄÅÂπ∂ÂºπÂá∫ÊèêÁ§∫ ‰∏§ÂùóÂäüËÉΩÂàÜÁ¶ªÂá∫Êù•Ôºå‰Ωú‰∏∫ÂÖ¨ÂÖ±ÁöÑ‰ªªÂä°„ÄÇ 12345678910111213// ‰∏ãËΩΩÂõæÁâá-&gt;Êõ¥Êñ∞UIpublic Continuation&lt;String, Task&lt;String&gt;&gt; downloadImageAndUpdateUI() &#123; return task -&gt; Task.call(() -&gt; downloadBitmap(task.getResult()), Task.BACKGROUND_EXECUTOR) .continueWith(taskWithBitmap -&gt; updateUI(taskWithBitmap.getResult()), Task.UI_THREAD_EXECUTOR);&#125;// ‰øùÂ≠òÁä∂ÊÄÅ-&gt;ÊèêÁ§∫‰ø°ÊÅØpublic Continuation&lt;String, Task&lt;Boolean&gt;&gt; saveStateAndToast() &#123; return task -&gt; Task.call(() -&gt; saveUIState(task.getResult()), Task.BACKGROUND_EXECUTOR) .continueWith(taskWithPath -&gt; toastMsg("save to " + taskWithPath.getResult()));&#125; ‰ΩøÁî®ÂàÜÁ¶ªÁöÑ‰ªªÂä° 12345Task .forResult(URL) .continueWithTask(downloadImageAndUpdateUI()) .continueWithTask(saveStateAndToast()) ... ÊÄªÁªìÂú® Task ‰∏≠Êúâ‰∏Ä‰∏™ continuations ÊòØÂΩìÂâç‰ªªÂä°ÂêéÈù¢ËøΩÂä†ÁöÑ‰ªªÂä°ÂàóË°®ÔºåÂΩìÂΩìÂâç‰ªªÂä°ÊàêÂäü„ÄÅÂºÇÂ∏∏ÊàñËÄÖÂèñÊ∂àÊó∂Ôºå‰ºöÂéªÊâßË°åÂàóË°®‰∏≠ÁöÑÂêéÁª≠‰ªªÂä°„ÄÇ ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨‰ΩøÁî®ÈìæÂºèË∞ÉÁî®ÊûÑÂª∫‰ªªÂä°ÈìæÔºåÁªìÊûúÂ∞±ÊòØ‰∏ÄÊù°Ê≤°ÊúâÂàÜÊîØÁöÑ‰ªªÂä°Èìæ„ÄÇ Ê∑ªÂä†‰ªªÂä°Êó∂ ÔºöÊØèÊ¨°Ê∑ªÂä†‰∏Ä‰∏™ ContinuationÔºåÂ∞±‰ºöÁîüÊàê‰∏Ä‰∏™ TaskÔºåÂä†Âà∞‰∏äË°å‰ªªÂä°ÁöÑ continuations ÂàóË°®‰∏≠ÔºåÁ≠âÂæÖÊâßË°åÔºåÂêåÊó∂ËøîÂõûÂΩìÂâçÁöÑ TaskÔºå‰ª•‰æøÂêéÈù¢ÁöÑ‰ªªÂä°ÂèØ‰ª•ÈìæÊé•Âà∞ÂΩìÂâç‰ªªÂä°ÂêéÈù¢„ÄÇ ÊâßË°å‰ªªÂä°Êó∂ ÔºöÂΩìÂâç‰ªªÂä°ÊâßË°åÂÆå‰πãÂêéÔºåÁªìÊûúÂèØËÉΩÊúâ 3 ÁßçÔºåÈÉΩ‰ºöË¢´‰øùÂ≠òÂà∞ÂΩìÂâçÁöÑ Task ‰∏≠ÔºåÁÑ∂ÂêéÊ£ÄÊü• continuations ÂàóË°®‰∏≠ÁöÑÂêéÁª≠‰ªªÂä°ÔºåËÄåÂΩìÂâçÁöÑ Task Â∞±‰ºö‰Ωú‰∏∫ÂèÇÊï∞Ôºå‰º†ÈÄíÂà∞ÂêéÁª≠ÈìæÊé•ÁöÑ‰ªªÂä°‰∏≠ÔºåÊù•ËÆ©ÂêéÈù¢ÁöÑ‰ªªÂä°ÂæóÁü•‰∏äË°å‰ªªÂä°ÁöÑÁªìÊûú„ÄÇ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>SourceCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êê≠Âª∫ Weex ÂºÄÂèëÁéØÂ¢ÉÂíåÈõÜÊàêÂà∞ Android Âπ≥Âè∞ [Weex]]]></title>
    <url>%2Farticle%2F39fe7888%2F</url>
    <content type="text"><![CDATA[Weex ÊòØÈòøÈáåÂºÄÊ∫êÁöÑ‰∏ÄÊ¨æË∑®Âπ≥Âè∞ÁßªÂä®ÂºÄÂèëÂ∑•ÂÖ∑ÔºåWeex ËÉΩÂ§üÂÆåÁæéÂÖºÈ°æÊÄßËÉΩ‰∏éÂä®ÊÄÅÊÄßÔºåËÆ©ÁßªÂä®ÂºÄÂèëËÄÖÈÄöËøáÁÆÄÊç∑ÁöÑÂâçÁ´ØËØ≠Ê≥ïÂÜôÂá∫ Native Á∫ßÂà´ÁöÑÊÄßËÉΩ‰ΩìÈ™åÔºåÂπ∂ÊîØÊåÅ IOS„ÄÅandroid„ÄÅ WebÁ≠âÂ§öÁ´ØÈÉ®ÁΩ≤„ÄÇ ÂØπ‰∫éÁßªÂä®ÂºÄÂèëËÄÖÊù•ËØ¥ÔºåWeex ‰∏ªË¶ÅËß£ÂÜ≥‰∫ÜÈ¢ëÁπÅÂèëÁâàÂíåÂ§öÁ´ØÁ†îÂèë‰∏§Â§ßÁóõÁÇπÔºåÂêåÊó∂Ëß£ÂÜ≥‰∫ÜÂâçÁ´ØËØ≠Ë®ÄÊÄßËÉΩÂ∑ÆÂíåÊòæÁ§∫ÊïàÊûúÂèóÈôêÁöÑÈóÆÈ¢ò„ÄÇ ‰∏çË∂≥ÔºöÂ∏ÉÂ±Ä‰∏ä UI ÂµåÂ•óÂ±ÇÁ∫ßÂ§™Ê∑±„ÄÇ Weex GitHub Weex ÂÆòÊñπÊïôÁ®ã Mac ÈáçË£Ö Node Weex Android Dev Tools ÁéØÂ¢ÉÂÆâË£ÖËß£ÂÜ≥ ÂÆâË£Ö weex-toolkit Âá∫Áé∞ npm ERR! code ELIFECYCLE ÈîôËØØ„ÄÇ 12chmod -R 777 ~/.xtoolkitsudo chmod -R 777 ~/.xtoolkit ‰ΩøÁî®ÂëΩ‰ª§ÂºÄÂêØ watch Ê®°ÂºèÂíåÈùôÊÄÅÊúçÂä°Âô® 1npm run dev &amp; npm run serve weex-toolkitWeexToolKit ÊïôÁ®ã weex-toolkit ÊòØÂÆòÊñπÊèê‰æõÁöÑ‰∏Ä‰∏™ËÑöÊâãÊû∂ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑Ôºå‰Ω†ÂèØ‰ª•‰ΩøÁî®ÂÆÉËøõË°å Weex È°πÁõÆÁöÑÂàõÂª∫ÔºåË∞ÉËØï‰ª•ÂèäÊâìÂåÖÁ≠âÂäüËÉΩ„ÄÇ ÂÖ∑‰ΩìÁöÑÂÆâË£ÖÂíåÂàùÂßãÂåñÊµÅÁ®ãÂèØ‰ª•ÂèÇÁÖßÂÆòÁΩëÊñáÊ°£ÔºåËøôÈáåËÆ∞ÂΩïÂá†‰∏™Â∏∏Áî®ÂëΩ‰ª§„ÄÇ Ë∞ÉËØïÊñπÈù¢ÔºåÊõ¥Â§öÁâπÊÄßÂèÇÁÖßÊñáÊ°£„ÄÇ 123456789101112131415# ÂàùÂßãÂåñÈ°πÁõÆweex init &#123;project&#125;weex init my_weex_project# ÂÆûÊó∂È¢ÑËßàweex &#123;file.vue&#125;weex src/page.vue# È¢ÑËßàÊï¥‰∏™ÁõÆÂΩïweex src --entry &#123;entry_file.vue&#125;weex src --entry src/entry_page.vue# ÊâìÂåÖ weex È°πÁõÆweex compile &#123;src_file/src_dir&#125; &#123;dst_dir&#125;weex compile src/foo.vue dist Ë∞ÉËØï 123456789101112weex debug [options] [file.vue/dir]# ÂºÄÂêØË∞ÉËØïÊúçÂä°Âô®weex debug # Ë∞ÉËØïÊüê‰∏™Êñá‰ª∂weex debug &#123;vue Êñá‰ª∂&#125;weex debug test.vue# Ë∞ÉËØïÊñá‰ª∂Â§πweex debug &#123;Êñá‰ª∂Â§π&#125; -e &#123;ÂÖ•Âè£Êñá‰ª∂&#125;weex debug test_dir -e src/index.vue Android Á´ØÁÆÄÂçïÈõÜÊàêÈÖçÁΩÆ app/build.gralde 1234567891011121314151617181920212223android &#123; compileSdkVersion 25 // 23 ‰ª•‰∏ä buildToolsVersion "26.0.2" // 23.0.1 ‰ª•‰∏ä defaultConfig &#123; // ... ndk &#123; abiFilters "x86" abiFilters "armeabi" &#125; &#125; compileOptions &#123; sourceCompatibility JavaVersion.VERSION_1_7 targetCompatibility JavaVersion.VERSION_1_7 &#125;&#125;dependencies &#123; // ... compile 'com.android.support:appcompat-v7:25.3.1' compile 'com.android.support:recyclerview-v7:25.3.1' compile 'com.alibaba:fastjson:1.1.46.android' compile 'com.taobao.android:weex_sdk:0.10.0'&#125; Âú® Application ‰∏≠ËøõË°åÂàùÂßãÂåñÔºåÂêåÊó∂ÂøÖÈ°ªÂú® AndroidManifest.xml Êñá‰ª∂‰∏≠ËøõË°åÂ£∞Êòé„ÄÇ 123456WXSDKEngine.initialize(this, new InitConfig.Builder().setImgAdapter(new IWXImgLoaderAdapter() &#123; @Override public void setImage(String url, ImageView view, WXImageQuality quality, WXImageStrategy strategy) &#125;&#125;).build()); Â∞ÜÁºñËØëÂÆåÊàêÁöÑ js Êñá‰ª∂Êã∑Ë¥ùÂà∞ assets ÁõÆÂΩïÔºåÂä†ËΩΩÊú¨Âú∞ js 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677public class MainActivity extends AppCompatActivity implements IWXRenderListener &#123; WXSDKInstance mWXSDKInstance; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); mWXSDKInstance = new WXSDKInstance(this); mWXSDKInstance.registerRenderListener(this); /** * WXSample ÂèØ‰ª•ÊõøÊç¢ÊàêËá™ÂÆö‰πâÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÈíàÂØπÂüãÁÇπÊúâÊïà„ÄÇ * template ÊòØ.we transform ÂêéÁöÑ jsÊñá‰ª∂„ÄÇ * option ÂèØ‰ª•‰∏∫Á©∫ÔºåÊàñËÄÖÈÄöËøáoption‰º†ÂÖ• jsÈúÄË¶ÅÁöÑÂèÇÊï∞„ÄÇ‰æãÂ¶Çbundle jsÁöÑÂú∞ÂùÄÁ≠â„ÄÇ * jsonInitData ÂèØ‰ª•‰∏∫Á©∫„ÄÇ * width ‰∏∫-1 ÈªòËÆ§ÂÖ®Â±èÔºåÂèØ‰ª•Ëá™Â∑±ÂÆöÂà∂„ÄÇ * height =-1 ÈªòËÆ§ÂÖ®Â±èÔºåÂèØ‰ª•Ëá™Â∑±ÂÆöÂà∂„ÄÇ */ mWXSDKInstance.render("WXSample", WXFileUtils.loadAsset("index.js", this), null, null, WXRenderStrategy.APPEND_ASYNC); &#125; @Override public void onViewCreated(WXSDKInstance instance, View view) &#123; Log.e("chendong","onViewCreated"); setContentView(view); &#125; @Override public void onRenderSuccess(WXSDKInstance instance, int width, int height) &#123; Log.e("chendong","onRenderSuccess"); &#125; @Override public void onRefreshSuccess(WXSDKInstance instance, int width, int height) &#123; Log.e("chendong","onRefreshSuccess"); &#125; @Override public void onException(WXSDKInstance instance, String errCode, String msg) &#123; Log.e("chendong",msg + " " +errCode); &#125; @Override protected void onResume() &#123; super.onResume(); if(mWXSDKInstance!=null)&#123; mWXSDKInstance.onActivityResume(); &#125; &#125; @Override protected void onPause() &#123; super.onPause(); if(mWXSDKInstance!=null)&#123; mWXSDKInstance.onActivityPause(); &#125; &#125; @Override protected void onStop() &#123; super.onStop(); if(mWXSDKInstance!=null)&#123; mWXSDKInstance.onActivityStop(); &#125; &#125; @Override protected void onDestroy() &#123; super.onDestroy(); if(mWXSDKInstance!=null)&#123; mWXSDKInstance.onActivityDestroy(); &#125; &#125;&#125; ËøêË°åÂèëÁé∞Â¶Ç‰∏ãÈóÆÈ¢ò 123initWXBridge HackAssertionException com.taobao.weex.utils.WXHack$HackDeclaration$HackAssertionException: java.lang.ClassNotFoundException: com.taobao.weex.devtools.debug.DebugServerProxy Ëß£ÂÜ≥‰∏äËø∞ÈóÆÈ¢òÔºåÂú® app/build.gradle ‰∏≠Âä†ÂÖ• debug ‰æùËµñ 1compile 'com.taobao.android:weex_inspector:0.0.8.5']]></content>
      <categories>
        <category>weex</category>
      </categories>
      <tags>
        <tag>weex</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin Â≠¶‰π†Ê±áÊÄª]]></title>
    <url>%2Farticle%2Fbbab636a%2F</url>
    <content type="text"><![CDATA[Kotlin Á≥ªÂàóÊñáÁ´†ÁöÑ‰∏Ä‰∏™ÁõÆÂΩïÔºåÂÖ±ËÆ° 22 ÁØáÔºå‰∏ªË¶ÅÊ∂âÂèäÂÆòÊñπÊñáÊ°£ÁöÑÂü∫Êú¨ËØ≠Ê≥ïÂèä Anko ÁöÑ‰ΩøÁî®Á≠â„ÄÇ Êú¨Á≥ªÂàóÊñáÊ°£‰∏ªË¶ÅÊ†πÊçÆ Kotlin ÂÆòÊñπÊñáÊ°£ÔºåÂØπÂü∫Êú¨ÁöÑËØ≠Ê≥ïËøõË°åÂ≠¶‰π†ÔºåÂêéÈù¢‰ºöÊåÅÁª≠Êõ¥Êñ∞Êñ∞ÁöÑÂÜÖÂÆπ‚Ä¶ KotlinÂºÄÂèë-1-Êñ∞ÁâπÊÄßÁØá KotlinÂºÄÂèë-2-Âü∫Á°Ä KotlinÂºÄÂèë-2-Âü∫Á°Ä-ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶ KotlinÂºÄÂèë-2-Âü∫Á°Ä-Êï∞ÊçÆÁ±ªÂûã KotlinÂºÄÂèë-2-Âü∫Á°Ä-ÊéßÂà∂ÊµÅ KotlinÂºÄÂèë-3-Â±ûÊÄß‰∏éÂüü KotlinÂºÄÂèë-4-Êé•Âè£ KotlinÂºÄÂèë-5-Á±ª‰∏éÂØπË±° KotlinÂºÄÂèë-6-Êâ©Â±ï KotlinÂºÄÂèë-7-ÁâπÊÆäÁ±ª KotlinÂºÄÂèë-8-ËåÉÂûã KotlinÂºÄÂèë-9-objectÂÖ≥ÈîÆÂ≠ó KotlinÂºÄÂèë-10-‰ª£ÁêÜ KotlinÂºÄÂèë-11-ÂáΩÊï∞ KotlinÂºÄÂèë-12-Á©∫ÂÄºÂÆâÂÖ® KotlinÂºÄÂèë-13-ÈõÜÂêà KotlinÂºÄÂèë-14-ÊùÇ‰∏ÉÊùÇÂÖ´(Ëß£ÊûÑÔºåÁ±ªÂûãËá™Âä®ËΩ¨Êç¢ÔºåRangeÔºåÂºÇÂ∏∏) KotlinÂºÄÂèë-15-Êìç‰ΩúÁ¨¶ÈáçËΩΩ KotlinÂºÄÂèë-16-ÂèçÂ∞Ñ KotlinÂºÄÂèë-17-Ê≥®Ëß£ KotlinÂºÄÂèë-18-ÂçèÁ®ã KotlinÂºÄÂèë-19-Anko]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[My-Todo-List]]></title>
    <url>%2Farticle%2F5a0eb6a0%2F</url>
    <content type="text"><![CDATA[TODO Book [ ] Js Â∞èÁ∫¢‰π¶ [ ] ÈîãÂà©ÁöÑ Jq Blog [ ] ÂõæÁâáÂ§ÑÁêÜÂÖàÊï¥ÁêÜ‰∏ÄÁØáÂÖ≥‰∫éÊ∂ÇÈ∏¶ÁöÑ [x] ‰ºòÂåñÁ≥ªÂàó„ÄÅÂÜÖÂ≠ò„ÄÅUI‰ºòÂåñ [ ] Handler ÈáçÊñ∞Êï¥ÁêÜ‰∏Ä‰∏ã [ ] HashMap ÈáçÊñ∞Êï¥ÁêÜ‰∏Ä‰∏ã Android Pro [x] ÂàÜ‰∫´ÁôªÂΩïÈ°πÁõÆÁªßÁª≠‰ºòÂåñ [ ] ÊîØ‰ªòÈ°πÁõÆ [ ] Kotlin Secure Files È°πÁõÆ [ ] ÂõæÁâáÂ§ÑÁêÜÈ°πÁõÆÊé®Ëøõ [x] ÈÄÇÈÖçÂô®È°πÁõÆ‰ºòÂåñ [ ] ÊïèÊç∑ÂºÄÂèëÂ∫ìÊï¥ÁêÜ [ ] ‰∫åÁª¥Á†ÅÈ°πÁõÆ [ ] weex cube Â∫ì Knowlege [x] Https Áõ∏ÂÖ≥ [ ] JVM ÂéüÁêÜ [ ] ÂÜÖÂ≠òÁÆ°ÁêÜ Source Code [ ] Glide Ê∫êÁ†Å [ ] OkHttp Ê∫êÁ†Å [ ] EventBus Ê∫êÁ†Å [ ] AsyncTask Ê∫êÁ†Å [ ] Handler,HashMap ÈáçÊñ∞Ê¢≥ÁêÜ [ ] weex sdk Ê∫êÁ†Å Êâ©Â±ï [ ] Â∞èÁ®ãÂ∫è [x] Weex ÂâçÁ´Ø [ ] Html 4+5 Âü∫Á°Ä - imooc,runoob [ ] Css 2+3 Âü∫Á°Ä - imooc,runoob [ ] JavaScript Âü∫Á°Ä - Áúã‰π¶,imooc [ ] JQuery [ ] weex + vue - ÊñáÊ°£„ÄÅ‰∫ëÁõòËßÜÈ¢ë Future [ ] docker [ ] node [ ] python [ ] Angular [ ] React [ ] sass,less]]></content>
      <categories>
        <category>Life</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Âü∫‰∫é Docker ÁéØÂ¢ÉÊê≠Âª∫ Jenkins]]></title>
    <url>%2Farticle%2Ffa67563%2F</url>
    <content type="text"><![CDATA[‰∏ÄÁØáÁõ∏ÂΩìÂÖ®Èù¢ÁöÑÊñáÊ°£ docker.com docker Âä†ÈÄüÂÆòÁΩë‰∏ãËΩΩ docker ÈÄüÂ∫¶ÂæàÊÖ¢ÔºåÂèØ‰ª•ÂâçÂæÄ daocloud.io ‰∏ãËΩΩ dockerÔºåÊàë‰∏ãËΩΩÁöÑÊòØ docker for macÔºåÈÄüÂ∫¶ÂæàÂø´Ôºå‰ΩÜÊòØÁâàÊú¨ÊØîËæÉËÄÅÔºåÂÆâË£ÖÂêéÂÜç check for updates ÂçáÁ∫ßÂà∞Êñ∞ÁâàÊú¨ÔºåÈÄüÂ∫¶‰ºöÂø´‰∏Ä‰∫õ„ÄÇ ÂÆâË£ÖÂ•Ω‰πãÂêéÔºå‰∏ãËΩΩÈïúÂÉèÈÄüÂ∫¶‰πüÂæàÊÖ¢ÔºåÂèØ‰ª•‰ΩøÁî®ÊâìÂºÄ Preference-&gt;Daemon-&gt;Registry Mirrors Ê∑ªÂä†Â¶Ç‰∏ãÈïúÂÉèÔºåÁÑ∂Âêé apply&amp;restart Â∞±ÂèØ‰ª•ÁîüÊïàÔºõ ÂèØ‰ª•‰ΩøÁî® docker info ÂëΩ‰ª§Êü•ÁúãÊòØÂê¶ÁîüÊïà 12http://b5886426.m.daocloud.io/https://docker.mirrors.ustc.edu.cn/ docker command1docker pull jenkins:latest ‰ª•ÊôÆÈÄöÁî®Êà∑ËøêË°å bash 1docker exec -it mycontainer bash ‰ª• root Áî®Êà∑ËøêË°å bash 1docker exec -u 0 -it mycontainer bash ‰ΩøÁî®ÈïúÂÉèÂàõÂª∫‰∏Ä‰∏™ÂÆπÂô® 1sudo docker run -d --name jenkins-node -p 49002:8080 -v /Users/march/docker/jenkins-node:/var/jenkins_home jenkins-android Ëß£Èáä‰∏Ä‰∏ãËøôÊù°ÂëΩ‰ª§ 123456789-d =&gt; debug Ê®°ÂºèÔºåÂêéÂè∞ËøêË°åÔºå‰∏ç‰ºöÂç†Áî®ÁªàÁ´ØÔºåÁªàÁ´ØÂÖ≥Èó≠‰πü‰∏ç‰ºöÂÅúÊ≠¢ÊúçÂä°--name jenkins-node =&gt; Âà´ÂêçÔºåÂê¶Âàô‰ºöÊòØ‰∏Ä‰∏™ÈöèÊú∫Âà´ÂêçÔºåÂà´ÂêçÂèØ‰ª•Áî®Êù•ÁÆ°ÁêÜËØ•ÂÆπÂô®-p 49002:8080 =&gt; Á´ØÂè£Êò†Â∞ÑÔºåÂ∞Ü 8080 Êò†Â∞ÑÂà∞ 49002ÔºåÂêéÈù¢‰ΩøÁî® localhost:49002 ËÆøÈóÆ-v /Users/march/docker/jenkins_node:/var/jenkins_home =&gt; Êñá‰ª∂ÊåÇËΩΩÔºåÂ∞Ü /var/jenkins_home ÊåÇËΩΩÂà∞ÊåáÂÆöÁõÆÂΩïÔºåÂ¶ÇÊûú‰∏çÊåÇËΩΩÔºåÂàôjenkinsÊâÄÊúâlog„ÄÅÁî®Êà∑ÈÖçÁΩÆÊñá‰ª∂ÈÉΩ‰ºöÂú®dockerÂÆπÂô®ÂÜÖÔºåÂ¶ÇÊûúÂÆπÂô®ÈîÄÊØÅÔºåÂàôjenkinsÂæóÈáçÊñ∞ÈÖçÁΩÆ‰∏ÄÈÅç„ÄÇÊåÇËΩΩÂá∫Êù•Êñπ‰æøjenkinsËøÅÁßª‰ª•ÂèäÁÆ°ÁêÜÔºå/Users/march/docker/jenkins_node ÊòØÊàëÁöÑ‰∏Ä‰∏™Êú¨Âú∞ÁõÆÂΩïÔºåÂú®ËØ•ÁõÆÂΩï‰∏ãÂèØ‰ª•ÁúãÂà∞ jenkins ÁöÑÁõ∏ÂÖ≥Êñá‰ª∂ÔºåËøô‰∏™ÁõÆÂΩïÈöèÊÑèÔºåÊ≥®ÊÑèÊùÉÈôêÈóÆÈ¢ò„ÄÇjenkins:latest =&gt; ÈïúÂÉèÂêçÁß∞ linuxÂÆâË£Ö sudo 1apt-get install sudo ÂÆâË£Ö nodejs„ÄÅnpm 123curl -sL https://deb.nodesource.com/setup_9.x | sudo -E bash -sudo apt-get install -y nodejssudo apt-get install -y npm sshssh-keygen -t rsa -b 4096 -C ‚Äòemail‚Äô Êú¨Êú∫Â≠òÊîæ id_rsaÔºåËøúÁ´ØÂ≠òÊîæ id_rsa.pub ÂÖ¨Èí• ssh-agent bash ssh-add id_rsa]]></content>
      <categories>
        <category>Docker</category>
        <category>Jenkins</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Jenkins</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî® digitalocean ÁßëÂ≠¶‰∏äÁΩë]]></title>
    <url>%2Farticle%2Ff546dc07%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî® digitalocean ÁßëÂ≠¶‰∏äÁΩë ËøûÊé•Âà∞ÊúçÂä° 1ssh root@128.199.148.155 ËøûÊé•ÈïúÂÉè 1curl -sSL https://agent.digitalocean.com/install.sh | sh 1234567891011121314yum install pythonÈ¶ñÂÖàÂÆâË£ÖepelÊâ©Â±ïÊ∫êÔºöyum -y install epel-releaseÊõ¥Êñ∞ÂÆåÊàê‰πãÂêéÔºåÂ∞±ÂèØÂÆâË£ÖpipÔºöyum -y install python-pipÂÆâË£ÖÂÆåÊàê‰πãÂêéÊ∏ÖÈô§cacheÔºöyum clean all ÂçáÁ∫ß pippip install --upgrade pippip install shadowsocks ÂêØÂä®ÔºèÁªàÊ≠¢ÊúçÂä° 12ssserver -c /etc/shadowsocks.json -d startssserver -c /etc/shadowsocks.json -d stop shadowsocks.json ÈÖçÁΩÆÊñá‰ª∂ 12345678910&#123; "server": "0.0.0.0", "server_port": 8388, "local_address": "127.0.0.1", "local_port": 1080, "password": "********", "timeout": 300, "method": "aes-256-cfb", "fast_open": false&#125; ÂÆâË£Ö bbr Âä†ÈÄü 123wget ‚Äìno-check-certificate https://github.com/teddysun/across/raw/master/bbr.shchmod +x bbr.sh./bbr.sh vim Êâæ‰∏çÂà∞ 123rpm -qa|grep vimyum -y install vim-enhancedyum -y install vim-common]]></content>
      <categories>
        <category>digitalocean</category>
      </categories>
      <tags>
        <tag>Extensions</tag>
        <tag>digitalocean</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Á≥ªÁªüÈÄöÁü•Áõ∏ÂÖ≥]]></title>
    <url>%2Farticle%2Fd1a02c42%2F</url>
    <content type="text"><![CDATA[Á≥ªÁªüÈÄöÁü•Â∞±ÊòØÂá∫Áé∞Âú®ÊâãÊú∫ÈÄöÁü•Èù¢Êùø‰∏äÁöÑÊ∂àÊÅØÔºåÁÇπÂáª‰πãÂêéÂèØ‰ª•Ëß¶ÂèëÁõ∏Â∫îÁöÑÊìç‰ΩúÔºåÂú®Êé•ÂÖ•Êé®ÈÄÅ„ÄÅÈÄöÁü•Áî®Êà∑‰∏ãËΩΩËøõÂ∫¶Á≠âÊÉÖÂÜµ‰∏ã‰ΩøÁî®ËæÉÂ§öÔºå‰ΩÜÊòØÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÊàë‰ª¨‰ΩøÁî®ÁöÑ‰πüÈÉΩÊòØÊúÄÁÆÄÂçïÁöÑÊñáÂ≠óÁ±ªÈÄöÁü•Ôºå‰∏çËøáÈöèÁùÄ Android Êñ∞ÁâàÊú¨ÁöÑÂèëÂ∏ÉÔºåÁ≥ªÁªüÈÄöÁü•‰πüÂèòÂæóÊ†∑Âºè‰∏∞ÂØåËµ∑Êù•„ÄÇ Êú¨Êñá‰∏ªË¶ÅËÆ∞ÂΩï Android ÂèëÈÄÅÁ≥ªÁªüÈÄöÁü•ÁöÑÁõ∏ÂÖ≥ÂÜÖÂÆπÔºåÂ¶ÇÂèëÈÄÅÁ∫ØÊñáÊú¨„ÄÅËøõÂ∫¶Êù°„ÄÅËá™ÂÆö‰πâËßÜÂõæ„ÄÅÊ∑ªÂä†ÊåâÈíÆ„ÄÅÂ§öË°åÊñáÂ≠óÊ®°Âºè„ÄÅÊî∂‰ª∂ÁÆ±Ê®°Âºè„ÄÅÂ§ßÂõæÊ®°ÂºèÁ≠âÔºõÈÄÇÈÖç Android 7.0 ËøõË°åÈÄöÁü•ÁöÑÂàÜÁªÑÔºåÈÅøÂÖçÂ§ßÈáèÈÄöÁü•Âç†ÊçÆÈÄöÁü•Èù¢ÊùøÔºõÊúÄÂêéÂ∞ÅË£Ö‰∏Ä‰∏™Â∑•ÂÖ∑Á±ªÔºåÁÆÄÂåñÂèëÈÄÅÂêÑÁßçÁ±ªÂûãÁöÑÈÄöÁü•ÁöÑËøáÁ®ã„ÄÇ Êú¨ÊñáÁõ∏ÂÖ≥Ê∫êÁ†Å GitHub Á≥ªÁªüÈÄöÁü•Â±ûÊÄßÈÖçÁΩÆÁî±‰∫éÁ≥ªÁªüÈÄöÁü•ÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÂæàÂ§öÔºåÂõ†Ê≠§Áî®‰∏Ä‰∏™Á±ªÊù•ÁÆ°ÁêÜÊâÄÊúâÁöÑÈÖçÁΩÆÈÄâÈ°πÔºåÂπ∂ÁªôÂ§ßÂ§öÊï∞Â±ûÊÄßÂ∏∏Áî®ÁöÑÈªòËÆ§ÂÄºÔºåÊù•ÁÆÄÂåñÂØπÈÄöÁü•Â§çÊùÇÁöÑÈÖçÁΩÆÊìç‰Ωú„ÄÇËøôÊ†∑Â∞±ÂèØ‰ª•‰∏çÁî®ÂÜçÈù¢ÂØπ SDK ‰∏≠Â§çÊùÇÁöÑ APIÔºåÂè™ÈúÄË¶ÅÊåâÁÖßÊòæÁ§∫ÁöÑÈúÄÊ±ÇÊù•ÈÖçÁΩÆÂØπË±°Âç≥ÂèØ„ÄÇ Áî±‰∫éÈÖçÁΩÆÁ±ªÂûãÁπÅÂ§öÔºåÈÉΩÂú®Ê≥®Èáä‰∏≠‰ΩìÁé∞Ôºå‰∏çÂÜçÂçïÁã¨‰∏Ä‰∏™‰∏Ä‰∏™ËØ¥‰∫Ü„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142public class NotifyModel &#123; // ÈÄöÂ∏∏‰ΩøÁî®Ëá™Âä®ÈÄíÂ¢ûÁöÑ id Êù•ÂèëÈÄÅÈÄöÁü• // ‰ΩÜÊòØÊúâÁ±ª‰ººËøõÂ∫¶Êù°ËøôÁ±ªÈÄöÁü•ÔºåÈúÄË¶ÅÊõ¥Êñ∞ÂéüÊù•ÁöÑÈÄöÁü•ÔºåÊ≠§Êó∂ÈúÄË¶Å‰∏Ä‰∏™‰∏çÂèòÁöÑ id private int notifyId = -1; // ÈÄöÂ∏∏‰ΩøÁî® private String title; // Ê†áÈ¢ò private String content; // ÈÄöÁü•ÁöÑÂÜÖÂÆπ private String ticker; // ÊªöÂä®ÊòæÁ§∫ÁöÑÊèêÁ§∫‰ø°ÊÅØ private int smallIcon; // ÈÄöÁü•Â∞èÂõæÊ†áËµÑÊ∫ê private Bitmap largeIcon; // ËÆæÁΩÆÊòæÁ§∫ÁöÑÂ§ßÂõæ private PendingIntent activeIntent; // ÁÇπÂáªÈÄöÁü•ÊøÄÊ¥ªÁöÑ intent private PendingIntent deleteIntent; // Âà†Èô§ÈÄöÁü•Êó∂ÊøÄÊ¥ªÁöÑ intent private boolean isOnGoing = false; // false Ë°®Á§∫ÂèØ‰ª•ÊªëÂä®Âà†Èô§ private boolean isAutoCancel = true; // true Ë°®Á§∫ÁÇπÂáª‰πãÂêéËá™Âä®Âà†Èô§ // ËÆæÁΩÆÈÄöÁü•‰ºòÂÖàÁ∫ßÂà´Ôºå‰ΩøÁî® // NotificationCompat.PRIORITY_MAX // NotificationCompat.PRIORITY_HIGH // NotificationCompat.PRIORITY_DEFAULT // NotificationCompat.PRIORITY_MIN // NotificationCompat.PRIORITY_LOW private int priority = NotificationCompat.PRIORITY_MAX; // ËÆæÁΩÆÊèêÁ§∫ÁöÑÊñπÂºèÔºåÂìçÈìÉÊàñËÄÖÈúáÂä®Ôºå‰ΩøÁî®ÂèÇÊï∞ // Notification.DEFAULT_ALLÔºöÈìÉÂ£∞„ÄÅÈó™ÂÖâ„ÄÅÈúáÂä®ÂùáÁ≥ªÁªüÈªòËÆ§„ÄÇ // Notification.DEFAULT_SOUNDÔºöÁ≥ªÁªüÈªòËÆ§ÈìÉÂ£∞„ÄÇ // Notification.DEFAULT_VIBRATEÔºöÁ≥ªÁªüÈªòËÆ§ÈúáÂä®„ÄÇ // Notification.DEFAULT_LIGHTSÔºöÁ≥ªÁªüÈªòËÆ§Èó™ÂÖâ„ÄÇ private int remindMode = NotificationCompat.DEFAULT_VIBRATE | Notification.DEFAULT_SOUND; private long[] vibrate = null; // Ëá™ÂÆö‰πâÊåØÂä®È¢ëÁéá private int currentProgress; // ÂΩìÂâçËøõÂ∫¶ private int totalProgress; // ÊÄªÂÖ±ËøõÂ∫¶ private boolean indeterminate; // ÊòØÂê¶Á≤æÁ°ÆËøõÂ∫¶Ôºåfalse ‰∏∫Á≤æÁ°ÆËøõÂ∫¶ private List&lt;NotificationCompat.Action&gt; actions; // ÊåâÈíÆÂàóË°®ÔºåÊúÄÂ§öÊîØÊåÅ 3 ‰∏™ÔºåÂ§ö‰∫Ü‰∏çÊòæÁ§∫ private RemoteViews remoteViews; // Ëá™ÂÆö‰πâËßÜÂõæ private NotificationCompat.Style notifyStyle; // ÈÄöÁü•ÁöÑÈ£éÊ†ºÔºåÊî∂‰ª∂ÁÆ±„ÄÅÂ§ßÂõæ„ÄÅÈïøÊñáÊú¨Á≠â private String notifyGroup = DevKit.getContext().getPackageName(); // ÂàÜÁªÑÊ†áËÆ∞ÔºåÂîØ‰∏ÄÂç≥ÂèØ private int summaryIfMoreThanCount = Integer.MAX_VALUE; // Ë∂ÖÂ§öÂ§öÂ∞ëÊù°Â∞±ÂàÜÁªÑÊòæÁ§∫&#125; ÂèëÈÄÅÈÄöÁü•ÂèëÈÄÅÈÄöÁü•ÈúÄË¶ÅÈ¶ñÂÖàÈúÄË¶Å‰ΩøÁî® NotificationCompat.Builder Êù•ÂàõÂª∫‰∏Ä‰∏™ NotificationÔºåÁÑ∂ÂêéÂÄüÂä© NotificationManager Êù•ÂèëÈÄÅÔºåÊ†πÊçÆ NotifyModel ‰∏≠ÁöÑÂØπÈÄöÁü•ÁöÑÈÖçÁΩÆÊù•ÊûÑÂª∫ NotificationÔºåËá≥‰∫éÂàõÂª∫Âì™ÁßçÁ±ªÂûãÁöÑÈÄöÁü•‰πüÊòØÊ†πÊçÆ NotifyModel ‰∏≠ÁöÑÂèÇÊï∞Êù•ÔºåÂêéÈù¢‰ºöÂÜçËØ¶ÁªÜËØ¥ÊØèÁßçÁ±ªÂûãÂÖ≥ÈîÆ‰ª£Á†Å„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657// Ê†πÊçÆÂàùÂßãÂåñ NotifyModel ÊûÑÂª∫ÈÄöÁü•private static NotificationCompat.Builder initNotificationBuilder(Context context, NotifyModel model) &#123; NotificationCompat.Builder builder = new NotificationCompat.Builder(context.getApplicationContext()); // ËÆæÁΩÆÂ∞èÂõæÊ†á,ËøôÊòØÂøÖÈ°ªÁöÑÁî®‰∫éÂú®ÈÄöÁü•Ê†èËøõË°åÊòæÁ§∫ÔºåÈªòËÆ§‰ΩøÁî®‰∫ÜËΩØ‰ª∂ÁöÑÂõæÊ†á builder.setSmallIcon(model.getSmallIcon()); // ËÆæÁΩÆÊòæÁ§∫ÁöÑÊ†áÈ¢ò builder.setContentTitle(model.getTitle()); // ËÆæÁΩÆÂÜÖÂÆπ builder.setContentText(model.getContent()); // ËÆæÁΩÆÊªöÂä®ÊòæÁ§∫ÁöÑÊèêÁ§∫‰ø°ÊÅØ if (!TextUtils.isEmpty(model.getTicker())) builder.setTicker(model.getTicker()); // ËÆæÁΩÆÂ§ßÂõæ if (model.getLargeIcon() != null) builder.setLargeIcon(model.getLargeIcon()); // ËÆæÁΩÆ‰ºòÂÖàÁ∫ß builder.setPriority(model.getPriority()); // ËÆæÁΩÆÈÄöÁü•ÈìÉÂ£∞ÊàñËÄÖÈúáÂä® builder.setDefaults(model.getRemindMode()); // ËÆæÁΩÆ‰∏çÂèØÊªëÂä®Âà†Èô§ builder.setOngoing(model.isOnGoing()); // ËÆæÁΩÆËá™Âä®Âà†Èô§ÈÄöÁü• builder.setAutoCancel(model.isAutoCancel()); // ÈúáÂä® if (model.getVibrate() != null) builder.setVibrate(model.getVibrate()); // ËÆæÁΩÆËá™ÂÆö‰πâËßÜÂõæ if (model.getRemoteViews() != null) &#123; builder.setContent(model.getRemoteViews()); // builder.setCustomHeadsUpContentView(model.getRemoteViews()); &#125; // ÁÇπÂáªÂêéÂèëÈÄÅ‰∫ã‰ª∂ if (model.getActiveIntent() != null) builder.setContentIntent(model.getActiveIntent()); // Âà†Èô§ÂêéÂèëÈÄÅ‰∫ã‰ª∂ if (model.getDeleteIntent() != null) builder.setDeleteIntent(model.getDeleteIntent()); // Ê∑ªÂä†ÊåâÈíÆÂèäÁÇπÂáª‰∫ã‰ª∂ if (model.getActions() != null) &#123; for (NotificationCompat.Action action : model.getActions()) &#123; builder.addAction(action); &#125; &#125; // ËÆæÁΩÆËøõÂ∫¶ if (model.getTotalProgress() != 0) &#123; builder.setProgress(model.getTotalProgress(), model.getCurrentProgress(), model.isIndeterminate()); &#125; // ÈÄöÁü•Ê†èÈ£éÊ†º if (model.getNotifyStyle() != null) &#123; builder.setStyle(model.getNotifyStyle()); &#125; // Êó∂Èó¥ÔºåÈÄöÁü•Ê†è‰ºöÊåâÁÖßËøô‰∏™ÊéíÂ∫è builder.setWhen(System.currentTimeMillis()); // ÈÄöÁü•ÂàÜÁªÑ builder.setGroup(model.getNotifyGroup()); return builder;&#125; ÂèëÈÄÅÈÄöÁü•ÔºåÊØèÊù°ÈÄöÁü•ÈÉΩÊúâ‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑ notifyIdÔºå‰∏çÂêåÁöÑ notifyId ÁöÑÈÄöÁü•Â∞Ü‰ºöÊéíÂàóÂú®ÈÄöÁü•Èù¢Êùø‰∏äÈù¢ÔºåÁõ∏Âêå notifyId ÁöÑÈÄöÁü•ÔºåÂêéÈù¢ÁöÑ‰ºöÊõøÊç¢ÂâçÈù¢ÁöÑÔºå ‰πüÂ∞±ÊòØËØ¥Èù¢Êùø‰∏äÈù¢Áõ∏Âêå notifyId ÁöÑÈÄöÁü•Âè™ËÉΩÊúâ‰∏ÄÊù°„ÄÇ 12345678910111213public static int notifyNow(Context context, NotifyModel model) &#123; Notification notification = initNotificationBuilder(context, model).build(); // Ëé∑ÂèñÈÄöÁü•ÁÆ°ÁêÜËÄÖÔºåÂπ∂Ëé∑ÂæóÁ≥ªÁªüÈÄöÁü• ÁöÑÊúçÂä° NotificationManager manager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE); int notifyId; if (model.getNotifyId() != -1) notifyId = model.getNotifyId(); else notifyId = ++sNotificationId; manager.notify(notifyId, notification); // ÂÖºÂÆπ 7.0 ÈÄöÁü•ÂàÜÁªÑ updateNotificationSummary(context, model); return notifyId;&#125; ÁÆÄÂçïÁöÑÊñáÊú¨ÈÄöÁü•Ëøô‰πüÂ∞±ÊòØÊàë‰ª¨ÊúÄÂ∏∏Áî®ÁöÑÈÄöÁü•Á±ªÂûã‰∫ÜÔºåÂõ†‰∏∫Â§ßÂ§öÊï∞ÁöÑÈÖçÁΩÆÈÉΩÊúâÈªòËÆ§ÂÄºÔºåÂ¶ÇÊûúÈúÄË¶ÅÂèëÈÄÅ‰∏ÄÊù°ÊñáÊú¨ÈÄöÁü•Âè™Ë¶ÅÈÖçÁΩÆÂá†‰∏™ÂÖ≥ÈîÆÁöÑÂ±ûÊÄßÂç≥ÂèØ„ÄÇ 123456789NotifyModel notifyModel = new NotifyModel();Intent intent = new Intent(mContext, HomeActivity.class);PendingIntent activeIntent = PendingIntent.getActivity(mContext, 100, intent, PendingIntent.FLAG_CANCEL_CURRENT);notifyModel.setActiveIntent(activeIntent);notifyModel.setSmallIcon(R.drawable.ic_launcher);notifyModel.setTitle("ÊµãËØïÊé®ÈÄÅÊ†áÈ¢ò");notifyModel.setTicker("ÊµãËØïÊé®ÈÄÅtrack");notifyModel.setContent("ÊµãËØïÊé®ÈÄÅÂÜÖÂÆπ");NotifySender.notifyNow(mActivity, notifyModel); ËøõÂ∫¶Êù°ÈÄöÁü•ËøõÂ∫¶Êù°ÁöÑÈÄöÁü•ÂêåÊ†∑‰ΩøÁî®ÊúÄÂü∫Êú¨ÁöÑ API Â∞±ËÉΩÂÆûÁé∞ÔºåËøôÈáå‰∏∫‰∫ÜÁÆÄÂåñÔºåÂÄüÂä© NotifyModel Êù•ÁÆ°ÁêÜÁõ∏ÂÖ≥ÂèÇÊï∞„ÄÇ Áî±‰∫éËøõÂ∫¶Êù°Á±ªÂûãÁöÑÈÄöÁü•‰∏çËÉΩÊØèÊ¨°Êõ¥Êñ∞ËøõÂ∫¶ÈÉΩÂá∫Áé∞Êñ∞ÁöÑÈÄöÁü•ÔºåÂõ†Ê≠§Â∞Ü notifyId ÂçïÁã¨ËÆæÁΩÆÊàê‰∏çÂèòÁöÑÔºå‰∏çÁÑ∂ÊØèÊ¨°ÂèëÈÄÅÊñ∞ÁöÑËøõÂ∫¶ÈÉΩ‰ºöÊúâ‰∏ÄÊù°„ÄÇ 12345678NotifyModel notifyModel = new NotifyModel();// ÂàùÂßãÂåñÁ±ª‰ººÁÆÄÂçïÊñáÊú¨ÈÄöÁü•‰∏Ä‰∫õÈÄöÁî®Âü∫Êú¨Â±ûÊÄß// ...progress += 10;notifyModel.setProgress(0x123, progress, 100, false);NotifySender.notifyNow(mActivity, notifyModel); Âú®ÊûÑÂª∫ÈÄöÁü•Êó∂ÔºåÈúÄË¶ÅËÆæÁΩÆÁöÑÊúâÂΩìÂâçËøõÂ∫¶ÔºåËøõÂ∫¶ÊúÄÂ§ßÂÄºÔºåÊòØ‰∏çÊòØÁ≤æÁ°ÆËøõÂ∫¶Á≠âÂèÇÊï∞ÔºåËøô‰∫õÈÉΩ‰øùÂ≠òÂú® NotifyModel ‰∏≠„ÄÇ 1234// ËÆæÁΩÆËøõÂ∫¶if (model.getTotalProgress() != 0) &#123; builder.setProgress(model.getTotalProgress(), model.getCurrentProgress(), model.isIndeterminate());&#125; Â∏¶ÊåâÈíÆÁöÑÈÄöÁü•ÊúâÊó∂ÂÄôÊàë‰ª¨ÈúÄË¶ÅÂú®ËøõÂ∫¶Êù°‰∏äÈù¢Ê∑ªÂä†ÊåâÈíÆÂèäÂÖ∂Áõ∏Â∫îÁöÑËß¶Âèë‰∫ã‰ª∂ÔºåÂÆûÁé∞ËøôÁßçÊïàÊûúÂè™ÈúÄË¶ÅÂÄüÂä© NotificationCompat.Action Âç≥ÂèØÔºåBuilder ÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™ Action ÁöÑÂàóË°®Ôºå‰πüÂ∞±‰ª£Ë°®‰∫ÜÂ§ö‰∏™ÊåâÈíÆÔºåÊµãËØïËøáÁ®ã‰∏≠ÂèëÁé∞ÊúÄÂ§ßÊîØÊåÅ 3 ‰∏™ÊåâÈíÆ„ÄÇ ‰∏ãÈù¢ÊàëÊ∑ªÂä†‰∫Ü 4 ‰∏™ÊåâÈíÆÔºåÂÆûÈôÖ‰∏äÂè™ËÉΩÊòæÁ§∫ 3 ‰∏™ÔºåÂè¶Â§ñÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂàõÂª∫ÊåâÈíÆÁÇπÂáª‰πãÂêéËß¶ÂèëÁöÑ PendingIntent Êó∂Ôºårequest code ÂøÖÈ°ªÊòØ‰∏çÂêåÁöÑÔºåÂê¶ÂàôÂ∞ÜÂ§±ÂéªÁÇπÂáªÊïàÊûú„ÄÇ ÊåâÈíÆÁÇπÂáª‰πãÂêéÔºåÈÄöÁü•Âπ∂‰∏çËÉΩËá™Âä®Ê∂àÈô§ÊéâÔºåÈúÄË¶ÅÂêéÁª≠Ëá™Â∑±Êù•Â§ÑÁêÜ„ÄÇ 1234567891011121314NotifyModel notifyModel = new NotifyModel();// ÂàùÂßãÂåñÁ±ª‰ººÁÆÄÂçïÊñáÊú¨ÈÄöÁü•‰∏Ä‰∫õÈÄöÁî®Âü∫Êú¨Â±ûÊÄß// ...notifyModel.addAction(new NotificationCompat.Action(R.drawable.ic_launcher, "1", PendingIntent.getActivity(mContext, 101, intent, PendingIntent.FLAG_CANCEL_CURRENT))));notifyModel.addAction(new NotificationCompat.Action(R.drawable.ic_launcher, "2", PendingIntent.getActivity(mContext, 102, intent, PendingIntent.FLAG_CANCEL_CURRENT)));notifyModel.addAction(new NotificationCompat.Action(R.drawable.ic_launcher, "3", PendingIntent.getActivity(mContext, 103, intent, PendingIntent.FLAG_CANCEL_CURRENT)));notifyModel.addAction(new NotificationCompat.Action(R.drawable.ic_launcher, "4", PendingIntent.getActivity(mContext, 104, intent, PendingIntent.FLAG_CANCEL_CURRENT))); NotifySender.notifyNow(mActivity, notifyModel); ÊûÑÂª∫ÈÄöÁü•Êó∂ 123456// Ê∑ªÂä†ÊåâÈíÆÂèäÁÇπÂáª‰∫ã‰ª∂if (model.getActions() != null) &#123; for (NotificationCompat.Action action : model.getActions()) &#123; builder.addAction(action); &#125;&#125; Ëá™ÂÆö‰πâËßÜÂõæÈÄöÁü•ÊúâÊó∂‰ªÖ‰ªÖÊ∑ªÂä†ÊåâÈíÆÂπ∂‰∏çËÉΩÊª°Ë∂≥Êàë‰ª¨ÁöÑË¶ÅÊ±ÇÔºåÈúÄË¶ÅËá™ÂÆö‰πâÈÄöÁü•ÁöÑ UI ÊòæÁ§∫ÔºåËøô‰∏ÄÂäüËÉΩÈúÄË¶ÅÂÄüÂä© RemoteViews Êù•ÂÆûÁé∞„ÄÇ RemoteViews ÂèØ‰ª•Âä†ËΩΩ‰∏Ä‰∏™Â∏ÉÂ±ÄÊñá‰ª∂Ôºå‰∏çËøáÈáåÈù¢Êéß‰ª∂Áõ∏ÂÖ≥ÁöÑËÆæÁΩÆÔºåÈÉΩÈúÄË¶ÅÂÄüÂä© RemoteViews ÁöÑ API Êù•ÂÆûÁé∞Ôºå‰∏çËøáÂ•ΩÂú®ÂíåÊéß‰ª∂ÁöÑÂ±ûÊÄßËøòÊòØÂçÅÂàÜÁ±ª‰ººÁöÑ„ÄÇ 12345678910111213141516NotifyModel notifyModel = new NotifyModel();// ÂàùÂßãÂåñÁ±ª‰ººÁÆÄÂçïÊñáÊú¨ÈÄöÁü•‰∏Ä‰∫õÈÄöÁî®Âü∫Êú¨Â±ûÊÄß// ...RemoteViews remoteViews = new RemoteViews(mContext.getPackageName(), R.layout.item);// ËÆæÁΩÆÊñáÂ≠óremoteViews.setTextViewText(R.id.tv, "test");// ËÆæÁΩÆÂõæÁâáremoteViews.setImageViewResource(R.id.iv, R.drawable.ic_launcher);// ÁÇπÂáª‰∫ã‰ª∂remoteViews.setOnClickPendingIntent(R.id.iv, PendingIntent.getActivity(mContext, 104, intent, PendingIntent.FLAG_CANCEL_CURRENT)); notifyModel.setRemoteViews(remoteViews);NotifySender.notifyNow(mActivity, notifyModel); Âú®ÊûÑÂª∫ÈÄöÁü•Êó∂ÔºåÂè™ÈúÄË¶ÅÂ∞Ü RemoteViews ‰Ωú‰∏∫ÈÄöÁü•ÁöÑÂÜÖÂÆπËÆæÁΩÆËøõÂéª 12345// ËÆæÁΩÆËá™ÂÆö‰πâËßÜÂõæif (model.getRemoteViews() != null) &#123; builder.setContent(model.getRemoteViews()); // builder.setCustomHeadsUpContentView(model.getRemoteViews());&#125; Êé•‰∏ãÊù•ÁöÑ 3 ÁßçÂ±ïÁ§∫ÊñπÂºèÔºåÈúÄË¶ÅÊàë‰ª¨ÂÖ≥Ê≥® NotificationCompat.Style Ëøô‰∏™Á±ªÔºåÂÆÉÁ°ÆÂÆö‰∫ÜÈÄöÁü•ÁöÑÈ£éÊ†ºÔºåÊØîÂ¶ÇÂ§öË°åÊñáÂ≠óÈ£éÊ†º„ÄÅÊî∂‰ª∂ÁÆ±È£éÊ†º„ÄÅÂ§ßÂõæÁâáÈ£éÊ†ºÔºåËÆæÁΩÆÊñπÂºè‰πüÂæàÁÆÄÂçïÂè™Ë¶Å 1234// ÈÄöÁü•Ê†èÈ£éÊ†ºif (model.getNotifyStyle() != null) &#123; builder.setStyle(model.getNotifyStyle());&#125; Â§öË°åÊñáÂ≠óÈ£éÊ†ºÈÄöÁü•ÈÄöÂ∏∏Êàë‰ª¨ÁöÑÈÄöÁü•Âè™ËÉΩÊòæÁ§∫‰∏ÄË°åÔºåÂ§ö‰∫Ü‰ª•Âêé‰ºöÈöêËóèÊòæÁ§∫ÔºåÂ§öË°åÊñáÂ≠óÂèØ‰ª•Â∞ÜÊâÄÊúâÊñáÂ≠óÊòæÁ§∫Âá∫Êù•Ôºå‰∏∫‰∫Ü‰ΩøÁî®ÁöÑÊñπ‰æøÔºåÊàëÂ∞ÜËÆæÁΩÆÁ±ªÂûãÁöÑÊñπÊ≥ïÈöêËóèÂú®‰∫Ü NotifyModel Á±ª‰∏≠„ÄÇ 1234// NotifyModel.javapublic void setBigTextStyle() &#123; notifyStyle = new NotificationCompat.BigTextStyle().bigText(content);&#125; Âõ†Ê≠§ÂΩìÂèëÈÄÅÈÄöÁü•Êó∂Âè™ÈúÄË¶Å setBigTextStyle() Âç≥ÂèØ„ÄÇ 1234567NotifyModel notifyModel = new NotifyModel();// ÂàùÂßãÂåñÁ±ª‰ººÁÆÄÂçïÊñáÊú¨ÈÄöÁü•‰∏Ä‰∫õÈÄöÁî®Âü∫Êú¨Â±ûÊÄß// ...notifyModel.setBigTextStyle();NotifySender.notifyNow(mActivity, notifyModel); Êî∂‰ª∂ÁÆ±È£éÊ†ºÈÄöÁü•Êî∂‰ª∂ÁÆ±È£éÊ†ºÁöÑÈÄöÁü•ÁªèÂ∏∏Âá∫Áé∞Âú®Âç≥Êó∂ÈÄöËÆØÁ±ªÁöÑËΩØ‰ª∂‰∏≠ÔºåÊØîÂ¶ÇÂØπÊñπÂèëËøáÊù•Âá†Êù°Ê∂àÊÅØ„ÄÇ ÂàõÂª∫ InBoxStyle 123456789// NotifyModel.javapublic void setInBoxStyle(List&lt;String&gt; msgList, String msgDesc) &#123; NotificationCompat.InboxStyle inboxStyle = new NotificationCompat.InboxStyle(); for (String msg : msgList) &#123; inboxStyle.addLine(msg); &#125; inboxStyle.setSummaryText(msgDesc); notifyStyle = inboxStyle;&#125; ÂèëÈÄÅÈÄöÁü•Êó∂ 12345678NotifyModel notifyModel = new NotifyModel();// ÂàùÂßãÂåñÁ±ª‰ººÁÆÄÂçïÊñáÊú¨ÈÄöÁü•‰∏Ä‰∫õÈÄöÁî®Âü∫Êú¨Â±ûÊÄß// ...List&lt;String&gt; msgList = LightConverter.listOf("1", "2", "3", "4", "5");notifyModel.setInBoxStyle(msgList, "ÊµãËØï inbox ÊèèËø∞");NotifySender.notifyNow(mActivity, notifyModel); Â§ßÂõæÈ£éÊ†ºÈÄöÁü•ËøôÁßçÈ£éÊ†ºÁöÑÈÄöÁü•Êàë‰ª¨ÈÄöÂ∏∏‰ºöÂú®‰ΩøÁî®ÊâãÊú∫Á≥ªÁªüÊà™ÂõæÊó∂Âá∫Áé∞Âú®ÈÄöÁü•Èù¢Êùø‰∏äÈù¢ÔºåÈÄöÁü•‰∏äÈù¢‰ºöÊòæÁ§∫‰∏ÄÂº†Â§ßÂõæÁâá„ÄÇ ÂàõÂª∫ BigPictureStyle 1234// NotifyModel.javapublic void setBigImageStyle(Bitmap bigImage) &#123; notifyStyle = new NotificationCompat.BigPictureStyle().bigPicture(bigImage).bigLargeIcon(bigImage);&#125; ÂèëÈÄÅÈÄöÁü•ÔºåÊ≥®ÊÑè‰∏çË¶ÅÊîæËøõÂéªÂæàÂ§ßÁöÑÂõæÁâá„ÄÇ 1234567891011NotifyModel notifyModel = new NotifyModel();// ÂàùÂßãÂåñÁ±ª‰ººÁÆÄÂçïÊñáÊú¨ÈÄöÁü•‰∏Ä‰∫õÈÄöÁî®Âü∫Êú¨Â±ûÊÄß// ...BitmapFactory.Options options = new BitmapFactory.Options();options.inSampleSize = 4;String path = new File(Environment.getExternalStorageDirectory(), "1.jpg").getAbsolutePath();Bitmap bitmap = BitmapFactory.decodeFile(path, options);notifyModel.setBigImageStyle(bitmap);NotifySender.notifyNow(mActivity, notifyModel); ÂØπÈÄöÁü•ËøõË°åÂàÜÁªÑÂΩì‰∏Ä‰∏™ËΩØ‰ª∂ÂèëÈÄÅ‰∫ÜÂ§ßÈáèÈÄöÁü•ÔºåËÄåÁî®Êà∑ÂèàÊ≤°ÊúâÂéªÁÇπÂáªÂ§ÑÁêÜÔºåÂ∞±‰ºöÂ†ÜÁßØÂú®ÈÄöÁü•Èù¢Êùø‰∏äÔºåÊúÄÂêéË¢´‰∏ÄÈîÆÊ∏ÖÈô§ÊéâÔºåËá™ Android N ‰πãÂêéÊîØÊåÅÂØπÈÄöÁü•ËøõË°åÂàÜÁªÑÔºåÁÇπÂáªÂàÜÁªÑÊâç‰ºöÊòæÁ§∫ÂÖ®ÈÉ®ÁöÑÈÄöÁü•„ÄÇ Âú®ÂèëÈÄÅÈÄöÁü•Êó∂ÔºåÁªôÈÄöÁü•ËÆæÁΩÆ‰∏Ä‰∏™ GroupÔºåËøôÊòØ‰∏Ä‰∏™ÂîØ‰∏ÄÂ≠óÁ¨¶‰∏≤Ôºå‰ªñÁî®Êù•Ê†áËÆ∞Ëøô‰∏™ÈÄöÁü•ÊòØÂ±û‰∫éËøô‰∏™ÂàÜÁªÑÁöÑ„ÄÇ 123// ÈÄöÁü•ÂàÜÁªÑif (model.getNotifyGroup() != null) builder.setGroup(model.getNotifyGroup()); ÂÆûÈôÖ‰∏äÔºåÊâÄË∞ìÁöÑÂàÜÁªÑÔºå‰πüÊòØ‰∏Ä‰∏™ÁâπÊÆäÁöÑÈÄöÁü•ÔºåÂè™ÊòØÂÆÉÂú®ÊòæÁ§∫Âú®ÈÄöÁü•Èù¢Êùø‰∏äÈù¢ÁöÑÂêåÊó∂Ôºå‰ºöÂ∞ÜÂÖ∑ÊúâÁõ∏Âêå Group ÁöÑÈÄöÁü•ÁªôÊî∂ÈõÜÂà∞‰∏ÄËµ∑ÔºåÂ¶ÇÊûúËøô‰∏™ÁâπÊÆäÁöÑÈÄöÁü•Ë¢´ cancel Êéâ‰∫ÜÔºåÂéüÊù•ÁöÑÈÄöÁü•Âèà‰ºöÊòæÁ§∫Âá∫Êù•„ÄÇÂõ†Ê≠§Êàë‰ª¨Âú®ÊØèÊ¨°ÂèëÈÄÅÈÄöÁü•ÊàñËÄÖÊ∏ÖÈô§ÈÄöÁü•‰πãÂêéÈÉΩÂéªÈúÄË¶ÅÊ£ÄÊµã‰∏Ä‰∏ãÂΩìÂâçÈÄöÁü•ÁöÑÊï∞ÈáèÔºå‰ª•ÂèäÈúÄË¶Å‰∏çÈúÄË¶ÅÂÜçÂ∞ÜÈÄöÁü•Êî∂Ëµ∑„ÄÇ Ê£ÄÊµãÂΩìÂâçÂ∫îÁî®ÈÄöÁü•Êï∞ÈáèÔºåÂõ†‰∏∫ÂàÜÁªÑÈÄöÁü•‰πüÊòØ‰∏ÄÊù°ÈÄöÁü•ÔºåÂõ†Ê≠§ËÆ°ÁÆóÊï∞ÈáèÊó∂Ë¶ÅËøáÊª§Êéâ„ÄÇ 123456789101112131415private static int getNumberOfNotifications(Context context) &#123; if (AppUtils.isOver(Build.VERSION_CODES.M)) &#123; // Êü•ËØ¢ÂΩìÂâçÂ±ïÁ§∫ÁöÑÊâÄÊúâÈÄöÁü•ÁöÑÁä∂ÊÄÅÂàóË°® final StatusBarNotification[] activeNotifications = getManager(context).getActiveNotifications(); // Ëé∑ÂèñÂΩìÂâçÈÄöÁü•Ê†èÈáåÂ§¥ÔºåNOTIFICATION_GROUP_SUMMARY_IDÂΩíÁ±ªidÁöÑÁªÑÂà´ // Âõ†‰∏∫ÂèëÈÄÅÂàÜÁªÑÁöÑÈÄöÁü•‰πüÁÆó‰∏ÄÊù°ÈÄöÁü•ÔºåÊâÄ‰ª•ÈúÄË¶Å-1 for (StatusBarNotification notification : activeNotifications) &#123; if (notification.getId() == NOTIFICATION_GROUP_SUMMARY_ID) &#123; return activeNotifications.length - 1; &#125; &#125; return activeNotifications.length; &#125; return -1;&#125; ÂΩìÂèëÁé∞ÈÄöÁü•Êï∞ÈáèË∂ÖÂá∫ÈôêÂà∂Êó∂ÔºåÊàë‰ª¨Â∞±Ë¶ÅÈ¢ùÂ§ñÂèëÈÄÅ‰∏ÄÊù°ÈÄöÁü•ÔºåÂ∞ÜÊâÄÊúâÈÄöÁü•ÂàÜÁªÑÊî∂Ëµ∑„ÄÇ 12345678910111213141516171819202122232425private static final int NOTIFICATION_GROUP_SUMMARY_ID = 1;private static void updateNotificationSummary(Context context, NotifyModel model) &#123; if (!AppUtils.isOver(Build.VERSION_CODES.N)) return; int numberOfNotifications = getNumberOfNotifications(context); boolean onlyGroup = isOnlyGroup(context); NotificationManager manager = getManager(context); // ÊúâÂ§öÊù°Ëá™Â∑±ÁöÑÈÄöÁü•ÔºåÂΩìÊï∞ÈáèË∂ÖËøáË¶ÅÊ±ÇÁöÑÈôêÂà∂ if (numberOfNotifications &gt;= model.getSummaryIfMoreThanCount()) &#123; NotificationCompat.Builder builder = new NotificationCompat.Builder(context); // ËÆæÁΩÆÊòæÁ§∫ÁöÑÊ†áÈ¢ò builder.setContentTitle(context.getString(R.string.app_name)); // ËÆæÁΩÆÂÜÖÂÆπ builder.setContentText("ÈÄöÁü•Â∑≤ÁªèÊî∂Ëµ∑ÔºåËØ∑Êü•Áúã"); builder .setSmallIcon(model.getSmallIcon()) .setGroup(model.getNotifyGroup()) //ËÆæÁΩÆÁ±ªÁªÑkeyÔºåËØ¥ÊòéÊ≠§Êù°ÈÄöÁü•ÂΩíÂ±û‰∫éÂì™‰∏Ä‰∏™ÂΩíÁ±ª .setGroupSummary(true); //ËøôÂè•ËØùÂøÖÈ°ªÂíå‰∏äÈù¢ÈÇ£Âè•‰∏ÄËµ∑Ë∞ÉÁî®ÔºåÂê¶Âàô‰∏çËµ∑‰ΩúÁî® Notification notification = builder.build(); manager.notify(NOTIFICATION_GROUP_SUMMARY_ID, notification); &#125; else if (numberOfNotifications == 1) &#123; // Âè™Êúâ‰∏ÄÊù°Ëá™Â∑±ÁöÑÈÄöÁü• manager.cancel(NOTIFICATION_GROUP_SUMMARY_ID); &#125;&#125; Ê∏ÖÈô§ÈÄöÁü•123456789101112private static NotificationManager getManager(Context context) &#123; return (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);&#125;// Ê∏ÖÈô§ÊåáÂÆöÈÄöÁü•public static void clearById(Context context, int id) &#123; NotificationManager manager = getManager(context); if (id != -1) manager.cancel(id); else manager.cancelAll();&#125; PendingIntentËøôÊòØ‰∏Ä‰∏™Á±ª‰ºº Intent ÁöÑÁªÑ‰ª∂Ôºå‰πüÊòØ‰∏ÄÁßç ÊÑèÂõæÔºå‰∏çÂêåÁöÑÊòØÂÆÉÂèØ‰ª•‰Ωú‰∏∫ÈÄöÁü•‰∫ã‰ª∂ÁöÑËß¶Âèë‰∫ã‰ª∂ÔºåPendingIntent ÂèØ‰ª•Âú®ÈÄöÁü•‰∫ã‰ª∂Ë¢´Ëß¶ÂèëÊó∂ÂêØÂä®‰∏Ä‰∏™ ActivityÔºåÊàñËÄÖÂèëÈÄÅ‰∏Ä‰∏™ BroadcastÔºåÂèàÊàñËÄÖÂêØÂä®‰∏Ä‰∏™ ServiceÔºåËøôÂèñÂÜ≥‰∫éÂ¶Ç‰ΩïÊûÑÈÄ† PendingIntent„ÄÇ ÊØîËæÉÊù•ËØ¥Ôºå‰ΩøÁî®ÂºÄÂêØ Activity ÁöÑ PendingIntent ÊØîËæÉÁÆÄÂçïÔºåÁÇπÂáª‰πãÂêéÁ´ãÂàªÂ∞±ÂèØ‰ª•ÊâìÂºÄÁïåÈù¢ÔºåÁº∫ÁÇπÂ∞±ÊòØÂΩìÈÄöÁü•ÂèëÈÄÅÂá∫ÂéªÊó∂ÔºåËß¶Âèë‰∫ã‰ª∂Â∑≤ÁªèÊó†Ê≥ïÊõ¥ÊîπÔºå‰∏æ‰∏™‰æãÂ≠êÔºåÊØîÂ¶ÇÂΩìÁî®Êà∑Ê≤°ÊúâÁôªÂΩïÊó∂ÈúÄË¶ÅÊâìÂºÄÁôªÂΩïÁïåÈù¢ÔºåÂèç‰πãËøõÂÖ•ÊåáÂÆöÈ°µÈù¢ÔºõÂÜçÊØîÂ¶ÇÔºåÊÉ≥Âú®ÈÄöÁü•Ë¢´ÁÇπÂáªÊó∂Ëß¶ÂèëÁΩëÁªúËØ∑Ê±ÇËøõË°åÊï∞ÊçÆÁªüËÆ°ÔºåËøô‰∫õÊÉÖÂÜµÈÉΩÊúÄÂ•ΩÈÄâÊã© Broadcast ÁöÑ PendingIntentÔºåÂÆÉ‰ΩøÂæóÈÄöÁü•ÁöÑ‰∫ã‰ª∂Ëß¶Âèë‰πãÂêéÔºåÂèëÈÄÅÂπøÊí≠Âà∞ÊåáÂÆöÊé•ÂèóËÄÖÔºåÊàë‰ª¨ÂèØ‰ª•ÂêéÁª≠ÂÜçÂÅöÊõ¥Â§öÊìç‰ΩúÔºåËøôÊ†∑Êõ¥ÁÅµÊ¥ª„ÄÇ ÂºÄÂêØ Activity 12Intent intent = new Intent(mContext, HomeActivity.class);PendingIntent.getActivity(mContext, 104, intent, PendingIntent.FLAG_CANCEL_CURRENT) ÂèëÈÄÅ Broadcast 12345678class MyReceiver extends BroadcastReceiver&#123; @Override public void onReceive(Context context, Intent intent) &#123; &#125;&#125;Intent intent = new Intent(mContext,MyReceiver.class);PendingIntent.getBroadcast(mContext, 104, intent, PendingIntent.FLAG_CANCEL_CURRENT); ÊÄªÁªì‰ª•‰∏äÔºåÊòØÂÖ≥‰∫éÁ≥ªÁªüÈÄöÁü•ÁöÑÂÜÖÂÆπÔºåÂÖ≥‰∫éÈÄöÁü•ÂàÜÁªÑÂú® Android 7.0 ‰∏äÈù¢ÁöÑÂÖ∑‰ΩìÊòæÁ§∫ÔºåÂõ†‰∏∫Ê≤°ÊúâÊâãÊú∫ÊµãËØïÔºåÊâÄ‰ª•Ê≤°ÊúâÁúüÁöÑÊµãËØïËøáÔºåÂú® 6.0 ÊâãÊú∫‰∏äÂèØ‰ª•Â∞ÜÈÄöÁü•Êî∂Ëµ∑Ôºå‰ΩÜÊòØÂç¥Ê≤°ÂäûÊ≥ïÂÜçÂ±ïÂºÄ‰∫ÜÔºåÂêéÈù¢ËøòÈúÄË¶ÅÊõ¥Â§öÁöÑÊµãËØïÊù•ÊÖ¢ÊÖ¢Á†îÁ©∂ËøôÈÉ®ÂàÜ„ÄÇ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∏∫iPhoneÂà∂‰ΩúÊâãÊú∫ÈìÉÂ£∞ [Tips]]]></title>
    <url>%2Farticle%2Ff622e275%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî® iPhone ÊâãÊú∫Ê≤°Ê≥ïÂÉè Android ÈÇ£Ê†∑ÁÆÄÂçïÁöÑËÆæÁΩÆÊâãÊú∫ÈìÉÂ£∞ÔºåÈúÄË¶ÅÂÄüÂä© iTunes„ÄÇ Êàë‰ΩøÁî®ÁöÑ Mac ÁîµËÑëÔºåÊâÄ‰ª•‰∏Ä‰∫õÊìç‰ΩúÁõ∏ÂØπÁÆÄÂçï‰∏Ä‰∫õ„ÄÇ ‰∏ãËΩΩÈü≥‰πêÊãñÊîæÂà∞ iTunes ÂàóË°®‰∏≠ÔºåÂú®Èü≥‰πê‰∏äÂè≥ÈîÆÔºåÊü•Áúã Èü≥‰πê‰ø°ÊÅØ Êü•Áúã ÈÄâÈ°πÔºå‰øÆÊîπ ÂºÄÂßã Âíå ÁªìÊùü ÁöÑÊó∂Èó¥ÔºåÊúÄÈïø‰∏çË¶ÅË∂ÖËøá 40sÔºåÁÇπÂáªÊí≠ÊîæÔºåÊü•Áúã‰∏Ä‰∏ãÊòØ‰∏çÊòØÊÉ≥Ë¶ÅÊà™ÂèñÁöÑÁâáÊÆµ ÁÇπÂáªËèúÂçïÊ†è -&gt; Êñá‰ª∂ -&gt; ËΩ¨Êç¢ -&gt; ÂàõÂª∫ AAC ÁâàÊú¨ÔºåÂú®Èü≥‰πê‰∏äÂè≥ÈîÆÂú®Êñá‰ª∂Â§πÊòæÁ§∫Âá∫Êù•Ôºå‰ºöÂèëÁé∞Â§ö‰∫Ü‰∏Ä‰∏™ m4a Êñá‰ª∂ Â∞ÜËøô‰∏™Êñá‰ª∂Êã∑Ë¥ùÂà∞Âà´ÁöÑÂú∞ÊñπÂ§áÁî®ÔºåÂêéÁºÄÊîπ‰∏∫ m4rÔºå‰ªéÈü≥‰πêÂàóË°®‰∏≠Âà†Èô§ÂéüÂßãÁöÑÈü≥‰πêÊñá‰ª∂ ÈÄâÊã©ÈìÉÂ£∞Á±ªÂà´ÔºåÂ∞Ü m4r Êñá‰ª∂ÊãñÊîæÂà∞Êñá‰ª∂ÂàóË°®‰∏≠ ‰ΩøÁî®Êï∞ÊçÆÁ∫øËøûÊé•ÊâãÊú∫ÔºåÊü•ÁúãÊâãÊú∫ÁöÑÈü≥‰πêÂàóË°®ÔºåÁÇπÂáªÊâãÊú∫ÁöÑÈìÉÂ£∞Á±ªÂà´ÔºåÈÄâÊã©ÊåáÂÆöÁöÑÈìÉÂ£∞ÂêåÊ≠•Âç≥ÂèØ]]></content>
      <categories>
        <category>Life</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Learn About HTML]]></title>
    <url>%2Farticle%2Fef811326%2F</url>
    <content type="text"><![CDATA[‰ªéÂ§¥ÂºÄÂßãÁ≥ªÁªüÁöÑÂ≠¶‰π† Html Ê†áÁ≠æÁöÑÁî®Ê≥ïÔºåÂÅöÂ•ΩËÆ∞ÂΩïÔºåÂä†Ê∑±ËÆ∞ÂøÜ„ÄÇ È°µÈù¢ÊûÑÊàêÊï¥‰∏™ html È°µÈù¢‰∏ªË¶ÅÁî± &lt;html/&gt; Ê†áÁ≠æÔºå&lt;head/&gt; Ê†áÁ≠æÔºå&lt;body/&gt; Ê†áÁ≠æÁªÑÊàê„ÄÇ 123456789101112&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;head&gt; ...&lt;/head&gt;&lt;body&gt; ...&lt;/body&gt;&lt;/html&gt; \&lt;title&gt; ÂÜÖÂÆπÂ∞ÜÊòæÁ§∫Âú®ÊµèËßàÂô® tab Ê†è‰∏ä„ÄÇ]]></content>
      <categories>
        <category>ÂâçÁ´Ø</category>
      </categories>
      <tags>
        <tag>ÂâçÁ´Ø</tag>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-19-Anko]]></title>
    <url>%2Farticle%2F49416638%2F</url>
    <content type="text"><![CDATA[‰∏ãÈù¢ÊòØÊàëÊäÑÁöÑ Anko - GitHub ‰∏äÈù¢ÁöÑÊèèËø∞ Anko is a Kotlin library which makes Android application development faster and easier. It makes your code clean and easy to read, and lets you forget about rough edges of the Android SDK for Java. Anko consists of several parts: 1234567Anko Commons: a lightweight library full of helpers for intents, dialogs, logging and so on;Anko Layouts: a fast and type-safe way to write dynamic Android layouts;Anko SQLite: a query DSL and parser collection for Android SQLite;Anko Coroutines: utilities based on the kotlinx.coroutines library. Commons1compile &quot;org.jetbrains.anko:anko-commons:$anko_version&quot; Commons Â∫ìÂ∞±Á±ª‰ºº‰∫éÊàë‰ª¨ÁöÑÂø´ÈÄüÂºÄÂèëÊ°ÜÊû∂ÔºåÂú®‰∏Ä‰∫õÂü∫Á°Ä API ÁöÑÂü∫Á°Ä‰∏äËøõ‰∏ÄÊ≠•Â∞ÅË£ÖÔºåËææÂà∞Êõ¥Âä†ÁÆÄÂåñÁöÑÁõÆÁöÑ„ÄÇ IntentÂØπ Intent ÁöÑÊâ©Â±ïÔºåÂ§ßÂ§ßÁÆÄÂåñÊûÑÈÄ† Intent ÁöÑËøáÁ®ã 123456789101112131415// ÊâìÂºÄ ActivitystartActivity(intentFor&lt;HomeActivity&gt;())intentFor&lt;HomeActivity&gt;( "id" to 5, "name" to "chendong") intentFor&lt;HomeActivity&gt;( "id" to 5, "name" to "chendong").singleTop() intentFor&lt;HomeActivity&gt;( "id" to 5, "name" to "chendong") .addFlags(Intent.FLAG_ACTIVITY_NEW_TASK) ÈíàÂØπ‰∏Ä‰∫õ Intent ÁöÑÂ∏∏Áî®Êìç‰ΩúÔºå‰πüÂÅö‰∫ÜÂ∞ÅË£Ö 12345678910// ÊâìÁîµËØù-ÈúÄË¶ÅÁî≥ËØ∑ÊùÉÈôêmakeCall("13611301718")// ÂèëÈÇÆ‰ª∂email("helloworld@gmail.com", "subject", "email-body")// ÂèëÁü≠‰ø°sendSMS("13611301718", "msg-body")// ÂàÜ‰∫´ÊñáÂ≠óshare("title", "msg-body")// ÂºÄÂêØÊµèËßàÂô®browse("http://www.baidu.com", true) UI ExtensionÊòæÁ§∫ Toast 123toast("toast msg")toast(R.string.msg)longToast("long toast msg") ÊòæÁ§∫ AlertDialog 12345678910111213alert(Appcompat, "message", "title") &#123; okButton &#123; it.dismiss() &#125; cancelButton &#123; it.dismiss() &#125;&#125;.show()alert &#123; customView &#123; editText() &#125;&#125;.show() ÊòæÁ§∫ÈÄâÊã©ÂàóË°®ÁöÑ Dialog 1234selector("selector", listOf("1", "2", "3")) &#123; dialog, index -&gt; dialog.dismiss() toast("click $index")&#125; ÊòæÁ§∫ ProgressDialog 12345progressDialog("message", "title") &#123;&#125;indeterminateProgressDialog("message", "title") &#123;&#125; LogÂàõÂª∫ log ÊâìÂç∞ 123456// tag ‰∏∫ TestCommonsActivityval logger = AnkoLogger&lt;TestCommonsActivity&gt;()// tag ‰∏∫ CustomTagval logger2 = AnkoLogger("CustomTag")// tag ‰∏∫ Testval logger3 = AnkoLogger(Test::class.java) ËæìÂá∫Êó•ÂøóÔºåÊîØÊåÅÂáΩÊï∞ËÆ°ÁÆóÔºåËøôÊ†∑ÂèØ‰ª•Âú®ËæìÂá∫ÁöÑÂÜçËÆ°ÁÆóÁõ∏ÂÖ≥ÁöÑÂÄº 12345678910111213141516logger.verbose &#123; "lazy calculate verbose msg" &#125;logger.verbose("verbose msg")logger.debug &#123; "lazy calculate debug msg" &#125;logger.debug("debug msg")logger.info &#123; "lazy calculate info msg" &#125;logger.info("info msg")logger.warn &#123; "lazy calculate warn msg" &#125;logger.warn("warn msg")logger.error &#123; "lazy calculate error msg" &#125;logger.error("error msg")logger.wtf("error", IllegalStateException("error")) MiscÂ∞ÜÈ¢úËâ≤ËΩ¨Âåñ‰∏∫ÈùûÈÄèÊòéËâ≤Ôºåalpha ÈÉ®ÂàÜ‰ºöË¢´ËΩ¨Êç¢‰∏∫ ff 10x00ff0000.opaque ÁÅ∞ÂåñÔºåÂ∞ÜÁªôÁöÑÈ¢úËâ≤Âçï‰∏ÄËâ≤ÂÄºËøõË°åÁÅ∞ÂåñÔºåÁ∫¢ÁªøËìù‰∏âÈÉ®ÂàÜ‰ºöÂèòÊàêÁõ∏ÂêåÁöÑËâ≤ÂÄºÔºå‰ΩÜÊòØÊúÄÂ•Ω‰ΩøÁî®‰∏Ä‰∏™Ëâ≤ÂÄºÁöÑ‰∏§‰ΩçÔºåÂÆÉ‰ΩøÁî®‰∫ÜÁßª‰ΩçËøêÁÆóÔºå‰∏çÁÑ∂ÁªìÊûú‰ºöÊúâÁÇπÊ∑∑‰π± 1234// Â∞Ü‰ºöËøîÂõû 0xff9999990x99.gray.opaque // Â∞Ü‰ºöËøîÂõû 0xffffff990xff99.gray.opaque Â∞∫ÂØ∏ËΩ¨Êç¢ 12345678// sp ËΩ¨ pxsp(10)// dp ËΩ¨ pxdip(10)// px ËΩ¨ dppx2dip(10)// px ËΩ¨ sppx2sp(10) ÈÄíÂΩíÈÅçÂéÜÊâÄÊúâ child viewÔºåËøôËæπÈúÄË¶ÅÁªìÂêà‰∏ÄÁÇπ Layouts Ê°ÜÊû∂ÁöÑÂÜÖÂÆπÔºåÁî®‰∫éÊúÄÂêéÂØπ View ËøõË°åËÆæÁΩÆ 12345678verticalLayout &#123; button("log") &#123;&#125; button("color") &#123;&#125;&#125;.applyRecursively &#123; when (it) &#123; is Button -&gt; it.text = "$&#123;it.text&#125; add" &#125;&#125; ÁÆÄÂåñÁâàÊú¨ÁöÑ findViewById() 1234textView(R.string.app_name)&#123; textResource = R.string.app_name backgroundResource = R.mipmap.ic_launcher&#125; Âú® Activity Âíå Fragment ‰∏≠ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® ctx Âíå act Êù•ËÆøÈóÆ‰∏ä‰∏ãÊñá„ÄÇ 1234// context ctx// Activityact LayoutsLayouts Ê°ÜÊû∂ÊúÄÂ§ßÁöÑ‰∫ÆÁÇπÂ∞±ÊòØ DSL(Domain Specific Language)ÔºåÈ¢ÜÂüü‰∏ìÁî®ËØ≠Ë®ÄÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁßçÊñ∞ÁöÑÊûÑÂª∫ UI ÁöÑÊñπÂºèÔºå‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî® DSLÔºå‰∏ãÊñáÊëòËá™ GitHub 1234567By default, UI in Android is written using XML. That is inconvenient in the following ways:It is not typesafe;It is not null-safe;It forces you to write almost the same code for every layout you make;XML is parsed on the device wasting CPU time and battery;Most of all, it allows no code reuse. ‰ΩøÁî®‰º†ÁªüÁöÑ xml ÊûÑÂª∫ÊñπÂºèÔºå‰ΩøÁî®Ëµ∑Êù•ÁúüÁöÑÂæàÁÆÄÂçïÔºåËøòÊúâÂÆûÊó∂È¢ÑËßàÔºå‰ΩÜÊòØÂêåÊ†∑ÊúâÂæàÂ§öÁº∫ÁÇπÔºåÊØîÂ¶ÇÁ±ªÂûãÂÆâÂÖ®ÔºåÁ©∫ÂÆâÂÖ®Ôºå‰∏çËÉΩËøõË°åÂ£∞ÊòéÊï∞ÊçÆËÆøÈóÆÊï∞ÊçÆÔºåxml ÁöÑËß£ÊûêÊµ™Ë¥π‰∫ÜÂ§ßÈáèÊÄßËÉΩÁ≠âÔºåËÄåÂ¶ÇÊûú‰ΩøÁî®‰ª£Á†ÅÁºñÂÜô UIÔºåÁÆÄÁõ¥ÁóõËã¶Ê≠ªÔºå‰ΩÜÊòØ‰ΩøÁî® DSL ÂèØ‰ª•ÈÅøÂÖçËøô‰∫õÈóÆÈ¢òÔºåËÄå‰∏îËøòÊúâÊèí‰ª∂ÊîØÊåÅÂÆûÊó∂È¢ÑËßàÔºåËøòÊúâ‰ªÄ‰πàÁêÜÁî±ÊãíÁªùÂë¢Ôºü Ê∑ªÂä†‰æùËµñÔºåÂèëÁé∞ com.google.android Êó†Ê≥ï‰∏ãËΩΩÔºåÂõ†Ê≠§ËøáÊª§ÊéâÔºåÂè¶Â§ñÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂ¶ÇÊûú‰æùËµñ‰∫Ü kotlin ÂçèÁ®ãÂÆòÊñπÁöÑÊâ©Â±ïÂ∫ìÔºåÈúÄË¶ÅÂà†Èô§ÊéâÔºåÂê¶ÂàôÁâàÊú¨‰∏çÂêåÂèØËÉΩ‰ºöÂá∫ÈóÆÈ¢ò„ÄÇ 12// ‰∏çÈúÄË¶ÅÈáçÂ§ç‰æùËµñcompile 'org.jetbrains.kotlinx:kotlinx-coroutines-core:0.18' ‰ΩøÁî® Layouts ÈúÄË¶Å‰ª•‰∏ã‰æùËµñ 123456789101112131415// Anko Layouts // sdk15, sdk19, sdk21, sdk23 are also availablecompile("org.jetbrains.anko:anko-sdk25:$anko_version") &#123; exclude group: 'com.google.android', module: 'android'&#125;compile("org.jetbrains.anko:anko-appcompat-v7:$anko_version") &#123; exclude group: 'com.google.android', module: 'android'&#125;// Coroutine listeners for Anko Layoutscompile("org.jetbrains.anko:anko-sdk25-coroutines:$anko_version") &#123; exclude group: 'com.google.android', module: 'android'&#125;compile("org.jetbrains.anko:anko-appcompat-v7-coroutines:$anko_version") &#123; exclude group: 'com.google.android', module: 'android'&#125; Basics‰∏çÂÜçÈúÄË¶Å setContentView() 12345678910override fun onCreate(savedInstanceState: Bundle?) &#123; super.onCreate(savedInstanceState) var view1 = find&lt;TextView&gt;(R.id.mTestTv) var view2 = findOptional&lt;TextView&gt;(R.id.mTestTv) // Áõ¥Êé•Â£∞ÊòéÂ∏ÉÂ±Ä verticalLayout &#123; &#125;&#125; ‰ΩøÁî® DSL Â∏ÉÂ±ÄÔºåÁî®Ëµ∑Êù•Âíå xml Áõ∏Â∑Æ‰∏çÂ§ßÔºåÂÄüÂä©‰ª£Á†ÅÁöÑÁº©ËøõÂèØ‰ª•Ê∏ÖÊô∞ÁöÑÊÉ≥Ë±°Âá∫Â∏ÉÂ±ÄÁöÑÊ†∑ÂºèÔºåÊîØÊåÅ Android ÊâÄÊúâÁöÑÊéß‰ª∂„ÄÇ 123456789101112131415verticalLayout &#123; // ÂûÇÁõ¥ÁöÑ LinearLayout verticalLayout &#123; button &#123; &#125; progressBar &#123; &#125; &#125; // Ê∞¥Âπ≥ÁöÑ LinearLayout linearLayout &#123;&#125; // RelativeLayout relativeLayout &#123;&#125; // FrameLayout frameLayout &#123;&#125; // AbsoluteLayout absoluteLayout &#123;&#125;&#125; Êéß‰ª∂Â±ûÊÄßÂíå LayoutParamsÂ£∞ÊòéÊéß‰ª∂ÁöÑÂ±ûÊÄßÔºåÊéßÂà∂Êéß‰ª∂ÁöÑÁªòÂà∂ÊòæÁ§∫ÔºåÂú®ÂàõÂª∫Êéß‰ª∂Êó∂‰ºö‰º†ÂÖ•‰∏Ä‰∏™ÂàùÂßãÂåñÂáΩÊï∞ÔºåÂú®ËØ•ÂáΩÊï∞‰∏≠ÂèØ‰ª•ËøõË°åÊéß‰ª∂Â±ûÊÄßÁöÑÂàùÂßãÂåñÔºåÂÜôËøá xml Ëøô‰∫õÂ±ûÊÄßÁî®Ëµ∑Êù•ÂÖ∂ÂÆûÊ≤°‰ªÄ‰πàÂ§™Â§ßÂ∑ÆÂà´ÔºåÂ≠¶‰π†ÊàêÊú¨‰∏çÈ´òÔºåÂêåÊ†∑ÊØè‰∏™Â±ûÊÄßÈÉΩ‰ºöÂØπÂ∫î‰∏Ä‰∏™‰ΩøÁî® resource ÁöÑÊñπÊ≥ïÔºåÁî®Êù•ÂÖºÂÆπ‰ΩøÁî® xml Â£∞ÊòéÁöÑ string,color Á≠âÔºåÊù•ÈÅøÂÖçÁ°¨ÁºñÁ†Å„ÄÇ 12345678910verticalLayout &#123; backgroundColor = 0xff.gray.opaque textView("textview") &#123; text = "i am tv" textColor = 0x00.gray.opaque textSize = 18f backgroundColor = Color.YELLOW gravity = Gravity.CENTER &#125;&#125; ËÆæÁΩÆ LayoutParamsÔºå‰ªñÁî®Êù•Ë°®Á§∫ËØ•Êéß‰ª∂Âú®Áà∂Â∏ÉÂ±Ä‰∏≠ÁªòÂà∂ÊòæÁ§∫ 1234567891011121314151617181920textView("textview") &#123; // ... // ÊñáÂ≠óÂú®Êéß‰ª∂ÂÜÖÂ±Ö‰∏≠ gravity = Gravity.CENTER&#125;.lparams &#123; // Êï¥‰∏™Êéß‰ª∂Âú®Áà∂Â∏ÉÂ±Ä‰∏≠Èù†Âè≥ gravity = Gravity.RIGHT width = matchParent height = dip(200) // margin margin = dip(10) horizontalMargin = dip(10) verticalMargin = dip(10) leftMargin = dip(10) // padding padding = dip(10) verticalPadding = dip(10) horizontalPadding = dip(10) leftPadding = dip(10)&#125; RelativeLayoutÂà´ÁöÑÂ∏ÉÂ±Ä‰∏çÁî®Â§öËØ¥ÔºåÊéß‰ª∂‰πãÈó¥ÁöÑ‰æùËµñÁõ∏ÂØπÁÆÄÂçïÔºåÈíàÂØπ RelativeLayout Ë¶ÅÂ§çÊùÇ‰∏Ä‰∫õÔºåÂú® Anko ‰∏≠ÂèØ‰ª•Á±ª‰ºº xml ‰∏≠‰∏ÄÊ†∑Ôºå‰ΩøÁî®Áõ∏‰ººÁöÑËØ≠Ê≥ï‰æùËµñÂÖ∂‰ªñÊéß‰ª∂ÁöÑ idÔºå‰πüÂèØ‰ª•Áõ¥Êé•‰æùËµñÊéß‰ª∂ÂºïÁî®ÔºåÂΩìÁÑ∂ÈáåÈù¢ÁöÑÂéüÁêÜËøòÊòØÊ†πÊçÆ id ‰æùËµñ„ÄÇ ÂÖ≥‰∫é idÔºåÊó†Ê≥ïÂÉè xml ‰∏≠ÂèØ‰ª•Ëá™Âä®ÁîüÊàêÔºåÊâÄ‰ª•Ë¶Å‰πà‰ΩøÁî® val ID_VIEW = 100 ËøôÊ†∑ÁöÑÂΩ¢ÂºèÂ£∞ÊòéÔºåË¶Å‰πà‰ΩøÁî® resources ÁöÑÊñπÂºèÔºåÊé®ËçêÂêéÈù¢‰∏ÄÁßçÔºåÂ¶Ç‰∏ãÔºö 123&lt;resources&gt; &lt;item name="test_tv" type="id"/&gt;&lt;/resources&gt; psÔºöÂ∞±ÁÆóÊòØ‰æùËµñÊéß‰ª∂ÁöÑÂºïÁî®Ôºå‰πüÂøÖÈ°ª‰∏∫Êéß‰ª∂Â£∞Êòé idÔºåÂõ†‰∏∫ÂÜÖÈÉ®ÂéüÁêÜËøòÊòØ‰ΩøÁî® id ‰æùËµñÔºåÊ≤°Êúâ id ‰ºöÂºÇÂ∏∏„ÄÇ ‰ΩøÁî® RelativeLayout Â∏ÉÂ±Ä 1234567891011121314151617181920212223242526272829303132333435363738relativeLayout &#123; val tv = textView &#123; id = R.id.test_tv textColor = 0x00.gray.opaque text = "i am textview in relative layout" &#125; button &#123; text = "i am button below textview" &#125;.lparams &#123; // ÊîØÊåÅ id rightOf(R.id.test_tv) // ÊîØÊåÅ Êéß‰ª∂ rightOf(tv) rightOf(R.id.test_tv) leftOf(R.id.test_tv) above(R.id.test_tv) below(R.id.test_tv) centerInParent() centerVertically() centerHorizontally() alignParentTop() alignParentBottom() alignParentRight() alignParentLeft() sameLeft(R.id.test_tv) sameRight(R.id.test_tv) sameTop(R.id.test_tv) sameBottom(R.id.test_tv) alignStart(R.id.test_tv) alignEnd(R.id.test_tv) baselineOf(R.id.test_tv) &#125;&#125; ThemeÂØπÊØè‰∏™Êéß‰ª∂ÈÉΩÊúâ‰∏Ä‰∏™ themedXXXX ÁöÑÂÆûÁé∞ÔºåÊîØÊåÅ‰ΩøÁî® R.style.xxx Êù•ÂàùÂßãÂåñ 1234&lt;style name="MyTv"&gt; &lt;item name="android:text"&gt;Êù•Ëá™styleÁöÑtext&lt;/item&gt; &lt;item name="android:textColor"&gt;#000000&lt;/item&gt;&lt;/style&gt; ‰ΩøÁî® theme ÂàõÂª∫ 123verticalLayout &#123; themedTextView(R.style.MyTv)&#125; Listeners‰∏∫Êéß‰ª∂ËÆæÁΩÆÁõëÂê¨ÔºåÊâÄÊúâÁõëÂê¨ÈªòËÆ§ÊîØÊåÅÂçèÁ®ãÔºåËøôÊÑèÂë≥ÁùÄ‰Ω†ÂèØ‰ª•Âú®ÁõëÂê¨‰∏≠Áõ¥Êé•ÊâßË°åÂºÇÊ≠•‰ªªÂä°ÔºåËøòÊúâ‰∏Ä‰∏™‰ºòÂäøÂ∞±ÊòØÂÆûÁé∞‰∏Ä‰∏™ÁõëÂê¨Êó∂‰∏çÂÜçË¶ÅÂÆûÁé∞ÊâÄÊúâÊñπÊ≥ï„ÄÇ 12345678910111213141516171819// Âú®ÁõëÂê¨‰πã‰∏≠Áõ¥Êé•ÊâßË°åËÄóÊó∂Êìç‰Ωúbutton("test") &#123; onClick &#123; // ËÄóÊó∂ val result = bg &#123; Thread.sleep(1000) System.currentTimeMillis().toString() &#125; textView.text = result.await() &#125;&#125;// ÂÆûÁé∞ÈúÄË¶ÅÁöÑÁõëÂê¨editText &#123; textChangedListener &#123; afterTextChanged &#123; &#125; &#125;&#125; ExtendsÂú® DSL ‰∏≠ÊîØÊåÅÊâ©Â±ï‰ΩøÁî®Ëá™ÂÆö‰πâÊéß‰ª∂ 12345class MyView(context: Context?) : TextView(context)inline fun ViewManager.myView(init: MyView.() -&gt; Unit): MyView &#123; return ankoView(&#123; MyView(it) &#125;, theme = 0, init = init)&#125; ËøôÊ†∑Âú® DSL ‰∏≠Â∞±ÂèØ‰ª•‰ΩøÁî® 12345verticalLayout &#123; myView &#123; text = "Ëá™ÂÆö‰πâÊéß‰ª∂" &#125;&#125; IncludeÂåÖÂê´ layout.xml Êñá‰ª∂Ôºå‰ΩøÁî® includeÔºåËåÉÂûãÂÜ≥ÂÆö‰∫ÜÂú®ÂáΩÊï∞‰∏≠‰Ω†ÂèØ‰ª•‰ΩøÁî®ÁöÑÁ±ªÂûã 12345verticalLayout&#123; include&lt;TextView&gt;(R.layout.main_activity)&#123; text = "text" &#125;&#125; ConvertËΩ¨Êç¢ xml -&gt; DSL 1Code -&gt; Covert to Anko Layouts DSL Component‰ΩøÁî® AnkoComponent ÂèØ‰ª•ËÆ©Êàë‰ª¨Â∞Ü UI ÈÉ®ÂàÜÂçïÁã¨ÁöÑÁã¨Á´ãÂá∫Êù•ÔºåËÄå‰∏çÊòØÊåÇÂú® Activity ÁîüÂëΩÂë®ÊúüÊñπÊ≥ï‰∏≠ÂõΩÔºåÂèØ‰ª•ËÆ©‰ª£Á†ÅÊõ¥Ê∏ÖÊô∞ 12345678910111213141516class SplashActivityUI : AnkoComponent&lt;SplashActivity&gt; &#123; override fun createView(ui: AnkoContext&lt;SplashActivity&gt;): View = with(ui) frameLayout &#123; backgroundResource = R.drawable.splash_bg_bitmap textView("Security Files") &#123; gravity = Gravity.CENTER backgroundColor = white textColor = black verticalPadding = dip(15) textSize = sp(16f).toFloat() &#125;.lparams(width = matchParent, height = wrapContent) &#123; gravity = Gravity.CENTER &#125; &#125; &#125;&#125; ÁÑ∂ÂêéÂú® Activity ÁöÑ onCreate() ÊñπÊ≥ï‰∏≠Ê∑ªÂä†Â∏ÉÂ±Ä 1SplashActivityUI().setContentView(this) ‰ΩøÁî® AnkoComponent ‰∏çÊ≠¢ÂèØ‰ª•Â∞Ü Activity ‰∏≠ÁöÑÂ∏ÉÂ±ÄÂàÜÁ¶ªÂá∫Êù•Ôºå‰ªñÂÖ∂ÂÆûÊòØ‰∏ÄÁßçÂØπÂ∏ÉÂ±Ä‰ª£Á†ÅËøõË°åËß£ËÄ¶Â§çÁî®ÁöÑÊñπÊ≥ïÔºåÊàë‰ª¨‰πüÂèØ‰ª•Áî®ÂÆÉÊù•Âä†ËΩΩ RecyclerView ÁöÑ item CoroutinesCoroutines Ê°ÜÊû∂ÊòØÂü∫‰∫é kotlinx-coroutine Ê°ÜÊû∂ÁöÑÊâ©Â±ïÔºåÂú®Ê≠§Âü∫Á°Ä‰∏äÈíàÂØπ Android ÂÅö‰∫ÜÁÆÄÂåñ„ÄÇ 1compile "org.jetbrains.anko:anko-coroutines:$anko_version" asReferenceËøô‰∏™‰∏ªË¶ÅÁî®Êù•ÈÅøÂÖçÂ¶ÇÊûú‰Ω†Âú®‰∏Ä‰∏™‰∏çËÉΩÂèñÊ∂àÁöÑÂçèÁ®ã‰πã‰∏≠ÂºïÁî®‰∫Ü‰∏ä‰∏ãÊñáÔºåÁî±‰∫éÂçèÁ®ãÂèØËÉΩË¢´ÊåÇËµ∑ÔºåËøô‰∏ÄÊìç‰ΩúÊúâÂèØËÉΩÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºèÔºåÂõ†Ê≠§ anko Êèê‰æõ‰∫Ü asReference ÊñπÊ≥ïÊù•Ëé∑ÂèñÂΩìÂâç‰∏ä‰∏ãÊñáÁöÑÂº±ÂºïÁî®ÔºåÈÅøÂÖçÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇ 1234567891011private val ref: Ref&lt;TestAnkoCoroutineActivity&gt; = asReference()private val tv: TextView by lazy &#123; find&lt;TextView&gt;(R.id.test_tv)&#125;fun test() &#123; launch(UI) &#123; ref().tv.hide() &#125;&#125; bgÁî®Êù•Âø´ÈÄüÁöÑÂàõÂª∫‰∏Ä‰∏™ÈúÄË¶ÅËÄóÊó∂ÁöÑÂºÇÊ≠•‰ªªÂä°ÔºåÂπ∂ËøîÂõûÁªìÊûú 123456789101112tv.setOnClickListener &#123; launch(UI) &#123; pb.show() val rst = bg &#123; Thread.sleep(1000) val index = time + (1..1000).sum() index &#125; tv.text = rst.await().toString() pb.hide() &#125;&#125; SQLiteÊöÇ‰∏çÁ†îÁ©∂]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-18-ÂçèÁ®ã]]></title>
    <url>%2Farticle%2F794b3d5f%2F</url>
    <content type="text"><![CDATA[ÂçèÁ®ã CoroutinesÔºåÊåáÂêÑ‰ªªÂä°Âçè‰ΩúËøêË°åÔºõ Á∫øÁ®ãÊòØÊìç‰ΩúÁ≥ªÁªüÂ±ÇÈù¢ÁöÑÔºåÁî±Êìç‰ΩúÁ≥ªÁªüË∞ÉÂ∫¶ÊâßË°åÔºåÊàë‰ª¨ÂèØ‰ª•ÂºÄÂêØ‰∏Ä‰∏™Á∫øÁ®ãÔºå‰ΩÜÊó†Ê≥ïÁü•ÈÅìÁ∫øÁ®ã‰ªÄ‰πàÊó∂ÂÄôÊâßË°åÔºå‰ªÄ‰πàÊó∂ÂÄôÊâßË°åÂÆåÔºåÂõ†Ê≠§Êàë‰ª¨ÈÄöÂ∏∏‰ΩøÁî®ÂõûË∞ÉÁöÑÂΩ¢ÂºèÂú®Á∫øÁ®ãÊâßË°åÂÆå‰πãÂêéÊé•ÂèóÊâßË°åÁöÑÁªìÊûúÔºåÁ∫øÁ®ãÁöÑËøêË°åÊòØÊä¢Âç†ÂºèÁöÑÔºåÂêéËµ∑ÁöÑ B Á∫øÁ®ãÂèØËÉΩÊä¢Âç†ÂÖàËµ∑ÁöÑ A Á∫øÁ®ãÁöÑËµÑÊ∫êÔºåA Á∫øÁ®ã‰ºöË¢´ÈòªÂ°ûÔºå‰ªéËÄåÈÄ†ÊàêËµÑÊ∫êÁöÑÊµ™Ë¥π„ÄÇ ÂçèÁ®ãÊòØÂ∫îÁî®Â±ÇÈù¢ÁöÑÔºåÂÆÉÁî±ËôöÊãüÊú∫ËøõË°åË∞ÉÂ∫¶ÔºåÊàë‰ª¨ÂèØ‰ª•ÈöèÊÑèÂºÄÂêØÂíåÁªàÊ≠¢ÂçèÁ®ãÁöÑËøêË°åÔºåÂçèÁ®ãÊòØÈùûÊä¢Âç†Ê∞èÁöÑÔºåÂ¶ÇÊûúÂΩìÂâçÂçèÁ®ãÂú®ËøêË°åÔºåÈô§ÈùûÂΩìÂâçËøêË°åÁöÑÂçèÁ®ã‰∏ªÂä® ÈÄÄËÆ©ÔºåÊåÇËµ∑ÔºåÂê¶ÂàôÂÖ∂‰ªñÂçèÁ®ã‰∏ç‰ºöÊä¢Âç†ËøêË°åÊú∫‰ºöÔºåÁî±‰∫éÂêÑ‰ªªÂä°ÂÜô‰ΩúËøêË°åÔºåÂ∞±ÈÅøÂÖç‰∫ÜÂàõÂª∫Â§ßÈáèÁöÑÁ∫øÁ®ã„ÄÇ ÂçèÁ®ãÊú¨Ë∫´Âπ∂‰∏çÂÖ∑Â§áÁ∫øÁ®ãÂàáÊç¢ÁöÑÂäüËÉΩÔºåËÄóÊó∂Êìç‰ΩúÁ≠â‰ªçÊóßÈúÄË¶ÅÊàë‰ª¨ÊâãÂä®ÂàáÊç¢Âà∞Â≠êÁ∫øÁ®ãÊâßË°åÔºå‰ΩÜÊòØÂçèÁ®ãÁöÑ API ËÆæËÆ°‰ΩøÂæóÊàë‰ª¨ÂèØ‰ª•ÂÉèÁºñÂÜôÂêåÊ≠•‰ª£Á†Å‰∏ÄÊ†∑ÁºñÂÜôÂºÇÊ≠•‰ª£Á†ÅÔºåÈÅøÂÖç‰ΩøÁî®ÂõûË∞ÉÔºåÈÄªËæë‰πüÊõ¥Ê∏ÖÊô∞„ÄÇ Êú¨Êñá‰∏≠ÁöÑ‰ª£Á†ÅÊ≤°ÊúâÁúüÊ≠£ÁöÑËøõË°åÊìç‰ΩúÔºå‰ΩøÁî®ËæìÂá∫ log Êù•‰ª£Êõø Êé®ËçêÈòÖËØªÊ∑±ÂÖ•ÁêÜËß£ Kotlin Coroutine 1 - Áü•‰πé Ê∑±ÂÖ•ÁêÜËß£ Kotlin Coroutine 2 - Áü•‰πé Kotlin Coroutines ‰ΩøÁî®ÂõûË∞ÉËøõË°åÂºÇÊ≠•‰ΩøÁî®ÂõûË∞ÉÊé•Âè£Ëé∑ÂèñÂºÇÊ≠•ÁªìÊûúÔºåÊòØÂú® Java ‰∏≠Â∏∏Áî®ÁöÑÊñπÊ≥ïÔºåÂú®‰∏ªÁ∫øÁ®ãËøõË°å UI Êìç‰ΩúÔºåÂàáÊç¢Âà∞Â≠êÁ∫øÁ®ãËøõË°åËÄóÊó∂Êìç‰ΩúÔºåÊìç‰ΩúÁöÑÁªìÊûúËøîÂõûÂà∞‰∏ªÁ∫øÁ®ãÊõ¥Êñ∞ UI„ÄÇ 1234567891011121314151617181920212223// Á∫øÁ®ãÊ±†val pool: ExecutorService by lazy &#123; Executors.newCachedThreadPool()&#125;// ‰∏Ä‰∏™ÂæàÂøôÁöÑÊñπÊ≥ïÔºåÂõûË∞ÉËøîÂõûÂÄºfun doLotsOfThingsWithCallBack(callback: (String) -&gt; Unit) &#123; pool.execute &#123; log("ÂºÄÂßãËÄóÊó∂") Thread.sleep(100) Handler(Looper.getMainLooper()).post &#123; callback.invoke("result") &#125; &#125;&#125;fun testCallback() &#123; log("ÂºÄÂßãÂÖàÊù•‰∏™UIÊìç‰Ωú") doLotsOfThingsWithCallBack &#123; log("ÂõûË∞ÉÊãøÂà∞ÁªìÊûú‰∫Ü -&gt; $it") log("ÂÜçÊù•‰∏™UIÊìç‰Ωú") &#125;&#125; Âõ†‰∏∫Êàë‰ª¨Âè™Êúâ‰∏ÄÂ±ÇÂõûË∞ÉÔºåÂä†‰∏ä Kotlin ÂØπ Lambda Ë°®ËææÂºèÁöÑÊîØÊåÅÔºåÁúãËµ∑Êù•‰ª£Á†ÅËøò‰∏çÊòØÈÇ£‰πàÈöæÁúãÔºåËøô‰πüÊòØÂú® Java ‰∏≠Â∏∏Áî®ÁöÑÊñπÊ≥ïÔºåÁõ∏ÂØπÂ•ΩÁêÜËß£‰∏Ä‰∫õÔºåÁúã‰∏Ä‰∏ãËæìÂá∫ÁªìÊûúÔºö 1234E/Coroutine: main ÂºÄÂßãÂÖàÊù•‰∏™UIÊìç‰ΩúE/Coroutine: pool-1-thread-1 ÂºÄÂßãËÄóÊó∂E/Coroutine: main ÂõûË∞ÉÊãøÂà∞ÁªìÊûú‰∫Ü -&gt; resultE/Coroutine: main ÂÜçÊù•‰∏™UIÊìç‰Ωú ‰ΩøÁî®ÂçèÁ®ãÂÆûÁé∞ÂçèÁ®ãÂÄüÂä© suspend ÂÖ≥ÈîÆÂ≠óÂÆûÁé∞Ôºå‰ΩøÁî® suspend ÂÖ≥ÈîÆÂ≠óÊèèËø∞ÁöÑÂáΩÊï∞ÔºåË°®Á§∫Ê≠§ÂáΩÊï∞ÂèØ‰ª•Ë¢´ÊåÇËµ∑„ÄÇ ‰ªãÁªçÂá†‰∏™Ê¶ÇÂøµ CoroutineContextÔºåÂçèÁ®ã‰∏ä‰∏ãÊñáÔºåÂæàÂ§öÊ°ÜÊû∂ÈÉΩ‰ºöÊúâ‰∏Ä‰∏™‰∏ä‰∏ãÊñáÂØπË±°ÔºåÊîØÊåÅ + Êìç‰ΩúÁ¨¶ÔºåÂõ†Ê≠§ÂÆÉÂèØ‰ª•ÊòØÂ§ö‰∏™‰∏ä‰∏ãÊñáÁöÑÁ¥ØÂä†ÁªìÊûúÔºåKotlin ‰∏≠ÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Á©∫ÁöÑÂÆûÁé∞ EmptyCoroutineContextÔºåÁî®Êù•Âç†‰Ωç„ÄÇ ContinuationÔºåÂçèÁ®ã‰∏≠ÁöÑ‰ªªÂä°ÊâßË°åÂêéÁöÑÊìç‰ΩúÔºåÂÆÉÂèØ‰ª•ËøîÂõû‰ªªÂä°ÁöÑÁªìÊûúÊàñËÄÖÂºÇÂ∏∏„ÄÇ ÂêåÊ†∑‰ΩøÁî®ÂçèÁ®ãÊù•ÂÆûÁé∞‰∏Ä‰∏™Âíå‰∏äÈù¢Á±ª‰ººÁöÑÂäüËÉΩÔºö 123456789101112131415161718192021222324252627282930313233343536fun testCoroutine() &#123; log("ÂºÄÂßãÂÖàÊù•‰∏™UIÊìç‰Ωú") callCoroutine &#123; // ÊâßË°åËÄóÊó∂Êìç‰ΩúÔºåÊâßË°åÂÆå‰πãÂêé‰ºöÁªßÁª≠ÂæÄ‰∏ãËµ∞ val result = doLotsOfThingsCanSuspend("test") log("ÊãøÂà∞ÁªìÊûú‰∫Ü -&gt; $result") log("ÂÜçÊù•‰∏™UIÊìç‰Ωú") &#125;&#125;// ‰∏Ä‰∏™ËÄóÊó∂ÁöÑÊñπÊ≥ïÔºåÂèØËÉΩË¢´ÊåÇËµ∑suspend fun doLotsOfThingsCanSuspend(p: String): String = suspendCoroutine &#123; pool.execute &#123; log("ÂºÄÂßãËÄóÊó∂") Thread.sleep(100) log("ËÄóÊó∂ÁªìÊùü") if (p.isNotEmpty()) it.resume("succeed result") else it.resumeWithException(IllegalStateException("len &lt; 0")) &#125;&#125;// ÂºÄÂßãÂçèÁ®ãfun callCoroutine(block: suspend () -&gt; Unit) &#123; block.startCoroutine(object : Continuation&lt;Unit&gt; &#123; override val context: CoroutineContext get() = EmptyCoroutineContext override fun resume(value: Unit) &#123; &#125; override fun resumeWithException(exception: Throwable) &#123; &#125; &#125;)&#125; ËæìÂá∫ÁªìÊûúÔºö 12345E/Coroutine: main ÂºÄÂßãÂÖàÊù•‰∏™UIÊìç‰ΩúE/Coroutine: pool-2-thread-1 ÂºÄÂßãËÄóÊó∂E/Coroutine: pool-2-thread-1 ËÄóÊó∂ÁªìÊùüE/Coroutine: pool-2-thread-1 ÊãøÂà∞ÁªìÊûú‰∫Ü -&gt; succeed resultE/Coroutine: pool-2-thread-1 ÂÜçÊù•‰∏™UIÊìç‰Ωú Êàë‰ª¨ÁúãÂà∞ÔºåÊúÄÂêéÁªìÊûúÁöÑ UI Êìç‰ΩúÔºåËøòÊòØÂú®Â≠êÁ∫øÁ®ãË∑ëÁöÑÔºåËøô‰∏™ÊòØ‰∏çÂÖÅËÆ∏ÁöÑÔºå‰ΩÜÊòØ‰ªé‰ª£Á†Å‰∏äÈù¢ÔºåÊúÄÂêéÊâìÂç∞ÁªìÊûúÁöÑ‰ª£Á†ÅÊòéÊòéÊòØÂú®‰∏ªÁ∫øÁ®ãÔºåÂÖ∂ÂÆû var resule = xx ‰πãÂêéÁöÑ‰ª£Á†ÅÂ∞±Â¶ÇÂêåÂõûË∞É‰∏≠ÁöÑ‰ª£Á†ÅÔºåÂÆÉÁöÑËøêË°åÁéØÂ¢ÉÂèñÂÜ≥‰∫é Continuation ÁöÑ resume() ÊñπÊ≥ïÊâßË°åÁöÑÁéØÂ¢ÉÔºåÂú®ËøôÊÆµÂçèÁ®ãÁöÑ‰ª£Á†Å‰∏≠ÔºåÊúÄÂÖ≥ÈîÆÁöÑ‰∏ÄÂè•ÊòØ 1val result = doLotsOfThingsCanSuspend("test") ÂÆÉÊõø‰ª£‰∫ÜÂéüÂÖàÁöÑÂõûË∞ÉÊñπÊ≥ïÔºå‰πüÂÆûÁé∞‰∫ÜÁ±ª‰ººÂéüÊù•ÂõûË∞ÉÁöÑÂäüËÉΩÔºåÂΩìËøêË°åÂà∞ËøôËæπÊó∂ÔºåÂáΩÊï∞‰ºöË¢´ÊåÇËµ∑ÔºåÁ≠âÁªìÊûúËøîÂõû‰πãÂêéÊâç‰ºöËµãÂÄºÂπ∂‰∏îËøõË°åÂêéÈù¢ÁöÑÊìç‰ΩúÔºåÈÅøÂÖç‰∫ÜÂ±ÇÂ±ÇÂõûË∞ÉÂµåÂ•óÔºåÂè¶Â§ñËôΩÁÑ∂ÊúÄÂêéÊãøÂà∞ÁªìÊûúÁöÑ‰ª£Á†ÅÁúãËµ∑Êù•ÊòØÂÜôÂú®‰∏ªÁ∫øÁ®ãÔºåÂÖ∂ÂÆûÊúÄÂêéËøêË°åÂú®‰∫ÜÂ≠êÁ∫øÁ®ãÔºåÂõ†Ê≠§Êàë‰ª¨ÂèØ‰ª•Â¶Ç‰∏ãÔºå‰øÆÊîπ‰ª£Á†ÅÔºå‰øùËØÅÊúÄÂêéÁöÑÁªìÊûúË¢´‰º†ÈÄíÂõû‰∏ªÁ∫øÁ®ã„ÄÇ 1234567891011121314// ‰∏Ä‰∏™ËÄóÊó∂ÁöÑÊñπÊ≥ïÔºåÂèØËÉΩË¢´ÊåÇËµ∑suspend fun doLotsOfThingsCanSuspend(p: String): String = suspendCoroutine &#123; pool.execute &#123; log("ÂºÄÂßãËÄóÊó∂") Thread.sleep(100) log("ËÄóÊó∂ÁªìÊùü") Handler(Looper.getMainLooper()).post &#123; if (p.isNotEmpty()) it.resume("succeed result") else it.resumeWithException(IllegalStateException("len &lt; 0")) &#125; &#125;&#125; ‰ΩÜÊòØÂØπ‰∫éËøô‰∏™Êìç‰ΩúÔºåÂÄüÂä© Continuation Âíå CoroutineContext ÂèØ‰ª•ÊúâÊõ¥‰ºòÈõÖÁöÑÂÆûÁé∞„ÄÇ Â∞ÜÁªìÊûúËøîÂõûÂàáÊç¢Âà∞‰∏ªÁ∫øÁ®ãÂÜô‰∏Ä‰∏™ Continuation ÁöÑÂåÖË£ÖÁ±ª UIContinuationÔºåËøô‰∏™ÂæàÂ•ΩÁêÜËß£Ôºå‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑÂåÖË£ÖËÄÖÊ®°ÂºèÔºå‰ªñÂåÖË£ÖÂÖ∂‰ªñÁöÑ Continuation Âú®Ë∞ÉÁî® resume() ÊñπÊ≥ïÊó∂Â∞ÜÁªìÊûúËøîÂõû‰∏ªÁ∫øÁ®ã„ÄÇ 123456789101112131415class UIContinuation&lt;in T&gt;(val delegate: Continuation&lt;T&gt;) : Continuation&lt;T&gt; &#123; val handler by lazy &#123; Handler(Looper.getMainLooper()) &#125; override val context: CoroutineContext get() = delegate.context override fun resume(value: T) &#123; handler.post &#123; delegate.resume(value) &#125; &#125; override fun resumeWithException(exception: Throwable) &#123; handler.post &#123; delegate.resumeWithException(exception) &#125; &#125;&#125; ÈáçÂÜô CoroutineContext Ëá™Âä®ÂÆåÊàê Continuation ÁöÑÂåÖË£ÖÔºåÈúÄË¶Å‰∏Ä‰∏™Êé•Êî∂Â§ñÁïåËÆæÁΩÆÁöÑ CoroutineContext ÁöÑ ContinuationÔºå‰ªñÂÖ∂ÂÆû‰ªÄ‰πà‰πü‰∏çÈúÄË¶ÅÂÅö„ÄÇ 123456class ContextContinuation(override val context: CoroutineContext = EmptyCoroutineContext) : Continuation&lt;Unit&gt; &#123; override fun resume(value: Unit) &#123; &#125; override fun resumeWithException(exception: Throwable) &#123; &#125;&#125; ÈáçÂÜô CoroutineContext ‰ΩøÁî®ÊèíÂÄºÂô®ÁöÑÊñπÂºèÂåÖË£ÖÔºåËøôÈáå‰ΩøÁî®‰∫Ü ContinuationInterceptorÔºå‰ªñ‰πüÊòØ CoroutineContext ÁöÑÂ≠êÁ±ªÔºåÁ±ª‰ºº okHttp ÁöÑ interceptorÔºå‰ªñÁöÑ‰ΩúÁî®Â∞±ÊòØÔºåÊã¶Êà™ÊóßÁöÑ Continuation Â¶ÇÊûúÈúÄË¶ÅÁöÑËØùÁîüÊàêÊñ∞ÁöÑ Continuation. 1234567891011121314class AsyncCoroutineContext : AbstractCoroutineContextElement(ContinuationInterceptor.Key), ContinuationInterceptor &#123; override fun &lt;T&gt; interceptContinuation(continuation: Continuation&lt;T&gt;): Continuation&lt;T&gt; &#123; // ËøôÈáå‰ΩøÁî® fold ÂáΩÊï∞ÊòØ‰∏∫‰∫ÜÂÖºÂÆπ‰ºöÊúâÂÖ∂‰ªñÊèíÂÄºÂô®ÊÉ≥Êõ¥Êîπ Continuation ÁöÑÊìç‰ΩúÔºåÂõ†Ê≠§‰∏çËÉΩËçâÁéáÁöÑÁõ¥Êé•ËøîÂõû // Â¶ÇÊûú‰∏çÂ•ΩÁêÜËß£Ôºå‰πüÂèØ‰ª•Áõ¥Êé•ÁêÜËß£‰∏∫ return UIContinuation() return UIContinuation(continuation.context.fold(continuation) &#123; con, element -&gt; if (element != this &amp;&amp; element is ContinuationInterceptor) &#123; element.interceptContinuation(con) &#125; else con &#125;) &#125;&#125; Ê≠§Êó∂ÔºåË∞ÉÁî®Â¶Ç‰∏ãÊñπÊ≥ïÂêØÂä®ÂçèÁ®ãÔºåÈÖçÁΩÆÂèØ‰ª•Â∞ÜÁªìÊûúËøîÂõû‰∏ªÁ∫øÁ®ãÁöÑ‰∏ä‰∏ãÊñáÔºåÂΩìÁªìÊûúËøîÂõûÊó∂‰ºöËá™Âä®ËøîÂõû‰∏ªÁ∫øÁ®ã„ÄÇ 123fun callCoroutine(block: suspend () -&gt; Unit) &#123; block.startCoroutine(ContextContinuation(AsyncCoroutineContext()))&#125; ‰ΩøÁî® CoroutineContext ‰º†ÂèÇÈ¶ñÂÖàÔºåCoroutineContext Êúâ‰∏Ä‰∏™‰∏çÈîôÁöÑÁâπÊÄßÔºåÂ∞±ÊòØÈáçËΩΩ‰∫Ü + Êìç‰ΩúÁ¨¶ÔºåÂõ†‰∏∫Êàë‰ª¨ÂèØ‰ª•ÂØπ CoroutineContext ËøõË°åÂä†Ê≥ïÊìç‰ΩúËøîÂõûÊñ∞ÁöÑ CoroutineContext ‰∏∫‰∫ÜÊñπ‰æø‰ΩøÁî®ÔºåÊàë‰ª¨Â∞ÜÂü∫Á°ÄÁöÑÊñπÊ≥ïËøõË°åÊèêÂèñÔºå‰ªñ‰ª¨ÂÆûÁé∞‰∏Ä‰∏™ÈÄöÁî®ÁöÑÂäüËÉΩÔºåÂç≥ÂàáÊç¢ÂêéÂè∞Á∫øÁ®ãÊâßË°åËÄóÊó∂Êìç‰ΩúÔºåÁÑ∂ÂêéÂú®‰∏ªÁ∫øÁ®ãÊé•Êî∂ÁªìÊûúÊõ¥ÊîπUI„ÄÇ 12345678910111213141516171819// ÂºÄÂßãÂçèÁ®ãÔºåÂèØ‰ª•‰ªéÂ§ñÁïåÊé•Âèó‰∏ä‰∏ãÊñáÂèòÈáèfun callCoroutine(context: CoroutineContext = EmptyCoroutineContext, block: suspend () -&gt; Unit) &#123; // Ëá™Âä®ÂÖ∑Â§á‰∫ÜÂ∞ÜÁªìÊûúÂàáÊç¢Âõû‰∏ªÁ∫øÁ®ãÁöÑÂäüËÉΩ block.startCoroutine(ContextContinuation(AsyncCoroutineContext() + context))&#125;// ‰∏Ä‰∏™ÈÄöÁî®ÁöÑÊâßË°åËÄóÊó∂Êìç‰ΩúÁöÑÊñπÊ≥ïÔºåÂèØËÉΩË¢´ÊåÇËµ∑// Êé•ÂèóÁöÑÂèÇÊï∞ÊòØ CoroutineContext ÁöÑÊâ©Â±ïÂáΩÊï∞ÔºåËøôÊ†∑ÁöÑÂÜôÊ≥ïÂ•ΩÂ§ÑÂú®‰∫éÂèØ‰ª•Âú®ÂáΩÊï∞ÂÜÖ‰ΩøÁî® this ËÆøÈóÆ// Âú®ÂèÇÊï∞ block ÊåáÂêëÁöÑÂáΩÊï∞‰∏≠ÔºåÊòØ‰∏Ä‰∏™‰ªªÊÑèÁöÑËÄóÊó∂Êìç‰Ωúsuspend fun &lt;T&gt; doLotsOfThingsCanSuspend(block: CoroutineContext.() -&gt; T): T = suspendCoroutine &#123; pool.execute &#123; try &#123; it.resume(block(it.context)) &#125; catch (e: Exception) &#123; e.printStackTrace() it.resumeWithException(e) &#125; &#125;&#125; ÂÄüÂä©‰∏äÈù¢ÁöÑÊäΩË±°Âá∫Êù•ÁöÑ‰∏§‰∏™ÊñπÊ≥ïÂèØ‰ª•ÂºÄÂêØÂçèÁ®ãÔºåÊâßË°å‰ªªÊÑèËÄóÊó∂Êìç‰ΩúÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõûÂà∞‰∏ªÁ∫øÁ®ãÔºåÊé•‰∏ãÊù•‰ΩøÁî® ConroutineContext ËøõË°åÂèÇÊï∞ÁöÑ‰º†ÈÄíÔºå‰ªé‰∏äÈù¢Êàë‰ª¨ÂèëÁé∞ block ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Êó†ÂèÇÁöÑÂáΩÊï∞ÔºåËÄåÂêÑÁßçËÄóÊó∂Êìç‰ΩúÂèÇÊï∞‰∏ç‰∏ÄÔºåÊÄé‰πàÂÖºÂÆπËøô‰∏™ÈóÆÈ¢òÔºåÂ∞±ÈúÄË¶Å‰ΩøÁî® ConroutineContext Ôºå‰ªñÊòØ‰∏Ä‰∏™‰∏ä‰∏ãÊñáÔºåÊòØÊï¥‰∏™ËøêË°åÁéØÂ¢ÉÔºåÂÄüÂä©ÂÆÉÊàë‰ª¨ÂèØ‰ª•‰º†ÈÄíÂèÇÊï∞ÔºåÂÆö‰πâ‰∏Ä‰∏™Êê∫Â∏¶ÂèÇÊï∞ÁöÑ‰∏ä‰∏ãÊñáÔºåÂÆÉ‰ªçÊóßÊòØ AbstractCoroutineContextElement ÁöÑÂ≠êÁ±ªÔºåÂπ∂Ê†áËÆ∞‰∏Ä‰∏™ Key 1234// Êê∫Â∏¶‰∏ä‰∏ãÊñáÁöÑ contextclass ParamContext(val url: String) : AbstractCoroutineContextElement(Key) &#123; companion object Key : CoroutineContext.Key&lt;ParamContext&gt;&#125; ‰ªé‰∏ä‰∏ãÊñá‰∏≠Ëé∑ÂèñÂèÇÊï∞ÔºåÈáçÁÇπÂú®‰∫é this[ParamContext.Key]Ôºå‰πüÂèØ‰ª•ÂÜô‰Ωú this[ParamContext]ÔºåÂõ†‰∏∫ÈÇ£‰∏™ Key ÊòØ‰∏Ä‰∏™‰º¥ÁîüÂØπË±°ÔºåËÉΩÁî®‰∏ãÊ†áËÆøÈóÆÊòØÂõ†‰∏∫ CoroutineContext ÈáçËΩΩ‰∫Ü [] Êìç‰ΩúÁ¨¶Ôºå‰ªéËÄåÂèØ‰ª•ÂèñÂá∫‰πãÂâç‰º†ÈÄíÁöÑ ParamContext 1234567891011121314fun testCoroutine() &#123; log("ÂºÄÂßãÂÖàÊù•‰∏™UIÊìç‰Ωú") callCoroutine(ParamContext("test")) &#123; // ÊâßË°åËÄóÊó∂Êìç‰ΩúÔºåÊâßË°åÂÆå‰πãÂêé‰ºöÁªßÁª≠ÂæÄ‰∏ãËµ∞ val result = doLotsOfThingsCanSuspend &#123; log("ÂºÄÂßãËÄóÊó∂") Thread.sleep(100) log("ËÄóÊó∂ÁªìÊùü") this[ParamContext.Key]?.url?.length.toString() &#125; log("ÊãøÂà∞ÁªìÊûú‰∫Ü -&gt; $result") log("ÂÜçÊù•‰∏™UIÊìç‰Ωú") &#125;&#125; SequenceÂÆòÊñπÁöÑ‰∏Ä‰∏™‰æãÂ≠ê 1234567891011121314151617val fibonacci = buildSequence &#123; yield(1) // Ê≠§Â§ÑËøîÂõû 1 Âπ∂ÊåÇËµ∑ var cur = 1 var next = 1 while (true) &#123; yield(next) // ËøîÂõû‰∏ã‰∏Ä‰∏™ÂÄºÂπ∂ÊåÇËµ∑ val temp = cur + next cur = next next = temp &#125;&#125;for (i in fibonacci) &#123; log("$i") if (i &gt; 100) break&#125; ÊØèÊ¨°ÂØπ Sequence Ëø≠‰ª£ÈÅçÂéÜ‰∏ã‰∏Ä‰∏™Êó∂Ôºå‰ºöÊâßË°åÂçèÁ®ãÂà∞ yield ÁöÑ‰ΩçÁΩÆËøîÂõûÂÄºÔºåÂπ∂ÊåÇËµ∑ÔºåÁ≠âÂæÖ‰∏ã‰∏ÄÊ¨°Ëø≠‰ª£ÔºåËøôÊ†∑Â∞±ÊûÑÈÄ†‰∫Ü‰∏Ä‰∏™ÊáíÂ∫èÂàóÔºåÂè™ÊúâÂú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôÊâç‰ºöËÆ°ÁÆóÁîüÊàêÔºåËÄå‰∏çÊòØ‰∏ÄÊ¨°ÁîüÊàêÂ§ßÈáèÊï∞ÊçÆÔºåÈô§‰∫ÜÁ¨¨‰∏ÄÊ¨°Ôºå‰ªñÁöÑÊØèÊ¨°Ë¢´Ë∞ÉËµ∑ÔºåÈÉΩÊòØ‰ªéËøôÊ¨° yield Âà∞‰∏ãÊ¨° yield ÊÄªÁªì‰ΩøÁî® suspendCoroutine ÊûÑÈÄ†‰∏Ä‰∏™ÂèØÊåÇËµ∑ÁöÑÂáΩÊï∞ÔºåÂú®ÂÜÖÈÉ®ÊâßË°åÊìç‰ΩúÔºåÈÄöËøá Continuation ÁöÑ resume() ÊñπÊ≥ïÂ∞ÜÁªìÊûúÊàñËÄÖÂºÇÂ∏∏ËøîÂõûÔºå‰Ω†ÂèØ‰ª•ÂÜ≥ÂÆöËøîÂõû‰πãÂâçÊòØ‰∏çÊòØË¶ÅËøõË°åËá™Â∑±ÁöÑÂ§ÑÁêÜÔºåÊØîÂ¶ÇÂèëÂà∞‰∏ªÁ∫øÁ®ã„ÄÇ Continuation ÊòØ‰∏Ä‰∏™Êé•Âè£Ôºå‰ªñÊòØ‰∏Ä‰∏™ÁªìÊûúÁöÑÊé•ÂèóÂ§ÑÁêÜËÄÖÔºåËøô‰πüÊòØ Continuation ÁöÑÂê´‰πâÔºå‰ªñÂ∞ÜÂú®‰ªªÂä°ÂÆåÊàê‰πãÂêéË¢´Ë∞ÉÁî®„ÄÇ CoroutineContext ÊòØ‰∏Ä‰∏™‰∏ä‰∏ãÊñáÔºåË°®Á§∫‰∏Ä‰∏™ËøêË°åÊó∂ÁéØÂ¢ÉÔºåÂÆÉÂèØ‰ª•ÂÅöÂæàÂ§ö‰∫ãÔºåÊØîÂ¶Ç‰º†ÈÄíÂèÇÊï∞Á≠â„ÄÇ ContinuationInterceptor ÊòØ Continuation ÁöÑÊèíÂÄºÂô®ÔºåÊèê‰æõ‰∏Ä‰∏™Êõ¥ÊîπÂéüÊù•ÁöÑ Continuation ÁöÑÊú∫‰ºöÔºåÁî®Êù•ÂàõÂª∫ËøîÂõûÊñ∞ÁöÑ Continuation„ÄÇ ‰ªé‰ª£Á†ÅÂ±ÇÈù¢‰∏äÈù¢ÔºåÂèØ‰ª•Ë∑üÂõûË∞ÉÁöÑÊñπÊ≥ïÁ®ç‰ΩúÊØîËæÉÔºå‰∏ãÈù¢‰ª£Á†Å‰∏≠ÔºåÂÖ∂ÂÆû var result = xxx ËøôÈáåÂ∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™ÂõûË∞ÉÔºå‰ΩÜÊòØÂπ∂‰∏çÊòØÂõûË∞ÉÁöÑÂΩ¢ÂºèÔºåÂú®ËøôÈáåÊâßË°å doLotsOfThingsCanSuspend() Êó∂ÔºåÂáΩÊï∞‰ºöË¢´ÊåÇËµ∑ÔºåÁ≠âÂæÖÁªìÊûúËøîÂõûÔºåËøô‰∏çÊòØ‰∏Ä‰∏™ÈòªÂ°ûÁöÑËøáÁ®ãÔºåÂºÇÊ≠•Á∫øÁ®ãÁöÑÂàáÊç¢Âú®ÊåÇËµ∑ÂáΩÊï∞ÂÜÖËøõË°åÔºåÂõ†Ê≠§Êàë‰ª¨ÂèØ‰ª•ÂÉèÂÜôÂêåÊ≠•‰ª£Á†Å‰∏ÄÊ†∑Ôºå‰π¶ÂÜôÂºÇÊ≠•‰ª£Á†ÅÔºåÁªìÊûúËøîÂõû‰πãÂêéÔºåÂêéÈù¢ÁöÑ‰ª£Á†ÅÂÖ∂ÂÆûÁõ∏ÂΩì‰∫éÂõûË∞ÉÈáåÈù¢ÁöÑ‰ª£Á†ÅÔºåÊ≠§Êó∂Êâç‰ºöÁªßÁª≠ÊâßË°åÔºåÂíåÂõûË∞É‰∏ÄÊ†∑ÔºåÂÆÉÁöÑËøêË°åÁéØÂ¢ÉÂèñÂÜ≥‰∫éÊåÇËµ∑ÂáΩÊï∞‰∏≠Ë∞ÉÁî® resume() ÊñπÊ≥ïÊó∂ÁöÑÁéØÂ¢É„ÄÇ 123456callCoroutine &#123; // ÊâßË°åËÄóÊó∂Êìç‰ΩúÔºåÊâßË°åÂÆå‰πãÂêé‰ºöÁªßÁª≠ÂæÄ‰∏ãËµ∞ val result = doLotsOfThingsCanSuspend("test") log("ÊãøÂà∞ÁªìÊûú‰∫Ü -&gt; $result") log("ÂÜçÊù•‰∏™UIÊìç‰Ωú")&#125; Kotlinx ÂÆòÊñπÂçèÁ®ãÊâ©Â±ïÊ°ÜÊû∂Ê∑ªÂä†‰æùËµñ 1compile 'org.jetbrains.kotlinx:kotlinx-coroutines-core:0.18' ÂÄüÂä© launch() ÂáΩÊï∞Êù•ÂºÄÂêØ‰∏Ä‰∏™ÂçèÁ®ãÔºåCommonPool ÊòØÂÜÖÁΩÆÁöÑ‰∏Ä‰∏™‰∏ä‰∏ãÊñáÔºå‰ªñÂ∞Ü‰ºöÂú®Â≠êÁ∫øÁ®ãÊâßË°å‰ªªÂä°„ÄÇ 1234567891011121314fun test1() &#123; var result = 0 // ÂºÄÂêØÂçèÁ®ã log(TAG, "ÂºÄÂßãÂçèÁ®ã") launch(CommonPool) &#123; log(TAG, "ÂçèÁ®ãÂÜÖÂºÄÂßã") for (i in 1..1000) &#123; result += i &#125; log(TAG, "ÂçèÁ®ãÂÜÖÁªìÊùü") &#125; log(TAG, "ÁªìÊùüÂçèÁ®ã") log(TAG, result.toString())&#125; ËæìÂá∫ÁªìÊûú‰∏∫ 12345E/tag: main ÂºÄÂßãÂçèÁ®ãE/tag: main ÁªìÊùüÂçèÁ®ãE/tag: main 0E/tag: ForkJoinPool.commonPool-worker-2 ÂçèÁ®ãÂÜÖÂºÄÂßãE/tag: ForkJoinPool.commonPool-worker-2 ÂçèÁ®ãÂÜÖÁªìÊùü ÁªìÊûúÂ∞±Â•ΩÂÉèÊàë‰ª¨Âú®Â≠êÁ∫øÁ®ãÊâßË°å‰∫Ü‰∏Ä‰∏™‰ªªÂä°Ôºå‰ªñÂπ∂Ê≤°ÊúâÂπ≤È¢ÑÂ§ñÈù¢ÁöÑ‰ª£Á†ÅËøêË°åÔºå‰πüÊ≤°ÊúâËé∑ÂæóÈ¢ÑÊúüÁöÑÂÄºÔºåÊàë‰ª¨Â∏åÊúõÂêéÈù¢ÁöÑ‰ªªÂä°Âú®Â≠êÁ∫øÁ®ãÁöÑ‰ª£Á†ÅËÆ°ÁÆóÂÆåÊàê‰πãÂêéÂú®ÊâßË°åÔºåÈúÄË¶Å‰ΩøÁî® join() ÂáΩÊï∞„ÄÇ launch() ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ Job ÂØπË±°ÔºåÂêåÊó∂ join() ÂáΩÊï∞ÈúÄË¶ÅÂú®‰∏Ä‰∏™ÂèØÊåÇËµ∑ÁöÑÂáΩÊï∞ÂÜÖÊâßË°åÔºå‰ΩøÁî® runBlocking() ÂáΩÊï∞‰ΩøÁî® EmptyCoroutineContext ÂèØ‰ª•Âú®ÂΩìÂâç‰ΩçÁΩÆÂºÄÂêØÂçèÁ®ãÔºõ ËøôÊ†∑Â∞±ÂæóÂà∞‰∫ÜÈ¢ÑÊúüÁöÑÁªìÊûúÔºåÂêåÊ†∑Êàë‰ª¨ÂèØ‰ª•Ë∞ÉÁî® job.cancel() Êù•ÁªìÊùüËøô‰∏™‰ªªÂä° 1234567891011121314151617fun test2() &#123; runBlocking &#123; var result = 0 log(TAG, "ÂºÄÂßãÂçèÁ®ã") val job = launch(CommonPool) &#123; log(TAG, "ÂçèÁ®ãÂÜÖÂºÄÂßã") for (i in 1..1000) &#123; delay(1) result += i &#125; log(TAG, "ÂçèÁ®ãÂÜÖÁªìÊùü") &#125; job.join() // Ë¶ÅÊ±ÇÂΩìÂâçÂçèÁ®ãÔºåÁ≠âÂæÖËØ•ÂçèÁ®ãÊâßË°åÂÆåÂÜçÊâßË°å log(TAG, "ÁªìÊùüÂçèÁ®ã") log(TAG, result.toString()) &#125;&#125; ËæìÂá∫ÁªìÊûú‰∏∫ 12345E/tag: main ÂºÄÂßãÂçèÁ®ãE/tag: ForkJoinPool.commonPool-worker-2 ÂçèÁ®ãÂÜÖÂºÄÂßãE/tag: ForkJoinPool.commonPool-worker-2 ÂçèÁ®ãÂÜÖÁªìÊùüE/tag: main ÁªìÊùüÂçèÁ®ãE/tag: main 500500 Ëé∑ÂèñËøîÂõûÂÄºÔºå‰∏äÈù¢Êàë‰ª¨‰ΩøÁî®‰∫ÜÂèòÈáèÁöÑÂΩ¢ÂºèÊù•Â≠òÂÇ®ËÆ°ÁÆóÁöÑÂÄºÔºåÂΩìÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™‰ªªÂä°ÁöÑËøîÂõûÂÄºÊó∂ÔºåÊúÄÂ•ΩËøòÊòØËÆ©‰ªªÂä°ËÉΩÂ§üËøîÂõûÊâßË°åÂÆåÁöÑÁªìÊûúÔºå‰ΩøÁî® async() ÂáΩÊï∞ÂèØ‰ª•ËøîÂõû‰∏Ä‰∏™ Deferred ÂØπË±°Ôºå‰ªéÈáåÈù¢ÂèØ‰ª•ÂèñÂà∞ÊâßË°åÁªìÊûú 123456789101112launch(CommonPool) &#123; val deferred1 = async(CommonPool) &#123; delay(1000) "result" &#125; val deferred2 = async(CommonPool) &#123; delay(2000) 100 &#125; log(TAG, "$&#123;deferred1.await()&#125;,$&#123;deferred2.await()&#125;") log(TAG, "$&#123;deferred1.getCompleted()&#125;,$&#123;deferred2.getCompleted()&#125;")&#125; ËæìÂá∫ÁªìÊûú 12E/tag: ForkJoinPool.commonPool-worker-1 result,100E/tag: ForkJoinPool.commonPool-worker-1 result,100 Âú®Â≠êÁ∫øÁ®ãËÆ°ÁÆóÔºåÂú®‰∏ªÁ∫øÁ®ãÊõ¥Êñ∞ÔºåUI ÊòØ‰∏Ä‰∏™ÂçèÁ®ã‰∏ä‰∏ãÊñáÔºå‰ªñ‰ΩøÁî® Handler Â∞ÜÁªìÊûúÂàÜÂèëÂà∞‰∏ªÁ∫øÁ®ã„ÄÇ 123456789101112launch(UI) &#123; val deferred = async(CommonPool) &#123; var index = 1 for (i in 1..100) &#123; delay(10) Thread.sleep(10) index += i &#125; index &#125; mTestTv.text = deferred.await().toString()&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-17-Ê≥®Ëß£]]></title>
    <url>%2Farticle%2Fbc7a3f35%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶ÅÂ≠¶‰π† Kotlin Ê≥®Ëß£ÁöÑÁõ∏ÂÖ≥ÂÜÖÂÆπ„ÄÇ Ê∫êÊ≥®Ëß£@Target : ÊåáÂÆöËøô‰∏™Ê≥®Ëß£ÂèØË¢´Áî®‰∫éÂì™‰∫õÂÖÉÁ¥†(Á±ª, ÂáΩÊï∞, Â±ûÊÄß, Ë°®ËææÂºè‚Ä¶) 1234567891011121314151617@Target( AnnotationTarget.ANNOTATION_CLASS, // Ê≥®Ëß£Á±ª AnnotationTarget.CLASS, // ÂØπË±°Á±ªÔºåÊé•Âè£Ôºå‰πüÂåÖÊã¨Ê≥®Ëß£Á±ª AnnotationTarget.CONSTRUCTOR, // ÊûÑÈÄ†Âô®Ôºå‰∏ªÊûÑÈÄ†Âô®ÊàñÊ¨°Á∫ßÊûÑÈÄ†Âô® AnnotationTarget.EXPRESSION, // Ë°®ËææÂºè AnnotationTarget.FIELD, // Â±ûÊÄßÔºåÂåÖÊã¨ backing-field AnnotationTarget.FILE, // Êñá‰ª∂ AnnotationTarget.FUNCTION, // ÂáΩÊï∞Ôºå‰πüÂåÖÊã¨ÊûÑÈÄ†Âô® AnnotationTarget.LOCAL_VARIABLE, // Â±ÄÈÉ®ÂèòÈáè AnnotationTarget.PROPERTY, // Â±ûÊÄß AnnotationTarget.PROPERTY_GETTER, // Â±ûÊÄß get ÊñπÊ≥ï AnnotationTarget.PROPERTY_SETTER, // Â±ûÊÄß set ÊñπÊ≥ï AnnotationTarget.TYPEALIAS, // Á±ªÂûãÂà´Âêç AnnotationTarget.TYPE, // Á±ªÂûã AnnotationTarget.TYPE_PARAMETER, // ËåÉÂûãÂèÇÊï∞Á±ªÂûã AnnotationTarget.VALUE_PARAMETER // ÂÄºÁ±ªÂûãÂèÇÊï∞) @Retention : Ê≥®Ëß£‰ø°ÊÅØÂú® class Êñá‰ª∂‰∏≠ÁöÑ‰øùÂ≠òÂíåËÆøÈóÆÈôêÂà∂ 12345@Retention( AnnotationRetention.SOURCE // Ê≥®Ëß£‰ø°ÊÅØ‰∏ç‰øùÂ≠ò class Êñá‰ª∂Ôºå‰∏çËÉΩÂèçÂ∞ÑËÆøÈóÆ // AnnotationRetention.BINARY // Ê≥®Ëß£‰ø°ÊÅØ‰øùÂ≠ò class Êñá‰ª∂Ôºå‰∏çËÉΩÂèçÂ∞ÑËÆøÈóÆ // AnnotationRetention.RUNTIME // Ê≥®Ëß£‰ø°ÊÅØ‰øùÂ≠ò class Êñá‰ª∂ÔºåËÉΩÂèçÂ∞ÑËÆøÈóÆ) @Repeatable : ÂÖÅËÆ∏Âú®‰∏Ä‰∏™ÂÖÉÁ¥†‰∏äÂ§öÊ¨°‰ΩøÁî®Âêå‰∏ÄÊ≥®Ëß£ @MustBeDocumented : Ë°®Á§∫Ëøô‰∏™Ê≥®Ëß£ÊòØÂÖ¨ÂºÄ API ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂú®Ëá™Âä®‰∫ßÁîüÁöÑ API ÊñáÊ°£ÁöÑÁ±ªÊàñËÄÖÂáΩÊï∞Á≠æÂêç‰∏≠ÔºåÂ∫îËØ•ÂåÖÂê´Ëøô‰∏™Ê≥®Ëß£ÁöÑ‰ø°ÊÅØ„ÄÇ Ê≥®Ëß£Âíå‰ΩøÁî®Ê≥®Ëß£ÁöÑÂ£∞Êòé‰ΩøÁî® annotation ÂÖ≥ÈîÆÂ≠óÔºåÁ±ª‰ºº‰∏Ä‰∏™Á±ªÁöÑÂ£∞ÊòéÔºåÂú®‰∏äÈù¢Ê∑ªÂä†Ê∫êÊ≥®Ëß£ÂØπÂÆö‰πâÁöÑÊ≥®Ëß£ËøõË°åÊèèËø∞„ÄÇ 12345@Target(AnnotationTarget.ANNOTATION_CLASS)@Retention(AnnotationRetention.SOURCE)@Repeatable@MustBeDocumentedannotation class AnnoSimple ‰ΩøÁî®Ê≥®Ëß£ÔºåÊ≥®Ëß£ÂèØ‰ª•Ê∑ªÂä†Âú®ÂæàÂ§öÂú∞ÊñπÔºåÂèñÂÜ≥‰∫éÂ£∞Êòé @Target ‰∏≠ÊîØÊåÅÁöÑÁ±ªÂûã 1234567891011121314151617181920// Á±ªÊ≥®Ëß£@AnnoSimple class AnnoTestA// ÊûÑÈÄ†Âô®Ê≥®Ëß£@AnnoSimple constructor(name: String) &#123; // ÂáΩÊï∞Ê≥®Ëß£ @AnnoSimple fun test() &#123; // lambda Ë°®ËææÂºèÊ≥®Ëß£ val f = @AnnoSimple &#123; log("test") &#125; &#125; // Â±ûÊÄßÊ≥®Ëß£ @AnnoSimple var property: Int = 100 // get ÊñπÊ≥ïÊ≥®Ëß£ @AnnoSimple get() = 10 // set ÊñπÊ≥ïÊ≥®Ëß£ @AnnoSimple set(value) &#123; field = value &#125;&#125; Ê≥®Ëß£ÂèÇÊï∞Ê≥®Ëß£ÂèØ‰ª•Ê∑ªÂä†ÂèÇÊï∞ÔºåÂèÇÊï∞ÊîØÊåÅ Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºåÂ≠óÁ¨¶‰∏≤ÔºåKClassÔºåÊûö‰∏æÔºåÂÖ∂‰ªñÊ≥®Ëß£ÔºåÁî±‰ª•‰∏äÊï∞ÊçÆÁ±ªÂûãÊûÑÊàêÁöÑÊï∞ÁªÑ„ÄÇ 123@Target(AnnotationTarget.CLASS,AnnotationTarget.FIELD)@Retention(AnnotationRetention.SOURCE)annotation class AnnoWithParam(val msg: String, val cls: KClass&lt;*&gt;) Ê≥®Ëß£ÂêåÊ†∑ÂèØ‰ª•‰Ωú‰∏∫Ê≥®Ëß£ÁöÑÂèÇÊï∞ÔºåÂ¶ÇÊûú‰∏Ä‰∏™Ê≥®Ëß£Ë¢´Áî®‰ΩúÂè¶‰∏Ä‰∏™Ê≥®Ëß£ÁöÑÂèÇÊï∞, ÈÇ£‰πàÂú®ÂÆÉÁöÑÂêçÂ≠ó‰πãÂâç‰∏ç‰ΩøÁî® @ ÂâçÁºÄ 12annotation class AnnoWithAnotherAnno(val msg: String, val anno: AnnoWithParam = AnnoWithParam("test", Int::class)) ‰ΩøÁî®Ê≥®Ëß£ 1@AnnoWithParam("test", Int::class) class AnnoTestB Ê≥®Ëß£ÁöÑ‰ΩøÁî®ÁõÆÊ†áÂΩì‰Ω†ÂØπ‰∏Ä‰∏™Â±ûÊÄßÊàñ‰∏Ä‰∏™‰∏ªÊûÑÈÄ†Âô®ÁöÑÂèÇÊï∞Ê∑ªÂä†Ê≥®Ëß£Êó∂Ôºå‰ªé‰∏Ä‰∏™ Kotlin ÂÖÉÁ¥†‰ºö‰∫ßÁîüÂá∫Â§ö‰∏™ Java ÂÖÉÁ¥†ÔºåÂõ†Ê≠§Âú®ÁºñËØë‰∫ßÁîüÁöÑ Java Â≠óËäÇÁ†Å‰∏≠Ôºå‰Ω†ÁöÑÊ≥®Ëß£Â≠òÂú®Â§ö‰∏™ÂèØËÉΩÁöÑÈÄÇÁî®ÁõÆÊ†á„ÄÇ ÊîØÊåÅÁöÑÊ≥®Ëß£ÁõÆÊ†á 123456789fileproperty (‰ΩøÁî®Ëøô‰∏™ÁõÆÊ†áÁöÑÊ≥®Ëß£, Âú® Java ‰∏≠Êó†Ê≥ïËÆøÈóÆ)field (ÂüüÂèòÈáè)get (Â±ûÊÄßÁöÑ get ÊñπÊ≥ï)set (Â±ûÊÄßÁöÑ set ÊñπÊ≥ï)receiver (Êâ©Â±ïÂáΩÊï∞ÊàñÊâ©Â±ïÂ±ûÊÄßÁöÑÊé•ÂèóËÄÖÂèÇÊï∞)param (ÊûÑÈÄ†Âô®ÁöÑÂèÇÊï∞)setparam (Â±ûÊÄß set ÊñπÊ≥ïÁöÑÂèÇÊï∞)delegate (‰øùÂ≠ò‰ª£ÁêÜÂ±ûÊÄßÁöÑ‰ª£ÁêÜÂØπË±°ÂÆû‰æãÁöÑÂüüÂèòÈáè) ‰∏∫‰∫ÜÊòéÁ°ÆÊåáÂÆöÊ≥®Ëß£Â∫îËØ•‰ΩøÁî®Âú®Âì™‰∏™ÂÖÉÁ¥†‰∏äÔºåÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãËØ≠Ê≥ïÔºö 12345class AnnoTestC( @field:AnnoSimple val name: String, // ÂØπÂüüÂèòÈáèÊ≥®Ëß£ @param:AnnoSimple val age: Int, // ÊûÑÈÄ†Âô®ÂèÇÊï∞Ê≥®Ëß£ @get:AnnoSimple val cls: KClass&lt;*&gt; // getÊñπÊ≥ïÊ≥®Ëß£) ÂΩìÂØπÂêå‰∏ÄÊ≥®Ëß£ÁõÆÊ†á‰ΩøÁî®Â§ö‰∏™Ê≥®Ëß£Êó∂ÔºåÂèØ‰ª•‰ΩøÁî® @set[anno1 anno2] ÁöÑËØ≠Ê≥ï 123class AnnoTestD( @field:[AnnoSimple AnnoWithParam("test", Int::class)] val name: String) ÂØπÊâ©Â±ïÂáΩÊï∞‰ΩøÁî®Ê≥®Ëß£ 1fun @receiver:Fancy String.myExtension() &#123; &#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DataBinding]]></title>
    <url>%2Farticle%2F83ba57f4%2F</url>
    <content type="text"><![CDATA[Êú¨ÊñáËÆ∞ÂΩïÂ¶Ç‰Ωï‰ΩøÁî® Google ÂÆòÊñπÂ∫ì DataBinding ËøõË°åÊï∞ÊçÆÁªëÂÆö„ÄÇ Âπ≥Êó∂ÁºñËØë‰ΩøÁî® Freeline Ôºå‰ΩÜÊòØÂæàÈÅóÊÜæÁöÑÊòØ Freeline Âú® DataBinding ÁöÑÊîØÊåÅ‰∏äËøòÊúâ‰∫õÈóÆÈ¢òÔºåÂ∏åÊúõÊó©‰∫õËß£ÂÜ≥„ÄÇ Âè¶Â§ñ AndroidStudio ÂØπ DataBinding ÁöÑËØ≠Ê≥ïÊîØÊåÅÁöÑ‰∏çÊòØÂæàÂ•ΩÔºåÂæàÂ§öÂÆòÁΩëÊñáÊ°£ÁöÑËØ≠Ê≥ïÂú®È°πÁõÆÁöÑÁºñËØëÊúüÈÉΩÊòØÊä•ÈîôÁöÑÔºåÂêéÈù¢Â∫îËØ•‰ºöÊúâÊîπËøõ„ÄÇ ÂºÄÂêØ DataBindingÂú® AndroidStudio ÂºÄÂêØ DataBinding ÂçÅÂàÜÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂú® ÂØπÂ∫îÁöÑ build.gradle Êñá‰ª∂‰∏≠Â£∞Êòé 1234567android &#123; ... dataBinding &#123; enabled = true &#125; ...&#125; ÂºÄÂêØ‰πãÂêéÂç≥ÂèØ‰ΩøÁî®ÔºåËøôÈáåÊàëÈÅáÂà∞‰∫ÜÂºÇÂ∏∏Â¶Ç‰∏ãÔºåclean È°πÁõÆ‰ªç‰∏çËßÅÊïàÊûúÔºåËß£ÂÜ≥Êé™ÊñΩÂú®ÂéªÈô§‰∏ãÈù¢ÊèêÂà∞ÁöÑË≠¶ÂëäÁöÑÂâçÊèê‰∏ãÔºåÁî±ËèúÂçï File-&gt;Invalidate Caches/ReStartÔºåÈáçÂêØ IDE Âç≥ÂèØ„ÄÇ 1Generated class list does not exist /Users/march/AndroidPro/DevKitSample/devKit/build/intermediates/data-binding-info/release/_generated.txt Áî±‰∫éÊàë‰ΩøÁî® ButterKnife Á≠âÊ≥®Ëß£Á±ªÊ°ÜÊû∂ÔºåÈÅáÂà∞ WarningÔºåÂ¶Ç‰∏ãÔºö 1Warning:Using incompatible plugins for the annotation processing: android-apt. This may result in an unexpected behavior. ËøôÊòØÂõ†‰∏∫ android-apt ÁöÑ‰ΩúËÄÖÂ∑≤Áªè‰∏çÂÜçÁª¥Êä§ÂÆÉ‰∫ÜÔºåËß£ÂÜ≥ÊñπÊ°àÊòØ‰ΩøÁî®ÂÆòÊñπÁöÑÂ§ÑÁêÜÂô®Êù•‰ª£Êõø‰ªñÔºåÂç≥ÂèØÂéªÈô§Ë≠¶Âëä‰ø°ÊÅØ„ÄÇ 1234567// Âà†Èô§‰æùËµñË∑ØÂæÑclasspath 'com.neenbedankt.gradle.plugins:android-apt:1.8'// Âà†Èô§Êèí‰ª∂ÂºïÁî®apply plugin: 'com.neenbedankt.android-apt'// Â∞Ü android-apt ÊõøÊç¢‰∏∫ annotationProcessor annotationProcessor rootProject.ext.support.butterknife840_processor layout Êñá‰ª∂ÁªìÊûÑÂºÄÂêØÁöÑËøáÁ®ãËøòÊå∫È∫ªÁÉ¶ÔºåÊü•Âà∞ÁöÑÊñáÁ´†ÈáåÈÉΩÂè™ÊèêÂà∞‰∫ÜËÆæÁΩÆ build.gradle Êñá‰ª∂ÔºåÈÅáÂà∞ÁöÑÈóÆÈ¢òËÄΩËØØ‰∫Ü‰∏çÂ∞ëÊó∂Èó¥„ÄÇ ‰ΩøÁî® DataBinding Êó∂Ôºå‰∏ªË¶ÅÊòØÂ∞ÜÊï∞ÊçÆÁõ¥Êé•ÁªëÂÆöÂà∞ËßÜÂõæ‰∏≠ÔºåÂØπÊàë‰ª¨Êù•ËØ¥Â∞±ÊòØ layout.xml Êñá‰ª∂‰∫ÜÔºåÊ†∑ÂºèÊúâÊâÄÊõ¥ÊîπÔºåÊúÄÂ§ñÂ±ÇÈúÄË¶Å‰ΩøÁî®Êñ∞ÁöÑ &lt;layout&gt; Ê†áÁ≠æÔºå&lt;layout&gt; Ê†áÁ≠æ‰∏≠ÂàÜ‰∏∫‰∫Ü Êï∞ÊçÆ(Model) Âíå ËßÜÂõæ(View) ‰∏§ÈÉ®ÂàÜÔºåView ÈÉ®ÂàÜËá™ÁÑ∂ËøòÊòØÂéüÊù•ÁöÑÂ∏ÉÂ±ÄÊñá‰ª∂ÔºåÂú®ÂêéÈù¢ÁöÑÊèèËø∞‰∏≠ÔºåÊàëÈÉΩ‰ºöÁß∞‰ªñ‰ª¨‰∏∫ xml ÁöÑ Model ÈÉ®ÂàÜÂíå View ÈÉ®ÂàÜ„ÄÇ 1234567891011121314151617181920212223242526272829303132333435&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;layout xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;!--Êï∞ÊçÆÈÉ®ÂàÜ--&gt; &lt;data&gt; &lt;import alias="User" type="com.march.commonlib.activity.DataBindingActivity.User"/&gt; &lt;variable name="name" type="String"/&gt; &lt;variable name="user" type="User"/&gt; &lt;/data&gt; &lt;!--ÂéüÊù•ÁöÑÂ∏ÉÂ±ÄÊñá‰ª∂--&gt; &lt;LinearLayout android:layout_width="match_parent" android:layout_height="match_parent" android:orientation="vertical"&gt; &lt;TextView android:layout_width="match_parent" android:layout_height="wrap_content" android:text="@&#123;name&#125;" android:textColor="@color/black" android:textSize="18sp"/&gt; &lt;/LinearLayout&gt;&lt;/layout&gt; DataBindingUtilÂú®‰ΩøÁî® DataBinding Êó∂ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™ ViewDataBinding ÂØπË±°Ôºå‰ªñÊòØËøûÊé•Êï∞ÊçÆÂíåËßÜÂõæÁöÑÊ°•Ê¢ÅÔºåDataBindingUtil ‰Ωú‰∏∫‰∏Ä‰∏™Â∑•ÂÖ∑Á±ªÔºåÊèê‰æõ‰∫ÜÂàõÂª∫ ViewDataBinding ÁöÑÈùôÊÄÅÊñπÊ≥ï„ÄÇ setContentView() ÊñπÊ≥ïÔºåÁî®Êù•Êõø‰ª£ Activity ÁöÑ setContentView()ÔºåÂèØ‰ª•Âú®ËÆæÁΩÆËßÜÂõæÁöÑÂêåÊó∂ËøîÂõû ViewDataBinding ÂØπË±°„ÄÇ 123public static &lt;T extends ViewDataBinding&gt; T setContentView(Activity activity, int layoutId) &#123; return setContentView(activity, layoutId, sDefaultComponent);&#125; inflate() ÊñπÊ≥ïÔºåÁî®Êù•‰ª£Êõø LayoutInflater ÁöÑ inflate() ÊñπÊ≥ïÔºåÁî®Êù•Âú®Âä†ËΩΩ‰∏Ä‰∏™Â∏ÉÂ±ÄÊó∂ËøîÂõû ViewDataBinding ÂØπË±°„ÄÇ 1234public static &lt;T extends ViewDataBinding&gt; T inflate(LayoutInflater inflater, int layoutId, @Nullable ViewGroup parent, boolean attachToParent) &#123; return inflate(inflater, layoutId, parent, attachToParent, sDefaultComponent);&#125; ÂÖ≥‰∫é ViewDataBinding ÂØπË±°ÔºåÂÆÉÁî±Êèí‰ª∂Ëá™Âä®ÁºñËØëÁîüÊàêÔºåÁ±ªÁöÑÂêçÂ≠óÂèñÂÜ≥‰∫é‰Ω†ÁöÑ layout.xml Êñá‰ª∂ÁöÑÂêçÂ≠óÔºå‰æãÂ¶ÇÂ∏ÉÂ±ÄÊñá‰ª∂Âêç‰∏∫ R.layout.activity_databinding ÈÇ£‰πàÁîüÊàêÂØπÂ∫îÁ±ªÂàô‰∏∫ ActivityDatabindingBinding„ÄÇ ËØ≠Ê≥ïÈÉ®ÂàÜ‚¨áÔ∏è Âú® xml Êñá‰ª∂‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Âú® View ÈÉ®ÂàÜ‰ΩøÁî®‰ªª‰ΩïÂú® Model ÈÉ®ÂàÜÂ£∞ÊòéÁöÑÊï∞ÊçÆÔºå‰∏∫Ê≠§ÔºåDataBinding Êèê‰æõ‰∫Ü‰∏∞ÂØåËÄåÁÆÄ‰æøÁöÑËØ≠Ê≥ïÊîØÊåÅ„ÄÇ Áî±‰∫é AndroidStudio ÂØπ DataBinding ÁöÑËØ≠Ê≥ïÊîØÊåÅÁöÑÊ≤°ÊúâÈÇ£‰πàÂ•ΩÔºåÊâÄ‰ª•ÂæàÂ§öËØ≠Ê≥ïÂú®ÁºñËØëÊúüÈÉΩÊòØÈîôËØØÁöÑÔºå‰ΩÜÊòØËøêË°å‰πãÂêéÂ∞±ÂèØ‰ª•‰ΩøÁî®ÔºåÁõ∏‰ø°Âú®‰∏ç‰πÖÁöÑ‰ª•ÂêéËøô‰∫õÊîØÊåÅ‰ºöÊõ¥Âä†ÂÖ®Èù¢„ÄÇ Model ÈÉ®ÂàÜËØ≠Ê≥ïModel ÈÉ®ÂàÜË¢´ &lt;data/&gt; Ê†áÁ≠æÂåÖÂê´ Â£∞Êòé‰∏Ä‰∏™Êï∞ÊçÆÔºå‰ΩøÁî® variable Ê†áÁ≠æÔºåtype Â£∞ÊòéÁöÑÊòØÁ±ªÂêçÔºåjava.lang ÂåÖ‰∏ãÈù¢ÁöÑÁ±ªÔºåÂèØ‰ª•‰∏çÁî®ÂÜôÂÆåÊï¥Ë∑ØÂæÑÔºå‰ΩÜÊòØÂÖ∂‰ªñÁöÑÁ±ªÔºåÈúÄË¶ÅÂ£∞ÊòéÂÆåÊï¥Ë∑ØÂæÑ„ÄÇ 1234567&lt;variable name="name" type="String"/&gt; &lt;variable name="user" type="com.march.commonlib.activity.DataBindingActivity.User"/&gt; ÂØºÂåÖÔºå‰ΩøÁî® import Ê†áÁ≠æÔºå ÁÑ∂ÂêéÂú®Â£∞ÊòéÊï∞ÊçÆÊó∂ÔºåÂèØ‰ª•‰∏çÁî®‰ΩøÁî®ÂÆåÊï¥Ë∑ØÂæÑ„ÄÇ 12345&lt;import type="com.march.commonlib.activity.DataBindingActivity.User"/&gt;&lt;variable name="user" type="User"/&gt; Âà´ÂêçÔºå‰ΩøÁî® import Ê†áÁ≠æÊó∂ÔºåÂèØ‰ª•ÊåáÂÆöÂØºÂÖ•Á±ªÁöÑÂà´ÂêçÔºåÂ¶ÇÊûú‰ΩøÁî®‰∫ÜÂà´ÂêçÔºåÂàôÂ£∞ÊòéÊï∞ÊçÆÊó∂Ôºåtype ÂøÖÈ°ªÊåáÂÆö‰∏∫Âà´Âêç„ÄÇ 1234567&lt;import alias="Alias_User" type="com.march.commonlib.activity.DataBindingActivity.User"/&gt;&lt;variable name="user" type="Alias_User"/&gt; ÂΩìÊàë‰ª¨Â£∞Êòé List&lt;T&gt; Âíå Map&lt;K,V&gt; Á≠âÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåÂú® xml ‰∏≠ &lt;&gt; ÊòØ‰∏çÂÖÅËÆ∏‰ΩøÁî®ÁöÑÔºå Âõ†‰∏∫Êàë‰ª¨Ë¶Å‰ΩøÁî®ËΩ¨‰πâÂ≠óÁ¨¶ &amp;lt; Âíå &amp;gt; Êù•Ë°®Á§∫Ôºå‰∏çÂæó‰∏çËØ¥ËøôÁßçÂÜôÊ≥ïÔºåÂèØËØªÊÄßÂæàÂ∑ÆÔºåËÄå‰∏îÂú®ÁºñËØëÊúüÊòØÊ†áÁ∫¢ÁöÑÔºå‰ΩÜÊòØ‰ªçÁÑ∂ÂèØ‰ª•ËøêË°åÔºåÁªëÂÆöÊàêÂäü„ÄÇ 123456789101112131415161718&lt;!--List--&gt;&lt;import type="java.util.List"/&gt;&lt;variable name="list" type="List&amp;lt;User&amp;gt;"/&gt; &lt;!--‰∏çÂØºÂåÖÁõ¥Êé•‰ΩøÁî®‰πüÊòØÂèØ‰ª•ÁöÑ--&gt;&lt;variable name="list" type="java.util.List&amp;lt;User&amp;gt;"/&gt; &lt;!--Map--&gt;&lt;import type="java.util.Map"/&gt;&lt;variable name="map" type="Map&amp;lt;String,String&amp;gt;"/&gt; Ëá™ÂÆö‰πâÁªëÂÆöÁîüÊàêÁöÑÁ±ªÂêçÔºåÁºñËØëÁîüÊàêÁªëÂÆöÁ±ªÁöÑÂêçÁß∞ÊòØÊ†πÊçÆ layout.xml Êñá‰ª∂ÁöÑÂêçÂ≠óÊù•ÁîüÊàêÁöÑÔºåÈªòËÆ§ÊîæÁΩÆÂú® ÂåÖÂêç.databinding ÂåÖ‰∏ãÔºå‰ΩÜÊòØÊàë‰ª¨ÈÄöÂ∏∏‰∏çÂ∏åÊúõ‰ΩøÁî®ÈÇ£ÁßçÂæàÈïøÂæàÊ≤°ÊúâÊÑè‰πâÁöÑÁ±ªÂêçÔºåÁîöËá≥Â∏åÊúõËá™ÂÆö‰πâËøô‰∏™ÁªëÂÆöÁ±ªÁöÑÂÖ∑‰ΩìÁöÑÂåÖÂêçÔºå‰ΩøÁî® &lt;data/&gt; Ê†áÁ≠æÁöÑ class Â±ûÊÄßÊù•ÂÆûÁé∞„ÄÇ 12345678&lt;!--ÊåáÂÆöÁªëÂÆöÁ±ªÁöÑÁ±ªÂêçÔºåÈªòËÆ§ÊîæÂú® Â∫îÁî®ÂåÖÂêç.databinding ÂåÖ‰∏ã--&gt;&lt;data class="DiyBinding"&gt;&lt;/data&gt;&lt;!--ÊåáÂÆöÁªëÂÆöÁ±ªÁöÑÁ±ªÂêçÔºåÂπ∂ÊîæÁΩÆÂú®Â∫îÁî®ÂåÖÂêçÊ†πÁõÆÂΩï‰∏ã--&gt;&lt;data class=".DiyBinding"&gt;&lt;/data&gt;&lt;!--ÊåáÂÆöÁªëÂÆöÁ±ªÁöÑÁ±ªÂêçÔºåÂπ∂ÊåáÂÆöÂåÖÂêç--&gt;&lt;data class="com.example.DiyBinding"&gt;&lt;/data&gt; View ÈÉ®ÂàÜË°®ËææÂºèËØ≠Ê≥ïÊï∞ÊçÆÁªëÂÆöÁöÑÊú¨Ë¥®ÂÖ∂ÂÆûÊòØÂú® View ÈÉ®ÂàÜÁöÑ xml ‰∏≠ÂºïÁî® Model ÈÉ®ÂàÜÂ£∞ÊòéÁöÑÊï∞ÊçÆÔºåËøôÊ†∑Êàë‰ª¨‰ΩøÁî®Êó∂Âè™ÈúÄË¶ÅËÆæÁΩÆÊï∞ÊçÆÂç≥ÂèØÊ†πÊçÆÂú® xml ‰∏≠ÁªëÂÆöÁöÑËßÑÂàôËá™Âä®ÂÆåÊàêÊï∞ÊçÆÁöÑËÆæÁΩÆÔºåDataBinding ÁöÑ‰ºòÂäøÂú®‰∫éÂÆÉÂ∞ÜËøô‰∏ÄËøáÁ®ã‰ΩøÁî®Ëá™Âä®ÁºñËØëÁîüÊàêÁöÑÁ±ªÊù•ÂÆåÊàêÔºåËÄåÊàë‰ª¨ÈúÄË¶ÅÂÅöÁöÑÂè™ÊòØËØ¥ÊòéÁªëÂÆöÁöÑËßÑÂàôÂíåËÆæÁΩÆÊï∞ÊçÆÂç≥ÂèØ„ÄÇ Âú® xml ‰∏≠ÁªëÂÆöÊï∞ÊçÆÊó∂‰ΩøÁî® @{expression} ÁöÑÂΩ¢ÂºèÔºåexpression ÊåáÁöÑÊòØË°®ËææÂºèÔºåË°®ËææÂºè‰∏≠ÊîØÊåÅ‰∏∞ÂØåÁöÑËØ≠Ê≥ï„ÄÇ Âü∫Êú¨ËØ≠Ê≥ï‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁªëÂÆö 123&lt;TextView style="@style/TvStyle" android:text='@&#123;desc&#125;'/&gt; ÊãºÊé•Â≠óÁ¨¶‰∏≤ÔºåÂú® xml ‰∏≠ÂèØ‰ª•‰ΩøÁî® &quot; &quot; Âíå &#39; &#39; Êù•Â£∞ÊòéÂÄºÔºåÂ¶ÇÂêåÂ§öÊï∞ÁöÑËÑöÊú¨ËØ≠Ë®Ä‰∏ÄÊ†∑ÔºåÂ¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏≠Êúâ &quot; &quot;ÔºåÈÇ£‰πàÂ§ñÈù¢Â∞±ÊòØÁî® &#39; &#39;ÔºåÂèç‰πã‰∫¶ÁÑ∂„ÄÇ 123&lt;TextView style="@style/TvStyle" android:text='@&#123;"ÊµãËØïÂ≠óÁ¨¶‰∏≤ÊãºÊé• [ name is " + user.name + "Ôºåage is " + user.age + "]"&#125;'/&gt; ÂêåÊó∂‰πüÊîØÊåÅÂØπÁâπÊÆäÂ≠óÁ¨¶ÁöÑËΩ¨‰πâÔºåÊØîÂ¶ÇÂØπ &quot; &quot; Âíå &#39; &#39; ÁöÑËΩ¨‰πâÔºåÊù•Ëß£ÂÜ≥Â§öÂ±ÇÂºïÂè∑ÂµåÂ•óÁöÑÈóÆÈ¢òÔºåÊØîÂ¶ÇÊàë‰ª¨‰ªé Map ‰∏≠ÂèñÂÄº„ÄÇ 1234&lt;TextView style="@style/TvStyle" android:text='@&#123;"map[\"key\"] = "+map["key"]&#125;' /&gt; ‰ΩøÁî® default ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÈªòËÆ§ÂÄºÔºåËß£ÂÜ≥Ê≤°ÊúâÁªëÂÆöÊï∞ÊçÆÊó∂ÁöÑÈªòËÆ§ÊòæÁ§∫Âíå xml È¢ÑËßàÊòæÁ§∫ÁöÑÈóÆÈ¢ò„ÄÇ 1234&lt;TextView style="@style/TvStyle" android:text='@&#123;"Â∏¶ÊúâÈªòËÆ§ÂÄº - "+user.name,default="ÈªòËÆ§ÂÄº"&#125;' /&gt; ÊîØÊåÅ ?? Êìç‰ΩúÁ¨¶ÔºåË°®ËææÂºè a??bÔºåÂΩì a ‰∏∫ null Êó∂Â∞ÜËøîÂõû bÔºåËøô‰∏™Êìç‰ΩúÁ¨¶ÊòØ Java ‰∏çÊîØÊåÅÁöÑÔºå‰ªñÁî®Êù•‰∏∫ÂÄº‰∏∫Á©∫Êó∂Êèê‰æõÈªòËÆ§ÂÄºÊòæÁ§∫„ÄÇ 1234&lt;TextView style="@style/TvStyle" android:text='@&#123;"ÈùûÁ©∫Âà§Êñ≠ - "+user.nullAble??"Á©∫ÂÄº"&#125;' /&gt; ÊîØÊåÅÁÆÄÂçïÁöÑË°®ËææÂºèËÆ°ÁÆóÔºå‰∏ãÈù¢‰ΩøÁî® VU ‰Ωú‰∏∫‰∫Ü View Á±ªÁöÑÂà´Âêç„ÄÇ 1234567891011&lt;data&gt; &lt;import alias="VU" type="android.view.View"/&gt;&lt;/data&gt; &lt;TextView style="@style/TvStyle" android:text='Ë°®ËææÂºèËÆ°ÁÆó' android:visibility="@&#123;user.age &gt; 10?VU.VISIBLE:VU.GONE&#125;" /&gt; ‰ΩøÁî®ÈùôÊÄÅÊñπÊ≥ï 1234567&lt;data&gt; &lt;import type="android.text.TextUtils"/&gt;&lt;/data&gt;&lt;TextView style="@style/TvStyle" android:text='@&#123;TextUtils.isEmpty("")?"empty":"have"&#125;'/&gt; ËÆøÈóÆ map Âíå list 12345678910111213141516171819202122&lt;data&gt; &lt;!--List--&gt; &lt;import type="java.util.List"/&gt; &lt;variable name="list" type="List&amp;lt;User&amp;gt;"/&gt; &lt;!--map--&gt; &lt;import type="java.util.Map"/&gt; &lt;variable name="map" type="Map&amp;lt;String,String&amp;gt;"/&gt;&lt;/data&gt;&lt;TextView style="@style/TvStyle" android:text='@&#123;"list[0] = " + list[0]&#125;'/&gt; &lt;TextView style="@style/TvStyle" android:text='@&#123;"map[\"key\"] = "+map["key"]&#125;' /&gt; ÊîØÊåÅ Java ‰∏≠Â§ßÂ§öÊï∞ÁöÑËøêÁÆóÁ¨¶ÔºåÂ¶Ç Êï∞Â≠¶ËÆ°ÁÆó +,-,*,/,%Ôºå‰ΩøÁî® + ËøõË°åÂ≠óÁ¨¶‰∏≤ÊãºÊé•ÔºåÈÄªËæëËøêÁÆó &amp;&amp;Ôºå||Ôºå‰ΩçËøêÁÆó &amp;,|,^ÔºåÂçïÁõÆËøêÁÆó +,-,!,~Ôºå‰ΩçÁßªËøêÁÆó &gt;&gt;,&gt;&gt;&gt;,&lt;&lt;,&lt;&lt;&lt;ÔºåÊØîËæÉËøêÁÆó ==,&gt;,&lt;.&gt;=,&lt;=ÔºåinstanceOfÔºå‰∏âÁõÆËøêÁÆó ?:ÔºåÁ±ªÂûãËΩ¨Êç¢Á≠â„ÄÇ 1234567&lt;TextView style="@style/TvStyle" android:text='@&#123;"" instanceof String + ""&#125;'/&gt;&lt;TextView style="@style/TvStyle" android:text='Âà§Êñ≠Âπ∂‰ΩøÁî®‰∏çÂêåËµÑÊ∫ê' android:textColor="@&#123;user.age%2==0?@color/black:@color/red&#125;"/&gt; ‰ΩøÁî® android ËµÑÊ∫ê‰ΩøÁî®ËµÑÊ∫êÔºåÂú®Ë°®ËææÂºè‰∏≠‰ΩøÁî® andorid ËµÑÊ∫êÊó∂ÔºåÁ®çÊúâ‰∏çÂêå TypeÔºàÁ±ªÂûãÔºâ Normal ReferenceÔºàÊôÆÈÄöÂºïÁî®Ôºâ Expression ReferenceÔºàË°®ËææÂºèÂºïÁî®Ôºâ String[] @array @stringArray int[] @array @intArray TypedArray @array @typedArray Animator @animator @animator StateListAnimator @animator @stateListAnimator color int @color @color ColorStateList @color @colorStateList 1234&lt;TextView style="@style/TvStyle" android:text='Âà§Êñ≠Âπ∂‰ΩøÁî®‰∏çÂêåËµÑÊ∫ê' android:textColor="@&#123;user.age%2==0?@color/black:@color/red&#125;"/&gt; ÊîØÊåÅ IncludesÂú® DataBinding ‰∏≠‰∏çÊîØÊåÅ merge ËäÇÁÇπÔºå‰ΩÜÊòØÁªëÂÆöÁöÑÊï∞ÊçÆÂèØ‰ª•‰º†ÈÄíÂà∞ include ÁöÑÂ∏ÉÂ±Ä‰∏≠ÔºåÂú® include Â∏ÉÂ±ÄÊñá‰ª∂‰∏≠‰πüÈúÄË¶ÅÂ£∞ÊòéÊï∞ÊçÆ 12345678910111213141516&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;layout&gt; &lt;data&gt; &lt;variable name="user" type="com.march.commonlib.activity.DataBindingActivity.User"/&gt; &lt;/data&gt; &lt;TextView xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="50dp" android:orientation="vertical" android:text="@&#123;user.name&#125;"/&gt;&lt;/layout&gt; Êàë‰ª¨ÈúÄË¶ÅÂú®ÂÆø‰∏ªÊñá‰ª∂‰∏≠Â∞ÜÊï∞ÊçÆ‰º†ÈÄíËøõÂéª 1&lt;include layout="@layout/tv" app:user="@&#123;user&#125;"/&gt; ÁªëÂÆöÊñπÊ≥ïÂíåÁõëÂê¨ÊñπÊ≥ïÁªëÂÆöÔºåMethod ReferenceÔºå‰∏∫Êéß‰ª∂ÁªëÂÆöÁÇπÂáªÂíåÈïøÊåâ‰∫ã‰ª∂ÔºåÈ¶ñÂÖàÊàë‰ª¨Ë¶ÅÂÖàÂÆö‰πâËøô‰∫õ‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÊñπÊ≥ïÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊñπÊ≥ïÁöÑÂèÇÊï∞ÂíåËøîÂõûÂÄºÈúÄË¶Å‰∏é View ÁöÑ‰∫ã‰ª∂ÂåπÈÖç„ÄÇ 1234567891011public static class EventHandler &#123; public void clickView(View view) &#123; ToastUtils.show("click view"); &#125; public boolean longClickView(View view) &#123; ToastUtils.show("long click view"); return true; &#125;&#125; Âú® xml ‰∏≠ËøõË°åÊñπÊ≥ïÁöÑÁªëÂÆöÔºå‰ΩøÁî® xxx::methodName ÁöÑÂΩ¢ÂºèÔºåÈÄöÂ∏∏Âú® xml ‰∏≠ÊòØÊ≤°Êúâ onLongClick Â±ûÊÄßÁöÑÔºå‰ΩÜÊòØÂú® DataBinding ÁéØÂ¢É‰∏ãÊîØÊåÅÔºåËôΩÁÑ∂Ê≤°ÊúâÈ´ò‰∫ÆÊòæÁ§∫ÔºåÁÇπÂáª‰πãÂêé‰πü‰∏çËÉΩË∑≥ËΩ¨Âà∞ÊåáÂÆöÁöÑÊñπÊ≥ïÔºå‰ΩÜÊòØÁºñËØëÂèØ‰ª•ÈÄöËøáÔºåËøêË°åÁªëÂÆö‰πüÊ≤°ÊúâÈóÆÈ¢ò„ÄÇ 12345678910111213&lt;data&gt; &lt;variable name="handler" type="com.march.commonlib.activity.DataBindingActivity.EventHandler"/&gt;&lt;/data&gt;&lt;Button android:id="@+id/myBtn" android:layout_width="wrap_content" android:layout_height="wrap_content" android:onClick="@&#123;handler::clickView&#125;" android:onLongClick="@&#123;handler::longClickView&#125;" android:text="ÊñπÊ≥ïÁªëÂÆö"/&gt; ÁõëÂê¨ÁªëÂÆöÔºåListener ReferenceÔºåÂú®Êéß‰ª∂ÁöÑË¢´ÁÇπÂáªÂêéÔºåÂõûË∞ÉÁõëÂê¨ÔºåËøô‰∏™Âíå‰∏äÈù¢ÊñπÊ≥ïÁöÑÁªëÂÆöÊúâ‰∫õÂå∫Âà´Ôºå‰∏äÈù¢ÁöÑÁõ¥Êé•ËÆæÁΩÆÊéß‰ª∂ÁöÑ‰∫ã‰ª∂ÔºåÁé∞Âú®ÊòØÊéß‰ª∂Ë¢´ÁÇπÂáªÂêéÂõûË∞ÉÁªëÂÆöÁöÑÊñπÊ≥ï„ÄÇ 1234567891011121314public static class EventHandler &#123; public void func1() &#123; ToastUtils.show("func1"); &#125; public void func2(View view, String name) &#123; ToastUtils.show("func2 " + name + " " + ((Button) view).getText()); &#125; public void func3(View view, Context context, String name) &#123; ToastUtils.show("func2 " + name + " " + ((Button) view).getText() + " " + context.getClass().getSimpleName()); &#125;&#125; Âú® xml ‰∏≠ÁªëÂÆöÁõëÂê¨Ôºå‰ΩøÁî® Lambda Ë°®ËææÂºèÁöÑÂΩ¢Âºè 1234567891011121314151617&lt;data&gt; &lt;variable name="handler" type="com.march.commonlib.activity.DataBindingActivity.EventHandler"/&gt;&lt;/data&gt;&lt;Button android:layout_width="wrap_content" android:layout_height="wrap_content" android:onClick="@&#123;()-&gt;handler.func1()&#125;" android:text="ÁõëÂê¨ÁªëÂÆö1"/&gt;&lt;Button android:layout_width="wrap_content" android:layout_height="wrap_content" android:onClick="@&#123;(view)-&gt;handler.func2(view,user.name)&#125;" android:text="ÁõëÂê¨ÁªëÂÆö2" /&gt; ÁªëÂÆöÊï∞ÊçÆËé∑ÂèñÂà∞ ViewDataBinding Á±ª‰πãÂêéÂ∞±ÂèØ‰ª•ËøõË°åÊï∞ÊçÆÁöÑËÆæÁΩÆÂíåÁªëÂÆöÔºå‰ΩøÁî®ÁºñËØëÁîüÊàêÁöÑ ViewDataBinding ÁöÑÂ≠êÁ±ªÔºå‰ºöÂØπÁªëÂÆöÁöÑÊï∞ÊçÆËá™Âä®ÁîüÊàê getter/setter ÊñπÊ≥ïÔºå Áõ¥Êé•Ë∞ÉÁî®Âç≥ÂèØ„ÄÇ ÁªëÂÆöÂØπË±°Êó∂ÔºåÊâÄÊúâÁöÑÂ±ûÊÄßÈÉΩÂøÖÈ°ªÊòØ public ÊàñËÄÖÂÖ∑Êúâ public ÁöÑ getter/setter ÊñπÊ≥ï„ÄÇ Âè¶Â§ñ DataBinding ‰ºöÂ∞ÜÊâÄÊúâÂ∏¶Êúâ id ÁöÑÊéß‰ª∂Ëé∑ÂèñÂà∞ÔºåÂπ∂ËΩ¨Êç¢‰∏∫È©ºÂ≥∞ÂëΩÂêçÊ≥ïÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Ôºå‰∏çÈúÄË¶ÅÂÜçËøõË°å findViewById()„ÄÇ 1234567891011121314151617DiyBinding binding = getBinding();// Â≠óÁ¨¶‰∏≤binding.setDesc("ÁÆÄÂçï‰ΩøÁî®");// ÂØπË±°binding.setUser(new User("chendong", 9));// ÊñπÊ≥ïÂíåÁõëÂê¨binding.setHandler(new EventHandler());// listList&lt;User&gt; list = new ArrayList&lt;&gt;();list.add(new User("test", 10));binding.setList(list);// mapMap&lt;String, String&gt; map = new HashMap&lt;&gt;();map.put("key", "value");binding.setMap(map);// Ëé∑ÂèñÊéß‰ª∂Button myBtn = binding.myBtn; ËßÇÂØüËÄÖÂØπË±°ÂΩìÊï∞ÊçÆÂèëÁîüÂèòÂä®Êó∂ÔºåÊàë‰ª¨Â∏åÊúõ UI ‰ΩúÂêåÊ≠•ÁöÑÊõ¥Êîπ„ÄÇ BaseObservable‰ΩøÂØπË±°Á±ªÁªßÊâø BaseObservable Á±ªÔºåÂú®ÂØπÂ∫îÂ±ûÊÄßÂ£∞ÊòéÂ§ÑÊàñËÄÖ getter/setter ÊñπÊ≥ïÂ§Ñ‰ΩøÁî® @Bindable Ê≥®Ëß£ÔºåÊ≠§Êó∂ÔºåÂΩìÂ±ûÊÄßÂÄºÂèëÁîüÊîπÂèòÊó∂ÔºåË∞ÉÁî® notifyPropertyChanged(BR.xxx) Âç≥ÂèØÂêåÊ≠• UI Êõ¥Êîπ„ÄÇ 12345678910111213141516171819202122public static class User extends BaseObservable&#123; @Bindable private String name; @Bindable public int age; public String nullAble; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; notifyPropertyChanged(BR.name); &#125; public User(String name, int age) &#123; this.name = name; this.age = age; &#125;&#125; Âú®ÁÇπÂáª‰∫ã‰ª∂‰∏≠Êõ¥ÊîπÊï∞ÊçÆÔºåÁî±‰∫é age Â±ûÊÄßÊ≤°Ê∑ªÂä† setter ÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•Âú®Â§ñÈù¢Ë∞ÉÁî®Êõ¥Êñ∞ÊñπÊ≥ï„ÄÇ 123456789public void clickView(View view) &#123; mUser.setName("newName");&#125;public boolean longClickView(View view) &#123; mUser.age = 1000; mUser.notifyPropertyChanged(BR.age); return true;&#125; ÂºäÁ´Ø‰πüÂæàÊòéÊòæÔºåÊàë‰ª¨ÈúÄË¶ÅÊâÄÊúâÁöÑÂØπË±°ÈÉΩÊòØÁªßÊâø BaseObservableÔºåÈúÄË¶ÅÊâãÂä®Ê∑ªÂä†Ê≥®Ëß£ÔºåÈúÄË¶ÅÊâãÂä®ÂéªË∞ÉÁî®Êï∞ÊçÆÊõ¥Êñ∞ÁöÑÈÄöÁü•Ôºå‰ΩøÁî® ObservableField ÂèØ‰ª•Êõ¥Êñπ‰æøÁöÑÂÆåÊàêËøô‰∏™ËøáÁ®ã„ÄÇ ObservableFieldÂÆö‰πâÂØπË±°Á±ªÔºåÂπ∂Â∞ÜÊØè‰∏™Â±ûÊÄßÈÉΩÂÆö‰πâ‰∏∫ ObservableField Á±ªÂûãÔºåÂàôÂú®Â±ûÊÄßÁä∂ÊÄÅÂèëÁîüÊõ¥ÊîπÊó∂ÔºåËßÜÂõæ‰ºöÂÅöÂØπÂ∫îÊõ¥Êñ∞Ôºõ ObservableField ÊòØ‰∏Ä‰∏™‰ΩøÁî®ËåÉÂûãÊù•ÂåÖË£ÖÂÖ∂‰ªñÊï∞ÊçÆÁ±ªÂûãÁöÑÁ±ªÔºåËøôÊ†∑ÁúãÊù•Êàë‰ª¨Â¶ÇÊûúÈúÄË¶Å‰∏Ä‰∏™ int Á±ªÂûãÂ±ûÊÄßÊó∂Ôºå‰æø‰∏çÂæó‰∏ç‰ΩøÁî® ObservableField&lt;Integer&gt;Ôºå‰∏çËøá DataBinding Â∑≤Áªè‰∏∫Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÊèê‰æõ‰∫Ü‰∏ìÈó®ÁöÑÂåÖË£ÖÔºåÂ¶Ç ObservableInt Á±ªÂûãÔºåÂÖ∂‰ªñÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûã‰πüÊúâÂØπÂ∫îÂåÖË£Ö„ÄÇ ‰ΩøÁî®ËøôÁßçÊñπÂºèÊõ¥Êñ∞Êï∞ÊçÆÊó∂Á°ÆÂÆûÁÆÄÂåñ‰∫ÜÂæàÂ§öÊìç‰ΩúÔºå‰∏çËøáÊâÄÊúâÁöÑÂ±ûÊÄßÈÉΩÂèòÊàê‰∫Ü ObservableField Á±ªÂûãÔºåÂΩìÊàë‰ª¨ËøõË°åÊï∞ÊçÆ‰∫§‰∫íÔºåjson ËΩ¨ÂåñÁ≠âÊìç‰ΩúÊó∂ÔºåÂ∞±ÂèòÂæó‰∏çÊñπ‰æø‰∫ÜÔºåÊöÇÊó∂‰∏çÁü•ÈÅìÊòØÂ¶Ç‰ΩïËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ 1234public static class ObUser &#123; public ObservableField&lt;String&gt; name = new ObservableField&lt;&gt;(); public ObservableInt age = new ObservableInt();&#125; ÂàõÂª∫ ObUser Á±ªÂûãÁöÑÊï∞ÊçÆÂπ∂Â∞ÜÂÆÉÁªëÂÆöÂà∞ËßÜÂõæ‰∏≠ 1234ObUser obUser = new ObUser();obUser.name.set("chendong");obUser.age.set(12);binding.setObuser(obUser); ÂΩìÊàë‰ª¨Êõ¥ÊîπÊï∞ÊçÆÁöÑÂÄºÊó∂Ôºå‰ºöËá™Âä®Ë∞ÉÁî® notifyChange(); ÊñπÊ≥ïÔºåÈÄöÁü•ÊâÄÊúâÊï∞ÊçÆÊõ¥Êñ∞. 123public void clickView(View view) &#123; mObUser.name.set("newName");&#125; ObservableCollections‰ΩøÁî® ObservableArrayList Âíå ObservableArrayMap ÂàõÂª∫ÂÆ¢ËßÇÂØüÁöÑ List Âíå Map„ÄÇ Âú® xml ÂºïÁî®Êï∞ÊçÆ 1234567891011121314151617&lt;data&gt; &lt;import type="android.databinding.ObservableArrayList"/&gt; &lt;import type="android.databinding.ObservableArrayMap"/&gt; &lt;variable name="obArrayList" type="ObservableArrayList&amp;lt;String&amp;gt;"/&gt; &lt;variable name="obArrayMap" type="ObservableArrayMap&amp;lt;String,String&amp;gt;"/&gt;&lt;/data&gt;&lt;TextView style="@style/TvStyle" android:text='@&#123;obArrayList[0]&#125;'/&gt;&lt;TextView style="@style/TvStyle" android:text='@&#123;obArrayMap.get("myKey")&#125;'/&gt; ÂàõÂª∫Êï∞ÊçÆÂπ∂ËøõË°åÁªëÂÆö 12345678ObservableArrayList&lt;String&gt; obArrayList = new ObservableArrayList&lt;&gt;();obArrayList.add("item");ObservableArrayMap&lt;String, String&gt; obArrayMap = new ObservableArrayMap&lt;&gt;();obArrayMap.put("myKey", "myValue");binding.setObArrayList(obArrayList);binding.setObArrayMap(obArrayMap); ÂΩìÊõ¥ÊîπÂØπÂ∫îÊï∞ÊçÆÊó∂ÔºåËßÜÂõæ‰ºöÂæóÂà∞ÂêåÊ≠•Êõ¥Êñ∞ 12mObArrayList.add(0, "newItem");mObArrayMap.put("myKey", "myNewValue"); ÂàóË°®‰∏≠ËøõË°åÊï∞ÊçÆÁªëÂÆö‰ΩøÁî® DataBinding ÂèØ‰ª•Â§ßÂ§ßÁÆÄÂåñÂàóË°®ÁöÑ‰ΩøÁî®ÔºåÂÜç‰πü‰∏çÈúÄË¶ÅÊãøÂá∫Êù•ÊâÄÊúâÁöÑÊéß‰ª∂Êå®‰∏™ËÆæÁΩÆÔºåÊ≠§Êó∂ÈúÄË¶Å‰ΩøÁî® DataBindingUtil.inflate() ÊñπÊ≥ïËé∑Âèñ Binding ÂØπË±°„ÄÇ ÂÆö‰πâ ViewHolder Á±ªÔºåÊåÅÊúâ Binding ÂØπË±°„ÄÇ 1234567private class BindHolder extends RecyclerView.ViewHolder &#123; private ItemBindBinding mItemBindBinding; public BindHolder(ItemBindBinding itemBindBinding) &#123; super(itemBindBinding.getRoot()); mItemBindBinding = itemBindBinding; &#125;&#125; ÂÆö‰πâ Adapter 12345678910111213141516private class BindAdapter extends RecyclerView.Adapter&lt;BindHolder&gt; &#123; ... @Override public BindHolder onCreateViewHolder(ViewGroup parent, int viewType) &#123; ItemBindBinding itemBindBinding = DataBindingUtil.inflate(LayoutInflater.from(mContext), R.layout.item_bind, parent, false); return new BindHolder(itemBindBinding); &#125; @Override public void onBindViewHolder(BindHolder holder, int position) &#123; holder.mItemBindBinding.setUser(mUserList.get(position)); &#125; ...&#125; ‰ªªÊÑèÂ±ûÊÄßÁöÑ setterÂú® xml ‰ΩøÁî® DataBinding ËØ≠Ê≥ïËøõË°åÊï∞ÊçÆÁªëÂÆöÊó∂Ôºå‰ºöËá™Âä®Êü•ÊâæÂØπÂ∫îÁöÑ setterÔºåËøô‰∏ÄËøáÁ®ãÂíåÂëΩÂêçÁ©∫Èó¥Ê≤°ÊúâÂÖ≥Á≥ªÔºå‰πüÂ∞±ÊòØËØ¥ app:text=&quot;xx&quot; Âíå android:text=&quot;xx&quot; ÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰ªñ‰ª¨ÈÉΩ‰ºöÂéªÊü•ÊâæËøô‰∏™Êéß‰ª∂‰∏≠ÁöÑ setText(String text) ÊñπÊ≥ïË∞ÉÁî®ÔºåÁî±‰∫éËøô‰∏ÄÁÇπÁöÑÊîØÊåÅÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂæàÂ§ö xml Êñá‰ª∂‰∏≠ÂéüÂÖà‰∏çÊîØÊåÅÁöÑÂ±ûÊÄß„ÄÇ ÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•Â¶Ç‰∏ãÁöÑËØ≠Ê≥ïÔºåËÆæÁΩÆÊñáÂ≠óÂíåÈïøÊåâÁõëÂê¨‰∫ã‰ª∂ 1234567&lt;TextView xmlns:app="http://schemas.android.com/apk/res-auto" android:id="@+id/tv" style="@style/TvStyle" android:layout_height="50dp" app:onLongClickListener="@&#123;handler::longClickView&#125;" app:text='@&#123;user.name + " " + user.age&#125;'/&gt; ÁÆÄÂåñËá™ÂÆö‰πâÂ±ûÊÄßÈÄöÂ∏∏Êàë‰ª¨Ëá™ÂÆö‰πâÊéß‰ª∂Êó∂ÔºåÈúÄË¶ÅÂÜô declare-styleableÔºåËøôÊ†∑Êàë‰ª¨ÊâçËÉΩÂú® xml ‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑÂ±ûÊÄßÔºåÂêåÊó∂ËøòË¶ÅÂú®Ëá™ÂÆö‰πâÊéß‰ª∂Êù•Ëé∑ÂèñËøô‰∫õÂ±ûÊÄßÔºåÊï¥‰∏™ËøáÁ®ãÂæàÁπÅÁêêÔºå‰ΩøÁî® DataBinding Ëá™ÂÆö‰πâÂ±ûÊÄßÂ∞±ÂèòÂæóÂæàÁÆÄÂçï‰∫ÜÔºåÁõ¥Êé•ÂÜô‰∏Ä‰∏™ setXXX() ÁöÑÊñπÊ≥ïÂç≥ÂèØÔºå‰∏çËøáÁº∫ÁÇπÂ∞±ÊòØ‰ª£Á†ÅÈ´ò‰∫ÆÁ≠âÈÉΩ‰∏çÊîØÊåÅ‰∫Ü„ÄÇ ÂÆö‰πâ‰∏Ä‰∏™ TextViewÔºåÂÆÉÊúâ setFormatText(String text) Âíå setMySize(int size) ÊñπÊ≥ïÔºåËøô‰∏§‰∏™ÊñπÊ≥ïÊ≤°‰ªÄ‰πàÊÑè‰πâÔºåÂè™ÊòØÁî®Êù•ÊµãËØï„ÄÇ 123456789101112131415161718192021222324252627public class MyTv extends android.support.v7.widget.AppCompatTextView &#123; public MyTv(Context context) &#123; super(context); &#125; public MyTv(Context context, AttributeSet attrs) &#123; super(context, attrs); &#125; public MyTv(Context context, AttributeSet attrs, int defStyleAttr) &#123; super(context, attrs, defStyleAttr); &#125; public void setFormatText(String text) &#123; setText(String.format(Locale.CHINA, "FormatText = %s", text)); &#125; public void setMySize(final int mySize) &#123; setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View v) &#123; ToastUtils.show("ËÆæÁΩÆÁöÑsize= " + mySize); &#125; &#125;); &#125;&#125; Âú® xml ‰∏≠Â∞±ÂèØ‰ª•ÂÉèÊôÆÈÄöÂ±ûÊÄß‰∏ÄÊ†∑‰ΩøÁî®Ëøô‰∏§‰∏™ setter ÊñπÊ≥ïÂØπÂ∫îÁöÑÂ±ûÊÄß„ÄÇ 123456&lt;com.march.commonlib.widget.MyTv android:id="@+id/tv" style="@style/TvStyle" android:layout_height="50dp" app:formatText="@&#123;user.name&#125;" app:mySize="@&#123;user.age&#125;"/&gt; BindingMethods‰∏çÊòØÊâÄÊúâÁöÑÊñπÊ≥ïÈÉΩËÉΩÂàöÂ•ΩÊòØ setter ÊñπÊ≥ïÁöÑÊ†ºÂºèÔºåÂèàÊàñËÄÖÊää‰∏Ä‰∏™ setter ÊñπÊ≥ïËΩ¨Êç¢Êàê xml Â±ûÊÄßÂèòÂæóÂæàÈïøÂæàÈöæÁúãÔºåDataBinding Êèê‰æõ‰∫ÜÂ∞Ü setter ÊñπÊ≥ïÂíå xml Â±ûÊÄßÊò†Â∞ÑÁöÑÊñπÊ≥ïÔºå‰ΩøÁî®Ê≥®Ëß£ BindingMethods ÂÆûÁé∞„ÄÇ ËøòÊòØÂú®Ëá™ÂÆö‰πâÊéß‰ª∂‰∏≠ÔºåÊ∑ªÂä†ÊñπÊ≥ï testBindingMethod() ÊñπÊ≥ïÔºåËøô‰∏çÊòØ‰∏Ä‰∏™Ê†áÂáÜÁöÑ setter ÊñπÊ≥ïÔºåËá™ÁÑ∂Êó†Ê≥ïÊò†Â∞ÑÂà∞ÂØπÂ∫îÁöÑ xml Â±ûÊÄßÔºå‰∏∫‰∫ÜËÉΩÂú® xml ‰∏≠‰ΩøÁî®ÔºåÈúÄË¶Å‰ΩøÁî® BindingMethods Ê≥®Ëß£ÔºåBindingMethods ÊòØÊ≥®Ëß£Âú®Á±ª‰∏äÁöÑ„ÄÇ ‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊÑèÂë≥ÁùÄÔºåÂØπ‰∫é TextView ÁöÑ my_bind_method Â±ûÊÄß‰ºöÂØπÂ∫îË∞ÉÁî® testBindingMethod() ÊñπÊ≥ï„ÄÇ 1234567891011121314151617@BindingMethods( @BindingMethod(type = TextView.class, attribute = "my_bind_method", method = "testBindingMethod"))public class MyTv extends android.support.v7.widget.AppCompatTextView &#123; public void testBindingMethod(final String text) &#123; setOnLongClickListener(new OnLongClickListener() &#123; @Override public boolean onLongClick(View v) &#123; ToastUtils.show("setTestBindingMethod = " + text); return true; &#125; &#125;); &#125;&#125; BindingAdapterÊúâÊó∂Êàë‰ª¨ÈúÄË¶ÅÁªôÂ∑≤ÁªèÂ≠òÂú®ÁöÑÊéß‰ª∂ËÆæÁΩÆÊñ∞ÁöÑ xml Â±ûÊÄßÔºå ÁîöËá≥Êõ¥ÊîπÂéüÊù•Â±ûÊÄßÁöÑËøê‰ΩúÊñπÂºèÔºåÊ≠§Êó∂ÈúÄË¶Å‰ΩøÁî® @BindingAdapter Ê≥®Ëß£ÔºåËøô‰∏™Ê≥®Ëß£ÁöÑ‰ΩúÁî®ÊòØÂ∞ÜÂ±ûÊÄßÂíåÊñπÊ≥ïÁªëÂÆöÂà∞‰∏ÄËµ∑ÔºåÂΩìÂú®ÂØπÂ∫îÊéß‰ª∂‰∏≠‰ΩøÁî®ÂØπÂ∫îÂ±ûÊÄßÊó∂Ôºå‰ºöË∞ÉÁî®ËØ•ÊñπÊ≥ï„ÄÇ ÊñπÊ≥ïÊòØÈùôÊÄÅÁöÑÔºåÂ¶ÇÊûúÊòØ android ÂéüÂÖàÁöÑÂ±ûÊÄßÔºåÂàôÈúÄË¶ÅÊ∑ªÂä† android:xxx ÂëΩÂêçÁ©∫Èó¥ÔºåÂÖ∂‰ªñ‰∏çÈúÄË¶ÅÔºåÂèØ‰ª•Áõ¥Êé•ÂÜôÂ±ûÊÄßÂêçÂç≥ÂèØÔºåÂèÇÊï∞Â§ßËá¥ÂàÜ‰∏∫‰ª•‰∏ãÂá†ÁßçÁ±ªÂûãÔºö Ê≥®Ëß£‰∏∫‰∏Ä‰∏™Â±ûÊÄßÊó∂ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂØπÂ∫îÊéß‰ª∂ÔºåÂ¶ÇÊûúÂè¶Â§ñÂè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ÂÄºÔºõ Ê≥®Ëß£‰∏∫‰∏Ä‰∏™Â±ûÊÄßÊó∂ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂØπÂ∫îÊéß‰ª∂ÔºåÂ¶ÇÊûúÂè¶Â§ñÊúâ‰∏§‰∏™ÂèÇÊï∞ÔºåÂàôÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ÂéüÊù•ÁöÑÂÄºÔºåÁ¨¨‰∏â‰∏™ÂèÇÊï∞‰∏∫Êñ∞ÂÄºÔºõ Ê≥®Ëß£‰∏∫Â§ö‰∏™Â±ûÊÄßÊó∂ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂØπÂ∫îÊéß‰ª∂ÔºåÂêéÈù¢ÁöÑÂèÇÊï∞ÂàÜÂà´‰∏∫‰∏çÂêåÂ±ûÊÄßÁöÑÂÄºÔºåÂ§ö‰∏™Â±ûÊÄßÊó∂ÊÑèÂë≥ÁùÄÂøÖÈ°ªÂΩìËøô‰∏™Êéß‰ª∂ÂêåÊó∂Â£∞Êòé‰∫ÜÊ≥®Ëß£‰∏≠ÊâÄÊúâÁöÑÊ≥®Ëß£Â±ûÊÄßÊâç‰ºöÁªëÂÆöÂà∞ËØ•ÊñπÊ≥ïÔºõ Êàë‰ª¨ÂèØ‰ª•Êõ¥ÊîπÂ∑≤Â≠òÂú®Â±ûÊÄßÁöÑËøê‰ΩúÊñπÂºèÔºåÂ¶Ç‰∏ãÔºåÂΩìÂØπ TextView ‰ΩøÁî® android:text Â±ûÊÄßÊó∂Ôºå‰ºöË∞ÉÁî®ËØ•ÊñπÊ≥ï„ÄÇ 123456public class AttrAdapter &#123; @BindingAdapter("android:text") public static void test1(TextView tv, String text) &#123; tv.setText(String.format(Locale.CHINA, "test1 - %s", text)); &#125;&#125; ÂÆö‰πâ‰∏Ä‰∏™Êñ∞ÁöÑÂ±ûÊÄß 1234@BindingAdapter("myTest2")public static void test2(TextView tv, String text) &#123; tv.setText(String.format(Locale.CHINA, "test2 - %s", text));&#125; ÂêåÊó∂ÁªëÂÆö‰∏§‰∏™Â±ûÊÄßÔºåÂè™ÊúâÂΩìËØ•Êéß‰ª∂ÂêåÊó∂Â£∞ÊòéËøô‰∏§‰∏™Â±ûÊÄßÊó∂Êâç‰ºöÁªëÂÆöÂà∞ËØ•ÊñπÊ≥ï 123456789@BindingAdapter(&#123;"android:text", "myTest3"&#125;)public static void test3(TextView tv, String text, String text2) &#123; tv.setText(String.format(Locale.CHINA, "test3 - %s - %s", text, text2));&#125;@BindingAdapter(&#123;"myTest2", "myTest3"&#125;)public static void test4(TextView tv, String text, String text2) &#123; tv.setText(String.format(Locale.CHINA, "test4 - %s - %s", text, text2));&#125; ÂΩì‰∏Ä‰∏™Â±ûÊÄßÔºå‰∏â‰∏™ÂèÇÊï∞Êó∂ÔºåÂèØ‰ª•Ëé∑ÂæóËØ•Â±ûÊÄßÁöÑÊóßÂÄºÂíåÊñ∞ÂÄº„ÄÇ 1234@BindingAdapter("myTest4")public static void test5(TextView tv, String oldText, String newText) &#123; tv.setText(String.format(Locale.CHINA, "test5 - %s - %s", oldText, newText));&#125; Ëøô‰∫õÊñπÊ≥ïÈÉΩÂ£∞ÊòéÂú®Á±ª AttrAdapter ÈáåÈù¢ÔºåÂ¶ÇÊûúË¶ÅÂú® xml ‰∏≠‰ΩøÁî®ÔºåÈúÄË¶ÅÂØºÂÖ•ËØ•Á±ª„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738394041&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;layout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto"&gt; &lt;data&gt; &lt;variable name="user" type="com.march.commonlib.activity.DataBindingActivity.User"/&gt; &lt;import type="com.march.commonlib.activity.DataBindingActivity.AttrAdapter"/&gt; &lt;/data&gt; &lt;LinearLayout android:layout_width="match_parent" android:layout_height="wrap_content" android:orientation="vertical"&gt; &lt;TextView style="@style/TvStyle" android:text="@&#123;user.name&#125;"/&gt; &lt;TextView style="@style/TvStyle" app:myTest2="@&#123;user.name&#125;"/&gt; &lt;TextView style="@style/TvStyle" android:text="@&#123;user.name&#125;" app:myTest3="@&#123;user.name&#125;"/&gt; &lt;TextView style="@style/TvStyle" app:myTest2="@&#123;user.name&#125;" app:myTest3="@&#123;user.name&#125;"/&gt; &lt;TextView style="@style/TvStyle" app:myTest4="@&#123;user.name&#125;"/&gt; &lt;/LinearLayout&gt;&lt;/layout&gt;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>DataBinding</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-16-ÂèçÂ∞Ñ]]></title>
    <url>%2Farticle%2F2650e1c8%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰ªãÁªç Kotlin ÂèçÂ∞ÑÁöÑÁî®Ê≥ï„ÄÇ Âú® Java ‰∏≠‰πüÊúâÂèçÂ∞ÑÁöÑÁõ∏ÂÖ≥Áî®Ê≥ïÔºå‰∏çËøáÂõ†‰∏∫ËøêË°åÊó∂ÂèçÂ∞ÑÊïàÁéáÂ∑ÆÔºåËÄå‰∏î java ‰∏≠ÁöÑÂèçÂ∞Ñ‰ΩøÁî®Ëµ∑Êù•Áõ∏ÂØπÈ∫ªÁÉ¶ÔºåÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÂèçÂ∞ÑÁöÑ‰ΩøÁî®ËøòÊòØÂæàÂ∞ëÁöÑ„ÄÇ‰∏çËøáÂú® Kotlin ‰∏≠ÁöÑÂèçÂ∞Ñ‰ΩøÁî®Ëµ∑Êù•ÂçÅÂàÜÁÆÄÂçï„ÄÇ ÂèçÂ∞ÑÔºåÊàë‰ª¨Âπ≥Â∏∏ËÆøÈóÆÂØπË±°ÁöÑÂ±ûÊÄßÂíåÂáΩÊï∞ÔºåÊòØÈíàÂØπÂØπË±°Êù•ËØ¥ÁöÑÔºåÊÄªÊòØËÆøÈóÆ‰ªñ‰ª¨ÁöÑ ‚ÄúÂÄº‚ÄùÔºåÊØîÂ¶Ç‰∏Ä‰∏™Â±ûÊÄßÁöÑÂÖ∑‰ΩìÂÄºÔºåÊàñËÄÖÊâßË°åÊüê‰∏™ÂáΩÊï∞ÔºåÈÉΩÊòØ‰ΩøÁî®ÂØπË±°Êù•Ë∞ÉÁî®ÔºåËøôÈÉΩÊòØËÆøÈóÆ ‚ÄúÂÄº‚Äù ÁöÑÊìç‰ΩúÔºåËÄåÂèçÂ∞ÑÔºåÊòØÈíàÂØπÁ±ªÊù•ËØ¥ÁöÑÔºå‰πüÂ∞±ÊòØ‰∏çÂøÖÊúâÁ±ªÂÆû‰ΩìÔºåËÄåÊòØËÆøÈóÆÁ±ªÁöÑÂ±ûÊÄßÂíåÂáΩÊï∞Êú¨Ë∫´Ôºå‰∏çÂÜçÂú®‰πéÂÄºÂà∞Â∫ïÊòØ‰ªÄ‰πàÔºåËÄåÊòØÁúüÊ≠£ÁöÑÊääËøô‰∏™Â±ûÊÄßÊàñÂáΩÊï∞ÊãøÂá∫Êù•ÔºåÂΩìÊàë‰ª¨ÊÉ≥Ë¶ÅËøô‰∏™Â±ûÊÄßÁöÑÂÄºÊàñÂáΩÊï∞ÁöÑÊâßË°åÁªìÊûúÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅÁî®ÊãøÂà∞ÁöÑÂ±ûÊÄßÂíåÂáΩÊï∞Êú¨Ë∫´ÂéªË∞ÉÁî®‰∏Ä‰∏™ÂØπË±°ÔºåËøô‰∏™ËøáÁ®ãÂ∞±ÂèçËøáÊù•‰∫ÜÔºå‰∏çÊòØÂØπË±°Ë∞ÉÁî®Â±ûÊÄßÂíåÂáΩÊï∞ÔºåËÄåÊòØÂ±ûÊÄßÂíåÂáΩÊï∞Êú¨Ë∫´Ë∞ÉÁî®ÂØπË±°„ÄÇ Âú® Kotlin ‰∏≠‰ΩøÁî®ÂèçÂ∞ÑÈúÄË¶ÅÂÄüÂä© :: Êìç‰ΩúÁ¨¶„ÄÇ Class ReferenceËé∑ÂèñÊüê‰∏™Á±ªÁöÑÂºïÁî® 1234// Ëé∑Âèñ kotlin classvar kClass = ReflectTest::class// Ëé∑Âèñ java classvar clazz = ReflectTest::class.java ‰ªé KClass Á±ªÂûãÁöÑÂèòÈáè‰∏≠ÂèØ‰ª•Ëé∑ÂèñÁ±ªÁöÑÁöÑÂ±ûÊÄß 12345678kClass.constructorskClass.isAbstractkClass.isDatakClass.isFinalkClass.isCompanionkClass.isInnerkClass.isOpen... Function ReferenceÂèçÂ∞ÑËé∑ÂèñÂáΩÊï∞ÂºïÁî®ÔºåÈùûÁ±ªÊàêÂëòÂáΩÊï∞Êó∂ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® ::funcName ÁöÑÂΩ¢ÂºèËé∑ÂèñÂáΩÊï∞Ôºå 123456789101112131415161718192021// top level Á∫ßÂà´ÂáΩÊï∞fun funcInTopLevel(str: String) = str.lengthclass ReflectFunTest() &#123; // ÊàêÂëòÂáΩÊï∞ fun funcInClass(str: String) = str.length fun test() &#123; // Â±ÄÈÉ®ÂáΩÊï∞ fun funcInLocal(str: String) = str.length // ok val f1: (String) -&gt; Int = ::funcInTopLevel // error val f2: (String) -&gt; Int = ::funcInClass // okÔºåÂ±ÄÈÉ®ÂáΩÊï∞ val f3: (String) -&gt; Int = ::funcInLocal &#125;&#125; ÂØπ‰∫éÁ±ªÊàêÂëòÂáΩÊï∞ÂèçÂ∞ÑËøîÂõûÁöÑÁªìÊûúÂÖ∂ÂÆûÊòØ Á±ªÂêç.(ÂèÇÊï∞)-&gt;ËøîÂõûÂÄº Á±ªÂûãÁöÑÂáΩÊï∞ÔºåÂõ†Ê≠§‰∏äÈù¢ÊòØÁºñËØëÈîôËØØÁöÑ„ÄÇ 1234567val f4: ReflectFunTest.(String) -&gt; Int = ReflectFunTest::funcInClass``` ‰πüÂèØ‰ª•Ëé∑Âèñ `String` Á±ªÁöÑÊàêÂëòÂáΩÊï∞```javaval f3: String.() -&gt; CharArray = String::toCharArrayval f4: String.(Int, Int) -&gt; CharSequence = String::subSequence ÊâßË°åÂáΩÊï∞ÔºåÂØπ‰∫éÈùûÁ±ªÊàêÂëòÂáΩÊï∞ÂèØ‰ª•Áõ¥Êé•ÊâßË°åÔºåËÄåÂØπ‰∫éÁ±ªÊàêÂëòÂáΩÊï∞ÂàôÈúÄË¶Å‰æùËµñÁ±ªÁöÑÂÆû‰æãÊù•ÊâßË°å„ÄÇ 12345val f1: (String) -&gt; Int = ::funcInTopLevelval f4: ReflectFunTest.(String) -&gt; Int = ReflectFunTest::funcInClassf1.invoke("test")f4.invoke(ReflectFunTest(), "test") Property ReferenceÂèçÂ∞ÑËé∑ÂèñÂ±ûÊÄßÂºïÁî®ÔºåÊîØÊåÅÁ±ªÂ±ûÊÄßÂíåÊâ©Â±ïÂ±ûÊÄß„ÄÇ 1234567891011121314151617181920212223242526272829303132// Êâ©Â±ïÂ±ûÊÄßval ReflectPropertyTest.extensionProperty: Int get() = 200class ReflectPropertyTest &#123; // ÊàêÂëòÂ±ûÊÄß var myProperty = 10 fun test() &#123; val model = ReflectPropertyTest() // ÂèçÂ∞ÑÂ±ûÊÄß val kPropertyForMyProperty = ReflectPropertyTest::myProperty // ‰ªé model ‰∏≠ÂèñÂá∫ËØ•Â±ûÊÄßÁöÑÂÄº var myPropertyValue = kPropertyForMyProperty.get(model) // Âêë model ‰∏≠ËÆæÁΩÆËØ•Â±ûÊÄßÁöÑÂÄº kPropertyForMyProperty.set(model, 100) // ÂèçÂ∞ÑÊâ©Â±ïÂ±ûÊÄß val kPropertyForExtensionProperty = ReflectPropertyTest::extensionProperty // ‰ªé model ‰∏≠ÂèñÂá∫ËØ•Â±ûÊÄßÁöÑÂÄº var extensionPropertyValue = kPropertyForExtensionProperty.get(model) // ÂèçÂ∞ÑÂÖ∂‰ªñÁ±ªÂ±ûÊÄß val lengthProperty = String::length lengthProperty.get("test") &#125;&#125; Constructor ReferenceÂèçÂ∞ÑËé∑ÂèñÊûÑÈÄ†Âô®ÂºïÁî® 123456789101112131415161718192021222324class ReflectConstructorTest() &#123; constructor(age: Int) : this() constructor(age: Int, name: String) : this(age) fun test() &#123; testConstructor1(::ReflectConstructorTest) testConstructor2(::ReflectConstructorTest) testConstructor3(::ReflectConstructorTest) &#125; fun testConstructor1(factory: () -&gt; ReflectConstructorTest): ReflectConstructorTest &#123; return factory.invoke() &#125; fun testConstructor2(factory: (Int) -&gt; ReflectConstructorTest): ReflectConstructorTest &#123; return factory.invoke(12) &#125; fun testConstructor3(factory: (Int, String) -&gt; ReflectConstructorTest): ReflectConstructorTest &#123; return factory.invoke(12, "chen") &#125;&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-15-Êìç‰ΩúÁ¨¶ÈáçËΩΩ]]></title>
    <url>%2Farticle%2F75caba4c%2F</url>
    <content type="text"><![CDATA[Âú® Kotlin ‰∏≠ÂÖÅËÆ∏ÂØπÊìç‰ΩúÁ¨¶ËøõË°åÈáçËΩΩÔºåÂπ∂Êèê‰æõ‰∫ÜÁÆÄÂçïÂèãÂ•ΩÁöÑÊñπÂºèÊù•ÊîØÊåÅËøô‰∏™ÁâπÊÄßÔºåËøôÊ†∑ÁöÑÂ•ΩÂ§ÑÂ∞±ÊòØÊàë‰ª¨ÂèØ‰ª•ÂØπ‰∏Ä‰∫õÂéüÊú¨‰∏çÊîØÊåÅÊìç‰ΩúÁ¨¶ÁöÑÁ±ªÂûã‰ΩøÁî®Êìç‰ΩúÁ¨¶ÔºåÁÆÄÂåñ‰ª£Á†ÅÔºå‰∏æ‰∏™‰æãÂ≠êÔºåKotlin ‰∏≠ÁöÑÈõÜÂêàÁ±ªÂûãÊòØÊîØÊåÅÊìç‰ΩúÁ¨¶ÁöÑÔºåËÄå Java ‰∏≠‰∏çÊîØÊåÅÔºåÂØπÊØî‰∏Ä‰∏ã‰ΩøÁî®Âíå‰∏ç‰ΩøÁî®Êìç‰ΩúÁ¨¶ÂØπÈõÜÂêàÂ¢ûÂáèÂÖÉÁ¥†ÁöÑÊìç‰Ωú„ÄÇ 1234567891011// ‰ΩøÁî®Êìç‰ΩúÁ¨¶val a = list + "1"val b = list + destListval c = list - "2"val d = list - destList// ‰∏ç‰ΩøÁî®Êìç‰ΩúÁ¨¶val e = list.add("1")val f = list.addAll(destList)val g = list.remove("2")val h = list.removeAll(destList) Êìç‰ΩúÁ¨¶ÈáçËΩΩÁöÑÂü∫Êú¨ÂéüÁêÜÂ∞±ÊòØÊØèÁßçÊìç‰ΩúÁ¨¶ÈÉΩÊúâÂÖ∂ÂØπÂ∫îÁöÑÂáΩÊï∞ÂêçÔºåËøôÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÔºåÂΩìÂØπÊüê‰∏™Á±ªÂûãÁöÑÂØπË±°‰ΩøÁî®Êìç‰ΩúÁ¨¶Êó∂ÔºåÁºñËØëÂô®‰æø‰ºöÊü•ÊâæËØ•Á±ªÂûã‰∏ãÔºåÊòØÂê¶Â≠òÂú®ËØ•ÂêçÁß∞ÁöÑÂáΩÊï∞ÔºåÂπ∂‰ΩøÁî® operator ÂÖ≥ÈîÆÂ≠óÊ†áËÆ∞ÔºåÂèØ‰ª•ÊòØÊàêÂëòÂáΩÊï∞‰πüÂèØ‰ª•ÊòØÊâ©Â±ïÂáΩÊï∞ÔºåÂ¶ÇÊûúÊúâÁöÑËØùÔºåÂåπÈÖçÁõ∏Â∫îÁöÑÂèÇÊï∞ÔºåË∞ÉÁî®ËØ•ÂáΩÊï∞„ÄÇ Êìç‰ΩúÁ¨¶ÂáΩÊï∞‰∏ÄËßàË°® Êìç‰ΩúÁ¨¶ ÂáΩÊï∞ ÊèèËø∞ +a unaryPlus() -a unaryMinus() !a not() a++/++a inc() a- -/- -a dec() a+b plus(b) a-b minus(b) a*b times(b) a/b div(b) a%b rem(b) a+=b plusAssign(b) ‰∏çËÉΩÊúâËøîÂõûÂÄº a-=b minusAssign(b) ‰∏çËÉΩÊúâËøîÂõûÂÄº a*=b timesAssign(b) ‰∏çËÉΩÊúâËøîÂõûÂÄº a/=b divAssign(b) ‰∏çËÉΩÊúâËøîÂõûÂÄº a%=b remAssign(b) ‰∏çËÉΩÊúâËøîÂõûÂÄº a[i][j] get(i,j) a[i][j=b] set(i,j,b) Ëá≥Â∞ëÊúâ‰∏Ä‰∏™ÂèÇÊï∞‰∏∫b a(p) invoke(p) a..b rangeTo(b) b in a contains(b) a==b equals(b) a&gt;b compareTo(b) ‰∏ÄÂÖÉÊìç‰ΩúÁ¨¶‰∏ªË¶ÅÂåÖÊã¨ +a,-a,!a,a++,a--,++a,--a Á≠â‰∏ÄÂÖÉÊìç‰ΩúÁ¨¶ËøêÁÆó„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738class MyData(var myName: String, var myAge: Int):Comparable&lt;MyData&gt; &#123; var desc = "" override fun toString(): String &#123; return "name $myName,age $myAge $desc" &#125; // +a operator fun unaryPlus(): MyData &#123; desc = "ÊâßË°å‰∫Ü +a " return this &#125; // -a operator fun unaryMinus(): MyData &#123; desc = "ÊâßË°å‰∫Ü -a " return this &#125; // !a operator fun not(): MyData &#123; desc = "ÊâßË°å‰∫Ü !a " return this &#125; // a++/++a operator fun inc(): MyData &#123; desc = "ÊâßË°å‰∫Ü a++" return this &#125; // a--/--a operator fun dec(): MyData &#123; desc = "ÊâßË°å‰∫Ü a--" return this &#125;&#125; Ë∞ÉÁî® 12345678var data = MyData("chendong", 11)log((+data).toString())log((-data).toString())log((!data).toString())log((data++).toString())log((data--).toString())log((++data).toString())log((--data).toString()) ÂõõÂàôËøêÁÆó‰∏éÊ®°ËøêÁÆóËøôÁ±ªËøêÁÆóÁ¨¶‰ΩøÂæó‰ªª‰ΩïÁ±ªÂûãÁöÑÂØπË±°ÈÉΩÂèØ‰ª•ËøõË°å + - * / % ÁöÑËøêÁÆóÔºåÂΩìÁÑ∂Ëøô‰∫õËøêÁÆóÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÁªÜËäÇÊòØÁî±Êàë‰ª¨Ëá™Â∑±ÂÆûÁé∞ÁöÑ„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071class MyData(var myName: String, var myAge: Int):Comparable&lt;MyData&gt; &#123; var desc = "" override fun toString(): String &#123; return "name $myName,age $myAge $desc" &#125; // ‰∫åÂÖÉÊìç‰ΩúÁ¨¶ // a + b operator fun plus(p: MyData): MyData &#123; desc = "ÊâßË°å‰∫Ü a+b" myAge += p.myAge return this &#125; // a - b operator fun minus(p: MyData): MyData &#123; desc = "ÊâßË°å‰∫Ü a-b" myAge -= p.myAge return this &#125; // a * b operator fun times(p: MyData): MyData &#123; desc = "ÊâßË°å‰∫Ü a*b" myAge *= p.myAge return this &#125; // a / b operator fun div(p: MyData): MyData &#123; desc = "ÊâßË°å‰∫Ü a/b" myAge /= p.myAge return this &#125; // a % b operator fun rem(p: MyData): MyData &#123; desc = "ÊâßË°å‰∫Ü a%b" myAge %= p.myAge return this &#125; // a += b operator fun plusAssign(p: String) &#123; desc = "ÊâßË°å‰∫Ü a+=b" &#125; // a -= b operator fun minusAssign(p: String) &#123; desc = "ÊâßË°å‰∫Ü a-=b" &#125; // a *= b operator fun timesAssign(p: String) &#123; desc = "ÊâßË°å‰∫Ü a*b" &#125; // a /= b operator fun divAssign(p: String) &#123; desc = "ÊâßË°å‰∫Ü a/=b" &#125; // a %= b operator fun remAssign(p: String) &#123; desc = "ÊâßË°å‰∫Ü a%b" &#125;&#125; Ë∞ÉÁî® 1234567891011121314151617var data = MyData("chendong", 11)var data2 = MyData("new", 10)log((data + data2).toString())log((data - data2).toString())log((data * data2).toString())log((data / data2).toString())log((data % data2).toString())data += "test"log(data.toString())data -= "test"log(data.toString())data *= "test"log(data.toString())data /= "test"log(data.toString())data %= "test"log(data.toString()) ‰∏ãÊ†áËÆøÈóÆËøôÁ±ªÂåÄÈÄüÁ¨¶‰ΩøÂØπË±°ÂèØ‰ª•Â¶ÇÂêåÊï∞ÁªÑ‰∏ÄÊ†∑‰ΩøÁî® a[i][j].. ÁöÑÂΩ¢ÂºèËÆøÈóÆ„ÄÇ 1234567891011121314151617181920212223242526272829303132class MyData(var myName: String, var myAge: Int):Comparable&lt;MyData&gt; &#123; var desc = "" override fun toString(): String &#123; return "name $myName,age $myAge $desc" &#125; // a[i] operator fun get(i: Int): MyData &#123; desc = "ÊâßË°å‰∫Ü a[$i]" return this &#125; // a[i][j] operator fun get(i: Int, j: Int): MyData &#123; desc = "ÊâßË°å‰∫Ü a[$i][$j]" return this &#125; // a[i] = "test" operator fun set(i: Int, value: String): MyData &#123; desc = "ÊâßË°å‰∫Ü a[$i]= $value" return this &#125; // a[i][j] = "test" operator fun set(i: Int, j: Int, value: String): MyData &#123; desc = "ÊâßË°å‰∫Ü a[$i][$j]= $value" return this &#125;&#125; Ë∞ÉÁî® 1234567var data = MyData("chendong", 11)log(data[0])log(data[1][2])data[0] = "test"log(data.toString())data[1][2] = "test"log(data.toString()) ÂáΩÊï∞Ë∞ÉÁî®Ëøô‰∏™Êìç‰ΩúÁ¨¶‰ΩøÂæóÊàë‰ª¨ÂèØ‰ª•ÂÉèÂáΩÊï∞‰∏ÄÊ†∑Áõ¥Êé•‰ΩøÁî®ÂØπË±°ÂêéÈù¢Ê∑ªÂä†Êã¨Âè∑ÔºåÂ¶Ç a() Êù•Ë∞ÉÁî®Ëøô‰∏™ÂØπË±°ÁöÑ invike() ÂáΩÊï∞„ÄÇ 123456789101112131415161718192021class MyData(var myName: String, var myAge: Int):Comparable&lt;MyData&gt; &#123; var desc = "" override fun toString(): String &#123; return "name $myName,age $myAge $desc" &#125; // a() operator fun invoke(): MyData &#123; desc = "ÊâßË°å‰∫Ü a()" return this &#125; // a("test") operator fun invoke(p: String): MyData &#123; desc = "ÊâßË°å‰∫Ü a(\'$p\')" return this &#125;&#125; Ë∞ÉÁî® 12345var data = MyData("chendong", 11)var data2 = MyData("new", 10)log(data().toString())log(data("test").toString()) ÂÖ∂‰ªñÊìç‰ΩúÁ¨¶‰ΩøÁî® .. Êìç‰ΩúÁ¨¶ 12345// a .. boperator fun rangeTo(p: MyData): MyData &#123; desc = "ÊâßË°å‰∫Ü a..b" return this&#125; ‰ΩøÁî® in Êìç‰ΩúÁ¨¶ 12345// b in aoperator fun contains(p: MyData): Boolean &#123; desc = "ÊâßË°å‰∫Ü b in a" return true&#125; ‰ΩøÁî® == Êìç‰ΩúÁ¨¶ 1234override fun equals(other: Any?): Boolean &#123; desc = "ÊâßË°å‰∫Ü ==" return super.equals(other)&#125; ‰ΩøÁî® &lt;,&gt;,&lt;=,&gt;= Êìç‰ΩúÁ¨¶ 1234override fun compareTo(other: MyData): Int &#123; desc = "ÊâßË°å‰∫Ü ÊØîËæÉÊìç‰Ωú " return 0&#125; Ë∞ÉÁî® 1234567891011121314var data = MyData("chendong", 11)var data2 = MyData("new", 10) data == data2log(data.toString())data &gt; data2log(data.toString())log((data..data2).toString())if (data.contains(data2)) &#123; log(data.toString())&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Thinker ÁÉ≠‰øÆÂ§ç]]></title>
    <url>%2Farticle%2F9852c6f8%2F</url>
    <content type="text"><![CDATA[Tinker ÊòØÂæÆ‰ø°ÂÆòÊñπÁöÑ Android ÁÉ≠Ë°•‰∏ÅËß£ÂÜ≥ÊñπÊ°àÔºåÂÆÉÊîØÊåÅÂä®ÊÄÅ‰∏ãÂèë‰ª£Á†Å„ÄÅSo Â∫ì‰ª•ÂèäËµÑÊ∫êÔºåËÆ©Â∫îÁî®ËÉΩÂ§üÂú®‰∏çÈúÄË¶ÅÈáçÊñ∞ÂÆâË£ÖÁöÑÊÉÖÂÜµ‰∏ãÂÆûÁé∞Êõ¥Êñ∞„ÄÇÂΩìÁÑ∂Ôºå‰Ω†‰πüÂèØ‰ª•‰ΩøÁî® Tinker Êù•Êõ¥Êñ∞‰Ω†ÁöÑÊèí‰ª∂„ÄÇ Thinker GitHub Thinker ÊñáÊ°£ ÁÆÄ‰π¶ ÁÉ≠‰øÆÂ§çÊ°ÜÊû∂ Tinker]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Walle Â§öÊ∏†ÈÅìÊâìÂåÖ]]></title>
    <url>%2Farticle%2F317ee1ad%2F</url>
    <content type="text"><![CDATA[Walle ÊòØ APK Signature Scheme v2 ‰∏ãÊñ∞ÁöÑÂ§öÊ∏†ÈÅìÊâìÂåÖÊñπÊ°àÔºåÈÄüÂ∫¶Âø´Ôºå‰πüÊîØÊåÅ 360 Âä†Âõ∫Ôºå‰∏ãÈù¢ÊòØÊú¨ÊñáÁõ∏ÂÖ≥ÈìæÊé•„ÄÇ Android Signature V2 Scheme ‰ªãÁªç ÁæéÂõ¢ Walle Â§öÊ∏†ÈÅìÊâìÂåÖ ÂéüÁêÜ‰ªãÁªç È°πÁõÆÂú∞ÂùÄ Meituan-Dianping/Walle ‰∏é 360 Âä†Âõ∫ÈÖçÂêà‰ΩøÁî® GitHub PythonËÑöÊú¨ Â§öÊ∏†ÈÅìÊâìÂåÖ+360Âä†Âõ∫ Walle ÂëΩ‰ª§Ë°å‰ΩøÁî® ‰ΩøÁî® WalleÂèÇËÄÉ GitHub-Walle ËøõË°åÈÖçÁΩÆÔºå‰∏ãÈù¢ÊòØÈ°πÁõÆÊúÄÂü∫Êú¨ÁöÑÈÖçÁΩÆÔºåÊõ¥Â§öÁöÑ‰ΩøÁî®ÊñπÊ≥ïÂèÇÁÖß Meituan-Dianping/Walle README 123456789101112131415161718192021222324252627282930313233343536373839404142buildscript &#123; repositories &#123; jcenter() mavenCentral() &#125; dependencies &#123; classpath 'com.android.tools.build:gradle:2.3.2' // walle Â§öÊ∏†ÈÅìÊâìÂåÖ classpath 'com.meituan.android.walle:plugin:1.1.5' &#125;&#125;// walle Â§öÊ∏†ÈÅìÊâìÂåÖapply plugin: 'walle'android&#123;...&#125;dependencies &#123; // compile 'com.meituan.android.walle:library:1.1.5'&#125;walle &#123; // ÊåáÂÆöÊ∏†ÈÅìÂåÖÁöÑËæìÂá∫Ë∑ØÂæÑ apkOutputFolder = new File("$&#123;project.buildDir&#125;/outputs/channels"); // ÂÆöÂà∂Ê∏†ÈÅìÂåÖÁöÑAPKÁöÑÊñá‰ª∂ÂêçÁß∞ÔºåÊîØÊåÅÂ¶Ç‰∏ãÂ±ûÊÄß // projectName - È°πÁõÆÂêçÂ≠ó // appName - AppÊ®°ÂùóÂêçÂ≠ó // packageName - applicationId (AppÂåÖÂêçpackageName) // buildType - buildType (release/debugÁ≠â) // channel - channelÂêçÁß∞ (ÂØπÂ∫îÊ∏†ÈÅìÊâìÂåÖ‰∏≠ÁöÑÊ∏†ÈÅìÂêçÂ≠ó) // versionName - versionName (ÊòæÁ§∫Áî®ÁöÑÁâàÊú¨Âè∑) // versionCode - versionCode (ÂÜÖÈÉ®ÁâàÊú¨Âè∑) // buildTime - buildTime (ÁºñËØëÊûÑÂª∫Êó•ÊúüÊó∂Èó¥) // fileSHA1 - fileSHA1 (ÊúÄÁªàAPKÊñá‰ª∂ÁöÑSHA1ÂìàÂ∏åÂÄº) // flavorName - ÁºñËØëÊûÑÂª∫ productFlavors Âêç apkFileNameFormat = '$&#123;appName&#125;-$&#123;packageName&#125;-$&#123;channel&#125;-$&#123;buildType&#125;-v$&#123;versionName&#125;-$&#123;versionCode&#125;-$&#123;buildTime&#125;.apk'; // Ê∏†ÈÅìÈÖçÁΩÆÊñá‰ª∂ channelFile = new File("$&#123;project.getProjectDir()&#125;/channel")&#125; ÁîüÊàêÊ∏†ÈÅìÂåÖ 123./gradlew clean assembleReleaseChannels// ÊîØÊåÅ productFlavors ./gradlew clean assembleMeituanReleaseChannels 360 Âä†Âõ∫ + Â§öÊ∏†ÈÅìÊâìÂåÖ‰ΩøÁî® 360 Âä†Âõ∫ÁΩëÈ°µÁâà ‰∏ä‰º† apkÔºåÂä†Âõ∫ÂÆåÊàêÂêé‰∏ãËΩΩÊ≤°ÊúâÁ≠æÂêçÁöÑ apk„ÄÇ ÂØπÈΩê‰ºòÂåñÂØπ‰∏ãËΩΩÁöÑ apk ‰ΩøÁî® apkalign Â∑•ÂÖ∑ËøõË°åÂØπÈΩê‰ºòÂåñÔºåzipalign Â∑•ÂÖ∑‰Ωç‰∫é Android SDK/build-tools/25.x.x ‰∏ã„ÄÇ 1234zipalign -v 4 [Ê∫êapkÂú∞ÂùÄ] [ÁõÆÊ†áapkÂú∞ÂùÄ]eg:zipalign -v 4 /Users/march/Downloads/walle/app-release.encrypted.align.apk ÂØπÈΩêÂÆåÊàêÂêéÔºåÂØπ apk ËøõË°åÊ£ÄÊµãÊòØÂê¶ÂØπÈΩêÊàêÂäü„ÄÇ 1234zipalign -c -v 4 [ÁõÆÊ†áapkÂú∞ÂùÄ]eg:zipalign -c -v 4 /Users/march/Downloads/walle/app-release.encrypted.align.apk ‰∫åÊ¨°Á≠æÂêçÂØπÈΩêÊàêÂäüÂêéÔºå‰ΩøÁî® apksigner Â∑•ÂÖ∑ÂØπ apk ËøõË°åÁ≠æÂêçÔºåapksigner ‰πü‰Ωç‰∫é Android SDK/build-tools/25.x.x ‰∏ãÔºå‰ΩÜÊòØÁâàÊú¨ÈúÄË¶ÅÂú® 25.x.x ‰ª•‰∏äÔºåÊâçËÉΩÊîØÊåÅ v2 Á≠æÂêç„ÄÇ 1234apksigner sign --ks [ÂØÜÈí•Âú∞ÂùÄ] [apk Âú∞ÂùÄ]eg:apksigner sign --ks /Users/march/AndroidPro/DevKitSample/app/march.keystore /Users/march/Downloads/walle/app-release.encrypted.align.apk Ê∏†ÈÅìÂÜôÂÖ•Á≠æÂêçÂÆåÊàêÂêéÔºåÊ£ÄÊµãÊòØÂê¶Á≠æÂêçÊàêÂäüÂíåÊòØÂê¶ÊòØ v2 Á≠æÂêçÔºåÊ£ÄÊü•ÈúÄË¶Å‰ΩøÁî® CheckAndroidV2Signature.jar Êñá‰ª∂Ôºå‰∏ãËΩΩÂú∞ÂùÄ 1234java -jar CheckAndroidV2Signature.jar [apk Âú∞ÂùÄ]eg:java -jar /Users/march/Downloads/CheckAndroidV2Signature.jar /Users/march/Downloads/walle/app-release.encrypted.align.apk Â∞Ü‰ºöËøîÂõûÁ±ª‰ºº‰∏ãÈù¢ÁöÑÁªìÊûú 1&#123;&quot;ret&quot;:0,&quot;msg&quot;:&quot;ok&quot;,&quot;isV2&quot;:true,&quot;isV2OK&quot;:true&#125; ‰ΩøÁî® Walle ÂÜôÂÖ•Ê∏†ÈÅì‰ø°ÊÅØÔºåÈúÄË¶ÅÂÄüÂä© walle-cli-all.jar Êù•ÊâßË°åÔºå‰∏ãËΩΩÂú∞ÂùÄ Ëøô‰∏ÄÂùóÊõ¥Â§öÁöÑÂèØ‰ª•ÂèÇÁÖß Walle ÂëΩ‰ª§Ë°å‰ΩøÁî® 1234java -jar walle-cli-all.jar put -c [Ê∏†ÈÅìÂêçÁß∞] [Ê∫ê apk Âú∞ÂùÄ] [ÁõÆÊ†á apk Âú∞ÂùÄ]eg:java -jar /Users/march/Downloads/walle-cli-all.jar put -c meituan /Users/march/Downloads/walle/app-release.encrypted.align.apk /Users/march/Downloads/walle/app-release.encrypted.align.meituan.apk ÂêåÊ†∑‰πüÊîØÊåÅÂ§öÊ∏†ÈÅìÂêåÊó∂ÊâìÂåÖ 1234java -jar walle-cli-all.jar batch -f [channelÊñá‰ª∂] [Á≠æÂêçÂêéÁöÑapkË∑ØÂæÑ] [ÁîüÊàêÊ∏†ÈÅìappÁöÑÊñá‰ª∂Â§πË∑ØÂæÑ]eg:java -jar /Users/march/Downloads/walle-cli-all.jar batch -f /Users/march/AndroidPro/DevKitSample/app/channel /Users/march/Downloads/walle/app-release.encrypted.align.apk /Users/march/Downloads/walle/channel ÊúÄÂêéÊ£ÄÊü•Ê∏†ÈÅìÊòØÂê¶ÂÜôÂÖ•ÊàêÂäü 1234java -jar walle-cli-all.jar show [apkË∑ØÂæÑ]eg:java -jar /Users/march/Downloads/walle-cli-all.jar show /Users/march/Downloads/walle/app-release.encrypted.align.meituan.apk]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git ÂëΩ‰ª§]]></title>
    <url>%2Farticle%2Fb51d9f8e%2F</url>
    <content type="text"><![CDATA[Git Êó•Â∏∏ÂëΩ‰ª§Êî∂ÈõÜÔºåÂØπÂπ≥Â∏∏‰ΩøÁî®ÁöÑ git ÂëΩ‰ª§ÂèäÁâàÊú¨ÁÆ°ÁêÜ‰∏≠ÈÅáÂà∞ÁöÑÈóÆÈ¢òËøõË°åÊ¢≥ÁêÜ„ÄÇ Êñá‰∏≠ { } ÂåÖÂê´ÁöÑÈÉ®ÂàÜË°®Á§∫ÂèòÈáèÂèÇÊï∞ÔºåÂ¶Ç {git-url} ÊåáÁöÑÊòØËøúÁ®ã git Âú∞ÂùÄÔºå[ ] ÂåÖÂê´ÁöÑÈÉ®ÂàÜÊåáÁöÑÊòØËøôÈÉ®ÂàÜÂëΩ‰ª§ÊòØÂèØ‰ª•ÁúÅÁï•ÁöÑ„ÄÇ Bash Áî®Êà∑ÈÖçÁΩÆÊü•ÁúãÂèäÊõ¥Êîπ 1234567# Êü•Áúãgit config user.namegit config email# ÈÖçÁΩÆgit config --global user.name = 'test'git config --global user.email = 'test@qq.com' ÂàùÂßãÂåñ‰ªìÂ∫ì 123456git initgit remote add origin git@github.com:chendongMarch/xxxx.gitgit add fileNamegit add -Agit commit -m "first commit"git push -u origin master Âà†Èô§ËøúÁ®ãÊñá‰ª∂Â§π 123git rm -r --cached &#123;dirname&#125;git commit -m &#123;msg&#125;git push origin master ‰ªìÂ∫ìÊ∏ÖÁêÜ 12git gcgit gc --aggressive git clone 1234git clone [-b &#123;branch-name&#125;] &#123;git-url&#125; [&#123;dest-dir&#125;] [--depth 1]// Âè™ clone ÊúÄËøë‰∏ÄÊ¨° commitÔºåÈò≤Ê≠¢Êèê‰∫§Â§™Â§ö clone ÂæàÊÖ¢git clone &#123;git-url&#125; --depth 1 git remote 1234567891011// Êü•ÁúãËøúÁ®ã‰ªìÂ∫ìÂêçgit remote -v// Ê∑ªÂä† origin ‰ªìÂ∫ìgit remote add origin &#123;git-url&#125;// Âà†Èô§ orgin ‰ªìÂ∫ìgit remote rm origin// ÈáçÁΩÆ orign ÊåáÂêëÁöÑ‰ªìÂ∫ìgit remote set-url origin &#123;git-url&#125; ÊöÇÂ≠òÊú¨Âú∞Êñá‰ª∂ÔºåÂº∫Âà∂ÊãâÂèñËøúÁ®ã 123git stashgit pullgit pop stash git branch 12345678// Âà†Èô§ÂàÜÊîØgit branch -d &#123;branch-name&#125;// Êñ∞Âª∫ÂàÜÊîØgit branch &#123;branch-name&#125;// ÂàáÊç¢ÂàÜÊîØgit checkout &#123;branch-name&#125; FixÊõ¥Êîπ .gitignore ÂêéÊó†Ê≥ïÁîüÊïàÁöÑÈóÆÈ¢òÔºåÂéüÂõ†ÊòØ .gitignore Âè™ËÉΩÂøΩÁï•ÈÇ£‰∫õÂéüÊù•Ê≤°ÊúâË¢´ track ÁöÑÊñá‰ª∂ÔºåÂ¶ÇÊûúÊüê‰∫õÊñá‰ª∂Â∑≤ÁªèË¢´Á∫≥ÂÖ•‰∫ÜÁâàÊú¨ÁÆ°ÁêÜ‰∏≠ÔºåÂàô‰øÆÊîπ .gitignore ÊòØÊó†ÊïàÁöÑ„ÄÇÈÇ£‰πàËß£ÂÜ≥ÊñπÊ≥ïÂ∞±ÊòØÂÖàÊääÊú¨Âú∞ÁºìÂ≠òÂà†Èô§ÔºåÊîπÂèòÊàêÊú™ track Áä∂ÊÄÅÔºåÁÑ∂ÂêéÂÜçÊèê‰∫§ 123git rm -r --cached .git add .git commit -m 'update .gitignore' Ëß£ÂÜ≥ fix fatal: cannot do a partial commit during a merge. ÁöÑÈóÆÈ¢òÔºåËøô‰∏™ÈóÆÈ¢òÊòØÂá∫Áé∞Âú®ÂêàÂπ∂‰ª£Á†ÅÊó∂Âá∫Áé∞ÈóÆÈ¢òÔºåÂàÜÊîØ‰∏ÄÁõ¥Â§Ñ‰∫é merging Áä∂ÊÄÅÊó†Ê≥ïÊèê‰∫§ÁöÑÈóÆÈ¢ò„ÄÇ 1git commit -i * -m "message" Ëß£ÂÜ≥ Unable to create &#39;.git/index.lock&#39;: File exists ÈóÆÈ¢òÔºåÂà†Èô§ lock Êñá‰ª∂ 1rm -f ./.git/index.lock]]></content>
      <categories>
        <category>bash</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-14-ÊùÇ‰∏ÉÊùÇÂÖ´(Ëß£ÊûÑÔºåÁ±ªÂûãËá™Âä®ËΩ¨Êç¢ÔºåRangeÔºåÂºÇÂ∏∏)]]></title>
    <url>%2Farticle%2F578c5201%2F</url>
    <content type="text"><![CDATA[Ê±áÊÄª‰∏Ä‰∫õÊùÇ‰∏ÉÊùÇÂÖ´ÁöÑÁÇπÔºå‰∏çÂÄºÂæóÂçïÁã¨ÂºÄ‰∏ÄÁØáÊï¥ÁêÜ‰∫Ü„ÄÇ ‰∏ªË¶ÅÂÜÖÂÆπÂåÖÊã¨ Ëß£ÊûÑÂ£∞Êòé ÁîüÊàêÊï∞ÂàóÁöÑ Range Á±ªÂûãËΩ¨Êç¢ ÂºÇÂ∏∏Â§ÑÁêÜÁ≠â Ëß£ÊûÑÂ£∞ÊòéÊàë‰ª¨ÂàõÂª∫ÂØπË±°Êó∂ÈÄöÂ∏∏‰ºö‰ΩøÁî®ÊûÑÈÄ†ÂáΩÊï∞Ôºå‰ªñÊòØÂ∞Ü‰∏Ä‰∫õÂèòÈáèÔºåÊûÑÈÄ†Êàê‰∏Ä‰∏™ÂØπË±°ÔºåËß£ÊûÑÂ∞±ÊòØÊûÑÈÄ†ÁöÑÂèçÊìç‰ΩúÔºåËß£ÊûÑÂ£∞Êòé(Destructuring Declaration) ÊåáÁöÑÊòØÂèØ‰ª•Â∞Ü‰∏Ä‰∏™ÂØπË±°Ëß£ÊûÑÊàêÂ§ö‰∏™ÂèòÈáè„ÄÇ ÂØπË±°ÁöÑËß£ÊûÑ‰∏ªË¶Å‰æùËµñ‰∫éÁ±ªÁöÑ componentN() ÂáΩÊï∞ÔºåÂáΩÊï∞ÈúÄË¶Å‰ΩøÁî® operator Ê≥®Ëß£Ê†áËÆ∞ÔºåËøô‰∏çÊòØ‰∏ÄÁßçÂº∫Âà∂ÂÆûÁé∞ÔºåÊõ¥ÂÉèÊòØ‰∏ÄÁßçÁ∫¶ÂÆöÂ£∞Êòé„ÄÇ ‰πãÂâç‰ªãÁªçÊï∞ÊçÆÁ±ªÊó∂ËØ¥ÈÅìÔºåÊï∞ÊçÆÁ±ª‰∏≠‰ºöÈªòËÆ§ÂÆûÁé∞ componentN() ÂáΩÊï∞ÔºåÂõ†Ê≠§Êàë‰ª¨ÂØπÊï∞ÊçÆÁ±ªÂØπË±°ÂèØ‰ª•Áõ¥Êé•ËøõË°åÂ¶Ç‰∏ãÊìç‰ΩúÔºö 1234data class DataUser(val name: String, val age: Int)// Êï∞ÊçÆÁ±ªÈªòËÆ§Â£∞Êòé ComponentN ÂáΩÊï∞val (name, age) = DataUser("chendong", 12) ÂÄüÂä©Êï∞ÊçÆÁ±ªÁöÑËøôÁßçÁâπÊÄßÔºåÊàë‰ª¨ÂèØ‰ª•‰ªéÂáΩÊï∞‰∏≠ËøîÂõûÂ§ö‰∏™ÂÄºÔºåÂÖ∂ÂÆûÊú¨Ë¥®‰∏äÔºåËøòÊòØÂÄüÂä©‰∫ÜÊï∞ÊçÆÁ±ªÂèØ‰ª•Ëá™Âä®Ëß£ÊûÑÁöÑÁâπÊÄß„ÄÇ ps:Pair Á±ª‰πüÊòØÊï∞ÊçÆÁ±ª„ÄÇ 12345678910// ‰ªéÂáΩÊï∞‰∏≠ËøîÂõûÂ§ö‰∏™ÂÄºfun returnMultiFunc():DataUser&#123; return DataUser("chendong",12)&#125;fun returnPairFunc():Pair&lt;String,Int&gt;&#123; return Pair("chendong",12)&#125;val (name2,age2) = returnMultiFunc()val (name3,age3) = returnPairFunc() ÈÇ£‰πàÂØπ‰∫éÊàë‰ª¨Ëá™Â∑±ÂàõÂª∫ÁöÑÁ±ªÔºå‰ªñ‰∏çÊòØÊï∞ÊçÆÁ±ªÔºåÂ¶Ç‰ΩïËøõË°åËß£ÊûÑÔºåËß£ÂÜ≥ÊñπÊ≥ïËøòÊòØÂ£∞Êòé componentN() ÂáΩÊï∞„ÄÇ Âú® componentN() ÂáΩÊï∞‰∏≠ËøîÂõûÊåáÂÆöÁöÑÂ±ûÊÄßÔºå‰ºöËá™Âä®ÂåπÈÖçÂà∞Ëß£ÊûÑÁöÑÊé•ÂèóËÄÖ‰∏≠Ôºåname1 ÂØπÂ∫îÁöÑ component1() ÁöÑËøîÂõûÂÄºÔºåage1 ÂØπÂ∫î component2() ËøîÂõûÂÄº„ÄÇ 123456789101112class MyUser(val name: String, val age: Int) &#123; operator fun component1(): String &#123; return "my name = $name" &#125; operator fun component2(): Int &#123; return age + 10 &#125;&#125;// Êé•‰∏ãÊù•Â∞±ÂèØ‰ª•Áõ¥Êé•ËøõË°åËß£ÊûÑval myUser = MyUser("chendong", 12)val (name1, age1) = myUser ÂÄüÂä© Map Á±ªÁöÑÈÅçÂéÜÔºåÁúã‰∏Ä‰∏™Ëß£ÊûÑÂ£∞ÊòéÁöÑÂÖ∑‰ΩìÂ∫îÁî®„ÄÇ 123for ((key, value) in map) &#123; // ‰ΩøÁî® key Âíå value ÊâßË°åÊüêÁßçÊìç‰Ωú&#125; Ë¶ÅÊÉ≥ÂÆûÁé∞ÈÅçÂéÜÊìç‰ΩúÔºåÈ¶ñÂÖàÈúÄË¶ÅÂÆûÁé∞ iterator 1operator fun &lt;K, V&gt; Map&lt;K, V&gt;.iterator(): Iterator&lt;Map.Entry&lt;K, V&gt;&gt; = entrySet().iterator() ËøîÂõû‰∏Ä‰∏™ Map.Entry&lt;K, V&gt; ÁöÑÈõÜÂêàÔºåÊ≠§Êó∂ÈúÄË¶ÅÂ∞Ü Map.Entry ÁöÑ key Âíå value ËøõË°åËß£ÊûÑÂ£∞Êòé„ÄÇ 12operator fun &lt;K, V&gt; Map.Entry&lt;K, V&gt;.component1() = getKey()operator fun &lt;K, V&gt; Map.Entry&lt;K, V&gt;.component2() = getValue() Range Êï∞ÂàóÂèØ‰ª•‰ΩøÁî® .. ËøêÁÆóÁ¨¶ÁîüÊàê‰∏Ä‰∏™Êï∞ÂàóÔºåÂØπ‰∫é CharÔºåIntÔºåLong Á±ªÂûãÊï∞ÂàóÁî± CharProgressionÔºåIntProgressionÔºåLongProgression ÂÆûÁé∞ÔºåËÄå Float Âíå Double Á±ªÂûãÁî± ClosedFloatingPointRange&lt;T&gt; ÂÆûÁé∞ÔºåÂõ†Ê≠§Âú®ÊîØÊåÅÊÄß‰∏äÊúâÊâÄ‰∏çÂêå„ÄÇ ‰ΩøÁî®ÁÆÄÂçïÁöÑ .. ËøêÁÆóÁ¨¶ÁîüÊàê IntRange ÂØπË±°. 1val range = 1..10 ÈÅçÂéÜÊï∞ÂàóÔºåÊûÑÈÄ†Êï∞ÂàóÊó∂ÔºåÂêéÈù¢ÁöÑËåÉÂõ¥Ë¶ÅÊØîÂâçÈù¢ÁöÑÂ§ßÔºåÊâÄ‰ª•‰∏ãÈù¢ 4..1 ÊòØ‰∏ç‰ºöÊúâ‰ªª‰ΩïÁªìÊûúÁöÑ„ÄÇ 12345678for (i in 1..4) &#123; Log.e(TAG, "test 1..4 i = " + i)&#125;// ‰∏çÊâìÂç∞ÁªìÊûúfor (i in 4..1) &#123; Log.e(TAG, "test 4..1 i = " + i)&#125; ‰ΩøÁî® .. Âπ∂‰∏çËÉΩÊûÑÈÄ†‰∏Ä‰∏™ÈÄíÂáèÊï∞ÂàóÔºåÊ≠§Êó∂ÈúÄË¶Å‰ΩøÁî® downTo() ÂáΩÊï∞ÔºåÊûÑÈÄ†ÈÄíÂáèÊï∞Âàó„ÄÇ 123for (i in 4 downTo 1) &#123; Log.e(TAG, "test downTo i = " + i)&#125; ‰ΩøÁî® step() ÂáΩÊï∞ÊåáÂÆöÊ≠•ÈïøÔºåË°®Á§∫Âú®ÊûÑÈÄ†Êï∞ÂàóÊó∂ÁöÑÈó¥ÈöîÔºåÈªòËÆ§ÊòØ 1„ÄÇ 1234// Ê≠•Èïøfor (i in 1..4 step 2) &#123; Log.e(TAG, "test 1..4 step 2 i = " + i)&#125; ËæìÂá∫ÁªìÊûú‰∏∫ÔºåÊØèÈöî‰∏§‰∏™‰ºöËé∑Âèñ‰∏Ä‰∏™ÔºåÊâÄ‰ª•ÊúÄÂêé‰∏Ä‰∏™Êï∞Â∞Ü‰ºöÊòØ 3 ÔºåÂõ†‰∏∫‰∏ã‰∏Ä‰∏™Êï∞ÊòØ 5Ôºå‰∏çÂú®ËåÉÂõ¥ÂÜÖÔºåÁ±ª‰ººÁöÑ (1..4 step 2).last ÁöÑÁªìÊûú‰πü‰ºöÊòØ 3„ÄÇ 12testRange: test 1..4 step 2 i = 1testRange: test 1..4 step 2 i = 3 ‰ΩøÁî® until ÂáΩÊï∞ÊûÑÈÄ†‰∏Ä‰∏™ÂâçÈó≠ÂêéÂºÄÁöÑÂå∫Èó¥ÔºåÊØîÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂ∞Ü‰ºöÂàõÂª∫‰∏Ä‰∏™ [1,4) Âå∫Èó¥ÁöÑÊï∞Âàó„ÄÇ 123for (i in 1 until 4) &#123; Log.e(TAG, "test 1 until 4 i = " + i)&#125; ÂèçËΩ¨Êï∞Âàó 121.rangeTo(10).reversed()(1..10).reversed() ÊâÄÊúâÁöÑÂü∫Êú¨Á±ªÂûãÂú®ÁîüÊàêÊï∞ÂàóÁöÑÂÆûÁé∞ÊñπÂºè‰∏çÂêåÔºå‰ΩÜÊòØÈÉΩÊîØÊåÅ .. ËøêÁÆóÁ¨¶ÁîüÊàêÊï∞ÂàóÔºåÂè¶Â§ñ ByteÔºåShortÔºåIntÔºåLong Âú®ÁîüÊàêÊï∞ÂàóÊó∂ÈÉΩÊòØÂèØ‰ª•Ëá™Âä®ËΩ¨Êç¢ÁöÑ„ÄÇ 123456789101112// byte(0b1..0b11)// char('a'..'z')// int(1..10)// long(1L..10L)// float(1f..2.2f)// double(1.1..2.2) ËøêÁÆóÁ¨¶ .. ÂØπÂ∫îÁöÑ rangeTo() ÂáΩÊï∞ÔºåÂÖ∂‰∏≠ Float Âíå Double ÁöÑ rangeTo() ÂáΩÊï∞‰ΩøÁî®Êâ©Â±ïÂáΩÊï∞ÔºåÂÖ∂‰ªñ‰∏∫ÊàêÂëòÂáΩÊï∞„ÄÇ 123456789101112// byte0b1.rangeTo(0b111)// char'a'.rangeTo('z')// int1.rangeTo(10)// long1L.rangeTo(10L)// double1.1.rangeTo(2.2)// float1.1f.rangeTo(2.2f) ÂáΩÊï∞ downTo()ÔºåFloat Âíå Double ‰∏çÊîØÊåÅ downTo() 123456789101112// byte0b11.downTo(0b1)// int1.downTo(10)// char'a'.downTo('z')// long1L.downTo(10L)// double error// 1.1.downTo(2.2)// float error// 1.1f.downTo(2.2f) ÂáΩÊï∞ step()ÔºåFloat Âíå Double ‰∏çÊîØÊåÅ step() 123456789101112131415161718// byte0b1.rangeTo(11L).step(2)// int1.rangeTo(10).step(2)// char'a'.rangeTo('z').step(2)// long1L.rangeTo(10L).step(2)// double error// 1.1.rangeTo(2.2).step(2)// float error// 1.1f.rangeTo(2.2f).step(2)// int1.downTo(10).step(2)// char'a'.downTo('z').step(2)// long1L.downTo(10L).step(2) Á±ªÂûãËΩ¨Êç¢‰ΩøÁî® is ÂÖ≥ÈîÆÂ≠óËøõË°åÁ±ªÂûãÁöÑÊ£ÄÊµãÔºå‰ΩøÁî® as ÂÖ≥ÈîÆÂ≠óËøõË°åÁ±ªÂûãËΩ¨Êç¢„ÄÇ 12345678val str = "100"val isString = str is Stringval notString = str !is String// Intval num = str as Int// Int?val num2:Int? = str as? Int Á±ªÂûãËá™Âä®ËΩ¨Êç¢ÂΩì‰ΩøÁî® is ÂÖ≥ÈîÆÂ≠óËøõË°å‰∫ÜÁ±ªÂûãÂà§Êñ≠ÔºåÈÇ£‰πà‰∏ÄÂÆö‰ΩúÁî®ÂüüÂÜÖÔºåÁ±ªÂûãÂ∞ÜË¢´Ëá™Âä®ËΩ¨Êç¢„ÄÇ ÊØîÂ¶ÇÂú®Âà§Êñ≠ÁªìÊûÑÂΩì‰∏≠ 12345678910111213val myNum: Any = 100if (myNum is String) &#123; // Ëá™Âä®ËΩ¨Êç¢‰∏∫ String myNum.length&#125;// error// myNum.lengthif (myNum !is String) return// Âú®Ê≠§‰πãÂêéÂ∞ÜË¢´Ëá™Âä®ËΩ¨Êç¢‰∏∫ String myNum.length Âú® || Âíå &amp;&amp; Âõ†‰∏∫ÈÅµÂæ™Áü≠Ë∑ØÂà§Êñ≠ÔºåÂõ†Ê≠§Á±ªÂûã‰πüÂ∞Ü‰ºöË¢´Ëá™Âä®ËΩ¨Êç¢„ÄÇ 12345if (myNum is String &amp;&amp; myNum.length &gt; 10) &#123;&#125;if (myNum !is String || myNum.length &gt; 10) &#123;&#125; Âú® when ÁªìÊûÑ‰∏≠ËøõË°å‰∫ÜÁ±ªÂûãÂà§Êñ≠ 12345when (myNum) &#123; is Int -&gt; myNum.rangeTo(10) is String -&gt; myNum.length is IntArray -&gt; myNum.size&#125; Âπ∂‰∏çÊòØÊâÄÊúâÁöÑÂ±ûÊÄßÈÉΩÂèØ‰ª•ËøõË°åËá™Âä®ÁöÑÁ±ªÂûãËΩ¨Êç¢ÔºåÈúÄË¶ÅÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂Ôºö Â±ÄÈÉ®ÁöÑ val ÂèòÈáè - Ê∞∏ËøúÊúâÊïà „ÄÇ val Â±ûÊÄß - Â¶ÇÊûúÂ±ûÊÄßÊòØ private Êàñ internal ÁöÑÔºåÊàñËÄÖÁ±ªÂûãÊ£ÄÊü•Â§ÑÁêÜ‰∏éÂ±ûÊÄßÂÆö‰πâÂá∫Áé∞Âú®Âêå‰∏Ä‰∏™Ê®°ÂùóÂÜÖÔºåÈÇ£‰πàÊô∫ËÉΩÁ±ªÂûãËΩ¨Êç¢ÊòØÊúâÊïàÁöÑ„ÄÇÂØπ‰∫é open Â±ûÊÄßÔºå ÊàñÂ≠òÂú®Ëá™ÂÆö‰πâ get ÊñπÊ≥ïÁöÑÂ±ûÊÄßÔºå Êô∫ËÉΩÁ±ªÂûãËΩ¨Êç¢ÊòØÊó†ÊïàÁöÑ„ÄÇ Â±ÄÈÉ®ÁöÑ var ÂèòÈáè - Â¶ÇÊûúÂú®Á±ªÂûãÊ£ÄÊü•ËØ≠Âè•‰∏éÂèòÈáè‰ΩøÁî®ËØ≠Âè•‰πãÈó¥ÔºåÂèòÈáèÊ≤°ÊúâË¢´ÊîπÂèò, ËÄå‰∏îÂÆÉÊ≤°ÊúâË¢´ Lambda Ë°®ËææÂºèÊçïËé∑Âπ∂Âú® Lambda Ë°®ËææÂºèÂÜÖ‰øÆÊîπÂÆÉÔºåÈÇ£‰πàÊô∫ËÉΩÁ±ªÂûãËΩ¨Êç¢ÊòØÊúâÊïàÁöÑ„ÄÇ varÂ±ûÊÄß - Ê∞∏ËøúÊó†Êïà(Âõ†‰∏∫ÂÖ∂‰ªñ‰ª£Á†ÅÈöèÊó∂ÂèØËÉΩÊîπÂèòÂèòÈáèÂÄº)„ÄÇ ÂºÇÂ∏∏Â§ÑÁêÜÂú® Kotlin ‰∏≠‰∏é Java Â§ßËá¥Áõ∏ÂêåÔºåÊúâÂá†‰∏™ÁâπÂà´ÁöÑÂú∞Êñπ„ÄÇ try{} ÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™Ë°®ËææÂºèÔºåÂπ∂ËøîÂõûÂÄº„ÄÇ 1234567val result = try &#123; Integer.parseInt("10")&#125; catch (e: Exception) &#123; 0&#125;finally &#123; &#125; ‰∏çÊîØÊåÅÂáΩÊï∞Â£∞ÊòéÊó∂ÊäõÂá∫ÂºÇÂ∏∏ÔºåËøôÈ°πÊîπËøõ‰∏ªË¶ÅÊòØÈÅøÂÖç‰ª£Á†Å‰∏≠Âá∫Áé∞Â§ßÈáèÁöÑÂºÇÂ∏∏ÊçïÊçâ‰ª£Á†ÅÂùó„ÄÇ Âú® Java ‰∏≠ÂèØ‰ª•Âú®ÊñπÊ≥ïÂ£∞ÊòéÊó∂ÊäõÂá∫ÂºÇÂ∏∏ÔºåÊù•ÂëäÁü•Â§ñÁïå‰ΩøÁî®ËØ•ÂáΩÊï∞ÂèØËÉΩ‰ºöÊúâÂºÇÂ∏∏ 123public static void test() throws IllegalStateException&#123;&#125; Âú® Kotlin ‰∏≠ËøôÁßçËØ≠Ê≥ïÊòØ‰∏çÊîØÊåÅÁöÑ„ÄÇ 1234// errorfun test() throws IllegalStateException&#123; &#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-13-ÈõÜÂêà]]></title>
    <url>%2Farticle%2F4c59f5f5%2F</url>
    <content type="text"><![CDATA[Âú® Java ‰∏≠ÈõÜÂêàÁ±ªÂûã‰πüÊòØÂæàÈáçË¶ÅÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂÆÉÂèØ‰ª•Áî®Êù•Â≠òÂÇ®‰∏ÄÁªÑÂêåÁ±ªÂûãÁöÑÊï∞ÊçÆÔºõ Âú® Kotlin ‰∏≠Â∞ÜÈõÜÂêàÊòéÁ°ÆÂàÜ‰∏∫‰∫ÜÂèØÂèòÁöÑÈõÜÂêàÂíå‰∏çÂèØÂèòÁöÑÁªìÂêàÔºåList&lt;out T&gt; ÊòØ‰∏Ä‰∏™Âè™ËØªÁöÑÊé•Âè£ÔºåÂè™ËÉΩÊâßË°åÁöÑ get()Ôºåsize() Á≠âËØªÂèñÊñπÊ≥ïÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÊõ¥ÊîπÈõÜÂêàÁöÑÊï∞ÊçÆÔºåÈúÄË¶Å‰ΩøÁî® MutableList&lt;T&gt;Ôºå‰ªéËÄåÂå∫ÂàÜÂèØËæ®‰∏é‰∏çÂèØÂèòÈõÜÂêà„ÄÇSet&lt;out T&gt; Âíå MutableSet&lt;T&gt;„ÄÅMap&lt;K,out V&gt; Âíå MutableMap&lt;K,V&gt; ‰πüÊòØÂêåÊ†∑ÁöÑÊ®°Âºè„ÄÇ Áõ∏ÊØî JavaÔºåKotlin ‰∏≠ÁöÑÈõÜÂêàÈô§‰∫ÜÂåÖÂê´ Java ‰∏≠ÁöÑÈõÜÂêàÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ïÔºåËøòÊâ©Â±ï‰∫ÜÂæàÂ§öÁÆÄÂåñÈõÜÂêàÊìç‰ΩúÁöÑÂáΩÊï∞ÔºåÁªìÂêà Lambda Ë°®ËææÂºèÔºåÊää‰∏Ä‰∫õÂØπÈõÜÂêàÁöÑÊìç‰ΩúÂèòÁöÑÁõ∏ÂΩìÁõ∏ÂΩìÊñπ‰æø„ÄÇ Êú¨Êñá‰∏ªË¶ÅÊòØÂØπÈõÜÂêàÁ±ªÁöÑÂêÑÁßçÂáΩÊï∞ËøõË°åÂ∞ùËØïÂíåÊï¥ÁêÜ„ÄÇ ÂàõÂª∫ÂíåËÆøÈóÆÂú® Kotlin ‰∏≠ÔºåList&lt;out T&gt; ÊòØÂè™ËØªÁöÑÔºåÂõ†Ê≠§Âè™ËÉΩËÆøÈóÆÂÆÉÁöÑ get() ÊñπÊ≥ïÔºåÂ¶ÇÊûúÈúÄË¶ÅÊîπÂèòÂÖÉÁ¥†ÁöÑÂÄºÔºåÈúÄË¶Å‰ΩøÁî® MutableList&lt;out T&gt;ÔºåKotlin ‰∏≠ÂàóË°®ÁöÑÂÖÉÁ¥†ÂèØ‰ª•ÂÉèÊï∞ÁªÑÈÇ£Ê†∑‰ΩøÁî® list[index] ÁöÑÂΩ¢ÂºèËÆøÈóÆ„ÄÇ 1234// ÂàõÂª∫‰∏Ä‰∏™ÂèØÂèòÂàóË°®val mutableList = mutableListOf(1,3,4)// ÂàõÂª∫‰∏Ä‰∏™Âè™ËØªÂàóË°®val readOnlyList = listOf(1,2,3) ËØªÂÜôÂÖÉÁ¥† 12345val item = list[0]// mutablelist[0] = "1" Âú® Kotlin ‰∏≠‰πüÈíàÂØπÂÖÉÁ¥†ÁöÑËØªÂÜôÊâ©Â±ï‰∫ÜÂæàÂ§öÁÆÄÂåñÁöÑÊñπÊ≥ï 123456789// index Âú®ËåÉÂõ¥ÂÜÖËøîÂõûÂÄºÔºåÂê¶ÂàôËøîÂõû lambda Ë°®ËææÂºèÁöÑÁªìÊûúlist.getOrElse(1) &#123; "$it" &#125;// index Âú®ËåÉÂõ¥ÂÜÖËøîÂõûÂÄºÔºåÂê¶ÂàôËøîÂõû nulllist.getOrNull(1)// ‰∏Ä‰∫õÁ±ª‰ººÁöÑÂáΩÊï∞list.elementAt(2)list.elementAtOrNull(2)list.elementAtOrElse(2) &#123; "$it" &#125; Ëé∑Âèñ‰∏ãÊ†á 1234567891011// ËØ•ÂÖÉÁ¥†Âá∫Áé∞ÁöÑÊúÄÂêé‰∏ÄÊ¨°ÁöÑ‰∏ãÊ†álist.lastIndexOf("10")// ËØ•ÂÖÉÁ¥†Âá∫Áé∞ÁöÑÁ¨¨‰∏ÄÊ¨°ÁöÑ‰∏ãÊ†álist.indexOf("10")// ‰ªéÂºÄÂßãÁ¨¨‰∏Ä‰∏™ÂºÄÂßãÊª°Ë∂≥Êù°‰ª∂ÁöÑ‰∏ãÊ†álist.indexOfFirst &#123; it.length &gt; 10 &#125;// ‰ªéÊúÄÂêé‰∏Ä‰∏™ÂºÄÂßãÊª°Ë∂≥Êù°‰ª∂ÁöÑ‰∏ãÊ†álist.indexOfLast &#123; it.length &gt; 10 &#125; Êü•ÊâæÁ¨¨‰∏Ä‰∏™Êª°Ë∂≥Êù°‰ª∂ÁöÑÂÖÉÁ¥† 123456// Êü•ÊâæÁ¨¨‰∏Ä‰∏™Êª°Ë∂≥Êù°‰ª∂ÁöÑÔºåÊâæ‰∏çÂà∞Â∞±ÊäõÂºÇÂ∏∏list.first &#123; it.length &gt; 10 &#125;// Â¶ÇÊûúÂàóË°®‰∏∫Á©∫ËøîÂõû null,Âê¶ÂàôËøîÂõûÁ¨¨ 0 È°πlist.firstOrNull()// Êü•ÊâæÁ¨¨‰∏Ä‰∏™Êª°Ë∂≥Êù°‰ª∂ÁöÑÔºåÊâæ‰∏çÂà∞ËøîÂõû nulllist.firstOrNull &#123; it.length &gt; 10 &#125; ‰ªéÂêéÂêëÂâçÊü•ÊâæÁ¨¨‰∏Ä‰∏™Êª°Ë∂≥Êù°‰ª∂ÁöÑÂÖÉÁ¥† 123456// ‰ªéÂêéÂêëÂâçÊü•ÊâæÁ¨¨‰∏Ä‰∏™Êª°Ë∂≥Êù°‰ª∂ÁöÑÔºåÊâæ‰∏çÂà∞Â∞±ÊäõÂºÇÂ∏∏list.last &#123; it.length &gt; 10 &#125;// Â¶ÇÊûúÂàóË°®‰∏∫Á©∫ËøîÂõû null,Âê¶ÂàôËøîÂõûÁ¨¨ size-1 È°πlist.lastOrNull()// ‰ªéÂêéÂêëÂâçÊü•ÊâæÁ¨¨‰∏Ä‰∏™Êª°Ë∂≥Êù°‰ª∂ÁöÑÔºåÊâæ‰∏çÂà∞ËøîÂõû nulllist.lastOrNull &#123; it.length &gt; 10 &#125; ÈÅçÂéÜÈõÜÂêàÁöÑÈÅçÂéÜÊòØ‰∏™ËÄÅËØùÈ¢òÔºåKotlin ‰∏≠ÈõÜÂêàÁöÑÈÅçÂéÜÊõ¥‰ºòÈõÖÔºåÊõ¥Âº∫Â§ß„ÄÇ forEach Âæ™ÁéØ 12345678// Âè™ÂÖ≥Ê≥® valuelist.forEach &#123; Log.e("test", "value is $it") &#125;// Â∏¶Êúâ‰∏ãÊ†áÁöÑÈÅçÂéÜlist.forEachIndexed &#123; index, value -&gt; Log.e("test", "index is $index value is $value")&#125; Ëø≠‰ª£Âô®ÈÅçÂéÜÔºåÁõ∏ÂΩì‰∫é‰ΩøÁî® Java ‰∏≠ÁöÑ Iterate ËøõË°åÈÅçÂéÜ„ÄÇ 123456789// Ëø≠‰ª£Âô®ÈÅçÂéÜfor (value in list.listIterator()) &#123; Log.e("test", "value is $value")&#125;// ‰ªéÁ¨¨ n ‰∏™ÂºÄÂßãfor (value in list.listIterator(10)) &#123; Log.e("test", "value is $value")&#125; for‚Ä¶in Âæ™ÁéØ 1234567891011121314// ÈÅçÂéÜ‰∏ãÊ†áfor (i in list.indices) &#123; Log.e("test", "value is $&#123;list[i]&#125;")&#125;// ÈÅçÂéÜÂÄºfor (value in list) &#123; Log.e("test", "value is $value")&#125;// ÂÄºÂíå‰∏ãÊ†áÂêåÊó∂ÈÅçÂéÜfor ((index, value) in list.withIndex()) &#123; Log.e("test", "index is $index value is $value")&#125; ÈÅçÂéÜ‰∏Ä‰∏™ÂàóË°®Êó∂ÔºåÂ¶ÇÊûúËØ•ÂàóË°®ÊòØÂü∫‰∫éÊï∞ÁªÑÁªìÊûÑÁöÑÔºåÈÇ£‰πà‰ºöÂÖ∑ÊúâÊï∞ÁªÑÁöÑÁâπÁÇπÔºåËÆøÈóÆÂÆπÊòì‰ΩÜÊòØÊèíÂÖ•Áõ∏ÂØπÂõ∞ÈöæÔºåÂ¶ÇÊûúÂàóË°®ÊòØÂü∫‰∫éÈìæË°®ÁªìÊûÑÁöÑÔºåÈÇ£‰πà‰ºöÂÖ∑ÊúâÈìæË°®ÁöÑÁâπÁÇπÔºåËÆøÈóÆÂõ∞Èöæ‰ΩÜÊòØÊèíÂÖ•Áõ∏ÂØπÂÆπÊòìÔºõÈÅçÂéÜÊï∞ÁªÑÊó∂ÂèØ‰ª•Ê†πÊçÆÊ≠§ÁâπÁÇπËøõË°å‰ºòÂåñ„ÄÇ 1234567if (list is RandomAccess) &#123; for (index in list.indices) Log.e("test", "value is $&#123;list[index]&#125;")&#125; else &#123; for (value in list.listIterator()) Log.e("test", "value is $value")&#125; Ê£ÄÊµãÂÖÉÁ¥†ËøôÈÉ®ÂàÜÂáΩÊï∞‰∏ªË¶ÅÁî®Êù•ÁÆÄÂåñÊàë‰ª¨ÈúÄË¶ÅÈÅçÂéÜÈõÜÂêàÂæóÂà∞‰∏Ä‰∏™ boolean ÁªìÊûúÁöÑÊÉÖÂÜµÔºåÂú® Java ‰∏≠Êàë‰ª¨ÈÄöÂ∏∏ÈúÄË¶ÅÂÜô‰∏Ä‰∏™Âæ™ÁéØÁÑ∂ÂêéÊå®‰∏™Âà§Êñ≠ÊØè‰∏™ÂÖÉÁ¥†ËææÂà∞ÁªìÊûú„ÄÇÂú® Kotlin ‰∏≠ÂÄüÂä© Lambda Ë°®ËææÂºèÔºåÊàë‰ª¨ÂèØ‰ª•ÂÉèÊìç‰Ωú‰∏Ä‰∏™Êï¥ÂΩ¢ÂèòÈáè‰∏ÄÊ†∑Êìç‰ΩúÈõÜÂêà„ÄÇ 1234567891011// Â¶ÇÊûúÂÖ®ÈÉΩ‰∏çÊª°Ë∂≥Êù°‰ª∂ËøîÂõû trueif (list.none &#123; it.length &gt; 10 &#125;) &#123;&#125;// Â¶ÇÊûúÂÖ®ÈÉ®Êª°Ë∂≥Êù°‰ª∂ËøîÂõû true,Âê¶Âàô falseif (list.all &#123; it.length &gt; 10 &#125;) &#123;&#125;// Â¶ÇÊûúÊúâ‰∏Ä‰∏™Êª°Ë∂≥Êù°‰ª∂Â∞±ËøîÂõû trueif (list.any &#123; it.length &gt; 10 &#125;) &#123;&#125; filter Êìç‰ΩúÂàóË°®ÁöÑ filter Êìç‰ΩúÊòØÊåáÊåâÁÖß‰∏ÄÂÆöÁöÑÊù°‰ª∂ÂØπÂàóË°®ÂÖÉÁ¥†ËøõË°åËøáÊª§ÔºåËøîÂõûÂåÖÂê´ËøáÊª§ÂêéÂÖÉÁ¥†ÁöÑÊñ∞ÂàóË°®„ÄÇ Âú®ËøõË°åËøôÈÉ®ÂàÜÂáΩÊï∞ËÆæËÆ°Êó∂ÔºåÊÄª‰ºöÊúâ xxxx() Âíå xxxxTo(list:MutableCollection&lt;T&gt;) ËøôÊ†∑ÁöÑÂáΩÊï∞ÁªÑÂêàÔºåÂâçËÄÖÂ∞Ü‰ºöËøîÂõû‰∏Ä‰∏™ List&lt;out T&gt; Á±ªÂûãÁöÑÈõÜÂêàÔºå‰πüÂ∞±ÊòØÂè™ËØªÁöÑÔºåËÄåÂêéËÄÖÂ∞Ü‰ºöËøîÂõûÂèÇÊï∞‰∏≠‰º†ÈÄíÁöÑ MutableCollection&lt;T&gt;Ôºå‰ªñÊòØÂèØÂèòÁöÑÔºå‰∏ãÈù¢Â∞Ü‰∏çÂÜçËµòËø∞„ÄÇ 12345678val destList = mutableListOf&lt;String&gt;()// Ê†πÊçÆ lambda Ë°®ËææÂºèËøîÂõûÁªìÊûúËøáÊª§ÂÖÉÁ¥†ÔºåËøîÂõû List&lt;out T&gt;list.filter &#123; it.length in 2..3 &#125;// Ê†πÊçÆ lambda Ë°®ËææÂºèËøîÂõûÁªìÊûúËøáÊª§ÂÖÉÁ¥†ÔºåËøîÂõûÂèØÂèòÈõÜÂêàlist.filterTo(destList) &#123; it.length in 2..3&#125; Â∏¶Êúâ‰∏ãÊ†áÁöÑÁöÑËøáÊª§ 12345678910// ‰∏é filter ÂáΩÊï∞Áõ∏‰ººÔºå‰ΩÜÊòØÂáΩÊï∞‰∏≠‰ºöÊúâ index ÂèÇÊï∞ÔºåËøîÂõû List&lt;out T&gt;list.filterIndexed &#123; index, value -&gt; value.length in 2..3 &amp;&amp; index in 3..5&#125;// ‰∏é filter ÂáΩÊï∞Áõ∏‰ººÔºå‰ΩÜÊòØÂáΩÊï∞‰∏≠‰ºöÊúâ index ÂèÇÊï∞ÔºåËøîÂõûÂèØÂèòÈõÜÂêàlist.filterIndexedTo(destList) &#123; index, value -&gt; value.length in 2..3 &amp;&amp; index in 3..5&#125; ËøáÊª§Â±û‰∫éÊüê‰∏™Á±ªÂûãÁöÑÂÖÉÁ¥† 1234567// ‰ΩøÁî® reified ÂÖ≥ÈîÆÂ≠óÔºåÂõ†Ê≠§‰∏çÈúÄË¶Å‰ΩøÁî® classlist.filterIsInstance&lt;String&gt;()list.filterIsInstanceTo(destList)// ‰ΩøÁî® classlist.filterIsInstance(String::class.java)list.filterIsInstanceTo(destList, String::class.java) filterNot 1234567// ËøáÊª§‰∏çÊª°Ë∂≥ÁöÑÊù°‰ª∂ÁöÑÂÖÉÁ¥†Ôºå‰∏é filter ÂáΩÊï∞ÁöÑÂäüËÉΩÁõ∏ÂèçÔºåÂ≠òÂÇ®Âà∞Êñ∞ÁöÑÂàóË°®‰∏≠list.filterNot &#123; it.length &gt; 10 &#125;list.filterNotTo(destList) &#123; it.length &gt; 10 &#125;// ÊòØ filterNot ÁöÑ‰∏ÄÁßçÊâ©Â±ïÔºåËøáÊª§ null Êï∞ÊçÆlist.filterNotNull()list.filterNotNullTo(destList) ÊêúÁ¥¢‰ªéÂàóË°®‰∏≠ÊåâÁÖßÊù°‰ª∂ÊêúÁ¥¢ÂÖÉÁ¥† 12345// Êü•ÊâæÁ¨¨‰∏Ä‰∏™Êª°Ë∂≥Êù°‰ª∂ÁöÑÂÄºÔºåËøîÂõû TÔºüÁ±ªÂûãÔºåÊü•Êâæ‰∏çÂà∞Â∞Ü‰ºö‰∏∫ nulllist.find &#123; it.length &gt; 10 &#125;// Êü•ÊâæÊúÄÂêé‰∏Ä‰∏™Êª°Ë∂≥Êù°‰ª∂ÁöÑÂÄºÔºåËøîÂõû TÔºüÁ±ªÂûãÔºåÊü•Êâæ‰∏çÂà∞Â∞Ü‰ºö‰∏∫ nulllist.findLast &#123; it.length &gt; 10 &#125; ‰∫åÂàÜÊêúÁ¥¢Ôºå‰ΩøÁî® binarySearch ‰πãÂâçÔºåÂàóË°®Â∫îË¢´Êéí‰∏∫ÂçáÂ∫èÔºåÂê¶ÂàôÁªìÊûúÊòØ‰∏çÁ°ÆÂÆöÁöÑ 1234567891011121314151617// Ê†πÊçÆ‰º†ÂÖ•ÁöÑ lambda Ë°®ËææÂºèÂèÇÊï∞Âà§Êñ≠Êü•ÊâæÁöÑÂÄºÊòØÂê¶ÂêàÈÄÇÔºåËøîÂõûË¥üÊï∞Ë°®Á§∫ÔºåÊü•ÊâæÂà∞ÁöÑÂÄºËøáÂ∞èÔºåÊ≠£Êï∞Ë°®Á§∫Êü•ÊâæÂà∞ÁöÑÂÄºËøáÂ§ßÔºå0 Ë°®Á§∫Êü•ÊâæÂà∞// ‰∏ãÈù¢ÁöÑÂÜôÊ≥ïÂèØËÉΩÁõ∏ÂØπÂ§çÊùÇÔºåÂè™ÊòØ‰∏∫‰∫Ü‰ΩìÁé∞Â¶ÇÊûúÂëäÁü•ÂΩìÂâçÊü•ÊâæÁªìÊûúÁöÑÊ≠£Á°ÆÊÄß„ÄÇlist.binarySearch(fromIndex = 2, toIndex = 10) &#123; if (it.length &gt; 10) 1 else if (it.length &lt; 10) -1 else 0&#125;// Âè¶‰∏Ä‰∏™ÈáçËΩΩÊñπÊ≥ïÔºå‰ΩøÁî® Comparator Êù•ËøõË°åÊï∞ÊçÆÁöÑÊØîËæÉÔºåÂèÇÊï∞ÈÉΩÊòØÂèØÈÄâÁöÑ„ÄÇlist.binarySearch( element = "10", fromIndex = 0, toIndex = 2, comparator = Comparator&lt;String&gt; &#123; o1, o2 -&gt; o1.length - o2.length &#125;)list.binarySearch(element = "10", fromIndex = 0, toIndex = 2)list.binarySearch(element = "10") ÊéíÂ∫èÂØπ‰∫é List&lt;out T&gt; Á±ªÂûãÊù•ËØ¥ÔºåÊéíÂ∫è‰πãÂêé‰ªçÁÑ∂Âè™ËÉΩËøîÂõûÂè™ËØªÂàóË°®ÔºåÊ≥®ÊÑèÔºåËøîÂõûÁöÑÂàóË°®Â∞ÜÊòØ‰∏Ä‰∏™Êñ∞ÁöÑÂàóË°®Ôºå‰∏éÂéüÊù•ÁöÑÂàóË°®Ê≤°ÊúâÂÖ≥Á≥ªÔºå‰∏∫Âï•Âë¢ÔºüÂõ†‰∏∫ÂéüÊù•ÁöÑÂàóË°®ÊòØ‰∏çÂèØÂèòÁöÑÂïä„ÄÇ 123456789101112// ËåÉÂûã T ÂØπÂ∫îÁöÑÁ±ªÂûãË¶ÅÊòØ Comparable ÁöÑÂ≠êÁ±ªlist.sorted()// ‰∏çÂøÖÊòØ Comparable ÁöÑÂ≠êÁ±ª ‰ΩÜÊòØ lambda Ë°®ËææÂºèËøîÂõûÂÄºÈúÄË¶ÅÊòØ Comparable ÁöÑÂ≠êÁ±ªÔºåÂç≥Â∞Ü‰∏Ä‰∏™‰∏çÂèØÊØîËæÉÁöÑÁ±ªÂûãÊò†Â∞ÑÂà∞‰∏Ä‰∏™ÂèØÊØîËæÉÁöÑÁ±ªÂûãlist.sortedBy &#123; it.length &#125;// ‰ΩøÁî®ÊåáÂÆöÊØîËæÉÂô®ÊéíÂ∫èlist.sortedWith(comparator = Comparator &#123; o1, o2 -&gt; o1.length - o2.length &#125;)// ÈôçÂ∫èÊéíÂ∫èlist.sortedDescending()list.sortedByDescending &#123; it.length &#125; ÂØπ‰∫é MutableCollection&lt;T&gt; Á±ªÂûãÊù•ËØ¥ÔºåÂÜÖÈÉ®‰ΩøÁî®ÁöÑÊòØ Collection.sort() ÊñπÊ≥ïÊù•ÊéíÂ∫èÔºåËøôÊòØ‰∏Ä‰∏™Âú® java ‰∏≠Â∞±‰ΩøÁî®ÁöÑÊñπÊ≥ïÔºåÂáΩÊï∞ÁöÑËøîÂõûÂÄºÊòØ UnitÔºåËøôÊÑèÂë≥ÁùÄÂáΩÊï∞‰∏ç‰ºöËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂàóË°®ÔºåÊéíÂ∫èÂêéÁöÑÂàóË°®‰∏éÂéüÊù•ÁöÑÂàóË°®ÊòØÂêå‰∏Ä‰∏™ÔºåÂΩìÁÑ∂‰ªñ‰πüÂèØ‰ª•‰ΩøÁî®‰∏äÈù¢ÁöÑÂáΩÊï∞ÊéíÂ∫èËøîÂõû‰∏Ä‰∏™‰∏çÂèØÂèòÂàóË°®Ôºå‰ΩÜÊòØ‰∏Ä‰∏™‰∏çÂèØÂèòÂàóË°®ÊòØÊó†Ê≥ï‰ΩøÁî®‰∏ãÈù¢ÁöÑÂáΩÊï∞ÊéíÂ∫èÁöÑ„ÄÇ ÂáΩÊï∞Â£∞Êòé‰∏é‰∏äÈù¢ÁöÑÂáΩÊï∞Á±ª‰ººÔºå‰ΩÜÊòØÊ≤°Êúâ ed ÂêéÁºÄ„ÄÇ 12345list.sort()list.sortBy &#123; it.length &#125;list.sortWith(comparator = Comparator &#123; o1, o2 -&gt; o1.length - o2.length &#125;)list.sortDescending()list.sortByDescending &#123; it.length &#125; Âà†Èô§‰∏ÄËà¨Êù•ËØ¥ÔºåList&lt;out T&gt; Á±ªÂûãÊòØ‰∏çÂèØÂèòÁöÑÔºå‰ΩÜÊòØÂèØ‰ª•‰ΩøÁî® drop() ÂáΩÊï∞‰ªéÂàóË°®‰∏≠Âà†Èô§ÂÖÉÁ¥†Ôºå‰ΩÜÊòØÊ≠§Êó∂Âà†Èô§ÂêéËøîÂõûÁöÑÂàóË°®ÊòØ‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑÂàóË°®„ÄÇ 12345678// ÂéªÈô§Ââç n ‰∏™ËøîÂõûÂàóË°®list.drop(10)// ÂéªÊéâÂêéÈù¢10‰∏™ÔºåËøîÂõûÂàóË°®list.dropLast(10)// Âà†Èô§Êª°Ë∂≥Êù°‰ª∂ÁöÑÂÖÉÁ¥†list.dropWhile &#123; it.length &gt; 10 &#125;// ‰ªéÂêéÂêëÂâçÂà†Èô§Êª°Ë∂≥Êù°‰ª∂ÁöÑÂÖÉÁ¥†list.dropLastWhile &#123; it.length &gt; 10 &#125; ÂØπ‰∫éÂèØÂèòÂàóË°®ÔºåÂèØ‰ª•‰ΩøÁî® remove() ÂáΩÊï∞Âà†Èô§ÂÖÉÁ¥† 12345678910// Âà†Èô§ÂÖÉÁ¥†ÔºåËøîÂõûÊòØÂê¶Âà†Èô§ÊàêÂäülist.remove("")// Âà†Èô§ÊåáÂÆö‰∏ãÊ†áÁöÑÂÖÉÁ¥†ÔºåËøîÂõûÂà†Èô§ÁöÑËøô‰∏™ÂÖÉÁ¥†list.removeAt(0)if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) &#123; // ÊåâÁÖßÊù°‰ª∂Âà†Èô§ÔºåÂÜÖÈÉ®‰ΩøÁî®Ëø≠‰ª£Âô®ÂÆûÁé∞ list.removeIf &#123; it.length &gt; 10 &#125;&#125;// ÊåâÊù°‰ª∂Âà†Èô§list.removeAll &#123; it.length &gt; 10 &#125; ËΩ¨Êç¢Á±ª‰ºº RxJava ‰∏≠ÁöÑÊìç‰ΩúÁ¨¶Ôºå‰ΩøÁî®Êìç‰ΩúÁ¨¶ÂèØ‰ª•Â∞ÜÂàóË°®ËΩ¨Êç¢‰∏∫ÂÖ∂‰ªñÁ±ªÂûã„ÄÇ‰∏ªË¶ÅÊúâ mapÔºåflapMapÔºåassociate Á≠â„ÄÇ map‰ΩøÁî® Lambda Ë°®ËææÂºèÂ∞ÜÊØè‰∏ÄÈ°π map Âà∞Êñ∞ÁöÑÊï∞ÊçÆ 12345678// ËøîÂõûÊñ∞ÁöÑ List&lt;out Int&gt;list.map &#123; it.length &#125;// ËøîÂõû‰º†ÂÖ•ÁöÑ MutableList&lt;T&gt;list.mapTo(mutableListOf&lt;Int&gt;()) &#123; it.length &#125;// ‰∏é‰∏äÈù¢Á±ª‰ººÔºåÂè™ÊòØ lambda Ë°®ËææÂºèÂèÇÊï∞Êúâ indexlist.mapIndexed &#123; index, value -&gt; index + value.length &#125;list.mapIndexedTo(mutableListOf&lt;Int&gt;()) &#123; index, value -&gt; index + value.length &#125; ‰ΩøÁî® mapNotNull Â∞ÜÈõÜÂêà‰∏≠ÁöÑÈùûÁ©∫Êï∞ÊçÆËøõË°å mapÔºå‰∏é‰∏äÈù¢ÁöÑÂáΩÊï∞ÊòØÁ±ª‰ººÁöÑ„ÄÇ 12345list.mapNotNull &#123; it.length &#125;list.mapNotNullTo(mutableListOf&lt;Int&gt;()) &#123; it.length &#125;list.mapIndexedNotNull &#123; index, s -&gt; index + s.length &#125;list.mapIndexedNotNullTo(mutableListOf()) &#123; index, s -&gt; index + s.length &#125; flatmap‰ΩøÁî® flatmap ÂØπÈõÜÂêà‰∏≠ÊØè‰∏ÄÈ°πÈÉΩËΩ¨Êç¢Êàê‰∏Ä‰∏™ÈõÜÂêàÔºåÊúÄÂêéÂú®‰∏Ä‰∏™Â≠òÂÇ®Âú®‰∏Ä‰∏™ÈõÜÂêà‰∏≠„ÄÇ 123// ÂØπÊØè‰∏ÄÈ°πÊò†Â∞ÑËøîÂõû‰∏Ä‰∏™ÈõÜÂêàlist.flatMap &#123; mutableListOf(it.length) &#125;list.flatMapTo(mutableListOf()) &#123; mutableListOf(it.length) &#125; associateËøô‰∏™Êìç‰Ωú‰∏ªË¶ÅÁî®Êù•Â∞ÜÂàóË°®ËΩ¨Êç¢ÊàêÂØπÂ∫îÁöÑ Map„ÄÇ ‰ª• Pair ÁöÑÂΩ¢ÂºèËøîÂõûÈîÆÂÄºÂØπÔºåÂ∞Ü List&lt;T&gt; Á±ªÂûãËΩ¨Êç¢‰∏∫ Map&lt;K,V&gt;ÔºåËøîÂõûÁöÑ Map Á±ªÂûãÂèñÂÜ≥‰∫éËøîÂõû Pair Á±ªÂûã„ÄÇ 123list.associate &#123; Pair(it, it.length) &#125;list.associateTo(mutableMapOf()) &#123; Pair(it, it.length) &#125; Âè™Êé•Âèó‰∏Ä‰∏™ keySelector ÂèÇÊï∞Áî®Êù•Êò†Â∞ÑÁîüÊàêÊúÄÁªà Map ÁöÑ keyÔºåÂ∞Ü List&lt;T&gt; Á±ªÂûãËΩ¨Êç¢‰∏∫ Map&lt;K,T&gt; 123list.associateBy &#123; it &#125;list.associateByTo(mutableMapOf()) &#123; it &#125; Êé•Âèó‰∏Ä‰∏™ keySelector Âíå valueTransform ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÊò†Â∞ÑÁîüÊàê key-valueÔºåÂ∞Ü List&lt;T&gt; Á±ªÂûãËΩ¨Êç¢‰∏∫ Map&lt;K,V&gt;Ôºõ 123list.associateBy(keySelector = &#123; it &#125;, valueTransform = &#123; it.length &#125;)list.associateByTo(mutableMapOf(), keySelector = &#123; it &#125;, valueTransform = &#123; it.length &#125;) ÊúÄÂ§ßÂÄºÊúÄÂ∞èÂÄºÁî®‰∫éÊü•ÊâæÊï¥‰∏™ÂàóË°®‰∏≠ÁöÑÊúÄÂ§ßÂÄºÊúÄÂ∞èÂÄº 123456789101112// ËåÉÂûãÂØπÂ∫îÁöÑÁöÑÁ±ª ÈúÄË¶ÅÊòØ Comparable ÁöÑÂ≠êÁ±ªlist.min()// ‰ΩøÁî® lambda Ë°®ËææÂºèÂ∞ÜÂàóË°®ÂÖÉÁ¥†ËΩ¨Êç¢‰∏∫ÂèØÊØîËæÉÁ±ªÂûãlist.minBy &#123; it.length &#125;// Ëá™ÂÆö‰πâÊØîËæÉÂô®list.minWith(Comparator &#123; o1, o2 -&gt; o1.length - o2.length &#125;)// max ÂêåÁêÜlist.max()list.maxBy &#123; it.length &#125;list.maxWith(Comparator &#123; o1, o2 -&gt; o1.length - o2.length &#125;) ËøêÁÆóÁ¨¶ÂàóË°®ÊîØÊåÅÁõ¥Êé•‰ΩøÁî®ËøêÁÆóÁ¨¶Êìç‰ΩúÔºõ ‰ªéÂàóË°®‰∏≠ÂáèÂéª‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÊàñËÄÖÂä†‰∏ä‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ãÂáΩÊï∞ 12345// ÂáΩÊï∞ÔºåÂáèÊ≥ïÊìç‰Ωúlist.minusElement("1")// ÂáΩÊï∞ÔºåÂä†Ê≥ïÊìç‰Ωúlist.plusElement("1") ‰πüÊúâÁõ∏ÂêåÂäüËÉΩÁöÑ operator ÂáΩÊï∞ÔºåËøîÂõûÂÄº‰∏∫‰∏Ä‰∏™Êñ∞ÁöÑ List&lt;out T&gt; 123456789// operatorÔºåÂáèÊ≥ïÔºåÊé•Âèó‰∏Ä‰∏™ÂÖÉÁ¥†list.minus("1")// operatorÔºåÂáèÊ≥ïÔºåÊé•Âèó‰∏Ä‰∏™ÂàóË°®list.minus(destList)// operatorÔºåÂä†Ê≥ïÔºåÊé•Âèó‰∏Ä‰∏™ÂÖÉÁ¥†list.plus("1")// operatorÔºåÂä†Ê≥ïÔºåÊé•Âèó‰∏Ä‰∏™ÂàóË°®list.plus(destList) Áî±‰∫é‰∏äÈù¢ÁöÑÂáΩÊï∞‰ΩøÁî®‰∫Ü operator Ê≥®Ëß£Ê†áËÆ∞ÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® + Âíå - ‰ª£Êõø‰ΩøÁî®ÂáΩÊï∞„ÄÇ 1234val a = list + "1"val b = list + destListval c = list - "2"val d = list - destList ÂêåÊ†∑ÔºåÂèØÂèòÂàóË°®‰πüÊîØÊåÅ += Âíå -= ËøêÁÆóÁ¨¶Ôºå‰ΩÜÊòØ‰∏çÂèØÂèòÂàóË°®Êó†Ê≥ï‰ΩøÁî®Ëøô‰∫õÂáΩÊï∞ÔºåÊìç‰ΩúÁ¨¶ÂØπÂ∫îÁöÑÂáΩÊï∞Â¶Ç‰∏ãÔºåËøîÂõûÂÄº‰∏∫ UnitÔºåÊñ∞ÁöÑÊõ¥ÊîπÂ∞Ü‰ΩúÁî®‰∫éÂΩìÂâçÁöÑÂàóË°®„ÄÇ 12345678// operator,-= Êìç‰ΩúÔºåÊé•Âèó‰∏Ä‰∏™ÂÖÉÁ¥†list.minusAssign("1")// operator,-= Êìç‰ΩúÔºåÊé•Âèó‰∏Ä‰∏™ÈõÜÂêàlist.minusAssign(destList)// operator,+= Êìç‰ΩúÔºåÊé•Âèó‰∏Ä‰∏™ÂÖÉÁ¥†list.plusAssign("1")// operator,+= Êìç‰ΩúÔºåÊé•Âèó‰∏Ä‰∏™ÈõÜÂêàlist.plusAssign(destList) ‰πüÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® += Âíå -= ËøêÁÆóÁ¨¶ 1234list += "1"list += destListlist -= "1"list -= destList Á¥ØÁßØÁ¥ØÁßØÊòØÊàëËá™Â∑±Ëµ∑ÁöÑÂêçÂ≠óÔºåÊòØËØ¥ÈÅçÂéÜÊï¥‰∏™ÂàóË°®ÂÅö‰∏Ä‰∏™Á¥ØÁßØÊìç‰ΩúÔºåÁõ∏ÂÖ≥ÁöÑÂáΩÊï∞Êúâ sumÔºåreduceÔºåfold Á≠â„ÄÇ sumÂáΩÊï∞ sum() ÊòØÂØπÂàóË°®ÊØè‰∏ÄÈ°π‰ΩøÁî® Lambda Ë°®ËææÂºèËΩ¨Êç¢‰∏∫Êï∞Â≠óÁ±ªÂûãÊï∞ÊçÆÁÑ∂ÂêéÊ±ÇÂíåÁöÑÊìç‰ΩúÔºõ 12345// ÂØπÂàóË°®Ê±ÇÂíå,ËøîÂõû intlist.sumBy &#123; it.length &#125;// ÂØπÂàóË°®Ê±ÇÂíå,ËøîÂõû double Á±ªÂûãlist.sumByDouble &#123; it.length.toDouble() &#125; reduceÂáΩÊï∞ reduce() Â∞ÜÂàóË°®ÁöÑÁ¨¨‰∏ÄÈ°π‰Ωú‰∏∫ÂàùÂßãÂÄºÔºåÁÑ∂ÂêéÂØπÂàóË°®ÊØè‰∏ÄÈ°π‰ΩøÁî® Lambda Ë°®ËææÂºèËΩ¨Êç¢ÔºåÁÑ∂ÂêéÁ¥ØÁßØÔºåÁî±‰∫é‰ΩøÁî®‰∫ÜÂàóË°®ÁöÑÁ¨¨‰∏ÄÈ°π‰Ωú‰∏∫ÂàùÂßãÂÄºÔºåÊâÄ‰ª• reduce() ÁöÑËøîÂõûÂÄº‰∏éÂàóË°®ËåÉÂûãÁ±ªÂûãÁõ∏Âêå„ÄÇ ‰∏ãÈù¢ÂáΩÊï∞‰∏≠ index Ë°®Á§∫ÂÖÉÁ¥†‰∏ãÊ†áÔºåacc Ë°®Á§∫Á¥ØÁßØÁöÑÁªìÊûúÔºånext Ë°®Á§∫‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ 123456789101112131415161718list.reduce &#123; acc, next -&gt; acc + next&#125;// ‰ªéÂè≥ËæπÂºÄÂßãÁ¥ØÁßØlist.reduceRight &#123; acc, next -&gt; acc + next&#125;// Â∏¶‰∏ãÊ†álist.reduceIndexed &#123; index, acc, next -&gt; acc + index + next&#125;list.reduceRightIndexed &#123; index, next, acc -&gt; acc + index + next&#125; foldÂáΩÊï∞ fold() ‰∏é reduce() Êúâ‰∫õÁ±ª‰ººÔºå‰ΩÜÊòØ fold() ÂáΩÊï∞‰∏çÊòØ‰ª•ÂàóË°®ÁöÑÁ¨¨‰∏ÄÈ°π‰Ωú‰∏∫ÂàùÂßãÂÄºËøõË°åÁ¥ØÁßØÔºåËÄåÊòØÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™ÂàùÂßãÂÄºÔºå‰πüÂ∞±ÊòØËØ¥Ôºåfold() ÂáΩÊï∞ÂèØ‰ª•ËøîÂõû‰ªªÊÑèÁ±ªÂûãÁöÑÁ¥ØÁßØÁªìÊûú„ÄÇ 12345678910111213141516171819list.fold(10) &#123; acc, next -&gt; acc + next.length&#125;// ‰ªéÂè≥Âà∞Â∑¶list.foldRight(10) &#123; next, acc -&gt; acc + next.length&#125;// Â∏¶Êúâ‰∏ãÊ†áÁöÑ‰ªéÂ∑¶Âà∞Âè≥list.foldIndexed(10) &#123; index, acc, next -&gt; acc + index + next.length&#125;// Â∏¶Êúâ‰∏ãÊ†áÁöÑ‰ªéÂè≥Âà∞Â∑¶list.foldRightIndexed(10) &#123; index, next, acc -&gt; acc + index + next.length&#125; take‰ΩøÁî® take() ÂáΩÊï∞ÂèØ‰ª•‰ªéÂàóË°®‰∏≠ÂèñÂá∫ÊåáÂÆöÁöÑÈÉ®ÂàÜÂÄºÁªÑÊàêÊñ∞ÁöÑÂàóË°® 1234567891011121314// ËøîÂõûÊ≠§Êó∂ÁöÑÂàóË°®ÁöÑÂâç n È°πÔºåÊñ∞ÁöÑÂàóË°®list.take(10)// ‰ªéÂêéÈù¢ËøîÂõû n È°πÔºåÈ°∫Â∫èËøòÊòØÂéüÊù•ÁöÑÈ°∫Â∫èlist.takeLast(10)// ‰ªéÂâçÈù¢ÂèñÔºåÁõ¥Âà∞Êª°Ë∂≥Êù°‰ª∂ÔºåÂÅúÊ≠¢list.takeWhile &#123; it.length &gt; 10 &#125;// ‰ªéÂêéÈù¢ÂèñÔºåÁõ¥Âà∞Êª°Ë∂≥Êù°‰ª∂ÔºåÁªàÊ≠¢list.takeLastWhile &#123; it.length &gt; 10 &#125;// Â¶ÇÊûúÊ≠§ÂàóË°®Êª°Ë∂≥Êù°‰ª∂ÔºåËøîÂõûÂàóË°®ÔºåÂê¶ÂàôËøîÂõû nulllist.takeIf &#123; it.size &gt; 10 &#125;// Â¶ÇÊûúÊ≠§ÂàóË°®‰∏çÊª°Ë∂≥Êù°‰ª∂ÔºåËøîÂõûÂàóË°®ÔºåÂê¶ÂàôËøîÂõû nulllist.takeUnless &#123; it.size &gt; 10 &#125; ÂàÜÁªÑÂíåÂàáÁâáÂØπÂàóË°®ËøõË°åÂàÜÁªÑÂíåÂàáÁâáÊìç‰Ωú„ÄÇ ‰ΩøÁî® group() ÂáΩÊï∞ÂØπÂàóË°®ÂàÜÁªÑÔºåËøîÂõûÁªìÊûúÊòØ Map&lt;K,List&lt;T&gt;&gt; Á±ªÂûãÔºåkey ÁöÑÁ±ªÂûãÁî± Lambda Ë°®ËææÂºèÁöÑËøîÂõûÂÄºÂÜ≥ÂÆö„ÄÇ 12345678list.groupBy &#123; it.length&#125;list.groupByTo(mutableMapOf()) &#123; it.length &#125;// ËøîÂõû grouping ÂØπË±°Ôºå since kt 1.1list.groupingBy &#123; it.length &#125; ‰ΩøÁî® partition() ÂáΩÊï∞ÔºåÊ†πÊçÆ Lambda Ë°®ËææÂºèËøîÂõû true/false Â∞ÜÂàóË°®ÂàÜÊàê‰∏§‰∏™ÂàóË°®ÔºåËøîÂõûÂÄº‰∏∫ Pair&lt;List&lt;T&gt;,List&lt;T&gt;&gt; 1list.partition &#123; it.length &gt; 10 &#125; ÂØπÂàóË°®ËøõË°åÂàáÁâáÔºåËøîÂõûÂàáÁâáÂêéÁöÑÊñ∞ÂàóË°® 123list.subList(0, 2)list.slice(IntRange(1, 3)) ÂÖ∂‰ªñÂè¶Â§ñ‰∏Ä‰∫õÊó†Ê≥ïÂΩíÁ±ªÁöÑÂáΩÊï∞ ‰ΩøÁî® contains() ÂáΩÊï∞Âà§Êñ≠ÂàóË°®ÊòØÂê¶ÂåÖÂê´Êüê‰∏™ÊàñÊüê‰∫õÂÖÉÁ¥† 12list.contains("")list.containsAll(mutableListOf("1", "2")) Âà§Á©∫ 1234// Â¶ÇÊûú list ‰∏∫Á©∫ÔºåËøîÂõû‰∏Ä‰∏™Êñ∞ÂàóË°®list.orEmpty()list.isEmpty()list.isNotEmpty() ‰ΩøÁî® reverse() ÂáΩÊï∞ÂèçËΩ¨ÂàóË°®Ôºå‰∏çÂèØÂèòÂàóË°®ÂèØ‰ª•‰ΩøÁî® asReversed() ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Â∞ÜËøîÂõû‰∏Ä‰∏™ÂèçËΩ¨ÂêéÁöÑÊñ∞ÁöÑÂàóË°®Ôºõ ÂèØÂèòÂàóË°®‰ΩøÁî® reverse() ÂáΩÊï∞ÔºåËøîÂõûÂÄº‰∏∫ UnitÔºåÂàóË°®ÁöÑÂèçËΩ¨Â∞Ü‰ΩúÁî®Âú®Ëá™Â∑±Ë∫´‰∏äÔºåÂÜÖÈÉ®‰ΩøÁî® Java ÁöÑ Collection. reverse() ÂÆûÁé∞Ôºå‰∏çÂèØÂèòÂàóË°®‰∏çËÉΩË∞ÉÁî®ËØ•ÂáΩÊï∞„ÄÇ 123list.reverse()list.asReversed() ‰ΩøÁî® distinct() ÂØπÂàóË°®ËøõË°åÂéªÈáç 1234list.distinct()// lambda Ë°®ËææÂºèËøîÂõûÊØîËæÉÁöÑ keylist.distinctBy &#123; it.length &#125; ‰ΩøÁî® count() ÂáΩÊï∞ÔºåËé∑ÂèñÂàóË°®ÈïøÂ∫¶ 1234// ÂÖÉÁ¥†‰∏™Êï∞list.count()// Êª°Ë∂≥Êù°‰ª∂ÁöÑÂÖÉÁ¥†‰∏™Êï∞list.count &#123; it.length &gt; 10 &#125; ‰ΩøÁî® replaceAll() ÂáΩÊï∞ÊõøÊç¢ÂÖ®ÈÉ®Êï∞ÊçÆ 123if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) &#123; list.replaceAll &#123; "$&#123;it.length&#125;" &#125;&#125; ‰ΩøÁî® join() ÂáΩÊï∞ÔºåÂØπÊØè‰∏ÄÈ°πËøõË°åÊãºÊé•ÔºåÊé•Âèó‰∏Ä‰∏™ Appendable ÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆÊãºÊé•ÁöÑÂâçÁºÄÔºåÂêéÁºÄÔºåÂàÜÈöîÁ¨¶Á≠â 12345list.joinTo(StringBuilder(), "-", "#", "*", 4) &#123; "$&#123;it.length&#125;"&#125;list.joinToString("-", "#", "*", 4) &#123; "$&#123;it.length&#125;" &#125; ‰ΩøÁî® single() ÂáΩÊï∞ÔºåÂΩìÂàóË°®Âè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†Êó∂Ëé∑ÂèñËøô‰∏™ÂÖÉÁ¥† 123456// ÂΩìÂè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†Êó∂ËøîÂõûËØ•ÂÖÉÁ¥†ÔºåÂê¶ÂàôÂºÇÂ∏∏list.single()// ÂΩìÂè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†Êó∂ËøîÂõûËØ•ÂÖÉÁ¥†ÔºåÂê¶ÂàôËøîÂõû nulllist.singleOrNull()// Êü•ÊâæÁ¨¶ÂêàÊù°‰ª∂ÁöÑ‰∏Ä‰∏™ÔºåÂê¶ÂàôËøîÂõû nulllist.singleOrNull &#123; it.length &gt; 10 &#125; ‰ΩøÁî® union() ÂáΩÊï∞ÔºåËøîÂõû‰∏§‰∏™ÂàóË°®ÁöÑÈùûÈáçÂ§çÈõÜÂêà 1list.union(destList) ‰ΩøÁî® zip() ÂáΩÊï∞ÂéãÂêà‰∏§‰∏™ÂàóË°®ÔºåËøîÂõûÂÄº‰∏∫ List&lt;Pair&lt;T,R&gt;&gt;ÔºåÂàóË°®ÈïøÂ∫¶Á≠â‰∫éËæÉÁü≠ÁöÑ‰∏Ä‰∏™ 123val list2 = listOf(4, 5, 6)var zip = list.zip(list2) ‰ΩøÁî® subtract() ÂáΩÊï∞‰ªéÂàóË°®‰∏≠ÂâîÈô§ÈÉ®ÂàÜÂÖÉÁ¥† 1list.subtract(destList) ‰ΩøÁî® retainAll() ÂáΩÊï∞ÂØπ‰∏§‰∏™ÂàóË°®Âèñ‰∫§ÈõÜ„ÄÇ 123456list.retainAll(destList)// ‰øùÁïôÁ¨¶ÂêàÊù°‰ª∂ÁöÑÂÖÉÁ¥†if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) &#123; list.retainAll &#123; it.length &gt; 10 &#125;&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-12-Á©∫ÂÄºÂÆâÂÖ®]]></title>
    <url>%2Farticle%2Fc5b3d729%2F</url>
    <content type="text"><![CDATA[Âú®ËøõË°åÂ±ûÊÄßÁöÑÂàùÂßãÂåñÊó∂ËÉΩÂ§üÊÑüÂèóÂà∞ Kotlin Âú®ÁºñËØëÊó∂ÂØπ null ÂÄºÁöÑÊéßÂà∂ÔºåÊ≠£ÊòØÂõ†‰∏∫ Kotlin ÁöÑËøô‰∫õÁâπÊÄßÔºå‰ΩøÂæó Kotlin Êàê‰∏∫‰∏ÄÁßç Á©∫ÂÆâÂÖ®(Null Safaty) ÁöÑËØ≠Ë®ÄÔºåÈÅµÂæ™ Kotlin ÁöÑËßÑËåÉÂ∞ÜÊúâÊïàÁöÑÈÅøÂÖçÁ®ãÂ∫è‰∏≠ÁöÑ NPE„ÄÇ ÂÖ∂ÂÆûÈÅµÂæ™ Kotlin ÁöÑÂèòÈáèÁöÑÂ£∞ÊòéÂíåÂàùÂßãÂåñÊñπÂºèÂü∫Êú¨ÂèØ‰ª•ÈÅøÂÖç NPE ÁöÑÂá∫Áé∞ÔºåKotlin ‰∏çÂÖÅËÆ∏Áªô‰∏Ä‰∏™ ÂèòÈáè null ÂÄºÔºå‰ΩÜÊòØ‰Ω†ÂèØ‰ª•‰ΩøÁî® Type? ÁöÑÂΩ¢Âºè(‰æãÂ¶Ç String? )Â£∞ÊòéËøôÊòØ‰∏Ä‰∏™ÂèØ‰ª•‰∏∫ null ÁöÑÂèòÈáèÔºå‰ªñÂ∞±ÂèØ‰ª•Ë¢´ÂàùÂßãÂåñ‰∏∫ null„ÄÇ Èô§Ê≠§‰πãÂ§ñÔºåkotlin Êèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑËøêÁÆóÁ¨¶Âú®ËøêË°åÊó∂ËøõË°å Á©∫ÂÄºÊ£ÄÊµã ÔºåÁÆÄÂåñ‰ª£Á†ÅÈÄªËæë„ÄÇ ÂÆâÂÖ®Ë∞ÉÁî® (?.)ÂÆâÂÖ®Ë∞ÉÁî®Âç≥ safe callsÔºå‰ΩøÁî®?.Êìç‰ΩúÁ¨¶„ÄÇ ÂΩìÊàë‰ª¨ËÆøÈóÆ‰∏Ä‰∏™ÂèòÈáèÁöÑÂ±ûÊÄßÊàñËÄÖÊñπÊ≥ïÊó∂Ôºå‰∏∫‰∫ÜÈÅøÂÖç NPE Êàë‰ª¨ÈÄöÂ∏∏Ë¶ÅÂú®ÂâçÊúüÂÅö‰∏•ÂØÜÁöÑÁ©∫ÂÄºÂà§Êñ≠Á°Æ‰øùË∞ÉÁî®ÁöÑÂØπË±°‰∏ç‰∏∫Á©∫Êó∂ÊâçËÉΩÊîæÂøÉË∞ÉÁî®Ôºåsafe calls ÁöÑÊú∫Âà∂Â§ßÂ§ßÁÆÄÂåñ‰∫ÜËøô‰∏™ËøáÁ®ã„ÄÇ safe calls Âè™ÊúâÂΩìÂºïÁî®‰∏ç‰∏∫ null Êó∂ÊâçËøõË°åË∞ÉÁî®ÔºåÂê¶ÂàôÁõ¥Êé•ËøîÂõû nullÔºåÂ¶Ç‰∏ãÊÉÖÂÜµ‰∏≠ b ÁöÑÁ±ªÂûã‰∏∫ Int?ÔºåÂõ†‰∏∫ a ÂèØËÉΩ‰∏∫ nullÔºåË∞ÉÁî® a ÁöÑ length Â±ûÊÄßÔºåÂ¶ÇÊûú a ‰∏ç‰∏∫ nullÔºåÂàôËøîÂõû Int Á±ªÂûãÁöÑÈïøÂ∫¶ÔºåÂèç‰πãËøîÂõû nullÔºåÂõ†Ê≠§ b ‰∏∫ Int?ÔºåÂç≥ÂèØËÉΩ‰∏∫ null ÁöÑ Int Á±ªÂûã„ÄÇ 12val a: String? = nullval b = a?.length ‰∏Ä‰∏™‰ΩøÁî® safe calls ÁÆÄÂåñË∞ÉÁî®ÁöÑÂÆû‰æã 123456789val myParam1:Student? = null// java ‰∏≠ÔºåÂú®‰ΩøÁî®‰πãÂâçÔºåÊàë‰ª¨ÈÄöÂ∏∏‰ºöÂÅö‰∏ÄÁ≥ªÂàóÂà§Á©∫Êìç‰Ωúif(myParam1!=null &amp;&amp; myParam1.myCls!=null)&#123; Log.e(TAG,"$&#123;myParam1.myCls.length&#125;")&#125;// Kotlin safe callsLog.e(TAG,"$&#123;myParam1?.myCls?.length&#125;") ÊúâÊó∂Êàë‰ª¨Âú®Âà§Á©∫‰πãÂêé‰ºöÊâßË°å‰∏ÄÁ≥ªÂàóÁöÑÊìç‰ΩúÔºåÊ≠§Êó∂Â∞±ÂèØ‰ª•ÁªìÂêà let ÂÖ≥ÈîÆÂ≠óÔºå‰ΩøÁî® ?.let{} Êù•Á°Æ‰øùÂèòÈáè‰∏ç‰∏∫Á©∫Êó∂ÊâßË°åÊñπÊ≥ïÔºåÂêåÊó∂Âú® let ÊñπÊ≥ï‰ΩìÂÜÖÔºåÂèØ‰ª•‰ΩøÁî® it ÂÖ≥ÈîÆÂ≠óËÆøÈóÆÂèòÈáè„ÄÇ 1234val a: String? = nullval b = a?.length// b‰∏ç‰∏∫nullÊó∂ËøõË°åÊâìÂç∞b?.let &#123; log("$it") &#125; Elvis Êìç‰ΩúÁ¨¶ (?:)Elvis Êìç‰ΩúÁ¨¶ Âç≥ ?: Êìç‰ΩúÁ¨¶„ÄÇÂΩì‰ΩøÁî® ?. Êìç‰ΩúÁ¨¶ËøõË°åÂÆâÂÖ®Ë∞ÉÁî®Êó∂ÔºåÂ¶ÇÊûúÈÅáÂà∞ null Âàô‰ºöÁõ¥Êé•ËøîÂõû nullÔºåÈÇ£Â¶ÇÊûúÂΩì‰∏∫ null Êó∂ËøîÂõûÂÖ∂‰ªñÂÄºÊó∂Â¶Ç‰ΩïÊìç‰ΩúÂë¢ÔºüElvis Êìç‰ΩúÁ¨¶ Â∞±ÊòØÁî®Êù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑ„ÄÇ Â¶ÇÊûú ?: Â∑¶‰æßÁöÑË°®ËææÂºèÂÄº‰∏çÊòØ null, Elvis Êìç‰ΩúÁ¨¶ Â∞±‰ºöËøîÂõûÂÆÉÁöÑÂÄº, Âê¶Âàô, ËøîÂõûÂè≥‰æßË°®ËææÂºèÁöÑÂÄº. Ê≥®ÊÑè, Âè™ÊúâÂú®Â∑¶‰æßË°®ËææÂºèÂÄº‰∏∫ null Êó∂, Êâç‰ºöËÆ°ÁÆóÂè≥‰æßË°®ËææÂºè„ÄÇ 1234// ÂéüÂßãÁâàÊú¨Ôºå‰ΩøÁî® if...elseval l: Int = if (b != null) b.length else -1// ‰ΩøÁî® ?: Êìç‰ΩúÁ¨¶val l = b?.length ?: -1 Áî±‰∫éÂú® Kotlin ‰∏≠ throw Âíå return ÈÉΩÊòØË°®ËææÂºè, Âõ†Ê≠§ÂÆÉ‰ª¨‰πüÂèØ‰ª•Áî®Âú® Elvis Êìç‰ΩúÁ¨¶ sÁöÑÂè≥‰æß. ËøôÁßçÁî®Ê≥ïÂèØ‰ª•Â∏¶Êù•ÂæàÂ§ßÁöÑÊñπ‰æø, ÊØîÂ¶Ç, ÂèØ‰ª•Áî®Êù•Ê£ÄÊü•ÂáΩÊï∞ÂèÇÊï∞ÂÄºÊòØÂê¶ÂêàÊ≥ï: 12345fun foo(node: Node): String? &#123; val parent = node.getParent() ?: return null val name = node.getName() ?: throw IllegalArgumentException("name expected") // ...&#125; !! Êìç‰ΩúÁ¨¶Â¶ÇÊûú‰Ω†Á°ÆÂÆûÊ∏ÖÊ•öÊ≠§Êó∂ÂèØ‰ª•ÊäõÂá∫‰∏Ä‰∏™ NPEÔºåÈÇ£‰πà‰Ω†ÂèØ‰ª•‰ΩøÁî® !! Êìç‰ΩúÁ¨¶„ÄÇ ÂØπ‰∫é b ‰∏ç‰∏∫ null ÁöÑÊÉÖÂÜµ, Ëøô‰∏™Ë°®ËææÂºèÂ∞Ü‰ºöËøîÂõûËøô‰∏™Èùû null ÁöÑÂÄº, Â¶ÇÊûú b ÊòØ null, Ëøô‰∏™Ë°®ËææÂºèÂ∞±‰ºöÊäõÂá∫‰∏Ä‰∏™ NPE„ÄÇ 1val l = b!!.length as? Êìç‰ΩúÁ¨¶Â¶ÇÊûúÂØπË±°‰∏çÊòØÊàë‰ª¨ÊúüÊúõÁöÑÁõÆÊ†áÁ±ªÂûã, ÈÇ£‰πàÈÄöÂ∏∏ÁöÑÁ±ªÂûãËΩ¨Êç¢Â∞±‰ºöÂØºËá¥ ClassCastException „ÄÇ ‰ΩøÁî® as? ËøõË°åÂÆâÂÖ®ÁöÑÁ±ªÂûãËΩ¨Êç¢, Â¶ÇÊûúËΩ¨Êç¢‰∏çÊàêÂäü, ÂÆÉÂ∞Ü‰ºöËøîÂõû null„ÄÇ 1val aInt: Int? = a as? Int]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-11-ÂáΩÊï∞]]></title>
    <url>%2Farticle%2Facb7c552%2F</url>
    <content type="text"><![CDATA[Êú¨ÊñáÂ≠¶‰π† Kotlin ÂáΩÊï∞ÁöÑÁõ∏ÂÖ≥Áî®Ê≥ï„ÄÇ‰∏ªË¶ÅÂåÖÊã¨ Ôºö ÂáΩÊï∞ÁöÑÂ£∞ÊòéÂíå‰ΩøÁî®ÔºåÂáΩÊï∞ÁöÑÂèÇÊï∞ÂíåËøîÂõûÂÄºÔºåÂçïË°®ËææÂºèÂáΩÊï∞ÁöÑ‰ΩøÁî®Ôºå‰ΩøÁî®‰∏çÂÆöÈïøÂèÇÊï∞„ÄÇ Â±ÄÈÉ®ÂáΩÊï∞ÔºåÂ∞æÈÄíÂΩíÂáΩÊï∞ÔºåÈ´òÈò∂ÂáΩÊï∞ÔºåÂÜÖËÅîÂáΩÊï∞Á≠â„ÄÇ Lambda Ë°®ËææÂºèÔºåÂåøÂêçÂáΩÊï∞ÂíåÈó≠ÂåÖ„ÄÇ ÂÖ∂‰ªñÂ¶ÇÔºåreifeid ÂÖ≥ÈîÆÂ≠óÔºåÈùûÂ±ÄÈÉ®ËøîÂõûÂèäÂ∏¶ÊúâÊé•ÂèóËÄÖÁöÑÂáΩÊï∞Â≠óÈù¢ÂÄº„ÄÇ ÂáΩÊï∞Âú® Kotlin ÂáΩÊï∞ÊòØ‰∏ÄÁ≠âÂÖ¨Ê∞ëÔºåÂÆÉÁöÑÂú∞‰ΩçÂíåÂØπË±°‰∏ÄÊ†∑ÔºåÊâÄ‰ª•‰∏çË¶ÅÂØπÂáΩÊï∞ÁâπÂà´ÁúãÂæÖÔºåÂ∞±ÊääÂÆÉÂΩì‰ΩúÂØπË±°ÁúãÂ∞±Ë°å‰∫ÜÔºåËøôÊ†∑ÂæàÂ§ö‰∏úË•ø‰ºöÂ•ΩÁêÜËß£ÁöÑÂ§ö„ÄÇ Â£∞ÊòéÂíå‰ΩøÁî®ÂáΩÊï∞Â£∞ÊòéÁöÑ‰∏ÄËà¨ÂΩ¢Âºè‰∏∫ 123fun functionName(param1:Type,param2:Type...)[:ReturnType]&#123;&#125; Â¶ÇÊûúÊòØ top-level Á∫ßÂà´ÁöÑÂáΩÊï∞ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÂáΩÊï∞ÂêçË∞ÉÁî®ÔºåÂ¶ÇÊûúÊòØ‰∏Ä‰∏™Á±ªÂáΩÊï∞ÔºåÈúÄË¶ÅÊãøÂà∞Á±ªÂÆû‰æãÔºå‰ΩøÁî®ÁÇπÂè∑Ê†áËÆ∞Ê≥ïË∞ÉÁî®„ÄÇ 1234567fun simpleFunction(param:String):Int&#123; return param.length&#125;// Ë∞ÉÁî®simpleFunction("100")Engineer().test() Kotlin ÊîØÊåÅ‰∏≠ÁºÄÊ†áËÆ∞Ê≥ïË∞ÉÁî®ÂáΩÊï∞ÔºåÂ¶ÇÊûúÈúÄË¶ÅÊîØÊåÅ‰∏≠ÁºÄÊ†áËÆ∞Ê≥ïË∞ÉÁî®ÔºåÈúÄË¶ÅÊª°Ë∂≥Êù°‰ª∂Ôºö ÊòØ‰∏Ä‰∏™Á±ªÂáΩÊï∞ÊàñÊâ©Â±ïÂáΩÊï∞Ôºå‰ΩøÁî® infix ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÔºåÂè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞ 12345678910infix fun Int.cross(another: Int): Int &#123; return this * another&#125;class Engineer(var name: String = "", var age: Int = 0)&#123; // together ÂáΩÊï∞ infix fun together(e: Engineer): Int &#123; return this.age + e.age &#125;&#125; ÂÆÉ‰ΩøÂæóÂáΩÊï∞ÂèØ‰ª•ÂÉèËøêÁÆóÁ¨¶ÈÇ£Ê†∑‰ΩøÁî® 123456789val x = 100val result = x cross 10// Áõ∏ÂΩì‰∫éval result2 = x.cross(10)val e = Engineer()var newEngineer = e together Engineer(name = "new")// Áõ∏ÂΩì‰∫évar newEngineer2 = e.together(Engineer(name = "new")) ÂèÇÊï∞ÂíåËøîÂõûÂÄºÂú® Kotlin ‰∏≠ÔºåÂèÇÊï∞‰ΩøÁî® param:Type ÁöÑÂΩ¢ÂºèÂ£∞ÊòéÔºåÊØè‰∏™ÂèÇÊï∞ÂøÖÈ°ªÂ£∞ÊòéÊï∞ÊçÆÁ±ªÂûãÔºõËøîÂõûÂÄºÂú®ÂáΩÊï∞ÁöÑÊúÄÂêéÔºåÂáΩÊï∞‰Ωì‰πãÂâçÔºå‰ΩøÁî® :returnType ÁöÑÂΩ¢ÂºèÂ£∞ÊòéÔºåÂ¶ÇÊûúÊ≤°ÊúâËøîÂõûÂÄºÔºåÂèØ‰ª•‰ΩøÁî® :Unit ÊàñËÄÖ‰∏çÂÜôËøîÂõûÂÄºÁöÑÂΩ¢ÂºèÊù•Ë°®Á§∫„ÄÇ ÂèÇÊï∞ÊîØÊåÅ ÈªòËÆ§ÂÄº Âíå ÂèÇÊï∞ÂêçÊåáÂÆöÂèÇÊï∞ Ë∞ÉÁî®ÔºåÁÆÄÂåñÂáΩÊï∞ÁöÑÈáçËΩΩ„ÄÇ‰∏ªË¶Å‰ΩìÁé∞Âú®Ôºö ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑÂèÇÊï∞Êàë‰ª¨Âú®Ë∞ÉÁî®ËøáÁ®ã‰∏≠ÂèØ‰ª•‰∏ç‰º†ËØ•ÂèÇÊï∞ÔºåÂ∞Ü‰ºö‰ΩøÁî®ÂèÇÊï∞ÁöÑÈªòËÆ§ÂÄºÔºåÂè¶Â§ñÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂèÇÊï∞ÂêçÊåáÂÆöÊüê‰∫õÂèÇÊï∞Ôºå‰πüÂ∞±ÊòØÂè™‰º†ÈÉ®ÂàÜÂèÇÊï∞ÔºåÂΩìÁÑ∂Ê≤°ÊúâÈªòËÆ§ÂÄºÁöÑÂèÇÊï∞ÊòØÂøÖÈ°ª‰º†ÁöÑ„ÄÇ ‰ΩøÁî®ÂáΩÊï∞ÁöÑÈªòËÆ§ÂÄºËøõË°åÂáΩÊï∞ÈáçËΩΩÊó∂ÔºåÈúÄË¶ÅÊ≥®ÊÑèÂèÇÊï∞ÊòØ‰ªéÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÂºÄÂßãÂæÄÂêéÈù¢ÂåπÈÖçÁöÑÔºåÂõ†Ê≠§Êó†ÈªòËÆ§ÂÄºÁöÑÂèÇÊï∞Ë¶ÅÂæÄÂâçÈù¢ÊîæÔºåÂ¶Ç‰∏ãÂáΩÊï∞Ôºö Âè¶Â§ñÔºåÁî±‰∫éÂ¶ÇÊûúÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÈÇ£‰πàÂèØ‰ª•Â∞ÜËøô‰∏™ÂáΩÊï∞ÊîæÂú® () ‰πãÂ§ñÔºå‰ΩøÁî® Lambda Ë°®ËææÂºè‰º†ÂèÇÔºåÂõ†Ê≠§ÔºåÂ¶ÇÊûúÊúâËøôÊ†∑ÁöÑÂáΩÊï∞ÂèÇÊï∞ÔºåÂª∫ËÆÆÊîæÂú®ÊúÄÂêé„ÄÇ 1234567891011fun testDefParam(p1: String = "", p2: Int = 10, p3: Int = 1, p4: String) &#123;&#125;// Êàë‰ª¨Â¶ÇÊ≠§Ë∞ÉÁî®ÊòØ‰∏çÂèØ‰ª•ÁöÑtestDefParam("", "") // error// Êàë‰ª¨ÈúÄË¶ÅÂ∞ÜÊó†ÈªòËÆ§ÂÄºÁöÑÂèÇÊï∞ÊèêÂà∞ÂâçÈù¢ÔºåÊâçËÉΩËá™Âä®ÂåπÈÖç‰∏äfun testDefParam(p4: String, p1: String = "", p2: Int = 10, p3: Int = 1) &#123;&#125; ‰ΩøÁî®ÈªòËÆ§ÂÄºË∞ÉÁî®Êó∂ÔºåÂΩìÂèÇÊï∞ËøáÂ§öÊó∂ÔºåÈªòËÆ§ÂåπÈÖçÁöÑÊñπÂºè‰πüÂ§öÔºåËÄå‰∏îÊàë‰ª¨ÂøÖÈ°ªÂ∞ÜÊ≤°ÊúâÈªòËÆ§ÂÄºÁöÑÂèÇÊï∞ÊèêÂâçÔºå‰ºöÂØºËá¥‰ª£Á†ÅÈòÖËØªÊÄßÂèòÂ∑ÆÔºå‰∏çÂÆπÊòìÁª¥Êä§ÔºåÂõ†Ê≠§Áõ∏ÂØπÊõ¥Êé®Ëçê‰ΩøÁî®ÂèÇÊï∞ÂêçÊåáÂÆöÂèÇÊï∞ÁöÑÊñπÂºèÔºå‰ª£Á†Å‰ºöÊõ¥Ê∏ÖÊô∞ÔºåÂèÇÊï∞ÂàóË°®‰πüÊ≤°Êúâ‰ªª‰ΩïÈôêÂà∂Ôºå‰ΩÜÊòØÂ¶ÇÊûúÊ≤°ÊúâÈªòËÆ§ÂÄºÁöÑÂèÇÊï∞ÊòØÂøÖÈ°ª‰º†ÂÄºÁöÑ„ÄÇ 12345fun testNamedParam(p1: String = "", p2: Int = 10, p3: Int = 1,p4: String) &#123;&#125;// p4 ÂèÇÊï∞ÊòØÂøÖÈ°ª‰º†ÁöÑtestNamedParam(p2 = 11,p4 = "test") Á±ªÂáΩÊï∞Âú®ÁªßÊâøÊó∂ÔºåÂ≠êÁ±ª‰∏çÂèØ‰ª•Â£∞ÊòéÈªòËÆ§ÂÄºÔºå‰∏çËÆ∫Áà∂Á±ª‰∏≠ÂêåÂáΩÊï∞ÂèÇÊï∞ÊúâÊ≤°ÊúâÈªòËÆ§ÂÄºÈÉΩ‰∏çÂèØ‰ª•„ÄÇ 1234567891011open class ATest &#123; open fun test(p1: Int, p2: String = "") &#123; &#125;&#125;class BTest : ATest() &#123; // p1 p2 ÂèÇÊï∞ÈÉΩ‰∏çËÉΩÂÜçÂ£∞ÊòéÈªòËÆ§ÂÄº override fun test(p1: Int, p2: String) &#123; super.test(p1, p2) &#125;&#125; ËôΩÁÑ∂Âú®Â≠êÁ±ª‰∏≠Êàë‰ª¨‰∏çËÉΩÂ£∞ÊòéÂèÇÊï∞ÈªòËÆ§ÂÄºÔºå‰ΩÜÊòØÁà∂Á±ª‰∏≠ÁöÑÂèÇÊï∞ÈªòËÆ§ÂÄºÂú®Â≠êÁ±ª‰∏≠ÂêåÊ†∑ÁîüÊïàÔºåÂ¶Ç‰∏äÈù¢ÁöÑ‰ª£Á†ÅÊàë‰ª¨ÂèØ‰ª•Â¶Ç‰∏ãË∞ÉÁî®Ôºö 12ATest().test(1)BTest().test(1) ÂáΩÊï∞ÁöÑÂèÇÊï∞‰∏≠ÁöÑÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÈÉΩÊòØ val Á±ªÂûãÁöÑÂèòÈáèÔºå‰πüÂ∞±ÊòØÂú®ÂáΩÊï∞‰ΩìÂÜÖÊó†Ê≥ïÊîπÂèòÂÖ∂ÂÄº 1234fun testFuncParamVal(index:Int,user:User)&#123; index = 100 // error. val can not be reassigned user.name = "" // error. val can not be reassigned&#125; ÂçïË°®ËææÂºèÂáΩÊï∞(Single-Expression)ÂçïË°®ËææÂºèÂáΩÊï∞ (Single-Expression function) Â¶ÇÊûúÂáΩÊï∞ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®‰∏ÄÊù°ÁÆÄÂçïÁöÑË°®ËææÂºèË°®Á§∫ÔºåÂèØ‰ª•ÁúÅÁï•ÂáΩÊï∞‰ΩìÔºåÁõ¥Êé•Âú® = ‰πãÂêéÂ£∞ÊòéÔºåÂ¶ÇÊûúÂáΩÊï∞ÁöÑËøîÂõûÁ±ªÂûãÂèØ‰ª•ÈÄöËøáÁ±ªÂûãÊé®Êñ≠ÂæóÂà∞ÔºåÈÇ£‰πàËøîÂõûÁ±ªÂûã‰πüÂèØ‰ª•ÁúÅÁï•„ÄÇ 123fun singleExpressionFunc(): Int = 12 * 10// ÁúÅÁï•ËøîÂõûÁ±ªÂûãfun singleExpressionFunc() = 12 * 10 ‰∏çÂÆöÈïøÂèÇÊï∞(varargs)Á±ª‰ºº java ‰∏≠ÁöÑ ... Ôºåkotlin ‰ΩøÁî® varargs Êù•Ë°®Á§∫‰∏çÂÆöÈïøÂèÇÊï∞Ôºåvarargs Â£∞ÊòéÁöÑÂèÇÊï∞ÁöÑÁ±ªÂûãÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™ Array&lt;out T&gt; Á±ªÂûãÁöÑÂÄºÔºåÂõ†Ê≠§ÂèØ‰ª•‰ΩøÁî®‰∏ãÊ†áËÆøÈóÆÊØè‰∏Ä‰∏™ÂèÇÊï∞ 12345678910fun asList(vararg args: String): List&lt;String&gt; &#123; val list = ArrayList&lt;String&gt;() for (arg in args) &#123; list.add(arg) &#125; return list&#125;// ÁÆÄÂçïË∞ÉÁî® asList("1","@","3") ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ã varargs Á±ªÂûãÁöÑÂèÇÊï∞Â∫îËØ•ÊòØÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂõ†‰∏∫Áî±‰∫é varargs Á±ªÂûãÁöÑÂèÇÊï∞Êé•ÂèóÁöÑÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÂêéÈù¢ÁöÑÂèÇÊï∞Â∞ÜÊó†Ê≥ïËØÜÂà´Ôºå‰∏çËøáÂ•ΩÂú® kotlin Êúâ‰ΩøÁî®ÂèÇÊï∞ÂêçÊåáÂÆöÂèÇÊï∞ÁöÑ‰º†ÂèÇÊñπÊ≥ï„ÄÇ 12345678fun asList(vararg args: String,count:Int): List&lt;String&gt; &#123; val list = ArrayList&lt;String&gt;() list += args return list&#125;// testasList("1","@","3",count = 1) ÂΩìÊàë‰ª¨Â∑≤ÁªèÊúâ‰∏Ä‰∏™Êï∞ÁªÑÊó∂ÔºåÂ∏åÊúõÂ∞ÜËøô‰∏™Êï∞ÁªÑ‰Ωú‰∏∫ÂèÇÊï∞Áõ¥Êé•‰º†ÈÄíÁªôÂáΩÊï∞ÔºåÊ≠§Êó∂ÊòØÊó†Ê≥ï‰º†ÂèÇÁöÑÔºåÂõ†‰∏∫ÂÆÉ‰ºöÂ∞ÜÊï¥‰∏™ Array ‰Ωú‰∏∫‰∏ÄÈ°πÔºåÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†Å‰∏≠Ôºå‰ºöÊèêÁ§∫Á±ªÂûã‰∏çÂØπÔºåËøôÁßçÊÉÖÂÜµÂèØ‰ª•‰ΩøÁî® Â±ïÂºÄÊìç‰ΩúÁ¨¶(*)ÔºåÂ∞ÜÊï∞ÁªÑÂ±ïÂºÄ 1234567val strings = arrayOf("1", "2", "3")// error. Required:String,Found:Array&lt;String&gt;asList(strings,count = 1) // Ê≠£Á°ÆÂßøÂäøval strings = arrayOf("1", "2", "3")asList(*strings,count = 1) Âá†ÁßçÂáΩÊï∞Á±ªÂûãÈ°∂Á∫ßÂáΩÊï∞ÔºöÂáΩÊï∞ÂèØ‰ª•Â£∞Êòé‰∏∫ top-level Á∫ßÂà´ÔºåÊàë‰ª¨‰∏çÈúÄË¶ÅÂçïÁã¨ÂÆö‰πâ‰∏Ä‰∏™Á±ªÊù•ÂÆπÁ∫≥Ëøô‰∏™ÂáΩÊï∞ÔºåÈ°∂Á∫ßÂáΩÊï∞ÂèØ‰ª•ËÆøÈóÆÂÖ¨ÂºÄÁöÑÁ±ªÂíåÂ±ûÊÄß„ÄÇ Â±ÄÈÉ®ÂáΩÊï∞ÔºöÊåáÁöÑÊòØÂ£∞ÊòéÂú®ÂáΩÊï∞ÂÜÖÈÉ®ÁöÑÂáΩÊï∞ÔºåÂ±ÄÈÉ®ÂáΩÊï∞ÂèØ‰ª•ËÆøÈóÆÂ§ñÈÉ®ÂáΩÊï∞ÁöÑÂ±ÄÈÉ®ÂèòÈáè„ÄÇ 12345678910111213141516// MainActivity ‰∏≠ÁöÑÂèòÈáèval valueInMainActivity = 100// Â§ñÈÉ®ÂáΩÊï∞fun localFunctionOutter()&#123; // Â§ñÈÉ®ÂáΩÊï∞ÁöÑÂ±ÄÈÉ®ÂèòÈáè val valueInLocalFunctionOuter = 10 // Â±ÄÈÉ®ÂáΩÊï∞ fun localFunctionInner()&#123; // Â±ÄÈÉ®ÂáΩÊï∞ÁöÑÂ±ÄÈÉ®ÂèòÈáè val valueInLocalFunctionInner = 1 // Â±ÄÈÉ®ÂáΩÊï∞ÂèØ‰ª•ËÆøÈóÆÂ§ñÈÉ®ÂáΩÊï∞ÁöÑÂ±ÄÈÉ®ÂèòÈáè log("$valueInMainActivity $valueInLocalFunctionOuter $valueInLocalFunctionInner") &#125; // Ë∞ÉÁî®Â±ÄÈÉ®ÂáΩÊï∞ localFunctionInner()&#125; ÊàêÂëòÂáΩÊï∞ÔºöÂ£∞ÊòéÂú®Á±ªÂíåÂØπË±°‰∏≠ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰Ωú‰∏∫Á±ªÁöÑÊàêÂëòÂèØ‰ª•ËÆøÈóÆÂÖ∂‰ªñÊàêÂëò„ÄÇ ËåÉÂûãÂáΩÊï∞ÔºöÂáΩÊï∞‰∏≠ÂèØ‰ª•Â∏¶ÊúâËåÉÂûãÔºåÂÖ≥‰∫éËåÉÂûãÁöÑÁõ∏ÂÖ≥ÈóÆÈ¢òÂú® kotlin-ËåÉÂûã ‰ºöÊúâÊõ¥ÁªÜËá¥ÁöÑÊèèËø∞„ÄÇ 123fun &lt;T&gt; test2(t:T) where T : Box&lt;T&gt;, T : Cloneable&#123;&#125; Êâ©Â±ïÂáΩÊï∞ÔºöÂØπÂ∑≤ÊúâÁ±ªËøõË°åÊâ©Â±ïÔºåÂÖ≥‰∫éÊâ©Â±ïÂáΩÊï∞ÁöÑÁõ∏ÂÖ≥ÈóÆÈ¢òÂú® kotlin-Êâ©Â±ï ‰ºöÊúâÊõ¥ÁªÜËá¥ÁöÑÊèèËø∞„ÄÇ 12345fun &lt;E&gt; MutableList&lt;E&gt;.swap(index1: Int, index2: Int) &#123; val temp = this[index1] this[index1] = this[index2] this[index2] = temp&#125; Â∞æÈÄíÂΩíÂáΩÊï∞(tailrec)Êàë‰ª¨Âú® Java ‰∏≠‰ΩøÁî®ÈÄíÂΩíÂáΩÊï∞Êó∂ÔºåÂ¶ÇÊûúÈÄíÂΩíÁöÑÊ¨°Êï∞Â§™Â§öÔºåÂÖ∑‰ΩìËÉΩÂ§üÊâøËΩΩÁöÑÈÄíÂΩíÊ¨°Êï∞‰∏éÂáΩÊï∞ÁöÑÂ§çÊùÇÁ®ãÂ∫¶ÊúâÂÖ≥Ôºå‰ºöÂØºËá¥Â†ÜÊ†àÊ∫¢Âá∫Ôºåkotlin ÂØπÈÄíÂΩíÂáΩÊï∞ÂÅö‰∫Ü‰ºòÂåñÔºå‰ΩøÁî® tailrec ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÂ∞æÈÄíÂΩíÂáΩÊï∞ÔºåÂπ∂‰∏îÊª°Ë∂≥Ë¶ÅÊ±ÇÁöÑÂΩ¢ÂºèÔºåÂú®ÁºñËØëÊó∂Ôºå‰ºöÊ∂àÈô§ÂáΩÊï∞ÁöÑÈÄíÂΩíË∞ÉÁî®Ôºå‰∫ßÁîü‰∏ÄÊÆµÂü∫‰∫éÂæ™ÁéØÁöÑ‰ª£Á†ÅÔºåÈÅøÂÖçÂµåÂ•óËøáÊ∑±ÂØºËá¥Â†ÜÊ†àÊ∫¢Âá∫„ÄÇ Ë¶ÅÁ¨¶Âêà tailrec ‰øÆÈ•∞Á¨¶ÁöÑË¶ÅÊ±ÇÔºåÂáΩÊï∞ÂøÖÈ°ªÂú®ÂÆÉÊâßË°åÁöÑÊâÄÊúâÊìç‰ΩúÁöÑÊúÄÂêé‰∏ÄÊ≠•ÔºåÈÄíÂΩíË∞ÉÁî®ÂÆÉËá™Ë∫´„ÄÇÂ¶ÇÊûúÂú®Ëøô‰∏™ÈÄíÂΩíË∞ÉÁî®‰πãÂêéËøòÂ≠òÂú®ÂÖ∂‰ªñ‰ª£Á†ÅÔºåÈÇ£‰πà‰Ω†‰∏çËÉΩ‰ΩøÁî®Â∞æÈÄíÂΩíÔºåËÄå‰∏î‰Ω†‰∏çËÉΩÂ∞ÜÂ∞æÈÄíÂΩíÁî®Âú® try/catch/finally ÁªìÊûÑÂÜÖ„ÄÇ Â∞æÈÄíÂΩíÂáΩÊï∞ÂíåÊàë‰ª¨Âπ≥Â∏∏ÁöÑÈÄíÂΩíÂáΩÊï∞Ê≤°ÊúâÂæàÂ§ßÂ∑ÆÂà´Ôºå‰ΩøÁî® tailrec ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÔºåÂèÇÁÖßÂÆòÁΩë‰∏äÈù¢ÁöÑ‰æãÂ≠ê„ÄÇ 12tailrec fun findFixPoint(x: Double = 1.0): Double = if (Math.cos(x) == x) x else findFixPoint(Math.cos(x)) Âú®ÁºñËØëÊó∂Ôºå‰ªñÂ∞Ü‰ºöÁîüÊàêÁ±ª‰ººÂ¶Ç‰∏ãÁöÑÁªìÊûÑ 12345678private fun findFixPoint(): Double &#123; var x = 1.0 while (true) &#123; val y = Math.cos(x) if (x == y) return y x = y &#125;&#125; È´òÈò∂ÂáΩÊï∞Âú® kotlin ‰∏≠ÂáΩÊï∞ÂíåÂ±ûÊÄß‰∏ÄÊ†∑ÂèØ‰ª•‰Ωú‰∏∫Âè¶‰∏Ä‰∏™ÂáΩÊï∞ÁöÑÂèÇÊï∞ÊàñËøîÂõûÂÄºÔºåËøôÁ±ªÂáΩÊï∞Ë¢´Áß∞‰∏∫È´òÈò∂ÂáΩÊï∞ÔºåÂÆÉ‰ΩøÂæóÂáΩÊï∞ÂèØ‰ª•Â¶ÇÂêåÂØπË±°‰∏ÄÊ†∑ËøõË°å‰º†ÈÄí„ÄÇ Â¶ÇÂêåÂ≠óÁ¨¶‰∏≤Á±ªÂûãÊòØ StringÔºåÊï¥ÂûãÁöÑÁ±ªÂûãÊòØ IntÔºåÂáΩÊï∞ÂÖ∑ÊúâËá™Â∑±ÁöÑÁ±ªÂûãÔºåÂáΩÊï∞ÁöÑÁ±ªÂûã‰ΩøÁî® (p1:Type1,p2:Type2...) -&gt; returnTypeÔºåÂÖ∂‰∏≠ÂèÇÊï∞ÁöÑÂêçÁß∞ p1,p2 ÊòØÂèØ‰ª•ÁúÅÁï•ÁöÑÔºå‰ΩÜÊòØÂèÇÊï∞ÂàóË°®ÁöÑ () ‰∏çËÉΩÁúÅÁï•ÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂç≥‰ΩøÂáΩÊï∞ËøîÂõûÂÄºÊòØ Unit ‰πüÊó†Ê≥ïÁúÅÁï•ÔºåÂõ†‰∏∫ÁºñËØëÂô®Â∞ÜÊó†Ê≥ïËØÜÂà´ (Type) ÊòØ‰∏Ä‰∏™‰ªÄ‰πàÁ±ªÂûã„ÄÇ 1234567891011121314151617// Â£∞ÊòéÂáΩÊï∞ÁöÑÁ±ªÂûãval fun1: (String, Int) -&gt; Int = &#123; p1, p2 -&gt; p1.length + p2&#125;// Â∏¶ÊúâÂèÇÊï∞Âêçval fun2: (p1: Int) -&gt; Int = &#123; p1 -&gt; p1&#125;// ËøîÂõûÂÄº‰∏∫ Unitval fun3: (String) -&gt; Unit = &#123;&#125;// error. ‰∏çËÉΩÁúÅÁï• Unitval fun4: (String) = &#123;&#125; ÂáΩÊï∞‰Ωú‰∏∫ËøîÂõûÂÄºÂáΩÊï∞ÂèØ‰ª•‰Ωú‰∏∫ËøîÂõûÂÄºÔºå‰Ωú‰∏∫ËøîÂõûÂÄºÊó∂ÔºåÈúÄË¶Å‰ΩøÁî® Lambda Ë°®ËææÂºèÁöÑÊñπÂºè‰π¶ÂÜô„ÄÇ 123456789101112// ÂáΩÊï∞‰Ωú‰∏∫ËøîÂõûÂÄºfun testReturnFunction(): (String, Int) -&gt; Int &#123; // ËøîÂõû‰∏Ä‰∏™ ÂèÇÊï∞‰∏∫ (String,Int) ËøîÂõûÂÄº‰∏∫ Int ÁöÑÂáΩÊï∞ return &#123; p1: String, p2: Int -&gt; p1.length + p2 &#125;&#125;// Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ËØ•ÂáΩÊï∞Ëé∑ÂèñÂÜÖÈÉ®ËøîÂõûÁöÑÂáΩÊï∞val returnFunction = testReturnFunction()var value = returnFunction("2", 1) ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÂáΩÊï∞ÂèØ‰ª•‰Ωú‰∏∫ÂáΩÊï∞ÂèÇÊï∞ÔºåÂ£∞ÊòéÂáΩÊï∞Êó∂ÂèØ‰ª•ÂÉèÊôÆÈÄöÂØπË±°ÈÇ£Ê†∑ÂØπÂæÖÂáΩÊï∞Á±ªÂûãÁöÑÂèÇÊï∞ 1234// ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞fun testParamFunction(inFun: (String, Int) -&gt; Int): Int &#123; return inFun("1", 1)&#125; Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ Lambda Ë°®ËææÂºèÂàõÂª∫‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂΩìÂáΩÊï∞ A ÁöÑÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞‰πüÊòØÂáΩÊï∞Êó∂ÔºåÂèØ‰ª•Âú®ÂáΩÊï∞ A ÂêéÈù¢Áõ¥Êé•Áî® {} Â£∞ÊòéÂáΩÊï∞‰Ωì„ÄÇ 12345678// ÊôÆÈÄöÁî®Ê≥ïtestParamFunction(inFun = &#123; s, i -&gt; s.length + i&#125;)// ÁÆÄÂçïÁî®Ê≥ïtestParamFunction &#123; s, i -&gt; s.length + i &#125; Â¶ÇÊûúËØ•ÂáΩÊï∞ËøòÊúâÂÖ∂‰ªñÂèÇÊï∞ÔºåÈÇ£Â∞±ÂøÖÈ°ª‰ΩøÁî® () Êù•ÊîæÁΩÆËøô‰∫õÂèÇÊï∞ÔºåÂ¶Ç‰∏ãÔºö 123456789101112// ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞fun testParamFunction(count:Int,inFun: (String, Int) -&gt; Int): Int &#123; return inFun("1", 1)&#125;// ÊôÆÈÄöÁî®Ê≥ïtestParamFunction(1,inFun = &#123; s, i -&gt; s.length + i&#125;)// ÁÆÄÂçïÁî®Ê≥ïtestParamFunction(1) &#123; s, i -&gt; s.length + i &#125; ‰ΩøÁî® :: Êìç‰ΩúÁ¨¶ÔºåÂèØ‰ª•Â∞Ü‰∏Ä‰∏™ÂÆö‰πâÂ•ΩÁöÑÂèÇÊï∞‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÔºåËøôËæπËøòÊ∂âÂèä‰∫Ü‰∏ÄÁÇπÂèçÂ∞ÑÁöÑÂÜÖÂÆπÔºåÊöÇÊó∂‰∏çÂéªÊ∑±Á©∂„ÄÇ 1234567891011121314151617181920212223242526272829303132class FunParamTest() &#123; fun isYes(str: String): Int &#123; return str.length &#125; fun test1(param:String) &#123; // Áõ¥Êé•ÂÆö‰πâ‰∏Ä‰∏™ÂáΩÊï∞ val p1: (String) -&gt; Int = &#123; 100 &#125; test2(p1) // ‰∏Ä‰∏™Â±ÄÈÉ®ÂáΩÊï∞ fun isOdd(str: String): Int &#123; return str.length &#125; // Áî®‰∏Ä‰∏™Â±ÄÈÉ®ÂèòÈáèÊé•ÂèóËøô‰∏™ÂáΩÊï∞ÔºåÂπ∂Ë∞ÉÁî®‰ªñ val p2 = ::isOdd p2("") // Áõ¥Êé•‰º†ÈÄíËØ•ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ test2(::isOdd) // errorÔºåÊöÇÊó∂‰∏çÁü•ÈÅì‰∏∫‰ªÄ‰πàÔºåÂè™ÊúâÂ±ÄÈÉ®ÂáΩÊï∞ÂèØ‰ª•‰ΩøÁî® :: Êìç‰ΩúÁ¨¶‰º†ÈÄí test2(::isYes) &#125; fun test2(f: (String) -&gt; Int) &#123; &#125;&#125; Ëûç‰ºöË¥ØÈÄöÔºåËÆ©ÂáΩÊï∞Â¶ÇÂêåÂØπË±°‰∏ÄÊ†∑Ëá™Áî±ÁöÑ‰º†ÈÄíÔºåÊàë‰ª¨‰ª•‰∏äÈù¢ÁöÑ‰∏§ÁßçÂáΩÊï∞‰∏∫‰æã 12345678910111213141516171819202122232425// Â£∞Êòé‰∏Ä‰∏™ÂáΩÊï∞val fun1: (String, Int) -&gt; Int = &#123; p1, p2 -&gt; p1.length + p2&#125;testParamFunction(1, inFun = fun1)// ‰ªéÂè¶‰∏Ä‰∏™ÂáΩÊï∞‰∏≠ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞val fun5: (String, Int) -&gt; Int = testReturnFunction()testParamFunction(1, inFun = fun5)// ‰ΩøÁî® lambda Ë°®ËææÂºèÂàõÂª∫‰∏Ä‰∏™ÂáΩÊï∞testParamFunction(1, inFun = &#123; p1, p2 -&gt; p1.length + p2 &#125;)// ‰ΩøÁî®Â£∞ÊòéÂ•ΩÁöÑÂáΩÊï∞ fun fun6(p1:String,p2:Int):Int&#123; return p1.length + p2&#125;testParamFunction(1, inFun = ::fun6) Lambda Ë°®ËææÂºèÂú® Kotlin ‰∏≠‰ΩøÁî® Lambda Ë°®ËææÂºèÔºåLambda Ë°®ËææÂºè‰ΩøÁî®Â¶Ç‰∏ãÊñπÂºè„ÄÇ 1234&#123; param1,param2 -&gt; ...ÂáΩÊï∞‰Ωì...&#125; ÂΩìÊüê‰∏™ÂèÇÊï∞Êàë‰ª¨‰∏çÁî®Êó∂ÔºåÂèØ‰ª•‰ΩøÁî® _ ‰ª£ÊõøÔºåÂ¶ÇÂáΩÊï∞ 1234567891011121314fun testLambda(inFun: (String, Int) -&gt; Int): Int &#123; return inFun("1", 1)&#125;testLambda&#123; p1,p2 -&gt; p1.length + p2&#125;// ‰∏ç‰ΩøÁî® p2 ÂèÇÊï∞testLambda&#123; p1, _ -&gt; p1.length&#125; ÂΩìÂè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞Êó∂ÔºåÂ¶ÇÊûúÊ≤°ÊúâÁî®Âà∞Ëøô‰∏™ÂèÇÊï∞ÂèØ‰ª•Áõ¥Êé•‰∏çÁî®Â£∞ÊòéÔºå‰πüÂèØ‰ª•‰ΩøÁî®Âçï‰∏ÄÂèÇÊï∞ÁöÑÈöêÂê´ÂêçÁß∞ it ‰ª£Êõø„ÄÇ 12345678910111213fun testLambda(inFun: (String) -&gt; Int): Int &#123; return inFun("1")&#125;// ÂΩì‰∏ç‰ΩøÁî®ÂèÇÊï∞Êó∂ÔºåÂèØ‰ª•‰∏çÁî®Â£∞ÊòétestLambda &#123; 0&#125;// ÈöêÂê´ÂèÇÊï∞ ittestLambda &#123; it.length&#125; ÈªòËÆ§ÂáΩÊï∞‰ΩìÁöÑÊúÄÂêé‰∏ÄÊù°ËØ≠Âè•Â∞Ü‰ºö‰Ωú‰∏∫ÂáΩÊï∞ÁöÑËøîÂõûÂÄºÔºå‰ΩÜÊòØ‰∏çÈúÄË¶ÅÊòæÂºè‰ΩøÁî® return ÂÖ≥ÈîÆÂ≠ó„ÄÇÂ¶ÇÊûúÊÉ≥Âú®ÂÖ∂‰ªñ‰ΩçÁΩÆËøîÂõûÂÄºÔºåÈúÄË¶Å‰ΩøÁî®Â∏¶ÊúâÂêéÁºÄÁöÑ return ËØ≠Âè•„ÄÇ 123456789101112// ÊúÄÂêé‰∏ÄÂè•Â∞Ü‰Ωú‰∏∫ËøîÂõûÂÄºtestLambda &#123; it.length&#125;// ‰ΩøÁî®Â∏¶ÂêéÁºÄÁöÑ return ËØ≠Âè•ËøîÂõûÊåáÂÆöÂÄºtestLambda &#123; if (it.length &gt; 100) return@testLambda it.length else return@testLambda 100&#125; ÂåøÂêçÂáΩÊï∞ÂåøÂêçÂáΩÊï∞‰∏éÊôÆÈÄöÂáΩÊï∞Á±ª‰ººÔºå‰ΩÜÊòØ‰∏çÈúÄË¶ÅÊåáÂÆöÂáΩÊï∞ÂêçÔºåÊîØÊåÅÂçïÂçïË°®ËææÂºèÂáΩÊï∞Ôºå‰πüÊîØÊåÅÂ§öË°åÂáΩÊï∞„ÄÇ ÂåøÂêçÂáΩÊï∞ÂøÖÈ°ª‰ΩøÁî® () ‰º†ÈÄíÔºåÂØπ Lambda Ë°®ËææÂºèÊîØÊåÅÁöÑ‰∏Ä‰∫õ‰ΩøÁî®ÊñπÂºèÔºåÂØπÂåøÂêçÂáΩÊï∞Âπ∂‰∏çÊîØÊåÅ„ÄÇ Lambda Ë°®ËææÂºè‰∏éÂåøÂêçÂáΩÊï∞‰πãÈó¥ÁöÑÂè¶‰∏Ä‰∏™Âå∫Âà´ÊòØÔºåÂÆÉ‰ª¨ÁöÑ ÈùûÂ±ÄÈÉ®ËøîÂõû(non-local return) ÁöÑË°å‰∏∫‰∏çÂêå„ÄÇ‰∏ç‰ΩøÁî®Ê†áÁ≠æÁöÑ return ËØ≠Âè•ÊÄªÊòØ‰ªé fun ÂÖ≥ÈîÆÂ≠óÂÆö‰πâÁöÑÂáΩÊï∞‰∏≠ËøîÂõû„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåLambda Ë°®ËææÂºèÂÜÖÁöÑ return Â∞Ü‰ºö‰ªéÂåÖÂê´Ëøô‰∏™ Lambda Ë°®ËææÂºèÁöÑÂáΩÊï∞‰∏≠ËøîÂõûÔºåËÄåÂåøÂêçÂáΩÊï∞ÂÜÖÁöÑ return Âè™‰ºö‰ªéÂåøÂêçÂáΩÊï∞Êú¨Ë∫´ËøîÂõû„ÄÇ 12345testParamFunction(1, inFun = (fun(p1, p2) = p1.length + p2))testParamFunction(1, inFun = (fun(p1, p2): Int &#123; return p1.length + p2&#125;)) ÂáΩÊï∞ÁöÑÈó≠ÂåÖLambda Ë°®ËææÂºèÂíåÂåøÂêçÂáΩÊï∞ÂèØ‰ª•ËÆøÈóÆÂ§ñÈÉ®ÂèòÈáèÔºåÂõ†Ê≠§‰ºöÂΩ¢ÊàêÈó≠ÂåÖ„ÄÇ ÂáΩÊï∞ Âíå ÂáΩÊï∞ËÉΩËÆøÈóÆÂà∞ÁöÑÂèòÈáè(ÁéØÂ¢É) ÁöÑÊÄªÂíå Â∞±ÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™Èó≠ÂåÖ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂΩì‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ËÆøÈóÆ‰∫ÜÂ§ñÈÉ®ÂáΩÊï∞ÁöÑÂèòÈáèÔºåÊ≠§Êó∂‰ºöÂΩ¢Êàê‰∏Ä‰∏™Èó≠ÂåÖ„ÄÇ ‰ΩøÁî®Èó≠ÂåÖÁöÑÁõÆÁöÑÊòØÈöêËóè‰∏Ä‰∫õÂèòÈáèÔºåËøô‰∫õÂèòÈáèÂè™Âú®Â§ñÈÉ®ÂáΩÊï∞‰∏≠Â£∞ÊòéÔºå‰ΩÜÊòØ‰∏çÈúÄË¶ÅÂ£∞Êòé‰∏∫ÂÖ®Â±ÄÂ±ûÊÄß„ÄÇ Â¶Ç‰∏ãÂáΩÊï∞Â£∞ÊòéÔºåÂú® MainActivity ‰∏≠ÂíåÂ§ñÈÉ®ÂáΩÊï∞‰∏≠ÂàÜÂà´ÈÉΩÊúâÂèòÈáèÔºåÂÜÖÈÉ®ÂáΩÊï∞ËÆøÈóÆËøô‰∫õÂèòÈáè„ÄÇ 123456789101112131415161718// MainActivity ‰∏≠ÁöÑÂèòÈáèval valueInMainActivity = 100// Â§ñÈÉ®ÂáΩÊï∞fun localFunctionOuter(): () -&gt; Unit &#123; // Â§ñÈÉ®ÂáΩÊï∞ÁöÑÂ±ÄÈÉ®ÂèòÈáè val valueInLocalFunctionOuter = 10 // Â±ÄÈÉ®ÂáΩÊï∞ fun localFunctionInner() &#123; // Â±ÄÈÉ®ÂáΩÊï∞ÁöÑÂ±ÄÈÉ®ÂèòÈáè val valueInLocalFunctionInner = 1 // Â±ÄÈÉ®ÂáΩÊï∞ÂèØ‰ª•ËÆøÈóÆÂ§ñÈÉ®ÂáΩÊï∞ÁöÑÂ±ÄÈÉ®ÂèòÈáè log("valueInMainActivity = $valueInMainActivity " + ",valueInLocalFunctionOuter = $valueInLocalFunctionOuter " + ",valueInLocalFunctionInner = $valueInLocalFunctionInner") &#125; // Ë∞ÉÁî®Â±ÄÈÉ®ÂáΩÊï∞ return ::localFunctionInner&#125; Âú®‰∏ãÈù¢ÁöÑË∞ÉÁî®‰∏≠ÔºåËôΩÁÑ∂ localFunctionOuter() ÂáΩÊï∞Â∑≤ÁªèÁªìÊùü‰∫ÜÔºå ‰ΩÜÊòØ‰ªçÁÑ∂ÂèØ‰ª•‰ΩøÁî®ËøîÂõûÁöÑÂáΩÊï∞ËÆøÈóÆ localFunctionOuter() ÂÜÖÈÉ®ÁöÑÂèòÈáèÔºåÊàë‰ª¨ÂØπÂ§ñÈÉ®ÈöêËóè‰∫Ü valueInLocalFunctionOuter Ëøô‰∏™ÂèòÈáè„ÄÇ 12345val f = localFunctionOuter()f()// ËæìÂá∫MainActivity: valueInMainActivity = 100 ,valueInLocalFunctionOuter = 10 ,valueInLocalFunctionInner = 1 Â∏¶ÊúâÊé•ÂèóËÄÖÁöÑÂáΩÊï∞Â≠óÈù¢ÂÄºÂ∏¶ÊúâÊé•ÂèóËÄÖÁöÑÂáΩÊï∞Â≠óÈù¢ÂÄºÔºàFunction Literals with ReceiverÔºâ ËøôÊòØ‰∏Ä‰∏™Á±ª‰ºº‰∫éÊâ©Â±ïÂáΩÊï∞‰∏ÄÊ†∑ÁöÑÁâπÊÄßÔºåÊàë‰ª¨ÂÄüÂä©ÂÆòÁΩëÁöÑÂá†‰∏™‰æãÂ≠êÁêÜËß£‰∏Ä‰∏ã‰ªñÁöÑÁî®Ê≥ï„ÄÇ 12val sum1 = fun Int.(other: Int): Int = this + other1.sum1(2) ËøôÁßçÂ£∞ÊòéÊñπÂºèÂíåÊôÆÈÄöÁöÑÂáΩÊï∞ÊúâÁõ∏‰ºº‰πãÂ§ÑÔºå‰ªñÂè™ÊòØÂú®ÂèÇÊï∞ÂâçÈù¢ËøΩÂä†‰∫Ü Int Á±ªÂûãÔºåÊù•Ë°®Á§∫Ëøô‰∏™ÂáΩÊï∞ÊòØ Int Á±ªÂûãÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®ÁöÑ„ÄÇ Áî®‰∏Ä‰∏™Á±ª‰ººÁöÑ‰æãÂ≠êÁúã‰∏Ä‰∏ã‰∏éÊôÆÈÄöÂáΩÊï∞ÁöÑÂØπÊØîÔºåÊàëÂä†‰∫Ü‰∫õÁ©∫Ê†ºÊù•ÂØπÊØîÔºåÊôÆÈÄöÂáΩÊï∞‰∏çËÉΩËÆøÈóÆ this ÂèòÈáèÔºå‰πü‰∏çËÉΩÁõ¥Êé•‰ΩøÁî® Int Á±ªÂûãË∞ÉÁî®ÂáΩÊï∞„ÄÇ 12val sum1 = fun Int.(other: Int): Int = this + otherval sum2 = fun (other: Int): Int = other ÂØπÊØî‰∏Ä‰∏ãÔºåËøôÁßçÂáΩÊï∞ÂíåÊâ©Â±ïÂáΩÊï∞ÁöÑÂ∑ÆÂà´ÔºåÂú®‰ΩøÁî®ÂíåÂÆö‰πâÈÉΩÊ≤°Âï•Â§™Â§ßÁöÑÂ∑ÆÂà´ÔºåÂè™ÊòØ‰∏Ä‰∏™ÂèàÂáΩÊï∞Âêç‰∏Ä‰∏™Ê≤°Êúâ„ÄÇ 123456789val sum1 = fun Int.(other: Int): Int = this + otherfun Int.sum3(other: Int): Int &#123; return this + other&#125;1.sum1(2)1.sum3(2) ÂÜçÊù•Áúã‰∏Ä‰∏ãÂÆòÁΩëÁöÑÂè¶‰∏Ä‰∏™‰æãÂ≠êÔºåÁ¨¨‰∏ÄÁúºÁúã‰∏äÂéªÊòØÊúâ‰∫õÊáµÈÄºÁöÑÔºåÂàÜÊûê‰∏Ä‰∏ã 123456789101112131415// ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÁ±ªclass HTML &#123; // ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂáΩÊï∞ fun body() &#123; &#125;&#125;// ËøòÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂáΩÊï∞ÔºåËøîÂõûÂÄº‰∏∫ HTML ÂØπË±°// init ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Êó†ÂèÇÊó†ËøîÂõûÂÄºÁöÑÂáΩÊï∞Ôºå// Áî±‰∫é‰ΩøÁî®‰∫Ü (HTML.) ËØ¥ÊòéËøô‰∏™ÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÂèØ‰ª•Ë¢´ HTML ÂØπË±°Áõ¥Êé•Ë∞ÉÁî®ÁöÑÂáΩÊï∞fun html(init: HTML.() -&gt; Unit): HTML &#123; val html = HTML() html.init() // ‰ΩøÁî®ÂàõÂª∫ÁöÑ HTML ÂØπË±°Ë∞ÉÁî®ËØ•ÂáΩÊï∞ return html&#125; Ë∞ÉÁî®ÔºåÊé•ÂèóÁöÑÂèÇÊï∞ÊòØ HTML Á±ªÁöÑ‰∏Ä‰∏™Êó†ÂèÇÊó†ËøîÂõûÂÄºÁöÑÂáΩÊï∞„ÄÇ 123456789html &#123; body() &#125;Áõ∏ÂΩì‰∫éhtml(&#123; body()&#125;) ÂÜÖËÅîÂáΩÊï∞(inline)‰ΩøÁî®È´òÈò∂ÂáΩÊï∞ÔºåÊØè‰∏™ÂáΩÊï∞ÈÉΩÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåËÄå‰∏îÂÆÉËøòË¶ÅÊçïËé∑‰∏Ä‰∏™Èó≠ÂåÖÔºåËøô‰∫õÈÉΩ‰ºöÈÄ†ÊàêÂÜÖÂ≠òÁöÑÊçüËÄóÂíåËøêË°åÊïàÁéáÁöÑ‰∏ãÈôç„ÄÇ‰ΩøÁî®ÂÜÖËÅîÂáΩÊï∞ÂèØ‰ª•Â∞ÜÂáΩÊï∞ÂÜÖËÅîÂú®ÂáΩÊï∞Ë∞ÉÁî®Â§ÑÔºåËÄå‰∏çÁî®ÁîüÊàêÂ§ö‰ΩôÁöÑÂØπË±°ÂÜçÂéªË∞ÉÁî®‰ªñ„ÄÇ ‰ΩøÁî®ÂÜÖËÅîÂáΩÊï∞ÈúÄË¶Å‰ΩøÁî® inline ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÔºåinline ÂÖ≥ÈîÆÂ≠ó‰ºöÂΩ±ÂìçÂáΩÊï∞Êú¨Ë∫´Ôºå‰πü‰ºöÂΩ±Âìç‰º†ÈÄíÁªô‰ªñÁöÑË°®ËææÂºèÔºåËøô‰∏§ËÄÖÈÉΩ‰ºöË¢´ÂÜÖËÅîÂà∞Ë∞ÉÁî®Â§Ñ„ÄÇ 123inline fun testInline(str:String,f: (String) -&gt; Int): Int &#123; return f(str)&#125; Â¶ÇÊûúÂáΩÊï∞ÊúâÂ§ö‰∏™ÂáΩÊï∞ÂèÇÊï∞ÔºåÂèØ‰ª•‰ΩøÁî® noinline ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÈÇ£‰∫õ‰∏çÈúÄË¶ÅÂÜÖËÅîÁöÑÂáΩÊï∞ 1234inline fun testInline(str: String, f1: (String) -&gt; Int, noinline f2: () -&gt; Unit): Int &#123; f2() return f1(str)&#125; ÂÜÖËÅîÂáΩÊï∞‰∏çËÉΩ‰Ωú‰∏∫ÈÄíÂΩíÂèÇÊï∞‰ΩøÁî®ÔºåÂØπ‰∫éÂÜÖËÅîÂáΩÊï∞‰∏≠Ê≤°ÊúâÂ£∞Êòé‰∏∫ noinline ÂáΩÊï∞ÂèÇÊï∞(ÂÆÉ‰ª¨ÈÉΩÊòØÂÜÖËÅîÁöÑ)ÔºåÂÖ∑Êúâ‰∏Ä‰∫õÈôêÂà∂ÔºåËøô‰∫õÂèÇÊï∞ ‰∏çËÉΩ‰øùÂ≠òÂú®Âüü‰∏≠Ôºå‰∏çËÉΩ‰Ωú‰∏∫ÂáΩÊï∞ËøîÂõûÂÄºËøîÂõûÔºåÂè™ËÉΩÂú®ÂÜÖËÅîÂáΩÊï∞ÂÜÖÈÉ®Ë∞ÉÁî®ÔºåÂè™ËÉΩ‰Ωú‰∏∫ÂèØ‰ª•ÂÜÖËÅîÁöÑÂáΩÊï∞ÂèÇÊï∞‰º†ÈÄíÁªôÂÖ∂‰ªñÂáΩÊï∞ÔºåÊàë‰ª¨ÈÄöËøá‰∏Ä‰∏™‰æãÂ≠êËØ¥ÊòéÔºö 12345678910111213141516171819202122232425// ‰∏Ä‰∏™ÂÜÖËÅîÂáΩÊï∞inline fun testInline2(f1: (String) -&gt; Int)&#123;&#125;// ‰∏Ä‰∏™ÈùûÂÜÖËÅîÂáΩÊï∞fun testInline3(f1: (String) -&gt; Int)&#123;&#125;inline fun testInline(str: String, f1: (String) -&gt; Int, noinline f2: () -&gt; Unit): (String) -&gt; Int &#123; // error. inline ‰∏çÂèØ‰ª•‰øùÂ≠òÂú®ÂüüÂÜÖ // val localFun = f1 // error. ‰∏çËÉΩÊòØÈÄíÂΩíÁöÑ // testInline(str,f1,f2) // yes. ÂÜÖËÅîÁöÑ lambda Ë°®ËææÂºèÂèÇÊï∞ÔºåÂèØ‰ª•‰Ωú‰∏∫ÂÖ∂‰ªñÂÜÖËÅîÂáΩÊï∞ÁöÑÂèÇÊï∞ testInline2(f1) // error. ÂÜÖËÅîÁöÑ lambda Ë°®ËææÂºèÂèÇÊï∞Ôºå‰∏çËÉΩ‰Ωú‰∏∫ÈùûÂÜÖËÅîÂáΩÊï∞ÁöÑÂèÇÊï∞ // testInline(f1) // error. inline ‰∏çÂèØ‰ª•‰Ωú‰∏∫ËøîÂõûÂÄº // return f1&#125; ÈùûÂ±ÄÈÉ®ËøîÂõû(Non-local return)ÈùûÂ±ÄÈÉ®ËøîÂõûÔºàNon-local returnÔºâ Âú® Kotlin ‰∏≠Ôºå‰ΩøÁî®‰∏çÂ∏¶Ê†áÁ≠æÁöÑ return ËØ≠Âè•Âè™ËÉΩËøîÂõû‰ΩøÁî® fun ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÁöÑÂáΩÊï∞ÔºåÂç≥ÊôÆÈÄöÁöÑÂáΩÊï∞ÂíåÂåøÂêçÂáΩÊï∞ÔºåÂú® Lambda Ë°®ËææÂºèÊòØ‰∏çÂÖÅËÆ∏‰ΩøÁî®‰∏çÂ∏¶Ê†áÁ≠æÁöÑ return ËØ≠Âè•ÁöÑ„ÄÇ 123456789fun testNonReturn(f: (String) -&gt; Int) &#123; log(f("test")) log("testNonReturn")&#125;testNonReturn &#123; // ‰∏çÂÖÅËÆ∏ return it.length&#125; Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Â∏¶ÊúâÊåáÂÆöÊ†áÁ≠æÁöÑ return ËØ≠Âè•ÔºåÁî®Êù•ËøîÂõû‰∏çÂêåÊù°‰ª∂‰∏ãÁöÑÁªìÊûúÔºåÂõ†‰∏∫ Lambda Ë°®ËææÂºèÊÄªÊòØÂ∞ÜÊúÄÂêé‰∏ÄÂè•ÁöÑÁªìÊûú‰Ωú‰∏∫ËøîÂõûÂÄºÔºåÂ∏¶ÊúâÊ†áÁ≠æÁöÑ return ËØ≠Âè•Âè™‰ºö‰ªéÂØπÂ∫î Lambda Ë°®ËææÂºèËøîÂõûÔºåÂêéÈù¢‰ª£Á†Å‰ªç‰ºöÊâßË°å„ÄÇ 12345678testNonReturn &#123; if (it.length &gt; 2) return@testNonReturn 100 else return@testNonReturn 1&#125;MainActivity: 100MainActivity: testNonReturn ÂØπ‰∫éÂÜÖËÅîÂáΩÊï∞ÔºåLambda Ë°®ËææÂºè‰ºöË¢´ÂÜÖËÅîÂú®Ë∞ÉÁî®Â§ÑÔºåÈÇ£‰πàÂèØ‰ª•‰ΩøÁî® return ËØ≠Âè•ÔºåÊ≠§Êó∂ return ÁöÑ‰ΩúÁî®ÊòØÁªìÊùü Lambda Ë°®ËææÂºè‰Ωú‰∏∫ÂèÇÊï∞ÁöÑÂáΩÊï∞ÊâÄÂú®ÁöÑÈÇ£‰∏™ÂáΩÊï∞ÔºåÊúâÁÇπÁªïÔºåÂÄüÂä©‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºåtestNonLocalReturn() ÂáΩÊï∞Êé•ÂèóÁöÑ Lambda ÂèÇÊï∞Â∞Ü‰ºöÁªìÊùü testNonLocalReturn() ÂáΩÊï∞ÊâÄÂú®ÁöÑ foo() ÂáΩÊï∞ÔºåËøôÁßçËøîÂõûÊñπÂºèË¢´Áß∞‰∏∫ ÈùûÂ±ÄÈÉ®ËøîÂõûÔºàNon-local returnÔºâÔºõ 1234567891011121314inline fun testNonReturn(f: (String) -&gt; Int)&#123; f("test")&#125;fun foo():Boolean &#123; log("before testNonLocalReturn") testNonLocalReturn &#123; // ËøîÂõûÂÄº‰∏∫ booleanÔºåÂ∞ÜÁõ¥Êé•ÈÄÄÂá∫ foo ÂáΩÊï∞ log("invoke testNonLocalReturn") return true &#125; log("after testNonLocalReturn") return false&#125; ËæìÂá∫ 12MainActivity: before testNonLocalReturnMainActivity: invoke testNonLocalReturn Êúâ‰∫õÊó∂ÂÄô Lambda Ë°®ËææÂºèÂèÇÊï∞Âπ∂‰∏ç‰∏ÄÂÆöÂú®ÂáΩÊï∞ÂÜÖÈÉ®ÊâßË°åÔºå‰ªñÂèØËÉΩÈÄöËøá‰∏Ä‰∏™Â±ÄÈÉ®ÂØπË±°Êàñ‰∏Ä‰∏™ÂµåÂ•óÂáΩÊï∞‰º†ÈÄíÁªôÂÖ∂‰ªñÊâßË°åÁéØÂ¢ÉË∞ÉÁî®ÔºåÊ≠§Êó∂ÈùûÂ±ÄÈÉ®ËøîÂõû‰πüÊòØË¢´Á¶ÅÊ≠¢ÁöÑÔºå‰∏∫‰∫ÜÊòéÁ°ÆËøô‰∏ÄÁÇπÔºåÊàë‰ª¨‰ΩøÁî® crossinline ÂÖ≥ÈîÆÂ≠óÂ£∞Êòé„ÄÇ 12345678910111213// Âõ†‰∏∫Â∞Ü‰ºöÂú®Âè¶‰∏Ä‰∏™ÁéØÂ¢ÉÊâßË°åÔºå‰ΩøÁî® crossinline Ê†áËÆ∞inline fun testNonLocalReturnV2(crossinline f: () -&gt; Unit): Runnable &#123; val r = Runnable &#123; f() &#125; return r&#125;fun fooV2() &#123; testNonLocalReturnV2&#123; // error ‰ΩøÁî® crossinline Ê†áËÆ∞Ôºå‰∏çËÉΩÈùûÂ±ÄÈÉ®ËøîÂõû // return &#125; log("invoke fooV2")&#125; ÂÆû‰ΩìÂåñÁöÑÁ±ªÂûãÂèÇÊï∞(reified)ÂÆû‰ΩìÂåñÁöÑÁ±ªÂûãÂèÇÊï∞(Reified type parameter) ‰∏ªË¶ÅÁî®Êù•Ëß£ÂÜ≥ËåÉÂûãÂèÇÊï∞Êó†Ê≥ïÂÉèÊôÆÈÄöÁöÑÁ±ªÈÇ£Ê†∑ËÆøÈóÆÁöÑÈóÆÈ¢ò„ÄÇÂÜô‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂà§Êñ≠Êüê‰∏™ÂØπË±°ÊòØ‰∏çÊòØÂ±û‰∫éÊüêÁßçÁ±ªÂûã„ÄÇ 123456fun &lt;T&gt; testReifiedType(p: Any, cls: Class&lt;T&gt;): Boolean &#123; return cls.isInstance(p)&#125;// Êàë‰ª¨ÂèØ‰ª•ËøôÊ†∑‰ΩøÁî®ÂÆÉtestReifiedType("test", String::class.java) ËøôËÆ©ÊàëÊÉ≥Ëµ∑‰∫Ü Gson ÁöÑ‰ΩøÁî®ÊñπÊ≥ïÔºåÈô§‰∫ÜÁ∫¶ÂÆö‰∏Ä‰∏™ËåÉÂûãÔºåÊàë‰ª¨ËøòÈúÄË¶Å‰º†ÈÄíÂØπÂ∫îÁöÑ class ËøõÂéªÊâçËÉΩËß£ÊûêÔºåkotlin ‰∏≠ÂÜÖËÅîÂáΩÊï∞ÊîØÊåÅ Reified type parameterÔºå‰ΩøÁî® reifeid ÂÖ≥ÈîÆÂ≠óÊ≥®Ëß£ËåÉÂûãÔºåÂ∞±ÂèØ‰ª•ÂÉè‰∏Ä‰∏™ÊôÆÈÄöÁöÑÁ±ªÈÇ£Ê†∑Êù•ËÆøÈóÆËåÉÂûãÁ±ªÂûã‰∫Ü„ÄÇ 123456inline fun &lt;reified T&gt; testReifiedType(p: Any): Boolean &#123; return p is T&#125;// Ë∞ÉÁî®testReifiedType&lt;String&gt;("") ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂáΩÊï∞ÂøÖÈ°ªÊòØ inline Á±ªÂûãÊâçÂèØ‰ª•‰ΩøÁî® reifeid ÂÖ≥ÈîÆÂ≠óÊ≥®Ëß£„ÄÇ]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-10-‰ª£ÁêÜ]]></title>
    <url>%2Farticle%2Fcc5968a9%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶ÅÂ≠¶‰π† Kotlin ‰∏≠ÁöÑ‰ª£ÁêÜÊ®°ÂºèÁöÑÂÆûÁé∞‰ª•ÂèäÂ±ûÊÄß‰ª£ÁêÜÁöÑ‰ΩøÁî®„ÄÇ ‰ª£ÁêÜÊ®°ÂºèÂ∑≤Ë¢´ÂÆûË∑µËØÅÊòé‰∏∫Á±ªÁªßÊâøÊ®°Âºè‰πãÂ§ñÁöÑÂè¶‰∏ÄÁßçÂæàÂ•ΩÁöÑÊõø‰ª£ÊñπÊ°àÔºåKotlin ÂØπ‰ª£ÁêÜÊ®°ÂºèÂÅö‰∫ÜÂæàÂ•ΩÁöÑÊîØÊåÅÔºåÊàë‰ª¨ÂèØ‰ª•ÈùûÂ∏∏ÁÆÄÂçïÁöÑÂÆûÁé∞‰ª£ÁêÜÊ®°Âºè„ÄÇ Â±ûÊÄß‰ª£ÁêÜ‰ΩøÂæóÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÖ∑ÊúâÂÖ±ÂêåÊÄßË¥®ÁöÑÂ±ûÊÄßÁöÑÂàùÂßãÂåñÈÄöËøáÂ±ûÊÄß‰ª£ÁêÜÊù•ÂÆûÁé∞ÔºåÁÆÄÂåñ‰∫ÜÊï∞ÊçÆÁöÑËØªÂèñÂíåÂ≠òÂÇ®ÔºåÂêåÊó∂Âú® Kotlin ‰∏≠ËøòÂÜÖÁΩÆ‰∫ÜÂæàÂ§öÊ†áÂáÜ‰ª£ÁêÜÔºåÂèØ‰ª•Â§ßÂ§ßÁÆÄÂåñÂºÄÂèëËøáÁ®ã„ÄÇ ÊúÄÂêéÊàë‰ª¨‰ΩøÁî®Â±ûÊÄß‰ª£ÁêÜÊù•ÂÆûÁé∞‰∏Ä‰∏™ÂÆåÂÖ®ÁöÑÂ∞ÅÈó≠ÁöÑËÆøÈóÆ SharePreference ËøõË°åÊï∞ÊçÆÂ≠òÂèñÁöÑ‰æãÂ≠ê„ÄÇ ‰ª£ÁêÜÊ®°Âºè‰ª£ÁêÜ (Delegate) Ê®°ÂºèÊòØ‰∏ÄÁßçÂ∏∏Áî®ÁöÑËÆæËÆ°Ê®°ÂºèÔºåKotlin ÂØπÊ≠§‰Ωú‰∫ÜÂæàÂ•ΩÁöÑÊîØÊåÅ„ÄÇ ‰ª£ÁêÜÊ®°ÂºèÂ∑≤Ë¢´ÂÆûË∑µËØÅÊòé‰∏∫Á±ªÁªßÊâøÊ®°Âºè‰πãÂ§ñÁöÑÂè¶‰∏ÄÁßçÂæàÂ•ΩÁöÑÊõø‰ª£ÊñπÊ°àÔºåÂΩìÊàë‰ª¨Â∑≤ÁªèÊäΩË±°‰∫ÜÈÉ®ÂàÜÂäüËÉΩÂá∫Êù•ÔºåÂèàÊÉ≥ÂΩìÂâçÁöÑÂØπË±°ÂÖ∑Â§áËøô‰∫õÂäüËÉΩÔºåÈô§‰∫ÜÁªßÊâøÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰ª£ÁêÜÊ®°ÂºèÔºåÂ∞ÜÂΩìÂâçÂØπË±°ÈúÄË¶ÅÁöÑÊìç‰Ωú‰ª£ÁêÜÁªôÂà´‰∫∫ÂÅöÔºåÂÆûÁé∞Â§çÁî®„ÄÇ ‰ΩøÁî®ÂÆòÁΩëÁöÑ‰∏Ä‰∏™‰æãÂ≠êÔºåÂπ∂‰∏îËøõË°å‰∫ÜÈÉ®ÂàÜÊâ©Â±ïÔºåÊù•ÁêÜËß£‰ª£ÁêÜÊ®°ÂºèÁöÑÊÑè‰πâ„ÄÇ ÂÅáËÆæ BaseA Â£∞Êòé‰∫Ü A Á±ªÈÄªËæëÔºåBaseAImpl ÂÆûÁé∞‰∫ÜËøôÈÉ®ÂàÜÈÄªËæëÔºåBaseB Â£∞Êòé‰∫Ü B Á±ªÈÄªËæëÔºåBaseBImpl ÂÆûÁé∞‰∫ÜËøôÈÉ®ÂàÜÈÄªËæë„ÄÇÊ≠§Êó∂Êàë‰ª¨ÁöÑ Derived ÈúÄË¶ÅÂêåÊó∂ÂÖ∑Â§á BaseA Âíå BaseB ÁöÑÂäüËÉΩÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® Derived ÂÜçÊ¨°ÂÆûÁé∞ BaseA Âíå BaseB ÁöÑÁõ∏ÂÖ≥ÂäüËÉΩ‰ΩÜÊàë‰ª¨Â∞ÜÊó†Ê≥ïÂ§çÁî®Âú® BaseAImpl Âíå BaseBImpl ‰∏≠Â∑≤ÁªèÂÆûÁé∞ÁöÑÈÄªËæë‰ª£Á†Å„ÄÇ ‰ΩøÁî®‰ª£ÁêÜÊ®°ÂºèÔºåÊàë‰ª¨Â∞Ü Derived ÈúÄË¶ÅÂÆûÁé∞ÁöÑÂäüËÉΩÂàÜÂà´‰ª£ÁêÜÁªô BaseA Âíå BaseB ÁöÑÂÆûÁé∞Á±ªÔºåDerived Ëá™Â∑±‰∏çÂÅö‰ªª‰ΩïÂ§ÑÁêÜÔºå‰ΩøÁî®‰ª£ÁêÜÂéªÊé•Êî∂Â§ÑÁêÜ„ÄÇ‰∫ãÂÆû‰∏äÔºåÊàë‰ª¨‰ºöÂú® Derived Á±ª‰∏≠ÊåÅÊúâ‰ª£ÁêÜÁöÑÂØπË±°ÔºåÁÑ∂ÂêéÂú®ÂØπË±°ÁöÑÊé•Âè£ÊñπÊ≥ïÈÄªËæëÂÆûÁé∞Êó∂ËΩ¨ÂèëÁªô‰ª£ÁêÜÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ïÔºåÂÆûÁé∞‰ª£ÁêÜÊ®°ÂºèÈúÄË¶ÅËÆæËÆ°ÂæàÂ§öÁõ∏ÂÖ≥ÁöÑÊé•Âè£‰ª£Á†ÅÔºåÂ•ΩÂú® Kotlin Â∑≤Áªè‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰ª£ÁêÜÊ®°ÂºèÁöÑÊîØÊåÅÔºåÊàë‰ª¨Âè™ÈúÄË¶Å‰ΩøÁî® by ÂÖ≥ÈîÆÂ≠óÂ∞ÜÂäüËÉΩÁöÑÂÆûÁé∞‰ª£ÁêÜÁªôÊåáÂÆöÂØπË±°Âç≥ÂèØ„ÄÇ 12345678910111213141516171819202122interface BaseA &#123; fun printA()&#125;interface BaseB &#123; fun printB()&#125;class BaseAImpl(var x: Int) : BaseA &#123; override fun printA() &#123; log("BaseAImpl $x") &#125;&#125;class BaseBImpl(var x: Int) : BaseB &#123; override fun printB() &#123; log("BaseBImpl $x") &#125;&#125;// Â∞Ü BaseA ÁöÑÈÄªËæë‰ª£ÁêÜÁªô ba, Â∞Ü BaseB ÁöÑÈÄªËæë‰ª£ÁêÜÁªô bbclass Derived(ba: BaseA, bb: BaseB) : User(), BaseA by ba, BaseB by bb 1234567val derived = Derived(BaseAImpl(10), BaseBImpl(100))derived.printA()derived.printB()# ËæìÂá∫com.march.ktexample E/BaseAImpl: BaseAImpl 10com.march.ktexample E/BaseBImpl: BaseBImpl 100 Â±ûÊÄß‰ª£ÁêÜÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰ª£ÁêÜÂ±ûÊÄßÁöÑÂäüËÉΩÊù•ÂàùÂßãÂåñÈÇ£‰∫õÂÖ∑ÊúâÂÖ±ÊÄßÁöÑÂ±ûÊÄßÔºåÊØîÂ¶Ç‰ªé SharePerenferce ÊàñËÄÖÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÂíåÂ≠òÂÇ®ÔºåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™Â±ûÊÄß‰ª£ÁêÜ‰ΩøÁî®ÂÆÉÊù•ÂàùÂßãÂåñËøô‰∫õÂÖ∑ÊúâÂÖ±ÊÄßÁöÑÂ±ûÊÄßÂ∞Ü‰ºöÁÆÄÂçïÂæàÂ§ö„ÄÇ ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰ª£ÁêÜÂÆûÁé∞‰ΩøÁî®‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰ª£ÁêÜÊù•ÂàùÂßãÂåñ value Â±ûÊÄß 1234567891011121314151617var value: String by MyDelegate()class MyDelegate &#123; var temp = "test" operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String &#123; log(thisRef.toString()) log(property.toString()) log("invoke getValue") return temp &#125; operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) &#123; log("invoke setValue value is $value") temp = value &#125;&#125; ÂΩìÊàë‰ª¨ËØªÊàñÂÜô value Â±ûÊÄßÊó∂Â∞Ü‰ºöËß¶ÂèëÂØπÂ∫îÁöÑ‰ª£ÁêÜÊñπÊ≥ï 123log(value)value = "123"log(value) 12345678910// thisRef ÁöÑÂÄºMyDelegate: com.march.ktexample.MainActivity@445adf9// property ÁöÑÂÄºÔºåÊìç‰ΩúÁöÑÊòØ value Â±ûÊÄßMyDelegate: property value (Kotlin reflection is not available)MyDelegate: invoke getValueMainActivity: testMyDelegate: invoke setValue value is 123MyDelegate: invoke getValueMainActivity: 123 ‰ª£ÁêÜÂ±ûÊÄßÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö by ÂÖ≥ÈîÆÂ≠óÂêéÈù¢ÁöÑË°®ËææÂºèÂ∞±ÊòØ‰ª£ÁêÜÔºå‰ªñÈúÄË¶ÅÂÖ∑Êúâ getValue() ÊñπÊ≥ïÔºå Â¶ÇÊûúÂ±ûÊÄßÊòØ var Á±ªÂûãÔºåÈÇ£‰πàËøòÂøÖÈ°ªÊúâ setValue() ÊñπÊ≥ï„ÄÇ 1val/var &lt;propertyName&gt;:&lt;propertyType&gt; by &lt;expression&gt; getValue() Âíå setValue()‰ª£ÁêÜ‰∏≠ÁöÑ getValue() Âíå setValue() ÊñπÊ≥ïÊ≤°ÊúâÁ±ª‰ººÊé•Âè£ÁöÑÈÇ£ÁßçÂº∫Âà∂Ê®°ÊùøÁöÑÂÆûÁé∞ÔºåÂèØËÉΩÊ≤°ÊúâÂäûÊ≥ïÂÉèÊé•Âè£ÈÇ£Ê†∑Â£∞ÊòéÁªü‰∏ÄÁöÑÊé•Âè£ÊñπÊ≥ï„ÄÇ getValue() Âíå setValue() ÂáΩÊï∞ÈúÄË¶Å‰ΩøÁî® operator ÂÖ≥ÈîÆÂ≠óÊ†áËÆ∞ÔºåÂÆÉ‰ª¨ÂèØ‰ª•ÊòØÂßîÊâòÁ±ªÁöÑÊàêÂëòÂáΩÊï∞Ôºå‰πüÂèØ‰ª•ÊòØÂÆÉÁöÑÊâ©Â±ïÂáΩÊï∞„ÄÇÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÂ∞ÜÂ±ûÊÄßÂßîÊâòÁªô‰∏Ä‰∏™ÂØπË±°ÔºåËÄåËøô‰∏™ÂØπË±°Êú¨Êù•Ê≤°ÊúâÊèê‰æõËøô‰∫õÂáΩÊï∞ÔºåËøôÊó∂‰ΩøÁî®Êâ©Â±ïÂáΩÊï∞‰ºöÊõ¥‰æøÂà©‰∏Ä‰∫õ„ÄÇ ÂèÇÊï∞ÂàóË°®ÂíåËøîÂõûÁ±ªÂûãÔºö ÂèÇÊï∞ thisRef:Any? ÁöÑÁ±ªÂûãÂøÖÈ°ª‰∏é Â±ûÊÄßÊâÄÂ±ûÁöÑÁ±ª Áõ∏ÂêåÊàñËÄÖÊòØÂÆÉÁöÑÂü∫Á±ª(ÂØπ‰∫éÊâ©Â±ïÂ±ûÊÄß ‚Äî Ëøô‰∏™ÂèÇÊï∞ÁöÑÁ±ªÂûãÂøÖÈ°ª‰∏éË¢´Êâ©Â±ïÁöÑÁ±ªÂûãÁõ∏ÂêåÊàñËÄÖÊòØÂÆÉÁöÑÂü∫Á±ª)„ÄÇ ÂèÇÊï∞ property: KProperty&lt;*&gt; ÊòØË¢´‰ª£ÁêÜÁöÑÂ±ûÊÄßÔºåÂèØ‰ª•‰ΩøÁî® property.name Êü•ÁúãÂ±ûÊÄßÂêçÔºåËøô‰∏™ÂèÇÊï∞ÁöÑÁ±ªÂûãÂøÖÈ°ªÊòØ KProperty&lt;*&gt; ÊàñËÄÖÊòØÂÆÉÁöÑÂü∫Á±ª„ÄÇ ÂØπ‰∫é getValue() ÂáΩÊï∞Êù•ËØ¥ËøîÂõûÂÄºÂøÖÈ°ª‰∏éË¢´‰ª£ÁêÜÁöÑÂ±ûÊÄßÁöÑÁ±ªÂûãÁõ∏Âêå„ÄÇ ÂØπ‰∫é setValue() ÂáΩÊï∞Êù•ËØ¥ÂèÇÊï∞ value: Type ÊòØÂ±ûÊÄßÁöÑÊñ∞ÂÄºÔºå‰ªñÂøÖÈ°ª‰∏éÂ±ûÊÄßÁöÑÁ±ªÂûãÁõ∏Âêå„ÄÇÂè¶Â§ñÈúÄË¶ÅÂ∞ÜÂÄºËøõË°åÂ≠òÂÇ®ÔºåÂú® getValue() ÂáΩÊï∞‰∏≠ËøîÂõûÔºåÂê¶ÂàôÂ∞ÜÊó†Ê≥ïÊîπÂèòÂ±ûÊÄßÁöÑÂÄº„ÄÇ 123456operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String &#123; return temp&#125;operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) &#123; temp = value&#125; Standard DelegatesKotlin ÂÜÖÁΩÆ‰∫Ü‰∏Ä‰∫õÊ†áÂáÜ‰ª£ÁêÜ„ÄÇ Lazyby lazy ÊòØÂ±ûÊÄß‰ª£ÁêÜÂú® kotlin ‰∏≠ÁöÑ‰∏Ä‰∏™ÁÆÄÂåñÂÆûÁé∞Ôºå‰ΩøÁî® by lazy ÂèØ‰ª•Âª∂ËøüÂ±ûÊÄßÁöÑÂä†ËΩΩÔºå‰ªñÊé•Âèó‰∏Ä‰∏™ Lambda Ë°®ËææÂºè‰Ωú‰∏∫ÂèÇÊï∞ÔºåËøîÂõû‰∏Ä‰∏™ Lazy&lt;T&gt; Á±ªÂûãÁöÑÂÆû‰æã„ÄÇ Âè™Êúâ val Â±ûÊÄßÊâçËÉΩ‰ΩøÁî® by lazy Âª∂ËøüÂàùÂßãÂåñÔºåÂõ†‰∏∫ by lazy Âè™Êèê‰æõ getValue() ÊñπÊ≥ï„ÄÇ 123@kotlin.jvm.JvmVersionpublic fun &lt;T&gt; lazy(initializer: () -&gt; T): Lazy&lt;T&gt; = SynchronizedLazyImpl(initializer) ‰ΩøÁî® by lazy Âè™ÊúâÂú®Á¨¨‰∏ÄÊ¨°Ëé∑ÂèñÂÄºÁöÑÊó∂ÂÄôÂõûÂéªËÆ°ÁÆó Lambda Ë°®ËææÂºèÁöÑÂÄºÔºåÂêéÈù¢ÂÜçÊ¨°ËÆøÈóÆÔºåÂè™‰ºöËøîÂõû‰πãÂâçÁöÑÂÄºÔºå‰∏ç‰ºöÂÜçÂÅöËÆ°ÁÆó„ÄÇ 12345678910111213val lazyValue: Int by lazy &#123; log("invoke by lazy") 100&#125;// ÊµãËØïlog(lazyValue)log(lazyValue)// ÁªìÊûúcom.march.ktexample E/MainActivity: invoke by lazycom.march.ktexample E/MainActivity: 100com.march.ktexample E/MainActivity: 100 ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåby lazy ÁöÑËÆ°ÁÆóÊòØ ÂêåÊ≠•ÁöÑ(synchronized): Â±ûÊÄßÂÄºÂè™‰ºöÂú®ÂîØ‰∏Ä‰∏Ä‰∏™Á∫øÁ®ãÂÜÖËÆ°ÁÆóÔºåÁÑ∂ÂêéÊâÄÊúâÁ∫øÁ®ãÈÉΩÂ∞ÜÂæóÂà∞ÂêåÊ†∑ÁöÑÂ±ûÊÄßÂÄº„ÄÇÂ¶ÇÊûúÂßîÊâòÁöÑÂàùÂßãÂåñËÆ°ÁÆó‰∏çÈúÄË¶ÅÂêåÊ≠•ÔºåÂ§ö‰∏™Á∫øÁ®ãÂèØ‰ª•ÂêåÊó∂ÊâßË°åÂàùÂßãÂåñËÆ°ÁÆóÔºåÈÇ£‰πàÂèØ‰ª•‰ΩøÁî®LazyThreadSafetyMode.PUBLICATION ÂèÇÊï∞„ÄÇÁõ∏ÂèçÔºåÂ¶ÇÊûú‰Ω†Á°Æ‰ø°ÂàùÊúüÂåñËÆ°ÁÆóÂè™ÂèØËÉΩÂèëÁîüÂú®‰∏Ä‰∏™Á∫øÁ®ãÂÜÖÔºåÈÇ£‰πàÂèØ‰ª•‰ΩøÁî® LazyThreadSafetyMode.NONE Ê®°ÂºèÔºåËøôÁßçÊ®°Âºè‰∏ç‰ºö‰øùÊåÅÁ∫øÁ®ãÂêåÊ≠•ÔºåÂõ†Ê≠§‰∏ç‰ºöÂ∏¶Êù•ËøôÊñπÈù¢ÁöÑÊÄßËÉΩÊçüÂ§±„ÄÇ Observable &amp; VetoableÂèØËßÇÂØüÂ±ûÊÄßÔºåDelegates.observable() ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÂàùÂßãÂåñÂÄºÂíå‰∏Ä‰∏™Â±ûÊÄßÂÄºÂèòÂåñÁöÑÂìçÂ∫îÂô®‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂèØ‰ª•Áî®Êù•ËßÇÂØüÂ±ûÊÄßÁöÑÂèòÂåñÔºåÂΩìÂ±ûÊÄßÁöÑÂÄºÂèëÁîüÂèòÂåñÊó∂‰ºöËß¶ÂèëÂìçÂ∫îÂô®„ÄÇ 123456789101112var observableValue: Int by Delegates.observable(1) &#123; property, oldValue, newValue -&gt; log("Delegates.observable - $&#123;property.name&#125; $oldValue $newValue")&#125;// ÊµãËØïobservableValue = 100observableValue = 200// ÁªìÊûúMainActivity: Delegates.observable - observableValue 1 100MainActivity: Delegates.observable - observableValue 100 200 Â¶ÇÊûúÊÉ≥Ë¶ÅÂú®Ê£ÄÊµãÂà∞Â±ûÊÄßÂèòÂåñÊó∂ÔºåÊà™Êñ≠ËµãÂÄºÊìç‰ΩúÔºåÈúÄË¶Å‰ΩøÁî® Delegates.vetoable()ÔºåÂ¶Ç‰∏ãÔºåÂÄºÁ≠â‰∫é 200 Êó∂Ôºå‰∏çÂÅöËµãÂÄºÊìç‰Ωú„ÄÇ 1234567891011121314151617var vetoableValue: Int by Delegates.vetoable(1) &#123; property, oldValue, newValue -&gt; log("Delegates.vetoable - $&#123;property.name&#125; $oldValue $newValue") newValue != 200&#125;// ÊµãËØïvetoableValue = 100log("(after set 100) $vetoableValue")vetoableValue = 200log("(after set 200) $vetoableValue")// ÁªìÊûúMainActivity: Delegates.vetoable - vetoableValue 1 100MainActivity: (after set 100) value is 100MainActivity: Delegates.vetoable - vetoableValue 100 200MainActivity: (after set 200) value is 100 NotNull‰ΩøÁî®ÈùûÁ©∫‰ª£ÁêÜ Delegates.notNull()ÔºåÂ±ûÊÄßÂú®Â£∞ÊòéÊó∂ÂøÖÈ°ªËøõË°åÂàùÂßãÂåñÔºåÈÅøÂÖçÁ©∫ÊåáÈíàÁöÑÂá∫Áé∞ÔºåDelegates.notNull() Á±ª‰ºº‰∫é lateinit ÂÖ≥ÈîÆÂ≠óÔºå‰Ωø‰Ω†ÂèØ‰ª•Âú®ÂêéÈù¢ÂàùÂßãÂåñÂ±ûÊÄßÁöÑÂÄºÔºåÂú®Ê≤°ÊúâÂàùÂßãÂåñ‰πãÂâçÂ¶ÇÊûú‰ΩøÁî®‰∫ÜËØ•Â±ûÊÄßÔºåÂàô‰ºöÊäõÂá∫ÂºÇÂ∏∏ java.lang.IllegalStateException: Property notNullValue should be initialized before get. 1var notNullValue: String by Delegates.notNull&lt;String&gt;() Map‰ΩøÁî® Map Â≠òÂÇ®Â±ûÊÄßÁöÑÂÄºÔºåÂ∞±ÂèØ‰ª•‰ªé Map ‰∏≠Ëé∑ÂèñÂØπÂ∫îÂ±ûÊÄßÁöÑÂêçÁß∞‰∏∫ key ÁöÑÂÄº„ÄÇ 1234class MapUser(propertyMap: Map&lt;String, Any?&gt;) &#123; val name by propertyMap val age by propertyMap&#125; ‰ΩøÁî® Map ÂàùÂßãÂåñ‰∏Ä‰∏™ÂØπË±° 12345678val mapUser = MapUser(mapOf( "name" to "myName", "age" to 25))log("name = $&#123;mapUser.name&#125; ,age = $&#123;mapUser.age&#125;")// ÁªìÊûú‰∏∫MainActivity: name = myName ,age = 25 SharedPreferences ËØªÂÜô‰ª£ÁêÜ‰∏Ä‰∏™‰ª£ÁêÜÂ±ûÊÄßÁöÑ‰æãÂ≠ê„ÄÇ ‰ª•Â±ûÊÄßÂêç‰∏∫ key ‰ªé SharedPreferences ËØªÂèñÊï∞ÊçÆÔºåÁî®Êù•ÂàùÂßãÂåñÂ±ûÊÄßÁöÑÂÄºÔºåÂ≠òÂÇ®Êï∞ÊçÆÊó∂ÂêåÊó∂ÂÜôÂÖ• SharedPreferencesÔºõ 123456789101112131415161718192021222324252627282930313233343536373839404142// Ëá™ÂÆö‰πâ SharedPreferences Â±ûÊÄßËØªÂÜôclass SpDelegate&lt;T&gt;(val context: Context, val readName: String?, val defValue: T) : ReadWriteProperty&lt;Any?, T&gt; &#123; constructor(context: Context, defValue: T) : this(context, null, defValue) val KEY = "SharePreference" val mSharePreference: SharedPreferences by lazy &#123; context.getSharedPreferences(KEY, Context.MODE_PRIVATE) &#125; @Suppress("UNCHECKED_CAST") override fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T &#123; val name = readName ?: property.name val result: Any = when (defValue) &#123; is Boolean -&gt; mSharePreference.getBoolean(name, defValue) is Int -&gt; mSharePreference.getInt(name, defValue) is Long -&gt; mSharePreference.getLong(name, defValue) is Float -&gt; mSharePreference.getFloat(name, defValue) is String -&gt; mSharePreference.getString(name, defValue) else -&gt; throw IllegalArgumentException("un support") &#125; log("getValue : result = " + result) return result as T &#125; override fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) &#123; val editor = mSharePreference.edit() val name = readName ?: property.name when (value) &#123; is Boolean -&gt; editor.putBoolean(name, value) is Int -&gt; editor.putInt(name, value) is Long -&gt; editor.putLong(name, value) is Float -&gt; editor.putFloat(name, value) is String -&gt; editor.putString(name, value) else -&gt; throw IllegalArgumentException("un support") &#125; log("setValue : newValue = " + value) editor.apply() &#125;&#125; ÊµãËØïÂ±ûÊÄßÁöÑËØªÂèñÂíåÂÜôÂÖ• 123456789var shareIntVar1: Int by SpDelegate(this, 1)var shareStringVar1: String by SpDelegate(this, "def String value")log(shareIntVar1)shareIntVar1 = 1000log(shareIntVar1)log(shareStringVar1)shareStringVar1 = "new String value"log(shareStringVar1) ÁªìÊûú 12345678910SpDelegate: getValue : result = 1MainActivity: 1SpDelegate: setValue : newValue = 1000SpDelegate: getValue : result = 1000MainActivity: 1000SpDelegate: getValue : result = def String valueMainActivity: def String valueSpDelegate: setValue : newValue = new String valueSpDelegate: getValue : result = new String valueMainActivity: new String value]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-9-objectÂÖ≥ÈîÆÂ≠ó]]></title>
    <url>%2Farticle%2F40486d0b%2F</url>
    <content type="text"><![CDATA[Êú¨ÊñáÂ≠¶‰π† Kotlin ‰∏≠ object ÂÖ≥ÈîÆÂ≠óÁöÑ‰ΩøÁî®„ÄÇ ‰ΩøÁî® object ÂÖ≥ÈîÆÂ≠óÁöÑÂØπË±°Ë°®ËææÂºèÂèØ‰ª•ÂàõÂª∫ÂåøÂêçÂØπË±°ÔºåÈÄÇÂêàÈÇ£‰∫õÂè™ÈúÄË¶Å‰ΩøÁî®‰∏ÄÊ¨°ÁöÑÁ±ªÂÆûÁé∞Ôºå‰ΩøÁî®ÂåøÂêçÂØπË±°Êàë‰ª¨‰∏çÈúÄË¶ÅÁªôËøô‰∫õÂè™Áî®‰∏ÄÊ¨°ÁöÑÁ±ªÂØπË±°Â£∞Êòé class ËÄåÊòØÂú®ËøêË°åÊó∂Áõ¥Êé•ÂàõÂª∫Âç≥ÂèØ„ÄÇ ‰ΩøÁî® object ÂÖ≥ÈîÆÂ≠óËøõË°åÂØπË±°Â£∞ÊòéÔºåÂÄüÂä©ËøôÁßçÊñπÊ≥ïÂèØ‰ª•ÁÆÄÂçïÁöÑÂÆûÁé∞Âçï‰æãÂíåÂêå‰º¥ÂØπË±°„ÄÇ ÂØπË±°Ë°®ËææÂºèÂØπË±°Ë°®ËææÂºèÔºàObject expressionÔºâ ÂØπË±°Ë°®ËææÂºèÂàô‰ºöÂú®‰ΩøÁî®Â§Ñ Á´ãÂç≥ ÊâßË°å(Âπ∂‰∏îÂàùÂßãÂåñ) ‰ΩøÁî® object ÂèØ‰ª•ÂàõÂª∫ÂåøÂêçÂÜÖÈÉ®Á±ªÔºå‰ª•ÁÇπÂáª‰∫ã‰ª∂‰∏∫‰æã 12345678910mMyMsgTv.setOnClickListener(object: View.OnClickListener&#123; override fun onClick(v: View?) &#123; // click &#125;&#125;)// ‰ΩøÁî® Lambda Ë°®ËææÂºèÁÆÄÂåñ„ÄÇmMyMsgTv.setOnClickListener &#123; log("click")&#125; Ëá™Â∑±ÂÆö‰πâ‰∏§‰∏™Êé•Âè£ 12345678interface OneFunInterface&#123; fun test(param:String)&#125;interface TwoFunInterface&#123; fun test1(param:String) fun test2(param:String)&#125; Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂåøÂêçÂÜÖÈÉ®Á±ªÂàõÂª∫ÂØπË±° 12345678910val o1 = object : OneFunInterface &#123; override fun test(param: String) &#123; &#125;&#125;val o2 = object : TwoFunInterface &#123; override fun test1(param: String) &#123; &#125; override fun test2(param: String) &#123; &#125;&#125; ÂÆûÁé∞ÂåøÂêçÂÜÖÈÉ®Á±ªÊó∂ÂèØ‰ª•ÁªßÊâøÂ§ö‰∏™Âü∫Á±ªÔºåÂ¶ÇÊûúÂü∫Á±ªÊúâÊûÑÈÄ†Âô®ÔºåÈÇ£‰πàÂøÖÈ°ª‰º†ÈÄíÂêàÈÄÇÁöÑÂèÇÊï∞ 12345val o3 = object:User("zhang",22),OneFunInterface&#123; override fun test(param: String) &#123; &#125;&#125; ‰πüÂèØ‰ª•‰∏çÁªßÊâø‰ªª‰ΩïÂü∫Á±ªÁõ¥Êé•ÂàõÂª∫ÂØπË±°Ôºåüëç 12345val o4 = object&#123; val x = 10 val y = 20&#125;log(o4.x) ÂØπË±°Ë°®ËææÂºèÁöÑÂÜÖÈÉ®ÂèØ‰ª•ËÆøÈóÆÂàõÂª∫ÂØπË±°Ë°®ËææÂºèÁöÑÂüüÂÜÖÁöÑÂèòÈáèÔºåËøôÁÇπÂíå Java ÁöÑÂåøÂêçÂÜÖÈÉ®Á±ªÊòØ‰∏ÄÊ†∑ÁöÑÔºå ‰ΩÜÊòØ Kotlin ‰∏≠‰∏çÈúÄË¶ÅÂ∞ÜÂèòÈáèÂº∫Âà∂Â£∞Êòé‰∏∫ final Ôºåüëç 12345678fun test()&#123; var t = 100 // ‰∏çÂøÖÂ£∞Êòé‰∏∫ final val o1 = object : OneFunInterface &#123; override fun test(param: String) &#123; t = 10 &#125; &#125;&#125; ÂØπË±°Â£∞ÊòéÂØπË±°Â£∞ÊòéÔºàObject declarationÔºâ‰∏çÂèØ‰ª•ÊòØÂ±ÄÈÉ®ÁöÑ(‰πüÂ∞±ÊòØËØ¥Ôºå‰∏çÂèØ‰ª•Áõ¥Êé•ÂµåÂ•óÂú®ÂáΩÊï∞‰πãÂÜÖ)Ôºå ‰ΩÜÂèØ‰ª•ÂµåÂ•óÂú®Âè¶‰∏Ä‰∏™ÂØπË±°Â£∞Êòé‰πãÂÜÖÔºåÊàñËÄÖÂµåÂ•óÂú®Âè¶‰∏Ä‰∏™ÈùûÂÜÖÈÉ®Á±ª‰πãÂÜÖ„ÄÇ ÂØπË±°Â£∞ÊòéÊòØ Âª∂Ëøü(lazily) ÂàùÂßãÂåñÁöÑÔºå Âè™‰ºöÂú®È¶ñÊ¨°ËÆøÈóÆÊó∂Êâç‰ºöÂàùÂßãÂåñ ‰ΩøÁî® object ÂÖ≥ÈîÆÂ≠óÂàõÂª∫Âçï‰æãÔºå‰∏çËÉΩÂÖ∑ÊúâÊûÑÈÄ†Âô®ÔºåÂèØ‰ª•ÊåáÂÆöÂü∫Á±ªÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Á±ªÂêçÂºïÁî®„ÄÇ 12345678910object Singleton : User(name = "test", age = 12) &#123; fun testFun() &#123; Log.e(javaClass.simpleName, "name = $name") &#125; val testVal = age&#125;// usageSingleton.testFun()Singleton.testVal Âêå‰º¥ÂØπË±°Ôºå‰∏Ä‰∏™Á±ªÂÜÖÈÉ®ÂØπË±°Â£∞ÊòéÂèØ‰ª•‰ΩøÁî® companion ÂÖ≥ÈîÆÂ≠óÊ†áËÆ∞‰∏∫Âêå‰º¥ÂØπË±°(Companion Object)„ÄÇCompanion Object ÂèØ‰ª•ÂÖ∑ÊúâËá™Â∑±ÁöÑÁ±ªÂêçÔºå‰πüÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÈªòËÆ§Á±ªÂêç Companion„ÄÇCompanion Object ÂèØ‰ª•ÁªßÊâøÂü∫Á±ªÂíåÂÆûÁé∞Êé•Âè£„ÄÇ Âêå‰º¥ÂØπË±°‰ºöÂú®ÂØπÂ∫îÁöÑÁ±ªË¢´Ë£ÖËΩΩ(Ëß£Êûê)Êó∂ÂàùÂßãÂåñ ËôΩÁÑ∂Âêå‰º¥ÂØπË±°ÁöÑÊàêÂëòÁúãËµ∑Êù•ÂæàÂÉèÂÖ∂‰ªñËØ≠Ë®Ä‰∏≠ÁöÑÁ±ªÁöÑÈùôÊÄÅÊàêÂëòÔºå‰ΩÜÂú®ËøêË°åÊó∂ÊúüÔºåËøô‰∫õÊàêÂëò‰ªçÁÑ∂ÊòØÁúüÂÆûÂØπË±°ÁöÑÂÆû‰æãÁöÑÊàêÂëòÔºåÂÆÉ‰ª¨‰∏éÈùôÊÄÅÊàêÂëòÊòØ‰∏çÂêåÁöÑÔºå‰ΩÜÊòØÔºåÂ¶ÇÊûú‰ΩøÁî®@JvmStatic Ê≥®Ëß£Ôºå ‰Ω†ÂèØ‰ª•ËÆ©Âêå‰º¥ÂØπË±°ÁöÑÊàêÂëòÂú® JVM ‰∏äË¢´ÁºñËØë‰∏∫ÁúüÊ≠£ÁöÑÈùôÊÄÅÊñπÊ≥ï(static method)ÂíåÈùôÊÄÅÂüü(static field)„ÄÇ 1234567891011121314151617181920212223242526// ÈªòËÆ§Á±ªÂêç Companionclass MyClass &#123; companion object &#123; fun testFun() &#123;&#125; val testVal = 10 &#125;&#125;// Ëá™Â∑±ÁöÑÁ±ªÂêçclass MyClass1 &#123; companion object MyCompanion &#123; fun testFun() &#123;&#125; val testVal = 10 &#125;&#125;// ÁªßÊâøÂü∫Á±ª ÂÆûÁé∞Êé•Âè£class MyClass2 &#123; companion object : User(), OneFunInterface &#123; override fun test(param: String) &#123; &#125; fun testFun() &#123;&#125; val testVal = 10 &#125;&#125; Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Â§ñÈÉ®Á±ªÁöÑÁ±ªÂêçË∞ÉÁî®ÂÖ∂Âêå‰º¥ÂØπË±°ÁöÑÊñπÊ≥ïÂíåÂ±ûÊÄß 1234MyClass.CompanionMyClass1.MyCompanionMyClass.testValMyClass.testFun()]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-8-ËåÉÂûã]]></title>
    <url>%2Farticle%2F9e4433d5%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªç Kotlin ËåÉÂûãÁöÑÁõ∏ÂÖ≥Áî®Ê≥ï„ÄÇ Ê≥õÂûãÁöÑÊú¨Ë¥®ÊòØÂèÇÊï∞ÂåñÁ±ªÂûãÔºåÊìç‰ΩúÁöÑÊï∞ÊçÆÁ±ªÂûãË¢´ÊåáÂÆö‰∏∫‰∏Ä‰∏™ÂèÇÊï∞„ÄÇ‰ΩøÁî®ËåÉÂûãÁ∫¶ÊùüÔºö Â¢ûÂä†‰ª£Á†ÅÁöÑÂ§çÁî®ÊÄßÔºåÊúâÊó∂Êàë‰ª¨‰ΩøÁî®‰∏Ä‰∫õÂÖ¨Áî®ÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÊñπÊ≥ïÔºåÁ±ªÁ≠âÔºåÂè™ÊòØÊìç‰ΩúÁöÑÂØπË±°Á±ªÂûã‰∏ç‰∏ÄÊ†∑Ôºå‰ΩÜÊòØ‰ª£Á†ÅÈÄªËæë‰∏ÄÊ†∑ÔºåÊ≠§Êó∂ÂèØ‰ª•‰ΩøÁî®ËåÉÂûãÂ§çÁî®‰ª£Á†ÅÔºåÊØîÂ¶Ç List&lt;T&gt;ÔºåÂ∞±ÂèØ‰ª•Áî®Êù•Â≠òÂÇ®‰ªª‰Ωï‰∏ÄÁßçÂØπË±°„ÄÇ ‰øùËØÅ‰ª£Á†Å‰∏≠Á±ªÂûãËΩ¨Êç¢ÁöÑÂÆâÂÖ®ÊÄßÔºå‰ΩøÁî®ËåÉÂûãËøõË°åÁ∫¶ÊùüÔºåËÉΩÂ§ü‰øùËØÅÂú®ÁºñËØëÊúüÂØπÁ±ªÂûãÁöÑÂåπÈÖçËøõË°åÊ£ÄÊµãÂíåËΩ¨Êç¢ÔºåÈÅøÂÖçËøêË°åÊúüÂá∫Áé∞Á±ªÂûãËΩ¨Êç¢ÂºÇÂ∏∏ÔºåËÄå‰∏îËøô‰∫õËΩ¨Êç¢ÈÉΩÊòØËá™Âä®ÂíåÈöêÂºèÁöÑ„ÄÇ Êé®ËçêÈòÖËØª - Kotlin Ê≥õÂûãËØ¶Ëß£ - 10Êù° ÁÆÄÂçïÂÆûÁé∞‰∏ãÈù¢Âú® Java Âíå Kotlin ‰∏≠ÂÆûÁé∞‰∫ÜÊúÄÁÆÄÂçïÁöÑËåÉÂûãÁöÑÁî®Ê≥ïÔºåÁî®Ê≥ïÁõ∏‰ººÔºå‰ΩÜÊòØ Kotlin Â∞±Êõ¥Âä†ÁÆÄÂçï„ÄÇÂΩìÁ±ªÂûãÂèØ‰ª•ÈÄöËøáÊé®Êñ≠ÂæóÂà∞Êó∂Ôºå‰∏çÂøÖÊòæÂºèÂ£∞ÊòéÁ±ªÂûã„ÄÇ 123456789101112131415// javaclass Box&lt;T&gt; &#123; private T t; public Box(T t) &#123; this.t = t; &#125; public T get() &#123; return t; &#125; public void set(T t) &#123; this.t = t; &#125;&#125;Box box = new Box&lt;&gt;(1); 1234// kotlinclass Box&lt;T&gt;(var t: T)val box = Box(1) Java ‰∏≠ÁöÑËåÉÂûãËåÉÂûãÁ±ªÂûãÊòØ‰∏çÂèØÂèòÁöÑÔºåÂõ†Ê≠§ List&lt;Child&gt; Âπ∂‰∏çÊòØ List&lt;Parent&gt; ÁöÑÂ≠êÁ±ªÂûã 123456// List&lt;String&gt; ‰∏çÊòØ List&lt;Object&gt; ÁöÑÂ≠êÁ±ªÂûãList&lt;Object&gt; objects = new ArrayList&lt;&gt;();List&lt;String&gt; strings = new ArrayList&lt;&gt;();objects = strings; // error. ‰∏∫‰ªÄ‰πàÊòØ‰∏çÂèØÂèòÁöÑÂë¢ÔºüÊàë‰ª¨Áúã‰∏ÄÊÆµ‰º™‰ª£Á†ÅÔºåÂÅáÂ¶ÇÁ±ªÂûãÊòØÂèØÂèòÁöÑÔºåÈÇ£‰πà List&lt;String&gt; Â∞±ÊòØ List&lt;Object&gt; ÁöÑÂ≠êÁ±ª„ÄÇ 12345List&lt;Object&gt; objects = new ArrayList&lt;&gt;();List&lt;String&gt; strings = new ArrayList&lt;&gt;();objects = strings; objects.add(100);String s = strings.get(0); // ClassCastException Áî±‰∫éËåÉÂûãÁ±ªÂûãÁöÑ‰∏çÂèØÂèòÔºåÂ∞ΩÁÆ° String ÊòØ CharSequence ÁöÑÂ≠êÁ±ªÂûãÔºå‰ΩÜÊòØÊàë‰ª¨ÁîöËá≥‰∏çËÉΩÁÆÄÂçïÁöÑÂÅöÂà∞Â¶Ç‰∏ãÊìç‰ΩúÔºö 12345678910class Box&lt;T&gt; &#123; private T t; public void resetBox(Box&lt;T&gt; box) &#123; this.t = box.t; &#125;&#125;Box&lt;CharSequence&gt; charSequenceBox = new Box&lt;&gt;();Box&lt;String&gt; stringBox = new Box&lt;&gt;();charSequenceBox.resetBox(stringBox); // error,Âú®ÁºñËØëÊúüÁ¶ÅÊ≠¢Ê≠§Êìç‰Ωú Ê≠£Âõ†‰∏∫Â¶ÇÊ≠§ÔºåÊâçÊúâ‰∫Ü ÈÄöÈÖçÁ¨¶Á±ªÂûãÂèÇÊï∞ ÔºåÊàë‰ª¨Â∫îËØ•Â¶Ç‰∏ãÂ£∞Êòé resetBox() ÁöÑÊñπÊ≥ï 123456class Box&lt;T&gt; &#123; private T t; public void resetBox(Box&lt;? extends T&gt; box) &#123; this.t = box.t; &#125;&#125; ÈÄöÈÖçÁ¨¶Á±ªÂûãÂèÇÊï∞Êàë‰ª¨ÂèÇÁÖß List Á±ªÔºåÊù•Áúã‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê 12345List&lt;? extends String&gt; extendsTStringList = new ArrayList&lt;&gt;();// error ‰∏çËÉΩÂÜôÂÖ•extendsTStringList.add("");// ÂèØ‰ª•ËØªÂèñString s = extendsTStringList.get(0); ËøôÈáåÁöÑ ÈÄöÈÖçÁ¨¶Á±ªÂûãÂèÇÊï∞ ? extends T Ë°®Á§∫ÔºåÈõÜÂêàÂÖÉÁ¥†ÁöÑÁ±ªÂûãÊòØ T ÁöÑÊüêÁßçÂ≠êÁ±ªÂûã, ËÄå‰∏çÈôê‰∫é T Êú¨Ë∫´ÔºåËøôÂ∞±ÊÑèÂë≥ÁùÄÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆâÂÖ®Âú∞‰ªéÈõÜÂêàÂÖÉÁ¥†‰∏≠ ËØªÂèñ T (Âõ†‰∏∫ÈõÜÂêàÁöÑÂÖÉÁ¥†ÊòØ T ÁöÑÊüê‰∏™Â≠êÁ±ªÂûãÁöÑÂÆû‰æã)Ôºå‰ΩÜ ‰∏çËÉΩÂÜôÂÖ• Âà∞ÈõÜÂêà‰∏≠ÂéªÔºåÂõ†‰∏∫Êàë‰ª¨‰∏çÁü•ÈÅì‰ªÄ‰πàÊ†∑ÁöÑÂØπË±°ÂÆû‰æãÊâçËÉΩ‰∏éËøô‰∏™ T ÁöÑÊú™Áü•Â≠êÁ±ªÂûãÂåπÈÖç„ÄÇÊåáÂÆö‰∫Ü extends ËæπÁïå (‰∏äËæπÁïå)ÁöÑÈÄöÈÖçÁ¨¶Á±ªÂûã, ‰ΩøÂæóÊàë‰ª¨ÁöÑÁ±ªÂûãÊàê‰∏∫‰∏ÄÁßç ÂçèÂèò(covariant) Á±ªÂûã„ÄÇ ÂêåÁêÜÔºåÊàë‰ª¨ÂèØ‰ª•ÊåáÂÆöÁ±ªÂûãÁöÑ‰∏ãËæπÁïå: 12345List&lt;? super String&gt; superTStringList = new ArrayList&lt;&gt;();// ÂèØ‰ª•ÂÜôÂÖ•superTStringList.add("");// ‰∏çËÉΩËØªÂèñÊàñÂè™ËÉΩËØªÂèñ‰∏∫ object Á±ªÂûãObject o = superTStringList.get(0); ÈÄöÈÖçÁ¨¶Á±ªÂûãÂèÇÊï∞ ? super T Ë°®Á§∫ÔºåÈõÜÂêàÂÖÉÁ¥†ÁöÑÁ±ªÂûãÊòØ T ÁöÑÁà∂Á±ªÂûãÔºåËÄå‰∏çÈôê‰∫é T Êú¨Ë∫´ÔºåÊàë‰ª¨ÂèØ‰ª•ÂêëÈõÜÂêà‰∏≠Ê∑ªÂä†ÂÖÉÁ¥†ÔºåÂõ†‰∏∫ÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥†‰∏ÄÂÆöÊòØ T ÁöÑÁà∂Á±ªÂûãÔºå‰ΩÜÊàë‰ª¨‰∏çËÉΩ‰ªéÈõÜÂêà‰∏≠ËØªÂèñÂÖÉÁ¥†ÔºåÊàñËÄÖËØ¥Âè™ËÉΩËØªÂèñ‰∏∫ object Á±ªÂûãÁöÑÂÖÉÁ¥†ÔºåÂõ†‰∏∫Êàë‰ª¨‰∏çÁü•ÈÅì‰ªÄ‰πàÊ†∑ÁöÑÂØπË±°ÊâçËÉΩ‰∏é T ÁöÑÊú™Áü•Áà∂Á±ªÂûãÂåπÈÖç„ÄÇÊåáÂÆö‰∫Ü super ËæπÁïå (‰∏ãËæπÁïå)ÁöÑÈÄöÈÖçÁ¨¶Á±ªÂûã, ‰ΩøÂæóÊàë‰ª¨ÁöÑÁ±ªÂûãÊàê‰∏∫‰∏ÄÁßç ÈÄÜÂèò(contravariance)„ÄÇ ÂçèÂèòÔºõÂ≠êÁ±ªÂèñ‰ª£Áà∂Á±ªÁöÑ‰ΩçÁΩÆÊòØË¢´ÂÖÅËÆ∏ÁöÑÔºå‰πüÂ∞±ÊòØÈúÄË¶ÅÁà∂Á±ªÂûãÊó∂ÂèØ‰ª•‰ΩøÁî®Â≠êÁ±ªÂûã‰ª£ÊõøÈÄÜÂèòÔºõÁà∂Á±ªÂèñ‰ª£Â≠êÁ±ªÁöÑ‰ΩçÁΩÆÊòØË¢´ÂÖÅËÆ∏ÁöÑÔºå‰πüÂ∞±ÊòØÈúÄË¶ÅÂ≠êÁ±ªÂûãÊó∂ÂèØ‰ª•‰ΩøÁî®Áà∂Á±ªÂûã‰ª£Êõø‰∏çÂèòÔºõ‰∏çÂÖÅËÆ∏ÊîπÂèòÁ±ªÂûã„ÄÇ ÂØπ‰∫éÂè™ËÉΩËØªÂèñÁöÑÂØπË±°ÔºåÁß∞‰∏∫ Áîü‰∫ßËÄÖÔºåÂõ†‰∏∫ÂÆÉÂèØ‰ª•‰∫ßÂá∫ÂØπË±°ÔºåÂØπ‰∫éÂè™ËÉΩÂÜôÂÖ•ÁöÑÂØπË±°Áß∞‰∏∫ Ê∂àË¥πËÄÖÔºåÂõ†‰∏∫ÂÆÉÂèØ‰ª•Ê∂àË¥πÂØπË±°ÔºåÁîü‰∫ßËÄÖÂØπÂ∫î extendsÔºåÊ∂àË¥πËÄÖÂØπÂ∫î super„ÄÇ Â£∞ÊòéÂ§ÑÁ±ªÂûãÂèòÂºÇÊàë‰ª¨ÊúâÂ¶Ç‰∏ã Box Á±ªÔºåÂÆÉÂè™ÊúâËØªÂèñÊñπÊ≥ïÔºå‰πüÂ∞±ÊòØÂè™ËÉΩÁîü‰∫ß T Á±ªÂûãÂØπË±°Ôºå‰∏çÂ≠òÂú®Ê∂àË¥πËÄÖÊñπÊ≥ïÁöÑË∞ÉÁî®ÔºåÂõ†Ê≠§Êàë‰ª¨ÂÆåÂÖ®ÂèØ‰ª•‰ΩøÁî® Box&lt;Parent&gt; Â≠òÂÇ® Box&lt;Child&gt; ÁöÑÊï∞ÊçÆÔºåËøôÊòØÂÆâÂÖ®ÁöÑÔºå‰ΩÜÊòØÂú® java ‰∏≠‰∏çËÉΩÁêÜËß£Ëøô‰∏ÄÁÇπ„ÄÇ 123456789class Box&lt;T&gt; &#123; public T find()&#123; return null; &#125;&#125;public void test(Box&lt;String&gt; stringBox) &#123; Box&lt;CharSequence&gt; objectBox = stringBox; // error&#125; ‰∏∫‰∫ÜËß£ÂÜ≥‰∏äËø∞ÈóÆÈ¢òÔºåÊàë‰ª¨ÂøÖÈ°ªËøõË°åÂ¶Ç‰∏ãÂ£∞ÊòéÊâçËÉΩÊ∂àÈô§ÈîôËØØÔºå‰ΩÜÊòØ‰ΩøÁî®‰∫ÜÊõ¥Âä†Â§çÊùÇÁöÑÂ£∞Êòé‰∏é‰∏äÈù¢ÊâÄËÉΩË∞ÉÁî®ÁöÑÊñπÊ≥ïÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰ΩÜÊòØÁºñËØëÂô®Âπ∂‰∏çËÉΩÁêÜËß£Ëøô‰∏ÄÁÇπ„ÄÇ 123public static void test(Box&lt;String&gt; stringBox) &#123; Box&lt;? extends CharSequence&gt; objectBox = stringBox;&#125; Âú® Kotlin ‰∏≠Êàë‰ª¨‰ΩøÁî®Âú®ËåÉÂûãÂ£∞ÊòéÂ§Ñ‰ΩøÁî®Ê≥®Ëß£Ê†áÊ≥®ÁöÑÊñπÂºèÂ∞ÜËøôÁßçÊÉÖÂÜµÂëäËØâÁºñËØëÂô®ÔºåÁî±‰∫éËøôÁßçÊ≥®Ëß£Âá∫Áé∞Âú®Â£∞ÊòéÂ§ÑÔºåÂõ†Ê≠§Áß∞‰∏∫ Â£∞ÊòéÂ§ÑÁ±ªÂûãÂèòÂºÇ(declaration-site variance) ÔºåËøôÁßçÊñπÊ°à‰∏é Java ‰∏≠ÁöÑ ‰ΩøÁî®Â§ÑÁ±ªÂûãÂèòÂºÇ(use-site variance) ÂàöÂ•ΩÁõ∏Âèç, Âú® Java ‰∏≠, ÊòØÁ±ªÂûã‰ΩøÁî®Â§ÑÁöÑÈÄöÈÖçÁ¨¶‰∫ßÁîü‰∫ÜÁ±ªÂûãÁöÑÂçèÂèò„ÄÇÊúâ‰∏§ÁßçÊ≥®Ëß£‰øÆÈ•∞Á¨¶Ôºö out Ë¢´Áß∞‰∏∫ ÂçèÂèòÊ≥®Ëß£(variance annotation)Ôºå‰ªñË°®Á§∫Ê≠§Á±ªÂûãÂè™ËÉΩË¢´Áîü‰∫ßÔºå‰∏çËÉΩË¢´Ê∂àË¥πÔºå‰πüÂ∞±ÊòØÂè™ËÉΩÂá∫Áé∞Âú®ËøîÂõûÁ±ªÂûã‰∏≠ÔºåÊ≠§Êó∂ Box&lt;Parent&gt; ÂèØ‰ª•ÂÆâÂÖ®ÁöÑÁî®‰Ωú Box&lt;Child&gt; ÁöÑÁà∂Á±ªÂûã„ÄÇ in Ë¢´Áß∞‰∏∫ ÈÄÜÂèòÊ≥®Ëß£(contravariant annotation)Ôºå‰ªñË°®Á§∫Ê≠§Á±ªÂûãÂè™ËÉΩË¢´Ê∂àË¥πÔºå‰∏çËÉΩË¢´Áîü‰∫ßÔºå‰πüÂ∞±ÊòØÂè™ËÉΩÂá∫Áé∞Âú®ÂèÇÊï∞Á±ªÂûã‰∏≠ÔºåÊ≠§Êó∂ÂèØ‰ª•Áî® Box&lt;Child&gt; ÂÆâÂÖ®ÁöÑÊé•Âèó Box&lt;Parent&gt; 12345678910111213interface Box1&lt;out T&gt;&#123; // errorÔºå‰∏çËÉΩ‰Ωú‰∏∫ÂèÇÊï∞Á±ªÂûã fun testIn(t:T) // yes fun testOut(): T&#125;interface Box2&lt;in T&gt;&#123; // yes fun testIn(t:T) // errorÔºå‰∏çËÉΩ‰Ωú‰∏∫ËøîÂõûÁ±ªÂûã fun testOut(): T&#125; ÈÇ£‰πàÊ≠§Êó∂Êàë‰ª¨Â∞±ÂèØ‰ª•Ëß£ÂÜ≥‰∏äÈù¢ÁöÑÂ§çÊùÇÂ£∞ÊòéÁöÑÈóÆÈ¢ò 1234567fun test(box:Box1&lt;String&gt;)&#123; val box1:Box1&lt;CharSequence&gt; = box&#125;fun test(box:Box2&lt;CharSequence&gt;)&#123; val box2:Box2&lt;String&gt; = box&#125; ÂêåÊó∂Áúã‰∏Ä‰∏ãÂÆòÁΩë Comparable ‰ΩøÁî®ÈÄÜÂèòÊ≥®Ëß£ÁöÑ‰æãÂ≠ê 123456789abstract class Comparable&lt;in T&gt; &#123; abstract fun compareTo(other: T): Int&#125;fun demo(x: Comparable&lt;Number&gt;) &#123; x.compareTo(1.0) // 1.0 Á±ªÂûã‰∏∫ Double, ÊòØ Number ÁöÑÂ≠êÁ±ªÂûã // Âõ†Ê≠§, Êàë‰ª¨ÂèØ‰ª•Â∞Ü x ËµãÂÄºÁªô Comparable&lt;Double&gt; Á±ªÂûãÁöÑÂèòÈáè val y: Comparable&lt;Double&gt; = x // OK!&#125; Á±ªÂûãÊäïÂ∞ÑÊàë‰ª¨ÊúâÊó∂Âπ∂‰∏çËÉΩ‰øùËØÅËåÉÂûãÁ±ªÂûãÂè™‰Ωú‰∏∫ËøîÂõûÂÄºÂá∫Áé∞ÔºåÊàñÂè™‰Ωú‰∏∫ÂèÇÊï∞Âá∫Áé∞ÔºåÊàë‰ª¨ÈÄöÂ∏∏‰ºöÊúâÊõ¥Â§çÊùÇÁöÑÈúÄÊ±Ç: 12345678class Box3&lt;T&gt; &#123; fun get(): T?&#123; return null &#125; fun set(t: T)&#123; &#125;&#125; Â¶ÇÊûúÊàë‰ª¨ÂÜô‰∏Ä‰∏™ copy ÂáΩÊï∞ 123fun copyBox(to: Box3&lt;Any&gt;, from: Box3&lt;Any&gt;) &#123; to.set(from)&#125; Áî±‰∫éËåÉÂûãÂèÇÊï∞Á±ªÂûãÁöÑ‰∏çÂèòÊÄßÔºåÂ∞±ÊòØÊàë‰ª¨ÊúÄÂàùÂú® Java ‰∏≠ÈÅáÂà∞ÁöÑÈóÆÈ¢òÔºå‰∏ãÈù¢ÁöÑË∞ÉÁî®Â∞ÜÊó†Ê≥ïÈÄöËøáÁºñËØëÔºåÂõ†‰∏∫ Box&lt;String&gt; Âπ∂‰∏çÊòØ Box&lt;Any&gt; ÁöÑÂ≠êÁ±ªÔºåËøôÁßçÊìç‰ΩúÊòØ‰∏∫‰∫ÜÈÅøÂÖçÂêë from ‰∏≠ËøõË°åÂÜôÂÖ•Êìç‰ΩúÔºåÊØîÂ¶Ç Int Á±ªÂûãÔºåÂØºËá¥ ClassCastException„ÄÇ 123val from = Box3&lt;String&gt;()val to = Box3&lt;Any&gt;()copyBox(to,from) // error,required:Box3&lt;Any&gt; found:Box3&lt;String&gt; Êàë‰ª¨ÈúÄË¶Å‰ΩøÁî® out Ê≥®Ëß£ÔºåËØ¥ÊòéÊàë‰ª¨Âú® copy ÂáΩÊï∞‰∏≠ÂØπ from ‰∏ç‰ºöËøõË°åÂÜôÂÖ•Êìç‰Ωú„ÄÇ 1234567fun copyBox(to: Box3&lt;Any&gt;, from: Box3&lt;out Any&gt;) &#123; to.set(from)&#125;val from = Box3&lt;String&gt;()val to = Box3&lt;Any&gt;()copyBox(to,from) // ok ÂêåÁêÜÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® in Ê≥®Ëß£Êù•Â£∞ÊòéÊàë‰ª¨‰∏ç‰ºöÂØπÂØπË±°ËøõË°åËØªÂèñÊìç‰ΩúÔºåÂ¶Ç‰∏ã 1234567891011121314fun fill(dest: Box3&lt;String&gt;, value: String) &#123; // ...&#125;val dest = Box3&lt;CharSequence&gt;()fill(dest,"") // errorfun fill(dest: Box3&lt;in String&gt;, value: String) &#123; // ...&#125;val dest = Box3&lt;CharSequence&gt;()fill(dest,"") // ok ËøôÁßçÂ£∞ÊòéÂú® Kotlin ‰∏≠Áß∞‰∏∫ Á±ªÂûãÊäïÂ∞Ñ(type projection)Ôºå‰ªñÁî®Êù•Â£∞ÊòéËØ•Á±ªÂûã‰∏çÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁ±ªÂûãÔºåËÄåÊòØ‰∏Ä‰∏™Ë¢´ÈôêÂà∂ÁöÑÁ±ªÂûãÔºåÊàë‰ª¨Âè™ËÉΩÂØπËØ•Á±ªÂûãËøõË°åËØªÂèñÊàñÂÜôÂÖ•Êìç‰ΩúÔºå‰ªéËÄå‰øùËØÅÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄßÔºåËøôÊòØ Kotlin ‰ΩøÁî®Â§ÑÁ±ªÂûãÂèòÂºÇ ÁöÑÂÆûÁé∞ÊñπÂºèÔºå‰∏é Java ‰∏≠ÁöÑÈÄöÈÖçÁ¨¶Áõ∏‰ººÔºå‰ΩÜÊòØÊõ¥ÁÆÄÂçï„ÄÇ ÊòüÂè∑ÊäïÂ∞ÑÊòüÂè∑ÊäïÂ∞ÑÔºàStar-projectionÔºâ ÊúâÊó∂ÂèØËÉΩÊÉ≥Ë°®Á§∫‰Ω†Âπ∂‰∏çÁü•ÈÅìÁ±ªÂûãÂèÇÊï∞ÁöÑ‰ªª‰Ωï‰ø°ÊÅØÔºå‰ΩÜÊòØ‰ªçÁÑ∂Â∏åÊúõËÉΩÂ§üÂÆâÂÖ®Âú∞‰ΩøÁî®ÂÆÉ„ÄÇËøôÈáåÊâÄË∞ì‚ÄùÂÆâÂÖ®Âú∞‰ΩøÁî®‚ÄùÊòØÊåáÔºåÂØπÊ≥õÂûãÁ±ªÂûãÂÆö‰πâ‰∏Ä‰∏™Á±ªÂûãÊäïÂ∞ÑÔºåË¶ÅÊ±ÇËøô‰∏™Ê≥õÂûãÁ±ªÂûãÁöÑÊâÄÊúâÁöÑÂÆû‰ΩìÂÆû‰æãÔºåÈÉΩÊòØËøô‰∏™ÊäïÂ∞ÑÁöÑÂ≠êÁ±ªÂûã„ÄÇ ÊòüÂè∑ÊäïÂ∞Ñ‰∏é Java ÁöÑÂéüÁîüÁ±ªÂûã(raw type)ÈùûÂ∏∏Á±ª‰ººÔºå‰ΩÜÂèØ‰ª•ÂÆâÂÖ®‰ΩøÁî®„ÄÇ ‰∏ãÈù¢ÊòØÂÆòÊñπÁöÑËØ¥Ê≥ïÔºö 12345ÂØπ‰∫é Foo&lt;out T&gt;ÔºåÂÖ∂‰∏≠ T ÊòØ‰∏Ä‰∏™ÂÖ∑Êúâ‰∏äÁïå TUpper ÁöÑÂçèÂèòÁ±ªÂûãÂèÇÊï∞ÔºåFoo&lt;*&gt; Á≠â‰ª∑‰∫é Foo&lt;out TUpper&gt;„ÄÇ ËøôÊÑèÂë≥ÁùÄÂΩì T Êú™Áü•Êó∂Ôºå‰Ω†ÂèØ‰ª•ÂÆâÂÖ®Âú∞‰ªé Foo&lt;*&gt; ËØªÂèñ TUpper ÁöÑÂÄº„ÄÇÂØπ‰∫é Foo&lt;in T&gt;ÔºåÂÖ∂‰∏≠ T ÊòØ‰∏Ä‰∏™ÈÄÜÂèòÁ±ªÂûãÂèÇÊï∞ÔºåFoo&lt;*&gt; Á≠â‰ª∑‰∫é Foo&lt;in Nothing&gt;„ÄÇ ËøôÊÑèÂë≥ÁùÄÂΩì T Êú™Áü•Êó∂ÔºåÊ≤°Êúâ‰ªÄ‰πàÂèØ‰ª•‰ª•ÂÆâÂÖ®ÁöÑÊñπÂºèÂÜôÂÖ• Foo&lt;*&gt;„ÄÇÂØπ‰∫é Foo&lt;T&gt;ÔºåÂÖ∂‰∏≠ T ÊòØ‰∏Ä‰∏™ÂÖ∑Êúâ‰∏äÁïå TUpper ÁöÑ‰∏çÂûãÂèòÁ±ªÂûãÂèÇÊï∞ÔºåFoo&lt;*&gt; ÂØπ‰∫éËØªÂèñÂÄºÊó∂Á≠â‰ª∑‰∫é Foo&lt;out TUpper&gt; ËÄåÂØπ‰∫éÂÜôÂÄºÊó∂Á≠â‰ª∑‰∫é Foo&lt;in Nothing&gt;„ÄÇ Âú®‰ªÄ‰πàÊó∂ÂÄôÂèØ‰ª•‰ΩøÁî® ÊòüÂè∑ÊäïÂ∞ÑÔºå‰ªÄ‰πàÊó∂ÂÄô‰∏çÂèØ‰ª• 12345678910111213141516171819// error ‰∏çÂÖÅËÆ∏‰Ωú‰∏∫ÂèòÈáèÁöÑÁöÑËåÉÂûãÂèÇÊï∞val list = ArrayList&lt;*&gt;()// error ‰∏çÂÖÅËÆ∏‰Ωú‰∏∫ÂáΩÊï∞ÁöÑËåÉÂûãÂèÇÊï∞fun &lt;T&gt; hello(args: Array&lt;T&gt;)&#123;&#125; hello&lt;*&gt;(args)// error ‰∏çÂÖÅËÆ∏‰Ωú‰∏∫Áà∂Á±ªÁöÑËåÉÂûãÂèÇÊï∞interface Foo&lt;T&gt; class Bar : Foo&lt;*&gt;// yes Â∞ΩÁÆ° * ‰∏çËÉΩÁõ¥Êé•‰Ωú‰∏∫Á±ªÁöÑÊ≥õÂûãÂèÇÊï∞ÔºåFoo&lt;*&gt; Âç¥ÂèØ‰ª•ÔºåÊåâÁÖßÂâçÈù¢ÂÆòÊñπÁªôÂá∫ÁöÑËØ¥Ê≥ïÔºåÂÆÉÂú®ËØªÊó∂Á≠â‰ª∑‰∫éFoo&lt;out Any&gt; ÂÜôÊó∂Á≠â‰ª∑‰∫é Foo&lt;in Nothing&gt;interface Foo&lt;T&gt; class Bar : Foo&lt;Foo&lt;*&gt;&gt; // yes ËøôË°®Á§∫Êé•ÂèóÁöÑÂèÇÊï∞ÁöÑÁ±ªÂûãÂú®ËØªÂÜôÊó∂ÂàÜÂà´Á≠â‰ª∑‰∫éArray&lt;out Any&gt; Âíå Array&lt;in Nothing&gt; fun hello(args: Array&lt;*&gt;)&#123; ... &#125; Raw Á±ªÂûãÂ∞±ÊòØÂØπ‰∫éÂÆö‰πâÊó∂ÊúâÊ≥õÂûãÂèÇÊï∞Ë¶ÅÊ±ÇÔºå‰ΩÜÂú®‰ΩøÁî®Êó∂ÊåáÂÆöÊ≥õÂûãÂèÇÊï∞ÁöÑÊÉÖÂÜµÔºåËøô‰∏™Âè™Âú® Java ‰∏≠ÊúâÔºåÊòæÁÑ∂‰πüÊòØ‰∏∫‰∫ÜÂâçÂêëÂÖºÂÆπ„ÄÇÂú® Java ‰∏≠Êàë‰ª¨ÂèØ‰ª•Â¶Ç‰∏ãÂ£∞Êòé 1List list = new ArrayList(); ËøôÊ†∑ÁöÑÂ£∞ÊòéÂú® Kotlin ‰∏≠ÊòØ‰∏çÂÖÅËÆ∏ÁöÑÔºå‰ΩÜÊòØÂèØ‰ª•‰ΩøÁî® 1val list = ArrayList&lt;Any?&gt;() Âú® Java ‰∏≠ÂèØ‰ª•ÊúâËøôÊ†∑ÁöÑÂÜôÊ≥ïÔºå‰ºöÂºïÂèëÂºÇÂ∏∏ 123List&lt;Integer&gt; integers = new ArrayList&lt;&gt;(); List list = new ArrayList(); list = integers; Âú® Kotlin ‰∏≠ËøôÊ†∑ÁöÑÂÜôÊ≥ïÊòØÈîôËØØÁöÑ 123var list = ArrayList&lt;Any?&gt;() val integers = ArrayList&lt;Int&gt;() list = integers // ERROR! ËåÉÂûãÂáΩÊï∞ÂáΩÊï∞‰∏≠‰πüÂèØ‰ª•‰ΩøÁî®ËåÉÂûãÂèÇÊï∞Á±ªÂûã 123456789fun &lt;T&gt; test(t:T):List&lt;T&gt;&#123; return mutableListOf(t)&#125;fun &lt;T&gt; Context.test(t:T):List&lt;T&gt;&#123; return mutableListOf(t)&#125;var testGenericFun = testGenericFun(1)var testGenericFunInContext = testGenericFunInContext(1) ËåÉÂûãÁ∫¶ÊùüÁ∫¶ÊùüËåÉÂûãÁöÑ‰∏äÁïå Â¶Ç‰∏ãËåÉÂûãÂèÇÊï∞ T ÂøÖÈ°ªÊòØ Box&lt;T&gt; ÁöÑÂ≠êÁ±ª Â¶ÇÊûúÊúâÂ§ö‰∏™‰∏äÈôêÔºåÂàôÈúÄË¶Å‰ΩøÁî® where Â≠óÂè• Â¶ÇÊûú‰∏äÈôêÁöÑÂØπË±°Â∏¶ÊúâËåÉÂûãÂèÇÊï∞ÁöÑÂ£∞ÊòéÂ§ÑÁ±ªÂûãÁºñËØëÊ≥®Ëß£ÔºåÂàôÂΩìÂâçÂ£∞Êòé‰πüÈúÄË¶ÅÂêåÊ≠• 1234567891011class Box4&lt;T : Box&lt;T&gt;&gt; &#123;&#125;class Box5&lt;T&gt; where T : Box&lt;T&gt;, T : Cloneable &#123;&#125;class Box6&lt;out T&gt; where T : Box1&lt;T&gt;, T : Cloneable &#123;&#125; Âú®ÂáΩÊï∞‰∏≠Á∫¶ÊùüËåÉÂûã‰∏äÁïå 1234567fun &lt;T : Box&lt;T&gt;&gt;test1(t:T)&#123;&#125;fun &lt;T&gt; test2(t:T) where T : Box&lt;T&gt;, T : Cloneable&#123;&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-7-ÁâπÊÆäÁ±ª]]></title>
    <url>%2Farticle%2Faa2c40d4%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶ÅÂÖ≥‰∫é Kotlin ‰∏≠ÁöÑÁâπÊÆäÁ±ªÔºåÂåÖÊã¨Ôºö Êï∞ÊçÆÁ±ªÔºöÊï∞ÊçÆÁ±ªÁöÑ‰ΩøÁî®ÊúâËØ∏Â§öÈôêÂà∂ÔºåÂÆÉÂ£∞Êòé‰∫Ü‰∏ÄÁßçÊï∞ÊçÆÁªìÊûÑÔºåËøõË°åÊï∞ÊçÆÁöÑÂ≠òÂÇ®„ÄÇ ÂµåÂ•óÁ±ªÔºöÁõ∏ÂΩì‰∫é java ‰∏≠ÁöÑÈùôÊÄÅÂÜÖÈÉ®Á±ªÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Â§ñÈÉ®Á±ªÂêçÂàõÂª∫„ÄÇ ÂÜÖÈÉ®Á±ªÔºöÁõ∏ÂΩì‰∫é java ‰∏≠ÁöÑÂÜÖÈÉ®Á±ªÔºåÈúÄË¶Å‰ΩøÁî®Â§ñÈÉ®Á±ªÂÆû‰æãÊâçËÉΩÂàõÂª∫„ÄÇ ÂåøÂêçÂÜÖÈÉ®Á±ªÔºö‰ΩøÁî® object ÂÖ≥ÈîÆÂ≠óÂàõÂª∫ÁöÑÂè™Áî®‰∏ÄÊ¨°ÁöÑÁ±ªÂÆûÁé∞„ÄÇ Êûö‰∏æÁ±ªÔºöÊØî java Êõ¥Âº∫Â§ßÁöÑÊûö‰∏æÂÆûÁé∞„ÄÇ Êï∞ÊçÆÁ±ªÊï∞ÊçÆÁ±ªÊòØ‰∏ÄÁßçÁâπÂà´ÁöÑÁ±ªÔºåÈ°æÂêçÊÄù‰πâÔºåÂ∞±ÊòØÁî®Êù•ÁªìÊûÑÂåñÁöÑÂ≠òÊîæÊï∞ÊçÆÁöÑÁ±ªÔºåÂú® Kotlin ‰∏≠ÂèØ‰ª•‰ΩøÁî®ÂÖ≥ÈîÆÂ≠ó data Êù•ÂæàÁÆÄÂçïÁöÑÂ£∞Êòé‰∏Ä‰∏™Êï∞ÊçÆÁ±ª„ÄÇ 123data class Person(val name: String = "123", val age: Int = 123)data class User(val name: String, val age: Int) Â¶ÇÊûúÂú®Êï∞ÊçÆÁ±ª‰∏≠ÂØπ‰ª•‰∏ãÂáΩÊï∞Ê≤°ÊúâÊòéÁ°ÆÁöÑÂÆö‰πâÔºå‰πüÊ≤°Êúâ‰ªéÁà∂Á±ª‰∏≠ÁªßÊâøÂæóÂà∞ÔºåÈÇ£‰πàÊï∞ÊçÆÁ±ª‰ºöËá™Âä®ÁîüÊàêËøô‰∫õÂáΩÊï∞ÔºåÂ¶Ç hashCode() Âíå equals() ÂáΩÊï∞ÂØπ„ÄÅPerson(name=c, age=3) ÂΩ¢ÂºèÁöÑ toString() ÊñπÊ≥ï„ÄÅÁî®Êù•ËÆøÈóÆÂ±ûÊÄßÂùÄÁöÑ componentN() ÂáΩÊï∞Áæ§„ÄÅÁî®Êù•Â§çÂà∂ÂØπË±° copy() ÊñπÊ≥ï„ÄÇ 123456789101112// ÂàõÂª∫Êï∞ÊçÆÁ±ªÂØπË±°val p: Person = Person("a", 1)val p1 = Person("b", 2)// equals() &amp; hasoCode()log(p.equals(p1))// toString()log(p.toString())// componentNlog(p.component1() + " " + p.component2())// copy()Ôºåcopy ÁöÑÂØπË±°Â∞Ü‰ºöÊòØ‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑÂØπË±°val p2 = p.copy("c", 3)log( "$&#123;p2.hashCode()&#125; $&#123;p.hashCode()&#125; $p2") ËæìÂá∫ 1234MainActivity: falseMainActivity: Person(name=a, age=1)MainActivity: a 1MainActivity: 3072 3008 Person(name=c, age=3) Êï∞ÊçÆÁ±ªÂ∫îËØ•Êª°Ë∂≥‰ª•‰∏ãË¶ÅÊ±ÇÔºö ‰∏ªÊûÑÈÄ†Âô®Ëá≥Â∞ëÊúâ‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂ¶ÇÊûúÈúÄË¶ÅÊó†ÂèÇÊûÑÈÄ†ÊñπÊ≥ïÔºåÂèØ‰ª•‰ΩøÁî®ÊåáÂÆöÈªòËÆ§ÂÄºÁöÑÊñπÂºèÂÆûÁé∞„ÄÇ ‰∏ªÊûÑÈÄ†Âô®ÁöÑÊâÄÊúâÂèÇÊï∞ÈÉΩÂøÖÈ°ªÊ†áËÆ∞‰∏∫ var Êàñ valÔºåÂÉè data class Use2(name: String, age: Int) ËøôÊ†∑ÊòØ‰∏çÂÖÅËÆ∏ÁöÑ„ÄÇ Êï∞ÊçÆÁ±ª‰∏çËÉΩÊòØ ÊäΩË±°Á±ªÔºåopen Á±ª ÔºåÂ∞ÅÈó≠(sealed)Á±ª Êàñ ÂÜÖÈÉ®Á±ª Êï∞ÊçÆÁ±ª‰∏çËÉΩÁªßÊâøËá™ÂÖ∂‰ªñÁ±ªÔºå‰ΩÜÊòØÂèØ‰ª•ÂÆûÁé∞Êé•Âè£„ÄÇ copy ÂáΩÊï∞Ëá™Âä®ÁîüÊàêÁöÑ copy() ÂáΩÊï∞Áî®Êù•ÂÆûÁé∞Êã∑Ë¥ù‰∏Ä‰∏™ÂØπË±°ÔºåÂêåÊó∂‰øÆÊîπÈÉ®ÂàÜÂ±ûÊÄßÔºå‰ΩÜÊòØ‰øùÁïôÂÖ∂‰ªñÂ±ûÊÄßÁöÑÂÄºÁöÑÂäüËÉΩ„ÄÇ Ëá™Âä®ÁîüÊàêÁöÑ copy() ÂáΩÊï∞Â∞Ü‰ºöÊòØËøôÊ†∑ÁöÑ 1fun copy(name: String = this.name, age: Int = this.age) = User(name, age) Ëß£ÊûÑÊï∞ÊçÆÁ±ªÈªòËÆ§ÁîüÊàê‰∫Ü componentN() ÁªÑ‰ª∂ÂáΩÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•Áî®Â¶Ç‰∏ãÊñπÊ≥ïÂø´ÈÄüËé∑ÂèñÊï∞ÊçÆÁ±ª‰∏≠Â±ûÊÄßÁöÑÂÄº 123val p: Person = Person("a", 1)val (myName,myAge) = plog("name = $myName,age = $myAge") ÂµåÂ•óÁ±ªÁ±ªÂèØ‰ª•ÂµåÂ•óÂú®Âè¶‰∏Ä‰∏™Á±ª‰∏≠ÔºåÁß∞‰∏∫ ÂµåÂ•óÁ±ªÔºàNested ClassÔºâÔºåÂÖ∂ÂÆûÁõ∏ÂΩì‰∫é Java ‰∏≠ÁöÑÈùôÊÄÅÂÜÖÈÉ®Á±ªÔºå‰∏çËøáÂú® Java ‰∏≠ËøôÊ†∑‰ªÄ‰πàÂÖ≥ÈîÆÂ≠óÈÉΩ‰∏çÂä†ÁöÑÊÉÖÂÜµÈªòËÆ§Â£∞ÊòéÁöÑÊòØÂÜÖÈÉ®Á±ªÔºåËÄå Kotlin ÈªòËÆ§ÊòØÂµåÂ•óÁ±ªÔºå‰πüÂ∞±ÊòØÈùôÊÄÅÂÜÖÈÉ®Á±ªÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® Â§ñÈÉ®Á±ªÁ±ªÂêç.ÂµåÂ•óÁ±ªÂêç Êù•ËÆøÈóÆÂàõÂª∫ÂµåÂ•óÁ±ªÂØπË±°„ÄÇ 123456class OuterClass &#123; class NestedClass(val name: String)&#125;// ÂèØ‰ª•Áõ¥Êé•ÂàõÂª∫Ôºå‰∏ç‰æùËµñÂ§ñÈÉ®Á±ªÂØπË±°val nested = OuterClass.NestedClass("nest") ÂÜÖÈÉ®Á±ªKotlin ‰∏≠ÁöÑÂÜÖÈÉ®Á±ªÂíå Java ‰∏≠ÁöÑÂÜÖÈÉ®Á±ª‰∏ÄÊ†∑Ôºå‰ΩÜÊòØ kotlin ‰∏≠Ë¶ÅÁî® inner ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÊòØÂÜÖÈÉ®Á±ªÔºåÂê¶ÂàôÈªòËÆ§ÊòØÂµåÂ•óÁ±ª„ÄÇ ‰ΩøÁî® inner ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÁöÑÂÜÖÈÉ®Á±ªÔºåÂèØ‰ª•Ëá™Áî±ËÆøÈóÆÂ§ñÈÉ®Á±ªÊàêÂëòÂ±ûÊÄßÔºåÂÜÖÈÉ®Á±ª‰ºöÊåÅÊúâ‰∏Ä‰∏™Â§ñÈÉ®Á±ªÁöÑÂºïÁî®ÔºåÊåáÂêëÂ§ñÈÉ®Á±ªÂØπË±°ÂÆû‰æã„ÄÇ ÂΩìÂ±ûÊÄßÂÜ≤Á™ÅÊó∂ÔºåÂ∞Ü‰ºòÂÖà‰ΩøÁî®ÂÜÖÈÉ®Á±ªÊàêÂëòÔºåÂ¶ÇÊûúÊÉ≥ËÆøÈóÆÂ§ñÈÉ®Á±ªÊàêÂëòÂèØ‰ª•‰ΩøÁî®Â∏¶ÈôêÂÆöÁ¨¶ÁöÑ this Ë°®ËææÂºè„ÄÇ ÂÜÖÈÉ®Á±ªÊòØ‰∏çËÉΩÁõ¥Êé•ÂàõÂª∫ÁöÑÔºåÈúÄË¶Å‰ΩøÁî®Â§ñÈÉ®Á±ªÂØπË±°ÊâçËÉΩÂàõÂª∫„ÄÇ 12345678910111213141516171819202122232425262728293031class OuterClass &#123; class NestedClass(val name: String) val myVal = 100 val myVal1 = 100 inner class InnerClass()&#123; val myVal = 10 fun test():String&#123; // ÂΩìÂ±ûÊÄßÂÜ≤Á™ÅÊó∂ÔºåÂ∞Ü‰ºòÂÖà‰ΩøÁî®ÂÜÖÈÉ®Á±ªÊàêÂëò // Â¶ÇÊûúÊÉ≥ËÆøÈóÆÂ§ñÈÉ®Á±ªÊàêÂëòÂèØ‰ª•‰ΩøÁî®Â∏¶ÈôêÂÆöÁ¨¶ÁöÑthisË°®ËææÂºè return "$myVal $myVal1 $&#123;this@OuterClass.myVal&#125;" &#125; &#125;// ÂøÖÈ°ª‰æùËµñÂ§ñÈÉ®Á±ªÂØπË±°ÊâçËÉΩÂàõÂª∫val inner = OuterClass().InnerClass()``` ## ÂåøÂêçÂÜÖÈÉ®Á±ªÂåøÂêçÂÜÖÈÉ®Á±ª‰πüÊòØ‰∏Ä‰∏™Â∏∏ËßÅÁöÑÁî®Ê≥ïÔºåÈÄÇÁî®‰∫éÂè™ÈúÄË¶ÅÂàõÂª∫‰∏ÄÊ¨°‰ΩøÁî®‰∏ÄÊ¨°ÁöÑÊÉÖÂÜµÔºåÊØîÂ¶Ç‰∏∫Êéß‰ª∂ËÆæÁΩÆÁõëÂê¨„ÄÇÂåøÂêçÂÜÖÈÉ®Á±ª‰ΩøÁî® `object` ÂÖ≥ÈîÆÂ≠óÁöÑÂØπË±°Ë°®ËææÂºèÂ£∞ÊòéÔºåÂÖ∂ÂÆû‰∏ãÈù¢‰∏≠ÁõëÂê¨ÁöÑËÆæÁΩÆ‰∏çÂøÖËøô‰πàÂ§çÊùÇÔºåËøôÊòØÊúÄÂéüÂßãÁöÑÁâàÊú¨„ÄÇ```kotlinmMyMsgTv.setOnClickListener(object : View.OnClickListener&#123; override fun onClick(v: View?) &#123; log("click") &#125;&#125;) Â¶ÇÊûúÂåøÂêçÂÜÖÈÉ®Á±ªÂØπË±°ÊòØÂè™Êúâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÁöÑÊé•Âè£ÔºåÂèØ‰ª•‰ΩøÁî®Â∏¶ÊúâÊé•Âè£ÂêçÁß∞ÂâçÁºÄÁöÑ lambda Ë°®ËææÂºèÁÆÄÂåñÂàõÂª∫Ëøô‰∏™ÂØπË±°ÔºåÁÆÄÂåñÁâàÊú¨Ôºö 123mMyMsgTv.setOnClickListener &#123; log("click")&#125; Êûö‰∏æÁ±ªÂàõÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊûö‰∏æÁ±ª 123enum class EnumClass&#123; ONE,TOW,THREE&#125; ÊØè‰∏™Êûö‰∏æÂÄºÈÉΩÊòØÊûö‰∏æÁ±ªÁöÑ‰∏Ä‰∏™ÂÆû‰æãÔºåÂõ†Ê≠§ÂèØ‰ª•Ë¢´ÂàùÂßãÂåñÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ name Âíå ordinal ÊòØÁà∂Á±ª‰∏≠Â∑≤ÁªèÂ≠òÂú®ÁöÑ‰∏çÂÖÅËÆ∏Ë¢´ÈáçÂÜôÁöÑÂ±ûÊÄßÔºåÂõ†Ê≠§Ëá™ÂÆö‰πâÁöÑÂ±ûÊÄß‰∏çËÉΩ‰ΩøÁî®Ëøô‰∫õ„ÄÇ 123enum class EnumClass2(val desc:String)&#123; ONE("one"),TOW("two"),THREE("three")&#125; Êûö‰∏æÂèØ‰ª•ÂÖ∑ÊúâËá™Â∑±ÁöÑÂ±ûÊÄßÂíåÂáΩÊï∞Ôºå‰πüÂèØ‰ª•ÈáçÂÜôÁà∂Á±ª‰∏≠ÁöÑÊñπÊ≥ï 12345678910111213141516171819202122enum class EnumClass3(val desc: String) &#123; ONE("one") &#123; override fun log(): String &#123; return "one" &#125; &#125;, TOW("two") &#123; override fun log(): String &#123; return "two" &#125; &#125;, THREE("three") &#123; override fun log(): String &#123; return "three" &#125; &#125;; // Â±ûÊÄß val myVal = 100 // ÂáΩÊï∞ fun test() &#123;&#125; abstract fun log(): String&#125; ÊØè‰∏™Êûö‰∏æÈÉΩÂÖ∑Êúâ name Âíå ordinal Â±ûÊÄßÔºåÂπ∂‰∏îÂÆûÁé∞‰∫Ü Compaable Êé•Âè£ 1234567EnumClass1.ONE.nameEnumClass1.ONE.ordinal// ËΩ¨Âåñ‰∏∫‰∏Ä‰∏™Êûö‰∏æÁ±ªÂØπË±°var enumClass1:EnumClass1 = EnumClass1.valueOf("one")// Êûö‰∏æÁ±ªÂØπË±°ÂàóË°®var values:Array&lt;EnumClass1&gt; = EnumClass1.values()]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-6-Êâ©Â±ï]]></title>
    <url>%2Farticle%2Fd0378250%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªç Kotlin Êâ©Â±ï ( Extension )ÁöÑÁõ∏ÂÖ≥ÂÜÖÂÆπ„ÄÇ ‰ª•‰∏ãÁøªËØëËá™ÂÆòÊñπÊñáÊ°£Ôºö ‰∏é C# Âíå Gosu Á±ª‰ººÔºå Kotlin Êèê‰æõ‰∫ÜÂêë‰∏Ä‰∏™Á±ªÊâ©Â±ïÊñ∞ÂäüËÉΩÁöÑËÉΩÂäõÔºå ËÄå‰∏î‰∏çÂøÖ‰ªéËøô‰∏™Á±ªÁªßÊâøÔºå‰πü‰∏çÂøÖ‰ΩøÁî®‰ªª‰ΩïËÆæËÆ°Ê®°ÂºèÔºå ÊØîÂ¶Ç Decorator Ê®°Âºè‰πãÁ±ª„ÄÇ ËøôÁßçÂäüËÉΩÊòØÈÄöËøá‰∏ÄÁßçÁâπÊÆäÁöÑÂ£∞ÊòéÊù•ÂÆûÁé∞ÁöÑÔºå Kotlin ‰∏≠Áß∞‰∏∫ Êâ©Â±ï(extension)„ÄÇKotlin ÊîØÊåÅ Êâ©Â±ïÂáΩÊï∞(extension function) Âíå Êâ©Â±ïÂ±ûÊÄß(extension property)„ÄÇ Êâ©Â±ï ÊòØÂæàÂ§öÈ´òÁ∫ßËØ≠Ë®ÄÈÉΩÂÖ∑Â§áÁöÑÁâπÊÄßÔºå‰ΩøÁî®Êâ©Â±ïÂèØ‰ª•Âú®‰∏ç‰æµÂÖ•ÂéüÊù•Á±ªÁöÑÂü∫Á°Ä‰∏äÊâ©Â±ïÊñ∞ÁöÑÂäüËÉΩÔºåÊØîÂ¶ÇÊàë‰ª¨Â∏∏Áî®ÁöÑ Utils ÊñπÊ≥ïÔºåÂ∞±ÂèØ‰ª•ÂÆåÂÖ®‰ΩøÁî®Êâ©Â±ïÊñπÊ≥ïÊù•Êõø‰ª£„ÄÇ Êâ©Â±ïÂáΩÊï∞Êâ©Â±ïÂáΩÊï∞ÈúÄË¶ÅÂ£∞ÊòéÂú®top-level Á∫ßÂà´‰∏ãÔºåÂ¶ÇÊûúÂ£∞ÊòéÂú®‰∏Ä‰∏™Á±ªÈáåÈù¢ÔºåÈÇ£‰πàÂè™ËÉΩÂú®Ëøô‰∏™Á±ªÂÜÖ‰ΩøÁî®Ôºå‰πüÂ∞±Â§±Âéª‰∫ÜÊâ©Â±ïÁöÑÊÑè‰πâ„ÄÇÊàëÂºÄÂßãÂÜôÁöÑÊó∂ÂÄôÂõ†‰∏∫ÂÜô java ÁöÑÊÉØÊÄßÔºåÂ∞±Â£∞ÊòéÂú®Á±ªÈáåÈù¢ÔºåÁªìÊûúÂà´ÁöÑÂú∞ÊñπÊ†πÊú¨Áî®‰∏ç‰∫ÜÔºå‰∏ÄÂ∫¶ÂçÅÂàÜÊÄÄÁñëÊâ©Â±ïÂ≠òÂú®ÁöÑÊÑè‰πâ„ÄÇ„ÄÇ„ÄÇ Â£∞ÊòéÁöÑÊñπÂºè‰∏éÊôÆÈÄöÂáΩÊï∞Á®çÊúâ‰∏çÂêåÔºåÂú®ÂáΩÊï∞ÂêçÂâçÈù¢Ë¶Å‰ΩøÁî®Êâ©Â±ïÁöÑÊé•Êî∂ËÄÖÔºåÊâ©Â±ïÁöÑÊé•Êî∂ËÄÖÂ∞±ÊòØÊàë‰ª¨Ë¶ÅÊâ©Â±ïÁöÑÂØπË±°ÔºåÂ¶Ç‰∏ãÔºö 123fun Êâ©Â±ïÊé•Êî∂ËÄÖ.ÂáΩÊï∞Âêç:ËøîÂõûÁ±ªÂûã(ÂèÇÊï∞ÂàóË°®)&#123; ÂáΩÊï∞‰Ωì&#125; ÂÖàÊù•Â£∞Êòé‰∏§‰∏™Êâ©Â±ïÂáΩÊï∞ÁúãÁúãÊïàÊûú 1234567891011// ExtensionTest.ktfun Context.extensionLog(msg: String) &#123; Log.e(this.javaClass.simpleName, msg)&#125;fun &lt;E&gt;MutableList&lt;E&gt;.swap(index1:Int,index2:Int)&#123; val temp = this[index1] this[index1] = this[index2] this[index2] = temp&#125; Âú® MainActivity.kt ‰∏≠‰ΩøÁî®ÂÆÉ‰ª¨ 123456extensionLog("ÊµãËØïÊâ©Â±ïÂáΩÊï∞")val list = mutableListOf("str1","str2")extensionLog(list.toString())list.swap(0,1)extensionLog(list.toString()) ËæìÂá∫ÁªìÊûúÔºö 123com.march.ktexample E/MainActivity: ÊµãËØïÊâ©Â±ïÂáΩÊï∞com.march.ktexample E/MainActivity: [str1, str2]com.march.ktexample E/MainActivity: [str2, str1] ÊÄªÁªì‰∏Ä‰∏ãÔºö Êâ©Â±ïÂáΩÊï∞ÁöÑÂ£∞ÊòéÂØπÂ≠êÁ±ªÊòØÊúâÊïàÁöÑÔºå ÊØîÂ¶ÇÊàë‰ª¨Áªô Context Á±ªÊâ©Â±ïÔºåÈÇ£‰πà Context ÊâÄÊúâÂ≠êÁ±ªÈÉΩÂèØ‰ª•‰ΩøÁî®Êâ©Â±ïÂáΩÊï∞ÔºåÊâ©Â±ïËôΩÁÑ∂‰∏çÊòØÁªßÊâøÔºå‰ΩÜÊòØÂç¥ÂÖ∑ÊúâÂíåÁªßÊâøÁ±ª‰ººÁöÑÊïàÊûú„ÄÇ Âú®Êâ©Â±ïÂáΩÊï∞‰∏≠ÂèØ‰ª•‰ΩøÁî® this ÂÖ≥ÈîÆÂ≠óÔºåËÆøÈóÆÂΩìÂâçÊâ©Â±ïÊé•Êî∂ËÄÖÂØπË±°„ÄÇ Êâ©Â±ïÂáΩÊï∞ÁöÑÈùôÊÄÅËß£ÊûêÊâ©Â±ïÂáΩÊï∞Âπ∂‰∏çÊòØÁúüÁöÑÁªôÊâ©Â±ïÊé•Êî∂ËÄÖÁöÑÁ±ªÂ¢ûÂä†‰∫ÜÊñ∞ÁöÑÊñπÊ≥ïÔºå‰ªñÂè™ÊòØÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÔºåÂπ∂‰∏îÂèØ‰ª•ËÆ©Êâ©Â±ïÊé•Êî∂ËÄÖÁöÑÁ±ª‰ΩøÁî®ÁÇπÂè∑ÁöÑÂΩ¢ÂºèÂéªË∞ÉÁî®ËÄåÂ∑≤ÔºåÂØπÂéüÊù•ÁöÑÁ±ªÊú¨Ë∫´Ê≤°Êúâ‰ªª‰ΩïÂΩ±Âìç„ÄÇ Êâ©Â±ïÂáΩÊï∞ÁöÑË∞ÉÁî®Ê¥æÂèëËøáÁ®ãÊòØÈùôÊÄÅÁöÑÔºåËøôÂ∞±ÊÑèÂë≥ÁùÄÔºåË∞ÉÁî®Êâ©Â±ïÂáΩÊï∞Êó∂ÔºåÂÖ∑‰ΩìË¢´Ë∞ÉÁî®ÁöÑÂáΩÊï∞ÊòØÂì™‰∏Ä‰∏™ÔºåÊòØÈÄöËøáË∞ÉÁî®ÂáΩÊï∞ÁöÑÂØπË±°Ë°®ËææÂºèÁöÑÁ±ªÂûãÊù•ÂÜ≥ÂÆöÁöÑÔºåËÄå‰∏çÊòØÂú®ËøêË°åÊó∂ÂàªË°®ËææÂºèÂä®ÊÄÅËÆ°ÁÆóÁöÑÊúÄÁªàÁªìÊûúÁ±ªÂûãÂÜ≥ÂÆöÁöÑ„ÄÇ‰πüÂ∞±ÊòØËØ¥Â¶ÇÊûúÊúâÂ§ö‰∏™Êâ©Â±ïË∞ÉÁî®ÔºåÈÇ£‰πàË∞ÉÁî®Âì™‰∏Ä‰∏™ÂèñÂÜ≥‰∫é‰Ω†‰ΩøÁî®Âì™ÁßçÁ±ªÂûãÂéªË∞ÉÁî®„ÄÇ 12345678910111213141516171819202122232425open class Aclass B : A()fun A.extension(): String &#123; return "aÁöÑÊâ©Â±ï"&#125;fun B.extension(): String &#123; return "bÁöÑÊâ©Â±ï"&#125;// ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂáΩÊï∞ÔºåÊâ©Â±ïÂáΩÊï∞ÁöÑÂÆûÈôÖË∞ÉÁî®Áî±Ë∞ÉÁî®‰ªñÁöÑÁ±ªÂÜ≥ÂÆö// Âõ†Ê≠§ËøôÈáå‰∏çÁÆ°‰º†‰ªÄ‰πàÁ±ªÂûãÁöÑÂÄºÔºåÈÉΩ‰ºöÊòØË∞ÉÁî® A ÁöÑÊâ©Â±ïÂáΩÊï∞fun printExtension(a:A)&#123; extensionLog(a.extension())&#125;// Ë∞ÉÁî® A ÁöÑÊâ©Â±ïextensionLog(A().extension())// Ë∞ÉÁî® B ÁöÑÊâ©Â±ïextensionLog(B().extension())// Ë∞ÉÁî® A ÁöÑÊâ©Â±ïprintExtension(A())// Ë∞ÉÁî® A ÁöÑÊâ©Â±ïprintExtension(B()) ËæìÂá∫ÁªìÊûú 1234com.march.ktexample E/MainActivity: aÁöÑÊâ©Â±ïcom.march.ktexample E/MainActivity: bÁöÑÊâ©Â±ïcom.march.ktexample E/MainActivity: aÁöÑÊâ©Â±ïcom.march.ktexample E/MainActivity: aÁöÑÊâ©Â±ï ÊàêÂëòÂáΩÊï∞‰ºòÂÖàÂΩìÊâ©Â±ïÂáΩÊï∞ÂíåÊàêÂëòÂáΩÊï∞ÈÉΩÂ≠òÂú®Êó∂ÔºåÁõ∏ÂêåÁöÑÂáΩÊï∞ÊòØËØ¥ÂáΩÊï∞Âêç‰∏éÂèÇÊï∞ÂàóË°®ÈÉΩÁõ∏ÂêåÔºå‰ºòÂÖà‰ΩøÁî®ÊàêÂëòÂáΩÊï∞„ÄÇ 123456789101112131415161718192021// B ÊúâÊàêÂëòÂáΩÊï∞class B &#123; fun extension(): String &#123; return "bÁöÑÊàêÂëò" &#125;&#125;// B ÊúâÊâ©Â±ïÂáΩÊï∞fun B.extension(): String &#123; return "bÁöÑÊâ©Â±ï"&#125;// Â∞Ü‰ºòÂÖà‰ΩøÁî®ÊàêÂëòÂáΩÊï∞fun printExtension(b:B)&#123; extensionLog(b.extension())&#125;printExtension(B())ÁªìÊûúÔºöcom.march.ktexample E/MainActivity: bÁöÑÊàêÂëò ÂèØ‰∏∫Á©∫ÁöÑÊé•Êî∂ËÄÖ‰ΩøÁî®ÂèØ‰∏∫Á©∫ÁöÑÁ±ªÂûã‰Ωú‰∏∫Êâ©Â±ïÊé•Êî∂ËÄÖÊó∂ÔºåÂç≥‰ΩøË∞ÉÁî®ÁöÑÂØπË±°‰∏∫Á©∫‰ªçÁÑ∂ÂèØ‰ª•Ë∞ÉÁî®Ôºå‰∏ç‰ºöÁ©∫ÊåáÈíàÔºåÂèØ‰ª•Âú®Êâ©Â±ïÊñπÊ≥ïÂÜÖÊ£ÄÊµãÊé•ÂèóËÄÖÊòØ‰∏çÊòØ‰∏∫Á©∫„ÄÇ 12345// ÂèØ‰∏∫Á©∫ÁöÑÊé•Êî∂ËÄÖfun String?.testNullableReceiver():String&#123; if(this == null) return "I am null" return "I am not null $&#123;toString()&#125;"&#125; ÂÜçÁúã‰∏Ä‰∏ãÔºåÂèØÁ©∫Á±ªÂûãÁöÑ toString() ÊñπÊ≥ï 123456fun Any?.toString(): String &#123; if (this == null) return "null" // ËøõË°åËøá null Ê£ÄÊü•Âêé, 'this' ‰ºöË¢´Ëá™Âä®ËΩ¨Êç¢‰∏∫Èùû null Á±ªÂûã, Âõ†Ê≠§‰∏ãÈù¢ÁöÑ toString() ÊñπÊ≥ï // ‰ºöË¢´Ëß£Êûê‰∏∫ Any Á±ªÁöÑÊàêÂëòÂáΩÊï∞ return toString()&#125; ÊµãËØï 1234567891011val strNull1:String? = nullval strNull2:String? = "strNull2 "val strNoNull:String = "strNoNull "extensionLog(strNull1.testNullableReceiver())extensionLog(strNull2.testNullableReceiver())extensionLog(strNoNull.testNullableReceiver())// ÁªìÊûúcom.march.ktexample E/MainActivity: I am nullcom.march.ktexample E/MainActivity: I am not null strNull2 com.march.ktexample E/MainActivity: I am not null strNoNull Êâ©Â±ïÂ±ûÊÄßÊâ©Â±ïÂ±ûÊÄßÂπ∂‰∏çÁúüÁöÑÊòØÁ±ªÁöÑÊàêÂëòÔºå‰ªñ‰∏çËÉΩÊõ¥ÊîπÁ±ªÁöÑÂÜÖÂÆπÔºåÂõ†Ê≠§Êâ©Â±ïÂ±ûÊÄß‰∏çÊîØÊåÅ backing-fieldÔºåÂõ†Ê≠§Ê≤°ÂäûÊ≥ï‰ΩøÁî® set() ‰∏∫Â±ûÊÄßËµãÂÄº„ÄÇ Êâ©Â±ïÂ±ûÊÄß‰∏çËÉΩ‰ΩøÁî® ÂàùÂßãÂåñÂô® ‰∏∫Â±ûÊÄßËµãÂÄº 123456789101112131415var Context.extensionProperty: String get() &#123; return "$&#123;javaClass.simpleName&#125; properties = " &#125; // ‚ö†Ô∏è ËøôÊ†∑ÊòØÈîôËØØÁöÑÔºåÊ≤°Êúâbacking-fieldÊîØÊåÅÔºåËøôÈáåÂ∞Ü‰ºöStackOverflow set(value) &#123; extensionProperty = value &#125;// ÈîôËØØÔºå‰∏çÂÖÅËÆ∏ÂàùÂßãÂåñÂô®val Context.testValue1:Int = 100// ‰∏Ä‰∏™Ê≠£Á°ÆÁöÑÁ§∫ËåÉval &lt;T&gt; List&lt;T&gt;.lastIndex: Int get() = size - 1 Êâ©Â±ïÂêå‰º¥ÂØπË±°12345678910111213141516171819class MainActivity : Activity() &#123; companion object MyCompanion &#123; &#125;&#125;// Êâ©Â±ïÂáΩÊï∞fun MainActivity.MyCompanion.testCompanionFunc(): String &#123; return "testCompanionFunc"&#125;// Êâ©Â±ïÂ±ûÊÄßval MainActivity.MyCompanion.testCompanionProperty get() = "testCompanionProperty" extensionLog(MainActivity.MyCompanion.testCompanionFunc())extensionLog(MainActivity.MyCompanion.testCompanionProperty) Â£∞ÊòéÊâ©Â±ï‰∏∫ÊàêÂëò‰ª•‰∏ãÁøªËØëËá™ÂÆòÊñπÊñáÊ°£ÔºöÂú®Á±ªÁöÑÂÜÖÈÉ®Ôºå‰Ω†ÂèØ‰ª•‰∏∫Âè¶‰∏Ä‰∏™Á±ªÂÆö‰πâÊâ©Â±ï„ÄÇÂú®ËøôÁ±ªÊâ©Â±ï‰∏≠ÔºåÂ≠òÂú®Â§ö‰∏™ ÈöêÂê´Êé•ÂèóËÄÖ(implicit receiver) - Ëøô‰∫õÈöêÂê´Êé•Êî∂ËÄÖÁöÑÊàêÂëòÂèØ‰ª•‰∏ç‰ΩøÁî®ÈôêÂÆöÁ¨¶Áõ¥Êé•ËÆøÈóÆ„ÄÇÊâ©Â±ïÊñπÊ≥ïÁöÑÂÆö‰πâÊâÄÂú®ÁöÑÁ±ªÁöÑÂÆû‰æãÔºåÁß∞‰∏∫ Ê¥æÂèëÊé•ÂèóËÄÖ(dispatch receiver)Ôºå Êâ©Â±ïÊñπÊ≥ïÁöÑÁõÆÊ†áÁ±ªÂûãÁöÑÂÆû‰æãÔºåÁß∞‰∏∫ Êâ©Â±ïÊé•ÂèóËÄÖ(extension receiver)„ÄÇ ‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨ÂèØ‰ª•Âú®‰∏Ä‰∏™Á±ª BB ÂÜÖÈÉ®Â£∞ÊòéÂè¶‰∏Ä‰∏™Á±ª AA ÁöÑÊâ©Â±ïÔºåAA ÊòØÊâ©Â±ïÊé•ÂèóËÄÖÔºåBB ÊòØÊ¥æÂèëÊé•ÂèóËÄÖÔºåÊ≠§Êó∂Â≠òÂú®Â§ö‰∏™Êé•ÂèóËÄÖÔºåÂú® AA ÁöÑÊâ©Â±ïÊñπÊ≥ï‰∏≠ÔºåÂèØ‰ª•Ëá™Áî±ÁöÑ‰∏ç‰ΩøÁî®ÈôêÂÆöÁ¨¶ÁöÑËÆøÈóÆ AA Âíå BB ÁöÑÊàêÂëò„ÄÇ 1234567891011121314151617class AA &#123; fun funcInAA(): String &#123; return "func in AA" &#125;&#125;class BB &#123; fun funcInBB(): String &#123; return "func in BB" &#125; fun AA.extendAAFuncInBB(): String &#123; return "extendAAFuncInBB" + funcInBB() + funcInAA() &#125; fun testFunc(aa: AA): String &#123; return aa.extendAAFuncInBB() &#125;&#125; ÂΩìÊ¥æÂèëÊé•ÂèóËÄÖ‰∏éÊâ©Â±ïÊé•ÂèóËÄÖÁöÑÊàêÂëòÂêçÁß∞ÂèëÁîüÂÜ≤Á™ÅÊó∂ÔºåÊâ©Â±ïÊé•ÂèóËÄÖÁöÑÊàêÂëòÂ∞Ü‰ºöË¢´‰ºòÂÖà‰ΩøÁî®„ÄÇ Â¶ÇÊûúÊÉ≥Ë¶Å‰ΩøÁî®Ê¥æÂèëÊé•ÂèóËÄÖÁöÑÊàêÂëòÔºåÈúÄË¶Å‰ΩøÁî® this ÂÖ≥ÈîÆÂ≠ó 123456789class BB &#123; fun AA.testToString()&#123; // ÈªòËÆ§‰ΩøÁî® AA.toString() toString() // ‰ΩøÁî® BB.toString() this@BB.toString() &#125;&#125; Êâ©Â±ïÂáΩÊï∞ÂèØ‰ª•Âú®Â≠êÁ±ª‰∏≠Ë¢´Ë¶ÜÁõñÔºåËøôÁ±ªÊâ©Â±ïÂáΩÊï∞Âú®Ê¥æÂèëËøáÁ®ã‰∏≠ÈíàÂØπÊ¥æÂèëÊé•ÂèóËÄÖÊòØËôöÊãüÁöÑÔºåÈíàÂØπÊâ©Â±ïÊé•ÂèóËÄÖÊòØÈùôÊÄÅÁöÑ„ÄÇ ÂâçÈù¢ËØ¥ËøáÔºåÊâ©Â±ïÁöÑËß£ÊûêÊòØÈùôÊÄÅÁöÑÔºå‰ΩøÁî®Âì™‰∏™Êâ©Â±ïÂèñÂÜ≥‰∫éË∞ÉÁî®‰ªñÁöÑÊòØÂì™‰∏™Á±ªÂûãÁöÑÁ±ªÂØπË±°Ôºå‰ΩÜÊòØÊ¥æÂèëÊé•ÂèóËÄÖÊòØËôöÊãüÁöÑÊòØËØ¥Ôºå‰ªñÂ∞Ü‰ΩøÁî®Â≠êÁ±ª‰∏≠Êõ¥ÂÖ∑‰ΩìÁöÑÂÆûÁé∞„ÄÇ Áúã‰∏Ä‰∏™ÂÆòÁΩëÁöÑ‰æãÂ≠êÔºå‰∏ãÈù¢ÁöÑ caller(d:D) ÊñπÊ≥ïÊé•Êî∂ÁöÑÊòØ D Á±ªÂûãÁöÑÂØπË±°ÔºåÊ≠§Êó∂Ë∞ÉÁî®Êâ©Â±ïÂáΩÊï∞Êó∂Ôºå‰∏çÁÆ°‰Ω†‰º†ÈÄí‰ªÄ‰πàÁ±ªÂûãÁöÑÂÄº(D Êàñ D ÁöÑÂ≠êÁ±ªÂØπË±°)ÔºåÈÉΩ‰ºöË∞ÉÁî® D ÁöÑÊâ©Â±ïÂáΩÊï∞ÔºåÂõ†‰∏∫Êâ©Â±ïÊé•ÂèóËÄÖÁöÑËß£ÊûêÊòØÈùôÊÄÅÁöÑÔºå ÊâÄ‰ª•ÊâÄÊúâÁöÑÊâìÂç∞ÁªìÊûúÈÉΩÊòØ D.foo Ôºõ‰ΩÜÊòØÊ¥æÂèëÊé•ÂèóËÄÖÁöÑËß£ÊûêÊòØËôöÊãüÁöÑÔºåÊâÄ‰ª• C1().caller() Â∞Ü‰ΩøÁî®Â≠êÁ±ª‰∏≠Êõ¥ÂÖ∑‰ΩìÁöÑÂÆûÁé∞ÔºåC1 ÂØπÊâ©Â±ïÂáΩÊï∞ËøõË°å‰∫ÜÈáçËΩΩÔºåÂõ†Ê≠§‰ºö‰ΩøÁî® C1 ÈáçËΩΩÂêéÁöÑ caller() ÊâìÂç∞Âá∫ in C1„ÄÇ 123456789101112131415161718192021222324252627282930313233open class D &#123;&#125;class D1 : D() &#123;&#125;open class C &#123; open fun D.foo() &#123; println("D.foo in C") &#125; open fun D1.foo() &#123; println("D1.foo in C") &#125; fun caller(d: D) &#123; d.foo() // Ë∞ÉÁî®Êâ©Â±ïÂáΩÊï∞ &#125;&#125;class C1 : C() &#123; override fun D.foo() &#123; println("D.foo in C1") &#125; override fun D1.foo() &#123; println("D1.foo in C1") &#125;&#125;C().caller(D()) // ÊâìÂç∞ÁªìÊûú‰∏∫ "D.foo in C"C1().caller(D()) // ÊâìÂç∞ÁªìÊûú‰∏∫ "D.foo in C1" - Ê¥æÂèëÊé•ÂèóËÄÖÁöÑËß£ÊûêËøáÁ®ãÊòØËôöÊãüÁöÑC().caller(D1()) // ÊâìÂç∞ÁªìÊûú‰∏∫ "D.foo in C" - Êâ©Â±ïÊé•ÂèóËÄÖÁöÑËß£ÊûêËøáÁ®ãÊòØÈùôÊÄÅÁöÑ ÊÄªÁªìÊâ©Â±ïÂ£∞ÊòéÂú® top-level ÊâçËÉΩÂú®ÊâÄÊúâÂú∞ÊñπÈÉΩÂèØ‰ª•‰ΩøÁî®„ÄÇ Êâ©Â±ïÂáΩÊï∞ÁöÑÂ£∞ÊòéÂØπÂ≠êÁ±ªÊòØÊúâÊïàÁöÑÔºåÊàë‰ª¨Êâ©Â±ïÁà∂Á±ªÔºåÂ≠êÁ±ª‰πü‰ºöÊúâËøô‰∫õÊâ©Â±ï„ÄÇ Âú®Êâ©Â±ïÂáΩÊï∞‰∏≠ÂèØ‰ª•‰ΩøÁî® this ÂÖ≥ÈîÆÂ≠óÔºåËÆøÈóÆÂΩìÂâçÊâ©Â±ïÊé•Êî∂ËÄÖÂØπË±°„ÄÇ Êâ©Â±ïÁöÑÁöÑÊé•ÂèóËÄÖÂèØ‰ª•‰∏∫Á©∫Ôºå‰∏ç‰ºö NPE„ÄÇ ÊàêÂëòÂáΩÊï∞ÂíåÊâ©Â±ïÂáΩÊï∞ÂÜ≤Á™ÅÊó∂ÔºåÊàêÂëòÂáΩÊï∞‰ºòÂÖà„ÄÇ Êâ©Â±ïÊé•ÂèóËÄÖÁöÑËß£ÊûêÊòØÈùôÊÄÅÁöÑÔºåÂ∞Ü‰ºö‰ΩøÁî®Âì™‰∏™Êâ©Â±ïÂèñÂÜ≥‰∫éË∞ÉÁî®ÁöÑÁ±ªÁöÑÁ±ªÂûãÔºå‰πüÂ∞±ÊòØËØ¥Á±ªÂûãÁ°ÆÂÆö‰∫ÜÔºå‰ΩøÁî®ÁöÑÊñπÊ≥ïÂ∞±Á°ÆÂÆö‰∫ÜÔºåÂπ∂‰∏çÂú®‰πéÂÆûÈôÖ‰∏äÊòØ‰ªÄ‰πàÁ±ªÂûãÔºåÊØîÂ¶ÇÊàëÂèÇÊï∞ÊòØ d:DÔºåÂ∞±ÂÜ≥ÂÆö‰∫ÜÊòØ D Á±ªÂûãÁöÑÊâ©Â±ïÊñπÊ≥ïÔºå‰º†ÂÆÉÁöÑÂ≠êÁ±ª D1:D Á±ªÂûã‰πü‰∏ç‰ºöÊîπÂèò„ÄÇ Ê¥æÂèëÊé•ÂèóËÄÖÁöÑËß£ÊûêÊòØËôöÊãüÁöÑÔºåÂ∞Ü‰ºö‰ΩøÁî®Âì™‰∏™Êâ©Â±ïÂèñÂÜ≥‰∫éË∞ÉÁî®ÁöÑÁ±ªÁöÑÂÆûÈôÖÁöÑÁ±ªÂûãÔºåÂ∞Ü‰ºö‰ΩøÁî®ÂΩìÂâçÂÆûÈôÖÁ±ªÂûãÈáçËΩΩÁöÑÊñπÊ≥ïÔºåÊØîÂ¶ÇÊàëÂèÇÊï∞ÊòØ d:DÔºå‰ΩÜÊàë‰º†ÂÆÉÁöÑÂ≠êÁ±ª D1:D Á±ªÂûãÂàô‰ºö‰ΩøÁî® D1 ‰∏≠ÂØπÊâ©Â±ïÁöÑÈáçËΩΩ„ÄÇ]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android‰ΩøÁî®CMAKEÁºñËØëlibjpeg-turbo]]></title>
    <url>%2Farticle%2Ffc67caea%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªç‰ΩøÁî® CMAKE ÁºñËØë libjpeg-turbo Á±ªÂ∫ìÔºåÊú¨ÊñáÁõ∏ÂÖ≥‰ª£Á†ÅËØ∑Âú®GitHub-TurboJpegSample Êü•Áúã„ÄÇ libjpeg-turbo ÈôÑ GitHub Âú∞ÂùÄÔºålibjpeg-turbo ÊòØ‰∏™ËøêÁî®ÊûÅÂÖ∂ÂπøÊ≥õÁöÑÂ∫ìÔºåÂèØ‰ª•ËØ¥ÔºåÂü∫Êú¨‰∏äÁîµËÑë‰∏äÊâãÊú∫‰∏äËÉΩËßÅÂà∞ÁöÑ JPEG ÂéãÁº©ÁöÑÂú∞ÊñπÁî®ÁöÑ‰∏ÄËà¨ÈÉΩÊòØ libjpeg-turboÔºåÊú¨ÊñáÂè™‰ªãÁªç‰ΩøÁî®‰∫ÜÂõæÁâáÂéãÁº©ÁöÑÂäüËÉΩ„ÄÇ ‰ΩøÁî® Android ‰øùÂ≠òÂõæÁâáÊó∂ÔºåÊàë‰ª¨ÈÄöÂ∏∏‰ΩøÁî®ÁöÑÊòØ Bitmap.compress() ÊñπÊ≥ïÔºå‰ΩÜÊòØ‰ΩøÁî®ËØ•ÊñπÊ≥ïÊó∂ÔºåÂ∞±ÁÆó quality ËÆæÁΩÆ‰∏∫ 100ÔºåÂõæÁâáË¥®ÈáèËøòÊòØ‰ºöË∂äÊù•Ë∂äÊ®°Á≥äÔºåÈ¢úËâ≤‰πü‰ºöË∂äÊù•Ë∂äÁªøÔΩûÔºåËá≥‰∫é‰∏∫‰ªÄ‰πà‰ºöËøôÊ†∑ÔºåËØ∑Áúã Áü•‰πéÂõûÁ≠î„ÄÇ Ëøô‰∏™ÈóÆÈ¢òÂú®Ë¥¥Âêß‰∏ä‰ΩìÁé∞Â∞§‰∏∫ÊòéÊòæÔºåË¥¥ÂêßÈáåÈù¢ÁªèÂ∏∏ÂæàÂ§öÁªøÁªøÁöÑÂõæÁâáÂ∞±ÊòØÂõ†‰∏∫Â§ßÂÆ∂‰øùÂ≠ò‰∏ãÊù•‰∏ä‰º†‰∏äÂéªÔºå‰øùÂ≠ò‰∏ãÊù•‰∏ä‰º†‰∏äÂéª ‚Ä¶ ÂØºËá¥Ë¥®ÈáèË∂äÊãâË∂ä‰ΩéÔºåÊàëËß£Âéã‰∫Ü ÁæéÂõæÁßÄÁßÄ Âíå in ÁöÑ apk ÂèëÁé∞ÈáåÈù¢ÈÉΩÂºïÁî®‰∫Ü libjpeg.soÔºåÊâÄ‰ª•Ëøô‰∏™Â∫îËØ•ÊòØ‰∏Ä‰∏™ÊØîËæÉÈÄöÁî®ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ Êàë‰ª¨ÂØπÂõæÁâá‰ΩøÁî®Ë¥®ÈáèÂéãÁº©Êó∂ÂÆÉÁöÑÂ∫ïÂ±ÇÂ∞±ÊòØÁî® skia ÂºïÊìéËøõË°åÂ§ÑÁêÜÔºåÂ¶ÇÊàë‰ª¨Ë∞ÉÁî®bitmap.compress(Bitmap.CompressFormat.JPEG...) ‰ªñÂÆûÈôÖ‰ºö ‰ΩøÁî®‰∏Ä‰∏™libjpeg.so ÁöÑÂä®ÊÄÅÂ∫ìËøõË°åÁºñÁ†ÅÂéãÁº©„ÄÇandroid Âú®ËøõË°å jpeg ÂéãÁº©ÁºñÁ†ÅÁöÑÊó∂ÂÄôÔºåËÄÉËôëÂà∞‰∫ÜÊïàÁéáÈóÆÈ¢ò‰ΩøÁî®‰∫ÜÂÆöÈïøÁºñÁ†ÅÊñπÂºèËøõË°åÁºñÁ†ÅÔºàÂõ†‰∏∫ÂΩìÊó∂ÁöÑÊâãÊú∫ÊÄßËÉΩÈÉΩÊØîËæÉ‰ΩéÔºâÔºåËÄå ios ‰ΩøÁî®‰∫ÜÂèòÈïøÁºñÁ†ÅÁöÑÁÆóÊ≥ï‚Äî‚ÄîÂìàÂ§´ÊõºÁÆóÊ≥ï„ÄÇËÄå‰∏î IOS ÂØπ skia ÂºïÊìé‰πüÂÅö‰∫Ü‰ºòÂåñÔºåÊâÄ‰ª•Êàë‰ª¨ÁúãÂà∞ÂêåÊ†∑ÁöÑÂõæÁâáÂú® ios ‰∏äÂéãÁº©‰ºöÂ•Ω‰∏ÄÁÇπ„ÄÇ ÊñáÊ°£Â∞±Êï¥ÁêÜÂà∞ËøôÈáåÂêßÔºåÂÖ∂ÂÆû‰∏äÈù¢ËØ¥ÁöÑÈÉΩÊòØÁúã‰∫Ü‰∏Ä‰∫õÂçöÂÆ¢ÁöÑ‰ªãÁªçÁÑ∂ÂêéËøõË°å‰∫ÜÊï¥ÁêÜÂíåËÆ∞ÂΩïÔºåÊù•Ê∏ÖÊ•ö‰∏∫‰ªÄ‰πàÊàë‰ª¨ÈúÄË¶ÅËá™Â∑±Êù•ÁºñËØë so ÂÆûÁé∞ÂõæÁâáÂéãÁº©„ÄÇ ËµÑÊ∫êÂáÜÂ§áÊàë‰ª¨ÈúÄË¶Å‰∏ãËΩΩÊ∫êÁ†ÅÁºñËØëÂá∫ libjpeg.so Êù•‰ΩøÁî®Ôºåclone Ê∫ê‰ª£Á†Å„ÄÇ 1git clone git://git.linaro.org/people/tomgall/libjpeg-turbo/libjpeg-turbo.git -b linaro-android ÈáçÂëΩÂêçÊ†πÁõÆÂΩï libjpeg-turbo ‰∏∫ jniÔºåËøõÂÖ• jni ÁõÆÂΩïÔºåÈ¶ñÂÖà‰Ω†Â∫îËØ•ÈÖçÁΩÆÂ•Ω ndkÔºå ‰ΩøÁî® ndk-build ÂëΩ‰ª§ËøõË°åÁºñËØë„ÄÇ 1234mv libjpeg-turbo jnindk-build APP_ABI=armeabi-v7a,armeabi ÁºñËØëÂÆåÊàê‰πãÂêéÊàë‰ª¨Â∞±ÂèØ‰ª•Ëé∑ÂèñÂà∞ libjpeg.soÔºåÁõÆÂΩïÂ¶Ç‰∏ãÔºö 12345678910jnilibs - armeabi - libjpeg.so - armeabi-v7a - libjpeg.soobj - local - armeabi - armeabi-v7a Ê≠§Êó∂Â¶ÇÊûúÂá∫Áé∞‰∫Ü‰ª•‰∏ãÂºÇÂ∏∏Ôºö 12Users/march/AndroidRes/sdk/ndk-bundle/build/core/build-binary.mk:702: *** Android NDK: Aborting (set APP_ALLOW_MISSING_DEPS=true to allow missing dependencies) . Stop. ÊâìÂºÄ build-binary.mk Ê∑ªÂä† APP_ALLOW_MISSING_DEPS=true 123456789101112131415161718ifdef undefined_libs $(call __ndk_warning,Module $(LOCAL_MODULE) depends on undefined modules: $(undefined_libs)) # https://github.com/android-ndk/ndk/issues/208 # ndk-build didn't used to fail the build for a missing dependency. This # seems to have always been the behavior, so there's a good chance that # there are builds out there that depend on this behavior (as of right now, # anything using libc++ on ARM has this problem because of libunwind). # # By default we will abort in this situation because this is so completely # broken. A user may define APP_ALLOW_MISSING_DEPS to "true" in their # Application.mk or on the command line to revert to the old, broken # behavior. APP_ALLOW_MISSING_DEPS=true # here ifneq ($(APP_ALLOW_MISSING_DEPS),true) $(call __ndk_error,Aborting (set APP_ALLOW_MISSING_DEPS=true to allow missing dependencies)) endifendif ÂàõÂª∫Â∑•Á®ã‰ΩøÁî® AndroidStudio Êñ∞Âª∫Â∑•Á®ãÔºåÂãæÈÄâ support c++ÔºåÁîüÊàêÁöÑÂ∑•Á®ã‰∏≠‰ºöÂåÖÂê´ CMakeLists.txt Êñá‰ª∂ÔºåÂú®‰∏ãÈù¢ÁöÑ‰ªãÁªç‰∏≠Ê≤°ÊúâÊà™ÂõæÔºåÂØπÁõÆÂΩïÁöÑËØ¥ÊòéÂ¶ÇÊûú‰∏çÂ§üÊ∏ÖÊô∞ÔºåËØ∑Ëá≥ GitHub-TurboJpegSample Êü•ÁúãÂ∑•Á®ã‰ª£Á†Å„ÄÇ Âú® app ÁõÆÂΩï‰∏ãÊñ∞Âª∫Êñá‰ª∂Â§π libjpegÔºåÁî®Êù•Â≠òÊîæ so Êñá‰ª∂ÂíåÂ§¥Êñá‰ª∂ÔºåÁõÆÂΩïÂ¶Ç‰∏ãÔºö 123456789101112app - libjpeg - prebuilt - armeabi - libjpeg.so - include - Â§¥Êñá‰ª∂ - src - main - cpp - java - res ÁºñÂÜô compress.h Âíå compress.cÔºåËøô‰∏™Â∞±ÊòØÂéãÁº©ÁöÑÊ†∏ÂøÉ‰ª£Á†Å‰∫ÜÔºåÁØáÂπÖËæÉÈïøÔºå‰ΩÜÊòØËøôÈáåÂ∞±‰∏çË¥¥‰∫ÜÔºåËØ¶ÊÉÖËØ∑Êü•Áúã È°πÁõÆÁöÑ cpp ÁõÆÂΩïÔºå‰ΩøÁî®ÁöÑÁÆóÊ≥ïÊòØÁΩë‰∏äÊü•ÊâæÁöÑÔºåÁúãËµ∑Êù•ËµÑÊñô‰ªãÁªçÁöÑÈÉΩÊòØËøô‰∏ÄÁßç„ÄÇ CMakeLists.txt12345678910111213141516171819202122232425262728293031# ÊúÄ‰ΩéÁâàÊú¨cmake_minimum_required(VERSION 3.4.1)#ËÆæÁΩÆÁîüÊàêÁöÑ so Âä®ÊÄÅÂ∫ìÊúÄÂêéËæìÂá∫ÁöÑË∑ØÂæÑset(CMAKE_LIBRARY_OUTPUT_DIRECTORY $&#123;PROJECT_SOURCE_DIR&#125;/../jniLibs/$&#123;ANDROID_ABI&#125;)# ÂàùÂßãÂåñÁõÆÂΩïÂèòÈáèset(libjpeg_dir $&#123;CMAKE_SOURCE_DIR&#125;/libjpeg)set(INC_DIR $&#123;libjpeg_dir&#125;/include)set(libjpeg_lib_dir $&#123;libjpeg_dir&#125;/prebuilt)# Ê∑ªÂä†Â§¥Êñá‰ª∂ÁõÆÂΩïinclude_directories($&#123;INC_DIR&#125;)# ËÆæÁΩÆËµÑÊ∫êË∑ØÂæÑset(SOURCE_FILES src/main/cpp/compress.c)# add_library(compress SHARED $&#123;SOURCE_FILES&#125;)find_library(log-lib log)find_library(graphics jnigraphics)add_library(libjpeg SHARED IMPORTED)set_target_properties(libjpeg PROPERTIES IMPORTED_LOCATION $&#123;libjpeg_lib_dir&#125;/$&#123;ANDROID_ABI&#125;/libjpeg.so)target_link_libraries(compress libjpeg $&#123;log-lib&#125; $&#123;graphics&#125;) build.gradleÁõ∏ÊØîÊôÆÈÄöÁöÑ Android Â∑•Á®ãÔºåapp/build.gradle Êñá‰ª∂‰πüÊúâ‰∫õËÆ∏‰∏çÂêåÔºåÊàëÂè™ÁºñËØë‰∫Ü armeabi „ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839android &#123; compileSdkVersion 25 buildToolsVersion "25.0.3" defaultConfig &#123; ... externalNativeBuild &#123; cmake &#123; abiFilters 'armeabi' &#125; &#125; ndk &#123; //ÊâìÂåÖËøõAPKÁöÑABIÁ±ªÂûã abiFilters 'armeabi' &#125; &#125; externalNativeBuild &#123; cmake &#123; path "CMakeLists.txt" &#125; &#125; sourceSets &#123; main &#123; java.srcDirs 'src/java' jniLibs.srcDirs 'libs'// jniLibs.srcDirs '../libjpeg/prebuilt', 'libs' // ËøôÈáåÊ≤°ÊúâÊ∑ªÂä†libjpeg.soËøô‰∏™Âä®ÊÄÅÂ∫ìÔºå‰πüÊòØÂèØ‰ª•ÊâßË°åÁöÑ„ÄÇ // ÂéüÂõ†Âú®‰∫éandroidÊú¨Ë∫´‰ΩøÁî®‰∫Ü libjpeg.soËøô‰∏™Âä®ÊÄÅÂ∫ìÔºå // Ëøô‰∏™Â∫ìÂ≠òÊîæÂú®/system/lib‰∏ãÔºåÂ¶ÇÊûúÊàë‰ª¨Ê≤°ÊúâÂä†ÂÖ• // libjpeg.soÁöÑËØùÔºå‰ªñ‰ºöÂéª/system/lib‰∏ãÂä†ËΩΩËøô‰∏™Âä®ÊÄÅÂ∫ì // Â¶ÇÊûúandroidÊâãÊú∫‰∏äÊ≤°Êúâ libjpeg.soËøô‰∏™Âä®ÊÄÅÂ∫ìÁöÑËØùÔºå // ‰πüÂèØ‰ª•‰ΩøÁî®: jniLibs.srcDirs '../libjpeg/prebuilt' 'libcd // Â∞Ülibjpeg.soÂä†ÂÖ•Âà∞apk‰∏≠ &#125; &#125;&#125; ÁºñÂÜô java Ë∞ÉÁî®123456789101112131415161718public class TurboJpegUtils &#123; static &#123; System.loadLibrary("compress"); &#125; /** * ‰ΩøÁî®nativeÊñπÊ≥ïËøõË°åÂõæÁâáÂéãÁº©„ÄÇ * BitmapÁöÑÊ†ºÂºèÂøÖÈ°ªÊòØARGB_8888 &#123;@link android.graphics.Bitmap.Config&#125;„ÄÇ * * @param bitmap ÂõæÁâáÊï∞ÊçÆ * @param quality ÂéãÁº©Ë¥®Èáè * @param dstFile ÂéãÁº©ÂêéÂ≠òÊîæÁöÑË∑ØÂæÑ * @param optimize ÊòØÂê¶‰ΩøÁî®ÂìàÂ§´ÊõºÁÆóÊ≥ï * @return ÁªìÊûú */ public static native int compress(Bitmap bitmap, int quality, String dstFile, boolean optimize);&#125; ËøêË°å‰πãÂêéÂ∞±ÂèØ‰ª•ÊµãËØïÁªìÊûúÔºåÂêåÊó∂Âú® ÈÖçÁΩÆÁöÑ jniLibs ÁõÆÂΩï‰∏≠‰πü‰ºöÁîüÊàê so Êñá‰ª∂ÔºåÂú®Âà´ÁöÑÂú∞Êñπ‰ΩøÁî®ÂêåÂåÖÂêç‰∏ãÁöÑ TurboJpegUtils Á±ª‰πüÂèØ‰ª•Ë∞ÉÁî®‰∫Ü„ÄÇ ÊÄªÁªìÊµãËØïÂØπÊØîÁªìÊûúÔºåÁ°ÆÂÆûÊØî Andorid ÂéüÁîüÁöÑÁÆóÊ≥ïÂéãÁº©ÂõæÁâáÁöÑÊïàÊûúÂ•ΩÂæàÂ§öÔºå‰ΩÜÊòØÂéãÁº©Ê¨°Êï∞Â§ö‰∫Ü‰ª•Âêé‰πü‰ºöÊúâÊòéÊòæÁöÑÊ®°Á≥äÁé∞Ë±°„ÄÇ]]></content>
      <categories>
        <category>Android</category>
        <category>Ndk</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Ndk</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Ë∂ÖËΩªÈáèÁ∫ßË∑ØÁî±ÊñπÊ°à [ÂºÄÊ∫ê]]]></title>
    <url>%2Farticle%2F327200%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªç Android ËΩªÈáèÁ∫ßË∑ØÁî±ÊñπÊ°à ÁöÑÂÆûÁé∞ËøáÁ®ãÔºõ ‰ªÄ‰πàÊòØË∑ØÁî±ÂçèËÆÆÔºüË∑ØÁî±ÂçèËÆÆÂ∞±ÊòØÁ∫¶ÂÆö‰∏ÄÂ•óË∑ØÂæÑËß£ÊûêÁöÑËßÑÂàôÔºåÁÑ∂ÂêéÂ§ßÂÆ∂ÈÉΩÈÅµÂæ™Ëøô‰∏™ËßÑÂàôÊù•ËøõË°åÈ°µÈù¢Ë∑≥ËΩ¨Ôºå‰ªéËÄåËææÂà∞Âä®ÊÄÅÂíåËß£ËÄ¶ÁöÑÁõÆÁöÑ„ÄÇ Ë∑ØÁî±ÁöÑÂ≠òÂú®Êúâ‰ªÄ‰πàÊÑè‰πâÔºü Â§öÊ®°ÂùóÔºåÁªÑ‰ª∂ÂåñÔºåÊèí‰ª∂ÂåñÂºÄÂèëÊó∂Ôºå‰ΩøÁî®Ë∑ØÁî±ËøõË°åËß£ËÄ¶ÔºåÁªÑ‰ª∂‰πãÈó¥ÈÅµÂæ™Á∫¶ÂÆöÂ•ΩÁöÑË∑ØÁî±ÂçèËÆÆËøõË°åË∑≥ËΩ¨Ôºå‰∏çÂÜçÈúÄË¶Å‰∫íÁõ∏‰æùËµñ„ÄÇ Ê∑∑ÂêàÂºÄÂèëÊó∂ÔºåWeb Á´Ø‰ΩøÁî®Á∫¶ÂÆöÂ•ΩÁöÑË∑ØÁî±Ë∑ØÂæÑÔºåÂèØ‰ª•Êñπ‰æøË∑≥ËΩ¨ app ÂÜÖÂêÑ‰∏™È°µÈù¢Âπ∂ËøõË°åÂèÇÊï∞‰º†ÈÄí„ÄÇ Âú® GitHub ‰∏äÂ∑≤ÁªèÊúâÂæàÂ§öÁõ∏ÂΩìÊàêÁÜüÁöÑË∑ØÁî±Ê°ÜÊû∂Ôºå‰ªñ‰ª¨ÊîØÊåÅÁºñËØëÊó∂Ê≥®Ëß£Ë∑ØÂæÑÔºåÊîØÊåÅÈöêÂºèË∑≥ËΩ¨ÔºåÊîØÊåÅË∑≥ËΩ¨Âà∞ FragmentÔºåÊîØÊåÅËá™ÂÆö‰πâËß£ÊûêÁ≠âÁ≠â‚Ä¶ ÂèØ‰ª•ËØ¥ÈùûÂ∏∏Âº∫Â§ß‰∫Ü„ÄÇ„ÄÇ ÈÇ£Êàë‰∏∫Âï•ËøòË¶ÅËá™Â∑±ÂÜôÔºü‰∏ªË¶ÅËøòÊòØÂõ†‰∏∫ÔºåÊàë‰ª¨Ë¶ÅÁü•ÂÖ∂ÁÑ∂(Áü•ÈÅìËΩÆÂ≠êÊÄé‰πàÁî®)ÔºåÁü•ÂÖ∂ÊâÄ‰ª•ÁÑ∂(Áü•ÈÅìËΩÆÂ≠êÊÄé‰πàÈÄ†)„ÄÇÂè¶Â§ñËôΩÁÑ∂ÊàëÂÜôÁöÑÂäüËÉΩ‰∏çÂ¶ÇÈÇ£‰∫õÊ°ÜÊû∂Âº∫Â§ßÔºå‰ΩÜÊòØ‰πüÊõ¥ËΩªÈáèÔºåÂÆåÊàêË∑ØÁî±ÁöÑÁîüÊàê„ÄÅËß£ÊûêÂíåË∑≥ËΩ¨ÔºåÂ§ßÁ∫¶Âè™Êúâ 300 Ë°å‰ª£Á†ÅÔºåÁî®Êù•ÂÆåÊàêÁÆÄÂçïÁöÑË∑ØÁî±ÈúÄÊ±Ç‰πüÊòØ‰∏çÈîôÁöÑÈÄâÊã©„ÄÇ ÊàëÂπ∂Ê≤°ÊúâÁªôËøô‰∏™ÂäüËÉΩÂçïÁã¨ÂàõÂª∫‰∏Ä‰∏™Â∑•Á®ãÔºåÂõ†‰∏∫‰ªñÂ§™ËΩªÈáè‰∫ÜÔºåÊàëÊää‰ªñÈõÜÊàêÂú®‰∫ÜÊàëÂ∏∏Áî®ÂºÄÂèëÂ∫ì‰∏≠ÔºåÊú¨ÊñáÁõ∏ÂÖ≥ÁöÑÊ∫ê‰ª£Á†ÅÂèØ‰ª•Âú® GitHub-DevKitSample ‰∏≠Êü•Áúã„ÄÇ ÊÄªÁöÑÊù•ËØ¥Ëøô‰∏™Ë∑ØÁî±ÊñπÊ°àÁöÑÊ†∏ÂøÉÁöÑÂéüÁêÜÂ∞±ÊòØÂØπË∑ØÂæÑËøõË°åËß£ÊûêÔºåÁÑ∂ÂêéÁîüÊàê intentÔºåËÆæÁΩÆÂèÇÊï∞ÔºåËøõË°åÈ°µÈù¢Ë∑≥ËΩ¨ÔºåÂêåÊó∂ÂèàË¶ÅÊîØÊåÅ‰ΩøÁî®ÂèÇÊï∞ÔºåÈÖçÁΩÆÁîüÊàêË∑≥ËΩ¨ÁöÑË∑ØÁî±Ë∑ØÂæÑÔºåÊÑüË∞¢Âº∫Â§ßÁöÑ UriÔºåÁÆÄÂåñ‰∫ÜÊàëÂæàÂ§öËß£ÊûêÁöÑËøáÁ®ã„ÄÇ Ë∑ØÁî±ÂçèËÆÆ‰∏Ä‰∏™Ë∑ØÁî±Ë∑ØÂæÑÂ∫îËØ•Êúâ Scheme„ÄÅAuthority„ÄÅPath„ÄÅQueryParam Âá†ÈÉ®ÂàÜÁªÑÊàêÔºå‰ªñ‰ª¨‰ª•‰∏ãÈù¢ÁöÑÂΩ¢ÂºèÁªÑË£Ö„ÄÇ 1Scheme://Authority/Path?QueryParam ÊØîÂ¶Ç‰∏ãÈù¢ÁöÑ https ÂçèËÆÆÁöÑË∑ØÂæÑÔºåScheme Â∞±ÊòØ httpsÔºåAuthority Â∞±ÊòØ www.baidu.comÔºåPath Â∞±ÊòØ test/listÔºåQueryParam ‰ª• key=value ÁöÑÂΩ¢ÂºèË°®Áé∞ÔºåÂ¶Ç id=100„ÄÇ 1https://www.baidu.com/test/list?id=100&amp;key=value Âõ†Ê≠§Êàë‰ª¨ÂèØ‰ª•ÂÆöÂà∂Ëá™Â∑±ÁöÑÂçèËÆÆÔºå‰Ωú‰∏∫Â∫îÁî®ÂÜÖË∑≥ËΩ¨ÁöÑËß£ÊûêÊñπÂºèÔºåÊØîÂ¶ÇÂÆö‰πâ‰∏ãÈù¢ÁöÑÂçèËÆÆÔºö 1chendong://test.march.com/page/1?id=100 ÂÆöÂà∂ÂçèËÆÆÊàë‰ª¨Âú® Android ‰∏≠ËøõË°åÊï∞ÊçÆ‰º†ÈÄíÊó∂ÈúÄË¶ÅÁü•ÈÅìÂèÇÊï∞ÁöÑÁ±ªÂûãÔºåËÄåËøô‰∫õ‰ªÖ‰ªÖÈù†Â≠óÁ¨¶‰∏≤ÁöÑË∑ØÂæÑÊòØÊó†Ê≥ïË°®ËææÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂØπ QueryParam ÁöÑÂ£∞ÊòéÂΩ¢ÂºèËøõË°åÂ¶Ç‰∏ãÁ∫¶ÂÆöÔºåÂú® QueryParam ÁöÑ key ‰∏≠ÈúÄË¶ÅË°®ËææÊï∞ÊçÆÁöÑÁ±ªÂûã„ÄÇ int long boolean float double String Object i-key l-key b-key f-key d-key s-key o-key ÈÇ£‰πàÊàë‰ª¨Â∞±‰ºöÊúâÂ¶Ç‰∏ãÁöÑ‰∏Ä‰∏™Ë∑ØÂæÑÔºåÂèÇÊï∞‰ªçÁÑ∂ÊòØ key-value ÁöÑÂΩ¢ÂºèÔºåÂè™‰∏çËøá key ÁöÑÂÜôÊ≥ïÊàë‰ª¨ÊòØÊúâÁ∫¶ÂÆöË¶ÅÊ±ÇÁöÑ„ÄÇ 1chendong://testJs.march.com/page/1?i-iKey=10&amp;f-fKey=1.25&amp;l-lKey=10000000000&amp;d-dKey=1.23456789&amp;b-bKey=true&amp;s-sKey=test ÂΩìË∑ØÂæÑ‰∏∫ /page/pageId ËøôÁßçË∑ØÂæÑÊó∂Ë°®Á§∫ÊòØ‰∏Ä‰∏™È°µÈù¢Ë∑≥ËΩ¨ÔºåÂÖ∂‰∏≠ pageId ‰∏∫È°µÈù¢ÁöÑÂîØ‰∏ÄÊ†áÁ§∫ÔºåËá≥‰∫é pageId ÂíåÈ°µÈù¢ÁöÑÂîØ‰∏ÄÊò†Â∞ÑÔºåÈúÄË¶ÅÊèêÂâçÈÖçÁΩÆËµ∑Êù•ÔºåÊàë‰ª¨‰ºöÂ≠òÂÇ®‰ª•‰∏ã‰∏§‰∏™Êò†Â∞Ñ map„ÄÇ 1234// Â≠òÂÇ® pageId - Activity.class ÁöÑÊò†Â∞Ñprivate Map&lt;Integer,Class&gt; pageMap = new HashMap&lt;&gt;();// Â≠òÂÇ® Activity.class - pageId ÁöÑÊò†Â∞Ñprivate Map&lt;Class, Integer&gt; classMap = new HashMap&lt;&gt;(); Ëß£Êûê pageIdÈ¶ñÂÖàÂ∞ÜË∑ØÂæÑËΩ¨Êç¢‰∏∫ Uri 1Uri uri = Uri.parse(url); Êé•‰∏ãÊù•Êàë‰ª¨ÈúÄË¶ÅËøõË°å pageId ÁöÑËß£ÊûêÔºåÊàë‰ª¨Âè™ÊúâËé∑ÂèñÂà∞ pageId ÊâçËÉΩÁ°ÆËÆ§Ë∑≥ËΩ¨ÁöÑÊòØÂì™‰∏™È°µÈù¢Ôºå‰ΩøÁî®Ê≠£ÂàôÊù•ËøõË°åËß£Êûê„ÄÇ 12345678910111213141516// Ëß£Êûê pageIdprivate static int parsePageId(Uri uri) &#123; int pageId = -1; String path = uri.getPath(); if (path.startsWith(PATH_PAGE)) &#123; Pattern compile = Pattern.compile("/page/([0-9]*$)"); Matcher matcher = compile.matcher(path); if (matcher.find()) &#123; pageId = Integer.parseInt(matcher.group(1)); &#125; &#125; return pageId;&#125;// Ê†πÊçÆÊò†Â∞ÑÊãøÂà∞Ë∑≥ËΩ¨ÁïåÈù¢ÁöÑ classClass pageCls = sRouterConfig.pageMap.get(parsePageId(uri)); Ëß£Êûê‰º†ÈÄíÁöÑÂèÇÊï∞Â£∞Êòé‰ª•‰∏ãÂá†ÁßçÊï∞ÊçÆÁ±ªÂûãÁöÑÊ†áÁ§∫ 123456private static final String TYPE_I = "i";private static final String TYPE_L = "l";private static final String TYPE_B = "b";private static final String TYPE_F = "f";private static final String TYPE_D = "d";private static final String TYPE_S = "s"; ÂÆö‰πâ‰∏Ä‰∏™Êï∞ÊçÆÁ±ªÂûãÔºåÈô§‰∫ÜÂ≠òÂÇ® key-valueÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÂ∞ÜÊï∞ÊçÆÁöÑÁ±ªÂûãÂàÜÁ¶ªÂá∫Êù•Â≠òÂÇ® 12345678910private static class Param &#123; String type; // Á±ªÂûãÔºåi,l,b,f,d,s String key; String value; Param(String type, String key, String value) &#123; this.type = type; this.key = key; this.value = value; &#125;&#125; Ëß£ÊûêÂèÇÊï∞Ôºå‰ΩøÁî® Uri ÁöÑÂá†‰∏™ api ÂíåÁÆÄÂçïÁöÑÊ≠£ÂàôÔºåÂ∞Ü typeÔºåkeyÔºåvalue ‰∏âÈÉ®ÂàÜÂàÜÁ¶ªÂá∫Êù•Â≠òÂÇ®Ëµ∑Êù•Ôºåso easy ~ 1234567891011121314151617181920// Ëß£ÊûêÂèÇÊï∞private static List&lt;Param&gt; parseParams(Uri uri) &#123; Set&lt;String&gt; keySets = uri.getQueryParameterNames(); List&lt;Param&gt; params = new ArrayList&lt;&gt;(); Param param; Pattern compile = Pattern.compile("(\\b[ilbfds])-(.*)"); for (String queryKey : keySets) &#123; String queryValue = uri.getQueryParameter(queryKey); Matcher matcher = compile.matcher(queryKey); if (matcher.find()) &#123; String type = matcher.group(1); String key = matcher.group(2); if (!TextUtils.isEmpty(type) &amp;&amp; !TextUtils.isEmpty(key)) &#123; param = new Param(type, key, queryValue); params.add(param); &#125; &#125; &#125; return params;&#125; ÊûÑÂª∫Ë∑≥ËΩ¨ÁöÑ intentÊàë‰ª¨Â∑≤ÁªèÊãøÂà∞‰∫ÜÊÉ≥Ë¶ÅË∑≥ËΩ¨ÁöÑÁïåÈù¢ÔºåÁõ¥Êé•ÂàõÂª∫Ë∑≥ËΩ¨ÁöÑ intent 123// find classClass pageCls = sRouterConfig.pageMap.get(parsePageId(uri));Intent intent = new Intent(context, pageCls); Âêë intent ‰∏≠Ê∑ªÂä†‰º†ÈÄíÁöÑÂèÇÊï∞ 1234567891011121314151617181920212223242526272829// parse paramsList&lt;Param&gt; params = parseParams(uri);for (Param param : params) &#123; putExtra(intent, param);&#125;// Âêë intent Ê†πÊçÆÁ±ªÂûãËæìÂÖ•ÂèÇÊï∞private static void putExtra(Intent intent, Param param) &#123; switch (param.type) &#123; case TYPE_I: intent.putExtra(param.key, Integer.parseInt(param.value)); break; case TYPE_L: intent.putExtra(param.key, Long.parseLong(param.value)); break; case TYPE_B: intent.putExtra(param.key, Boolean.parseBoolean(param.value)); break; case TYPE_F: intent.putExtra(param.key, Float.parseFloat(param.value)); break; case TYPE_D: intent.putExtra(param.key, Double.parseDouble(param.value)); break; case TYPE_S: intent.putExtra(param.key, param.value); break; &#125;&#125; ËøõË°åÈ°µÈù¢Ë∑≥ËΩ¨ÔºåÂÖºÂÆπ‰∫Ü‰∏Ä‰∏ã startActivityForResult() ÁöÑÊÉÖÂÜµ„ÄÇ 1234567891011121314// ÂêØÂä® activityprivate static void startActivity(Context context, int reqCode, Class pageCls, List&lt;Param&gt; params) Intent intent = new Intent(context, pageCls); for (Param param : params) &#123; putExtra(intent, param); &#125; if (reqCode == -1) &#123; context.startActivity(intent); &#125; else if (context instanceof Activity) &#123; ((Activity) context).startActivityForResult(intent, reqCode); &#125; else &#123; context.startActivity(intent); &#125;&#125; Â±ïÁ§∫‰∏Ä‰∏ãÂÆåÊï¥ÁöÑÊµÅÁ®ã 12345678910111213141516171819public static boolean goFrom(Context context, String url, int reqCode) &#123; try &#123; Uri uri = Uri.parse(url); if (checkSchemeAuthority(uri)) return false; // find class Class pageCls = sRouterConfig.pageMap.get(parsePageId(uri)); if (pageCls == null) &#123; return false; &#125; // parse params List&lt;Param&gt; params = parseParams(uri); startActivity(context, reqCode, pageCls, params); &#125; catch (Exception e) &#123; e.printStackTrace(); return false; &#125; return true;&#125; ÁîüÊàêË∑≥ËΩ¨ÁöÑË∑ØÁî±Ë∑ØÂæÑÊàë‰ª¨ÊîØÊåÅ‰ΩøÁî®Ë∑ØÁî±Ë∑ØÂæÑË∑≥ËΩ¨ÁöÑÂêåÊó∂Ôºå‰πüË¶ÅÊîØÊåÅÈÖçÁΩÆÂèÇÊï∞ÁîüÊàêË∑≥ËΩ¨ÁöÑË∑ØÁî±Ë∑ØÂæÑ„ÄÇÂêåÊ†∑ÂÄüÂä© Uri ÁöÑÁõ∏ÂÖ≥ apiÔºåËøô‰∏™Êìç‰ΩúÂπ∂‰∏çÂõ∞Èöæ„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// url ÊûÑÂª∫Âô®public static class RouterUrlBuilder &#123; private final Uri.Builder uriBuilder; RouterUrlBuilder(String scheme, String authority, int pageId) &#123; uriBuilder = new Uri.Builder() .scheme(scheme) .authority(authority) .path(PATH_PAGE + pageId); &#125; public RouterUrlBuilder put(String key, int value) &#123; uriBuilder.appendQueryParameter(TYPE_I + SEPARATOR + key, String.valueOf(value)); return this; &#125; public RouterUrlBuilder put(String key, long value) &#123; uriBuilder.appendQueryParameter(TYPE_L + SEPARATOR + key, String.valueOf(value)); return this; &#125; public RouterUrlBuilder put(String key, boolean value) &#123; uriBuilder.appendQueryParameter(TYPE_B + SEPARATOR + key, String.valueOf(value)); return this; &#125; public RouterUrlBuilder put(String key, float value) &#123; uriBuilder.appendQueryParameter(TYPE_F + SEPARATOR + key, String.valueOf(value)); return this; &#125; public RouterUrlBuilder put(String key, double value) &#123; uriBuilder.appendQueryParameter(TYPE_D + SEPARATOR + key, String.valueOf(value)); return this; &#125; public RouterUrlBuilder put(String key, String value) &#123; uriBuilder.appendQueryParameter(TYPE_S + SEPARATOR + key, value); return this; &#125; public String build() &#123; return uriBuilder.build().toString(); &#125;&#125; Êàë‰ª¨ÈúÄË¶Å‰ΩøÁî® Router ‰∏≠ÈÖçÁΩÆÁöÑ Scheme„ÄÅAuthority ÂíåÈ°µÈù¢Êò†Â∞Ñ„ÄÇ 1234567public static RouterUrlBuilder newRouterUrlBuilder(Class targetActivity) &#123; if (sRouterConfig == null || !sRouterConfig.isSchemeAndAuthoritySet()) &#123; throw new IllegalArgumentException("set scheme and authority first"); &#125; return new RouterUrlBuilder(sRouterConfig.scheme, sRouterConfig.authority, sRouterConfig.classMap.get(targetActivity));&#125; ÁÑ∂ÂêéÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑ÈÖçÁΩÆ‰º†ÈÄíÁöÑÂèÇÊï∞ 123456String url = Router.newRouterUrlBuilder(HomeActivity.class) .put("iKey", 10) .put("sKey1", "ss=ss") .put("sKey2", "ss=s&amp;s") .put("sKey3", "ss&amp;ss") .build(); UsageÈÖçÁΩÆ Scheme„ÄÅAuthority ÂíåÈ°µÈù¢Êò†Â∞Ñ 1234new Router.RouterConfig("chendong", "testJs.march.com") .add(1, JBTestActivity.class) .add(2, HomeActivity.class) .apply(); Ê†πÊçÆË∑ØÂæÑË∑≥ËΩ¨ 12String url = "chendong://testJs.march.com/page/1?i-iKey=10&amp;f-fKey=1.25&amp;l-lKey=10000000000&amp;d-dKey=1.23456789&amp;b-bKey=true&amp;s-sKey=test";Router.goFrom(mActivity, url); ÁîüÊàêË∑ØÁî±Ë∑ØÂæÑ 123456String jumpUrl = Router.newRouterUrlBuilder(HomeActivity.class)s .put("iKey", 10) .put("sKey1", "ss=ss") .put("sKey2", "ss=s&amp;s") .put("sKey3", "ss&amp;ss") .build(); Êàë‰ª¨ÂèØ‰ª•Âú® html È°µÈù¢‰∏≠‰ΩøÁî®Ë∑ØÁî±Ë∑ØÂæÑËøõË°å app ÂÜÖÈ°µÈù¢Ë∑≥ËΩ¨ 1&lt;a href="chendong://testJs.march.com/page/2?i-id=10&amp;s-name"&gt; ÊâìÂºÄÈ¶ñÈ°µ &lt;/a&gt; Êà™Êñ≠Ë∑ØÂæÑËøõË°åË∑≥ËΩ¨ 123456789mWebView.setWebViewClient(new WebViewClient() &#123; @Override public boolean shouldOverrideUrlLoading(WebView view, String url) &#123; if (!Router.goFrom(mContext, url)) &#123; mWebView.loadUrl(url); &#125; return true; &#125;&#125;); todoÁé∞Âú®Âè™ÊòØÁÆÄÂåñÁöÑÁâàÊú¨ÔºåÊîØÊåÅÂü∫Êú¨ÁöÑÂäüËÉΩÔºåÈúÄË¶ÅÂÆåÂñÑÂíåÈ™åËØÅÁöÑÂú∞ÊñπËøòÊúâÂæàÂ§ö„ÄÇ ÊàëÊää‰ªñÈõÜÊàêÂú®‰∫ÜÊàëÂ∏∏Áî®ÂºÄÂèëÂ∫ì‰∏≠ÔºåÊú¨ÊñáÁõ∏ÂÖ≥ÁöÑÊ∫ê‰ª£Á†ÅÂèØ‰ª•Âú® GitHub-DevKitSample ‰∏≠Êü•Áúã„ÄÇ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ÂºÄÊ∫ê</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Rxjava2.xÂºÄÂèë-5-Êìç‰ΩúÁ¨¶-ÂèòÊç¢]]></title>
    <url>%2Farticle%2Fcc39cbd0%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰ª• Observable ‰∏∫‰æãÔºå‰∏ªË¶ÅÊÄªÁªì RxJava2.x ÂÖ≥‰∫é ÂèòÊç¢ Êìç‰ΩúÁõ∏ÂÖ≥Êìç‰ΩúÁ¨¶ÁöÑÁî®Ê≥ï„ÄÇ BufferÊî∂ÈõÜ Observable ÁöÑÊï∞ÊçÆÊîæËøõ‰∏Ä‰∏™Êï∞ÊçÆÂåÖË£πÔºåÁÑ∂ÂêéÂèëÂ∞ÑËøô‰∫õÊï∞ÊçÆÂåÖË£πÔºåËÄå‰∏çÊòØ‰∏ÄÊ¨°ÂèëÂ∞Ñ‰∏Ä‰∏™ÂÄº„ÄÇBuffer Êìç‰ΩúÁ¨¶Â∞Ü‰∏Ä‰∏™ Observable ÂèòÊç¢‰∏∫Âè¶‰∏Ä‰∏™ÔºåÂéüÊù•ÁöÑObservable Ê≠£Â∏∏ÂèëÂ∞ÑÊï∞ÊçÆÔºåÂèòÊç¢‰∫ßÁîüÁöÑ Observable ÂèëÂ∞ÑËøô‰∫õÊï∞ÊçÆÁöÑÁºìÂ≠òÈõÜÂêà„ÄÇ Ê≥®ÊÑèÔºöÂ¶ÇÊûúÂéüÊù•ÁöÑ Observable ÂèëÂ∞Ñ‰∫Ü‰∏Ä‰∏™ onError ÈÄöÁü•ÔºåBuffer ‰ºöÁ´ãÂç≥‰º†ÈÄíËøô‰∏™ÈÄöÁü•ÔºåËÄå‰∏çÊòØÈ¶ñÂÖàÂèëÂ∞ÑÁºìÂ≠òÁöÑÊï∞ÊçÆÔºåÂç≥‰ΩøÂú®Ëøô‰πãÂâçÁºìÂ≠ò‰∏≠ÂåÖÂê´‰∫ÜÂéüÂßãObservable ÂèëÂ∞ÑÁöÑÊï∞ÊçÆ„ÄÇ Êàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™ Observable Áî®Êù•ÂèëÈÄÅ 0 ÔΩû 49 ÁöÑ50‰∏™Êï¥Êï∞ÂÄºÔºåÂ¶Ç‰∏ãÔºö 12345List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();for (int i = 0; i &lt; 50; i++) &#123; integers.add(i);&#125;Observable&lt;Integer&gt; observable = Observable.fromIterable(integers); buffer(count[,skip][,bufferSupplier])123observable .buffer(10) .subscribe(new MyObserver&lt;List&lt;Integer&gt;&gt;("buffer1"));]]></content>
      <categories>
        <category>Android</category>
        <category>Library</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>RxJava2.x</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Rxjava2.xÂºÄÂèë-4-Êìç‰ΩúÁ¨¶-ÂàõÂª∫]]></title>
    <url>%2Farticle%2F6cad82c9%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰ª• Observable ‰∏∫‰æãÔºåÊú¨Êñá‰∏ªË¶ÅÊÄªÁªì RxJava2.x ÂÖ≥‰∫é ÂàõÂª∫ Êìç‰ΩúÁõ∏ÂÖ≥Êìç‰ΩúÁ¨¶ÁöÑÁî®Ê≥ï„ÄÇ CreateCreate ÊòØÊúÄÂü∫Êú¨ÁöÑÂàõÂª∫Êìç‰ΩúÁ¨¶Ôºå‰ªñÁî®Êù•ÂàõÂª∫‰∏Ä‰∏™Ê†áÂáÜÁöÑË¢´ËßÇÂØüËÄÖÔºåÁÑ∂ÂêéÊÅ∞ÂΩìÁöÑË∞ÉÁî®ËßÇÂØüËÄÖÁöÑ onNextÔºåonError Âíå onCompleted ÊñπÊ≥ï„ÄÇ ‰∏Ä‰∏™ÂΩ¢ÂºèÊ≠£Á°ÆÁöÑÊúâÈôê Observable ÂøÖÈ°ªÂ∞ùËØïË∞ÉÁî®ËßÇÂØüËÄÖÁöÑ onCompleted Ê≠£Â•Ω‰∏ÄÊ¨°ÊàñËÄÖÂÆÉÁöÑ onError Ê≠£Â•Ω‰∏ÄÊ¨°ÔºåËÄå‰∏îÊ≠§Âêé‰∏çËÉΩÂÜçË∞ÉÁî®ËßÇÂØüËÄÖÁöÑ‰ªª‰ΩïÂÖ∂ÂÆÉÊñπÊ≥ï„ÄÇ Â•ΩÁöÑÂÅöÊ≥ïÊòØÂú®Êï∞ÊçÆÂèëÂ∞Ñ‰πãÂâçÂà§Êñ≠ËßÇÂØüËÄÖÁöÑÁä∂ÊÄÅÔºåÂú®Ê≤°ÊúâËßÇÂØüËÄÖÊó∂‰∏çËøõË°å‰∫ã‰ª∂ÂèëÈÄÅÂíåËÆ°ÁÆóÊìç‰Ωú„ÄÇCreate Êìç‰ΩúÁ¨¶‰∏çÂú®‰ªª‰ΩïÁ∫øÁ®ãË∞ÉÂ∫¶Âô®‰∏äÊâßË°å„ÄÇ 123456789Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; if(!e.isDisposed()) &#123; e.onNext(1); e.onComplete(); &#125; &#125;&#125;); JustJust Á±ª‰ºº‰∫é FromÔºå‰ΩÜÊòØ From ‰ºöÂ∞ÜÊï∞ÁªÑÊàñ Iterable ÁöÑÊï∞ÊçÆÂèñÂá∫ÁÑ∂ÂêéÈÄê‰∏™ÂèëÂ∞ÑÔºåËÄå Just Âè™ÊòØÁÆÄÂçïÁöÑÂéüÊ†∑ÂèëÂ∞ÑÔºåÂ∞ÜÊï∞ÁªÑÊàñ Iterable ÂΩìÂÅöÂçï‰∏™Êï∞ÊçÆÔºåÂ¶Ç‰∏ãÊÉÖÂÜµÔºåÂ∞Ü‰ºöÁõ¥Êé•ÂèëÈÄÅ‰∏Ä‰∏™ List Âá∫ÂéªÔºåËÄå‰∏çÊòØÈáåÈù¢ÁöÑÊï∞Â≠ó 0; 123List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();integers.add(0);Observable.just(integers); Just ÂÆÉÊúÄÂ§öÊé•Âèó 10 ‰∏™ÂèÇÊï∞ÔºåËøîÂõû‰∏Ä‰∏™ÊåâÂèÇÊï∞ÂàóË°®È°∫Â∫èÂèëÂ∞ÑËøô‰∫õÊï∞ÊçÆÁöÑ Observable„ÄÇ‰ªé RxJava2.x ÂºÄÂßãÔºå‰ΩøÁî® just ‰∏çÂÖÅËÆ∏‰º†ÈÄí nullÔºåÂê¶Âàô‰ºöÂá∫Áé∞ÂºÇÂ∏∏(NPE) 12345678Observable.just(0);Observable.just(0, 1);Observable.just(0, 1, 2, 3, 4, 5, 6, 7, 8, 9) .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(@NonNull Integer o) throws Exception &#123; &#125; &#125;); FromÂú® RxJava1.x Êó∂ÔºåÂè™Êúâ‰∏Ä‰∏™ From Êìç‰ΩúÁ¨¶ÔºåÊé•Âèó‰∏çÂêåÁ±ªÂûãÁöÑÂèÇÊï∞Ôºå‰ΩÜÊòØÂú® RxJava2.x ÂØπËøô‰∏™Êìç‰ΩúÁ¨¶ËøõË°å‰∫ÜÁªÜÂàÜ„ÄÇ fromIterable Âíå fromArrayfrom Êìç‰ΩúÁ¨¶ÂèØ‰ª•ËΩ¨Êç¢ Êï∞ÁªÑ Âíå IterableÔºå‰∫ßÁîüÁöÑ Observable ‰ºöÂèëÂ∞Ñ Êï∞ÁªÑ Âíå Iterable ÁöÑÊØè‰∏ÄÈ°πÊï∞ÊçÆ„ÄÇ 123List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();integers.add(0);Observable.fromIterable(integers); 123int[] array = new int[]&#123;1,2,3&#125;;Observable.fromArray(array);Observable.fromArray(1,2,3); fromCallable Âíå fromFuturetodo‚Ä¶ Callable Âíå Future ÈÉΩÊòØ java.util.concurrent ÂåÖÈáåÈù¢ÁöÑÁ±ªÔºåÂÖ∑‰Ωì‰ΩøÁî®ÊñπÊ≥ïÊöÇÊó∂‰∏çÊ∏ÖÊ•öÔºåÂêéÈù¢Ë°•ÂÖÖ„ÄÇ fromCallable() ËøîÂõûÁöÑÊòØ onNext ‰º†ÈÄíÁöÑÊï∞ÊçÆÔºåfromCallable() Ëé∑ÂèñË¶ÅÂèëÈÄÅÁöÑÊï∞ÊçÆÁöÑ‰ª£Á†ÅÂè™‰ºöÂú®Êúâ Observer ËÆ¢ÈòÖ‰πãÂêéÊâßË°åÔºå‰∏îËé∑ÂèñÊï∞ÊçÆÁöÑ‰ª£Á†ÅÂèØ‰ª•Âú®Â≠êÁ∫øÁ®ã‰∏≠ÊâßË°å„ÄÇ 123456Observable.fromCallable(new Callable&lt;Integer&gt;() &#123; @Override public Integer call() throws Exception &#123; return 100 + 2; &#125;&#125;); 1234public static &lt;T&gt; Observable&lt;T&gt; fromFuture(Future&lt;? extends T&gt; future)public static &lt;T&gt; Observable&lt;T&gt; fromFuture(Future&lt;? extends T&gt; future, long timeout, TimeUnit unit)public static &lt;T&gt; Observable&lt;T&gt; fromFuture(Future&lt;? extends T&gt; future, long timeout, TimeUnit unit)public static &lt;T&gt; Observable&lt;T&gt; fromFuture(Future&lt;? extends T&gt; future, long timeout, TimeUnit unit, Scheduler scheduler) fromPublishertodo‚Ä¶ÊöÇÊó∂‰∏çÊòØÂæàÊ∏ÖÊ•öÂÆÉÁöÑÁî®Ê≥ïÔºå ‰ΩÜÊòØ Flowable ÂÆûÁé∞‰∫Ü Publisher Êé•Âè£ÔºåÂèØ‰ª•‰ΩøÁî®ËØ•ÊñπÊ≥ïÂ∞Ü Flowable ËΩ¨Êç¢‰∏∫ Observable 123456Flowable&lt;Integer&gt; integerFlowable = Flowable.create(new FlowableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull FlowableEmitter&lt;Integer&gt; e) throws Exception &#123; &#125;&#125;, BackpressureStrategy.BUFFER);Observable.fromPublisher(integerFlowable); DeferÁõ¥Âà∞ÊúâËßÇÂØüËÄÖËÆ¢ÈòÖÊó∂ÊâçÂàõÂª∫ ObservableÔºåÂπ∂‰∏î‰∏∫ÊØè‰∏™ËßÇÂØüËÄÖÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑObservable„ÄÇ Defer Êìç‰ΩúÁ¨¶‰ºö‰∏ÄÁõ¥Á≠âÂæÖÁõ¥Âà∞ÊúâËßÇÂØüËÄÖËÆ¢ÈòÖÂÆÉÔºåÁÑ∂ÂêéÂÆÉ‰ΩøÁî® Observable Â∑•ÂéÇÊñπÊ≥ïÁîüÊàê‰∏Ä‰∏™ Observable„ÄÇÂÆÉÂØπÊØè‰∏™ËßÇÂØüËÄÖÈÉΩËøôÊ†∑ÂÅöÔºåÂõ†Ê≠§Â∞ΩÁÆ°ÊØè‰∏™ËÆ¢ÈòÖËÄÖÈÉΩ‰ª•‰∏∫Ëá™Â∑±ËÆ¢ÈòÖÁöÑÊòØÂêå‰∏Ä‰∏™ ObservableÔºå‰∫ãÂÆû‰∏äÊØè‰∏™ËÆ¢ÈòÖËÄÖËé∑ÂèñÁöÑÊòØÂÆÉ‰ª¨Ëá™Â∑±ÁöÑÂçïÁã¨ÁöÑÊï∞ÊçÆÂ∫èÂàó„ÄÇ 123456789101112131415Observable&lt;Object&gt; defer = Observable.defer(new Callable&lt;ObservableSource&lt;?&gt;&gt;() &#123; @Override public ObservableSource&lt;?&gt; call() throws Exception &#123; return Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exceptio RxHelper.log("ÂèëÂ∞ÑÊï∞ÊçÆ --&gt; " + hashCode()); e.onNext(1); e.onComplete(); &#125; &#125;); &#125;&#125;);defer.subscribe(new MyObserver&lt;&gt;());defer.subscribe(new MyObserver&lt;&gt;()); Empty/Never/Throwempty ÂàõÂª∫‰∏Ä‰∏™‰∏çÂèëÂ∞Ñ‰ªª‰ΩïÊï∞ÊçÆ‰ΩÜÊòØÊ≠£Â∏∏ÁªàÊ≠¢ÁöÑ Observable; never ÂàõÂª∫‰∏Ä‰∏™‰∏çÂèëÂ∞ÑÊï∞ÊçÆ‰πü‰∏çÁªàÊ≠¢ÁöÑ Observable; throw ÂàõÂª∫‰∏Ä‰∏™‰∏çÂèëÂ∞ÑÊï∞ÊçÆ‰ª•‰∏Ä‰∏™ÈîôËØØÁªàÊ≠¢ÁöÑ Observable; 1234567891011Observable.empty();Observable.never();Observable.error(new Callable&lt;Throwable&gt;() &#123; @Override public Throwable call() throws Exception &#123; return new RuntimeException("test"); &#125;&#125;);Observable.error(new RuntimeException("test")); Interval Âíå RangeÈªòËÆ§Âú® computation Ë∞ÉÂ∫¶Âô®‰∏äÊâßË°åÔºå‰Ω†‰πüÂèØ‰ª•‰º†ÈÄí‰∏Ä‰∏™ÂèØÈÄâÁöÑScheduler ÂèÇÊï∞Êù•ÊåáÂÆöË∞ÉÂ∫¶Âô®„ÄÇ intervalinterval ËøîÂõû‰∏Ä‰∏™‰ª•Âõ∫ÂÆöÊó∂Èó¥Èó¥ÈöîÂèëÈÄÅÊó†ÈôêÈÄíÂ¢ûÁöÑ Long ÂûãÊï∞ÂàóÁöÑ Observable„ÄÇ 12345678public static Observable&lt;Long&gt; interval(long period, TimeUnit unit)public static Observable&lt;Long&gt; interval(long initialDelay, long period, TimeUnit unit)public static Observable&lt;Long&gt; interval(long period, TimeUnit unit, Scheduler scheduler)public static Observable&lt;Long&gt; interval(long initialDelay, long period, TimeUnit unit, Scheduler scheduler)// Âª∂Ëøü 1sÔºåÈó¥Èöî 100msÔºåÂèëÈÄÅÊó†ÈôêÂ¢ûÈïøÁöÑ Long ÂûãÊï∞ÂàóObservable.interval(1, 100, TimeUnit.MILLISECONDS) .subscribe(new MyObserver&lt;Long&gt;("interval")); intervalRangeintervalRange Á±ª‰ºº‰∫é intervalÔºå‰ΩÜÊòØÂÆÉÂèØ‰ª•ÊåáÂÆöËµ∑ÂßãÊï∞ÂÄºÔºåËÄå‰∏î‰∏çÂÜçÊòØ‰∏Ä‰∏™Êó†ÈôêÊï∞ÂàóÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂÅáËÆæËµ∑ÂßãÂÄº‰∏∫ start = aÔºåcount = bÔºåÂç≥‰∏∫‰ªé start ÂºÄÂßãÔºåÂèëÈÄÅ count ‰∏™Êï∞ÊçÆÔºåÈÇ£‰πàÂèëÈÄÅÁöÑÂå∫Èó¥ÊòØ [a,a+b)ÔºåÂ∑¶Èó≠Âè≥ÂºÄÔºå‰æãÂ¶Ç start = 100Ôºåcount = 120ÔºåÂå∫Èó¥ÊòØ [100,220)ÔºåÂç≥ 100 ÔΩû 219ÔºåÂè¶Â§ñ count ‰∏çËÉΩ‰∏∫Ë¥üÊï∞ÔºåÂê¶Âàô‰ºöÂºÇÂ∏∏„ÄÇ 123456public static Observable&lt;Long&gt; intervalRange(long start, long count, long initialDelay, long period, TimeUnit unit)public static Observable&lt;Long&gt; intervalRange(long start, long count, long initialDelay, long period, TimeUnit unit, Scheduler scheduler)// Âª∂Ëøü 1sÔºåÈó¥Èöî 100msÔºåÂèëÈÄÅ‰ªé100 ÂºÄÂßãÁöÑÈÄíÂ¢ûÊï∞ÂàóÔºåÂèëÈÄÅÁöÑÂå∫Èó¥ÊòØ [100,100+120)Observable.intervalRange(100, 120, 1, 100, TimeUnit.MILLISECONDS) .subscribe(new MyObserver&lt;Long&gt;("intervalRange")); range Âíå rangeLong‰ªé start ÂºÄÂßãÂèëÈÄÅ count ‰∏™Êï∞ÊçÆÔºåÂå∫Èó¥‰∏∫ [start,start+count) 123Observable.range(100,50).subscribe(new MyObserver&lt;Integer&gt;("range"));Observable.rangeLong(100,50).subscribe(new MyObserver&lt;Long&gt;("rangeLong")); Repeatrepeat ÈªòËÆ§Âú® trampoline Ë∞ÉÂ∫¶Âô®ÊâßË°å„ÄÇ repeatÈáçÂ§çÂèëÈÄÅ Observable ÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÊï∞ÁõÆÔºåÂ∞Ü‰ºöÊó†ÈôêÂèëÈÄÅ„ÄÇ 12345Observable.just(1).repeat(10) .subscribe(new MyObserver&lt;Integer&gt;("repeat1")); Observable.just(1).repeat() .subscribe(new MyObserver&lt;Integer&gt;("repeat2")); repeatWhentodo‚Ä¶ÂØπËøô‰∏™ËøêÁÆóÁ¨¶‰∏çÊòØÂæàÊ∏ÖÊ•öÂÆÉÁöÑ‰ΩúÁî® ÂÆÉ‰∏çÊòØÁºìÂ≠òÂíåÈáçÊîæÂéüÂßã Observable ÁöÑÊï∞ÊçÆÂ∫èÂàóÔºåËÄåÊòØÊúâÊù°‰ª∂ÁöÑÈáçÊñ∞ËÆ¢ÈòÖÂíåÂèëÂ∞ÑÂéüÊù•ÁöÑ Observable„ÄÇ Â∞ÜÂéüÂßã Observable ÁöÑÁªàÊ≠¢ÈÄöÁü•ÔºàÂÆåÊàêÊàñÈîôËØØÔºâÂΩìÂÅö‰∏Ä‰∏™ void Êï∞ÊçÆ‰º†ÈÄíÁªô‰∏Ä‰∏™ÈÄöÁü•Â§ÑÁêÜÂô®ÔºåÂÆÉ‰ª•Ê≠§Êù•ÂÜ≥ÂÆöÊòØÂê¶Ë¶ÅÈáçÊñ∞ËÆ¢ÈòÖÂíåÂèëÂ∞ÑÂéüÊù•ÁöÑ Observable„ÄÇËøô‰∏™ÈÄöÁü•Â§ÑÁêÜÂô®Â∞±ÂÉè‰∏Ä‰∏™ Observable Êìç‰ΩúÁ¨¶ÔºåÊé•Âèó‰∏Ä‰∏™ÂèëÂ∞Ñ void ÈÄöÁü•ÁöÑ Observable ‰∏∫ËæìÂÖ•ÔºåËøîÂõû‰∏Ä‰∏™ÂèëÂ∞Ñ void Êï∞ÊçÆÔºàÊÑèÊÄùÊòØÔºåÈáçÊñ∞ËÆ¢ÈòÖÂíåÂèëÂ∞ÑÂéüÂßã ObservableÔºâÊàñËÄÖÁõ¥Êé•ÁªàÊ≠¢ÔºàÊÑèÊÄùÊòØÔºå‰ΩøÁî® repeatWhen ÁªàÊ≠¢ÂèëÂ∞ÑÊï∞ÊçÆÔºâÁöÑObservable„ÄÇ 123456789Observable.just(1,2,4).repeatWhen(new Function&lt;Observable&lt;Object&gt;, ObservableSource&lt;?&gt;&gt;() &#123; @Override public ObservableSource&lt;?&gt; apply(@NonNull Observable&lt;Object&gt; objectObservable) throws Exception &#123; RxHelper.log("apply"); return objectObservable; &#125;&#125;) .subscribeOn(Schedulers.computation()) .subscribe(new MyObserver&lt;Integer&gt;("repeatWhen")); StartÂèëÈÄÅ‰∫ã‰ª∂‰πãÂâçÂÖàÂèëÈÄÅÊüê‰∫õ‰∫ã‰ª∂„ÄÇ 12345678910111213141516171819202122// Êé•Êî∂Âçï‰∏™ÂÄºObservable.just(1, 2, 4).startWith(100) .subscribe(new MyObserver&lt;Integer&gt;("startWith1"));// Êé•Êî∂ iterableList&lt;Integer&gt; ints = new ArrayList&lt;&gt;();ints.add(100);ints.add(200);Observable.just(1, 2, 4).startWith(ints) .subscribe(new MyObserver&lt;Integer&gt;("startWith2"));// Êé•Êî∂ arrayObservable.just(1, 2, 4).startWithArray(100, 200) .subscribe(new MyObserver&lt;Integer&gt;("startWith3"));// Êé•Êî∂ arrayInteger[] intArray = new Integer[]&#123;100, 200&#125;;Observable.just(1, 2, 4).startWithArray(intArray) .subscribe(new MyObserver&lt;Integer&gt;("startWith4"));// Êé•Êî∂ observableObservable.just(1, 2, 4).startWith(Observable.just(100, 200)) .subscribe(new MyObserver&lt;Integer&gt;("startWith5")); TimerÂú®‰∏ÄÂÆöÊó∂Èó¥‰πãÂêéÂèëÈÄÅ‰∏Ä‰∏™ÁâπÊÆäÂÄº 0Ôºåtimer Êìç‰ΩúÁ¨¶ÈªòËÆ§Âú® computation Á∫øÁ®ãÊâßË°å„ÄÇ 1234public static Observable&lt;Long&gt; timer(long delay, TimeUnit unit)public static Observable&lt;Long&gt; timer(long delay, TimeUnit unit, Scheduler scheduler)Observable.timer(10, TimeUnit.MILLISECONDS).subscribe(new MyObserver&lt;Long&gt;("timer"));]]></content>
      <categories>
        <category>Android</category>
        <category>Library</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>RxJava2.x</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS ÈÄâÊã©Âô®]]></title>
    <url>%2Farticle%2Fd318b1f4%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî® CSS ÂèØ‰ª•Â£∞ÊòéÂÖÉÁ¥†ÁöÑÊ†∑ÂºèËßÑÂàôÔºåËÄåËøô‰∫õËßÑÂàôÂà∞Â∫ïÂåπÈÖç‰ªÄ‰πàÁ±ªÂûãÁöÑÂÖÉÁ¥†ÔºåÂàôÁî±ÈÄâÊã©Âô®Êù•ÂÜ≥ÂÆöÔºåÈÄâÊã©Âô®Â∞±ÊòØÁî®Êù•‰∏∫Â£∞ÊòéÁöÑÊ†∑ÂºèÊåáÂÆö‰∏Ä‰∏™ÊàñËÄÖ‰∏ÄÁªÑÂåπÈÖçÁöÑÂÖÉÁ¥†ÁöÑ‰∏ÄÁßçËßÑÂàô„ÄÇ ‰∏∫‰∫ÜËÉΩÊª°Ë∂≥ÂåπÈÖçÁöÑÂ§öÁßçË¶ÅÊ±ÇÔºåÈÄâÊã©Âô®ÁöÑÁßçÁ±ª‰πüÊòØÂ§öÁßçÂ§öÊ†∑ÁöÑ„ÄÇ Âü∫Êú¨ÈÄâÊã©Âô® Ê†áËÆ∞ ÊèèËø∞ Âê´‰πâ * ÈÄöÁî®ÈÄâÊã©Âô® ÂåπÈÖçÊâÄÊúâÂÖÉÁ¥† E Ê†áÁ≠æÈÄâÊã©Âô® ÂåπÈÖçÊâÄÊúâ‰ΩøÁî®EÊ†áÁ≠æÁöÑÂÖÉÁ¥† .info classÈÄâÊã©Âô® ÂåπÈÖçÊâÄÊúâclassÂ±ûÊÄß‰∏≠ÂåÖÂê´infoÁöÑÂÖÉÁ¥† #footer idÈÄâÊã©Âô® ÂåπÈÖçÊâÄÊúâidÂ±ûÊÄßÁ≠â‰∫éfooterÁöÑÂÖÉÁ¥† ÂÆû‰æã 1234567* &#123; margin:0; padding:0; &#125;p &#123; font-size:2em; &#125;.info &#123; background:#ff0; &#125;p.info &#123; background:#ff0; &#125;p.info.error &#123; color:#900; font-weight:bold; &#125;#info &#123; background:#ff0; &#125;p#info &#123; background:#ff0; &#125; Â§öÂÖÉÁ¥†ÈÄâÊã©Âô® Ê†áËÆ∞ ÊèèËø∞ Âê´‰πâ E,F Â§öÂÖÉÁ¥†ÈÄâÊã©Âô® ÂêåÊó∂ÂåπÈÖçÊâÄÊúâEÂÖÉÁ¥†ÊàñFÂÖÉÁ¥†ÔºåEÂíåF‰πãÈó¥Áî®ÈÄóÂè∑ÂàÜÈöî E F Âêé‰ª£ÂÖÉÁ¥†ÈÄâÊã©Âô® ÂåπÈÖçÊâÄÊúâÂ±û‰∫éEÂÖÉÁ¥†Âêé‰ª£ÁöÑFÂÖÉÁ¥†ÔºåEÂíåF‰πãÈó¥Áî®Á©∫Ê†ºÂàÜÈöî E &gt; F Â≠êÂÖÉÁ¥†ÈÄâÊã©Âô® ÂåπÈÖçÊâÄÊúâEÂÖÉÁ¥†ÁöÑÂ≠êÂÖÉÁ¥†F E + F ÊØóÈÇªÂÖÉÁ¥†ÈÄâÊã©Âô® ÂåπÈÖçÊâÄÊúâÁ¥ßÈöèEÂÖÉÁ¥†‰πãÂêéÁöÑÂêåÁ∫ßÂÖÉÁ¥†F Á§∫‰æã 12345div p &#123; color:#f00; &#125;#nav li &#123; display:inline; &#125;#nav a &#123; font-weight:bold; &#125;div &gt; strong &#123; color:#f00; &#125;p + p &#123; color:#f00; &#125; Â±ûÊÄßÈÄâÊã©Âô® (css2.1) Ê†áËÆ∞ ÊèèËø∞ E[attr] ÂåπÈÖçÊâÄÊúâÂÖ∑ÊúâattrÂ±ûÊÄßÁöÑEÂÖÉÁ¥†Ôºå‰∏çËÄÉËôëÂÆÉÁöÑÂÄº„ÄÇ(Ê≥®ÊÑèÔºöEÂú®Ê≠§Â§ÑÂèØ‰ª•ÁúÅÁï•ÔºåÊØîÂ¶Ç‚Äù[title]‚ÄùÔºå‰ª•‰∏ãÂêå„ÄÇ) E[attr=val] ÂåπÈÖçÊâÄÊúâattrÂ±ûÊÄßÁ≠â‰∫é‚Äùval‚ÄùÁöÑEÂÖÉÁ¥† E[attr~=val] ÂåπÈÖçÊâÄÊúâattrÂ±ûÊÄßÂÖ∑ÊúâÂ§ö‰∏™Á©∫Ê†ºÂàÜÈöîÁöÑÂÄº„ÄÅÂÖ∂‰∏≠‰∏Ä‰∏™ÂÄºÁ≠â‰∫é‚Äùval‚ÄùÁöÑEÂÖÉÁ¥† E[attr&vert;=val] ÂåπÈÖçÊâÄÊúâattÂ±ûÊÄßÂÖ∑ÊúâÂ§ö‰∏™ËøûÂ≠óÂè∑ÂàÜÈöîÁöÑÂÄº„ÄÅÂÖ∂‰∏≠‰∏Ä‰∏™ÂÄº‰ª•‚Äùval‚ÄùÂºÄÂ§¥ÁöÑEÂÖÉÁ¥†Ôºå‰∏ªË¶ÅÁî®‰∫élangÂ±ûÊÄßÔºåÊØîÂ¶Ç‚Äùen‚Äù„ÄÅ‚Äùen-us‚Äù„ÄÅ‚Äùen-gb‚ÄùÁ≠âÁ≠â Á§∫‰æã 12345p[title] &#123; color:#f00; &#125;div[class=error] &#123; color:#f00; &#125;td[headers~=col1] &#123; color:#f00; &#125;p[lang|=en] &#123; color:#f00; &#125;blockquote[class=quote][cite] &#123; color:#f00; &#125; ‰º™Á±ª(css2.1)‰º™Á±ªÔºåË°®Á§∫ÂÆÉÂÖ∑ÊúâÁ±ªÁöÑÁõ∏‰ººÊÄßË¥®Ôºå‰ΩÜÊòØÂÆÉÂπ∂‰∏çÊòØÁ±ª„ÄÇ ÂèØ‰ª•ÁêÜËß£‰∏∫Ôºå‰º™Á±ªÊõ¥Â§öÁöÑË°®Á§∫ÁöÑÂÖÉÁ¥†ÁöÑ‰∏ÄÁßçÁä∂ÊÄÅÔºåÊØîÂ¶Ç :first-child Ë°®Á§∫ÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÂÖÉÁ¥†Ôºå:visited Ë°®Á§∫ÂÖÉÁ¥†Ë¢´ËÆøÈóÆËøáÔºåÔºàÂΩìÁÑ∂‰∏çÊòØÊâÄÊúâÂÖÉÁ¥†ÈÉΩ‰ºöÊúâË¢´ËÆøÈóÆËøáÁöÑËøôÁßçÁä∂ÊÄÅÔºâÁî±ÊµèËßàÂô®ÂàõÂª∫‰∏Ä‰∫õÂÜÖÁΩÆÁ±ªÔºåÊù•Ë°®ËææËøôÁßçÁä∂ÊÄÅÔºåÂπ∂Ê†πÊçÆÂÖÉÁ¥†ÂÆûÈôÖÁöÑÁä∂ÊÄÅÔºåÂêëËøô‰∫õÂÜÖÁΩÆÁ±ª‰∏≠Âä®ÊÄÅÊ∑ªÂä†ÊàñÂà†Èô§„ÄÇ Ê†áËÆ∞ ÊèèËø∞ E:first-child ÂåπÈÖçÁà∂ÂÖÉÁ¥†ÁöÑÁ¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥† E:link ÂåπÈÖçÊâÄÊúâÊú™Ë¢´ÁÇπÂáªÁöÑÈìæÊé• E:visited ÂåπÈÖçÊâÄÊúâÂ∑≤Ë¢´ÁÇπÂáªÁöÑÈìæÊé• E:active ÂåπÈÖçÈº†Ê†áÂ∑≤ÁªèÂÖ∂‰∏äÊåâ‰∏ã„ÄÅËøòÊ≤°ÊúâÈáäÊîæÁöÑEÂÖÉÁ¥† E:hover ÂåπÈÖçÈº†Ê†áÊÇ¨ÂÅúÂÖ∂‰∏äÁöÑEÂÖÉÁ¥† E:focus ÂåπÈÖçËé∑ÂæóÂΩìÂâçÁÑ¶ÁÇπÁöÑEÂÖÉÁ¥† E:lang(c) ÂåπÈÖçlangÂ±ûÊÄßÁ≠â‰∫écÁöÑEÂÖÉÁ¥† Á§∫‰æã 1234p:first-child &#123; font-style:italic; &#125;input[type=text]:focus &#123; color:#000; background:#ffe; &#125;input[type=text]:focus:hover &#123; background:#fff; &#125;q:lang(sv) &#123; quotes: "\201D" "\201D" "\2019" "\2019"; &#125; ‰º™ÂÖÉÁ¥†(css2.1) Ê†áËÆ∞ ÊèèËø∞ E:first-line ÂåπÈÖçEÂÖÉÁ¥†ÁöÑÁ¨¨‰∏ÄË°å E:first-letter ÂåπÈÖçEÂÖÉÁ¥†ÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÊØç E:before Âú®EÂÖÉÁ¥†‰πãÂâçÊèíÂÖ•ÁîüÊàêÁöÑÂÜÖÂÆπ E:after Âú®EÂÖÉÁ¥†‰πãÂêéÊèíÂÖ•ÁîüÊàêÁöÑÂÜÖÂÆπ Á§∫‰æã 1234p:first-line &#123; font-weight:bold; color;#600; &#125;.preamble:first-letter &#123; font-size:1.5em; font-weight:bold; &#125;.cbb:before &#123; content:""; display:block; height:17px; width:18px; background:url(top.png) no-repeat 0 0; margin:0 0 0 -18px; &#125;a:link:after &#123; content: " (" attr(href) ") "; &#125; ÂêåÁ∫ßÂÖÉÁ¥†ÈÄöÁî®ÈÄâÊã©Âô®(css3) Ê†áËÆ∞ ÊèèËø∞ E ~ F ÂåπÈÖç‰ªª‰ΩïÂú®EÂÖÉÁ¥†‰πãÂêéÁöÑÂêåÁ∫ßFÂÖÉÁ¥† Á§∫‰æã 1p ~ ul &#123; background:#ff0; &#125; Â±ûÊÄßÈÄâÊã©Âô®(css3) Ê†áËÆ∞ ÊèèËø∞ E[attr\^=‚Äùval‚Äù] Â±ûÊÄßattrÁöÑÂÄº‰ª•‚Äùval‚ÄùÂºÄÂ§¥ÁöÑÂÖÉÁ¥† E[attr$=‚Äùval‚Äù] Â±ûÊÄßattrÁöÑÂÄº‰ª•‚Äùval‚ÄùÁªìÂ∞æÁöÑÂÖÉÁ¥† E[attr*=‚Äùval‚Äù] Â±ûÊÄßattrÁöÑÂÄºÂåÖÂê´‚Äùval‚ÄùÂ≠óÁ¨¶‰∏≤ÁöÑÂÖÉÁ¥† Á§∫‰æã 1div[id^="nav"] &#123; background:#ff0; &#125; ‰∏éÁî®Êà∑ÁïåÈù¢ÊúâÂÖ≥ÁöÑ‰º™Á±ª(css3) Ê†áËÆ∞ ÊèèËø∞ E:enabled ÂåπÈÖçË°®Âçï‰∏≠ÊøÄÊ¥ªÁöÑÂÖÉÁ¥† E:disabled ÂåπÈÖçË°®Âçï‰∏≠Á¶ÅÁî®ÁöÑÂÖÉÁ¥† E:checked ÂåπÈÖçË°®Âçï‰∏≠Ë¢´ÈÄâ‰∏≠ÁöÑradio Êàñcheckbox ÂÖÉÁ¥† E:selection ÂåπÈÖçÁî®Êà∑ÂΩìÂâçÈÄâ‰∏≠ÁöÑÂÖÉÁ¥† Á§∫‰æã 1input[type="text"]:disabled &#123; background:#ddd; &#125; ÁªìÊûÑÊÄß‰º™Á±ª(css3) Ê†áËÆ∞ ÊèèËø∞ E:root ÂåπÈÖçÊñáÊ°£ÁöÑÊ†πÂÖÉÁ¥†ÔºåÂØπ‰∫éHTMLÊñáÊ°£ÔºåÂ∞±ÊòØHTMLÂÖÉÁ¥† E:nth-child(n) ÂåπÈÖçÂÖ∂Áà∂ÂÖÉÁ¥†ÁöÑÁ¨¨n‰∏™Â≠êÂÖÉÁ¥†ÔºåÁ¨¨‰∏Ä‰∏™ÁºñÂè∑‰∏∫1 E:nth-last-child(n) ÂåπÈÖçÂÖ∂Áà∂ÂÖÉÁ¥†ÁöÑÂÄíÊï∞Á¨¨n‰∏™Â≠êÂÖÉÁ¥†ÔºåÁ¨¨‰∏Ä‰∏™ÁºñÂè∑‰∏∫1 E:nth-of-type(n) ‰∏é:nth-child()‰ΩúÁî®Á±ª‰ººÔºå‰ΩÜÊòØ‰ªÖÂåπÈÖç‰ΩøÁî®ÂêåÁßçÊ†áÁ≠æÁöÑÂÖÉÁ¥† E:nth-last-of-type(n) ‰∏é:nth-last-child() ‰ΩúÁî®Á±ª‰ººÔºå‰ΩÜÊòØ‰ªÖÂåπÈÖç‰ΩøÁî®ÂêåÁßçÊ†áÁ≠æÁöÑÂÖÉÁ¥† E:last-child ÂåπÈÖçÁà∂ÂÖÉÁ¥†ÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÔºåÁ≠âÂêå‰∫é:nth-last-child(1) E:first-of-type ÂåπÈÖçÁà∂ÂÖÉÁ¥†‰∏ã‰ΩøÁî®ÂêåÁßçÊ†áÁ≠æÁöÑÁ¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÔºåÁ≠âÂêå‰∫é:nth-of-type(1) E:last-of-type ÂåπÈÖçÁà∂ÂÖÉÁ¥†‰∏ã‰ΩøÁî®ÂêåÁßçÊ†áÁ≠æÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÔºåÁ≠âÂêå‰∫é:nth-last-of-type(1) E:only-child ÂåπÈÖçÁà∂ÂÖÉÁ¥†‰∏ã‰ªÖÊúâÁöÑ‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÔºåÁ≠âÂêå‰∫é:first-child:last-childÊàñ :nth-child(1):nth-last-child(1) E:only-of-type ÂåπÈÖçÁà∂ÂÖÉÁ¥†‰∏ã‰ΩøÁî®ÂêåÁßçÊ†áÁ≠æÁöÑÂîØ‰∏Ä‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÔºåÁ≠âÂêå‰∫é:first-of-type:last-of-typeÊàñ :nth-of-type(1):nth-last-of-type(1) E:empty ÂåπÈÖç‰∏Ä‰∏™‰∏çÂåÖÂê´‰ªª‰ΩïÂ≠êÂÖÉÁ¥†ÁöÑÂÖÉÁ¥†ÔºåÊ≥®ÊÑèÔºåÊñáÊú¨ËäÇÁÇπ‰πüË¢´Áúã‰ΩúÂ≠êÂÖÉÁ¥† Á§∫‰æã 12345678910p:nth-child(3) &#123; color:#f00; &#125;p:nth-child(odd) &#123; color:#f00; &#125;p:nth-child(even) &#123; color:#f00; &#125;p:nth-child(3n+0) &#123; color:#f00; &#125;p:nth-child(3n) &#123; color:#f00; &#125;tr:nth-child(2n+11) &#123; background:#ff0; &#125;tr:nth-last-child(2) &#123; background:#ff0; &#125;p:last-child &#123; background:#ff0; &#125;p:only-child &#123; background:#ff0; &#125;p:empty &#123; background:#ff0; &#125; ÂèçÈÄâ‰º™Á±ª(css3) Ê†áËÆ∞ ÊèèËø∞ E:not(s) ÂåπÈÖç‰∏çÁ¨¶ÂêàÂΩìÂâçÈÄâÊã©Âô®ÁöÑ‰ªª‰ΩïÂÖÉÁ¥† Á§∫‰æã 1:not(p) &#123; border:1px solid #ccc; &#125; :target ‰º™Á±ª(css3) Ê†áËÆ∞ ÊèèËø∞ E:target ÂåπÈÖçÊñáÊ°£‰∏≠ÁâπÂÆö‚Äùid‚ÄùÁÇπÂáªÂêéÁöÑÊïàÊûú]]></content>
      <categories>
        <category>ÂâçÁ´Ø</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>ÂâçÁ´Ø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âø´ÈÄüÊé•ÂÖ• ÂæÆ‰ø°ÂæÆÂçöQQÈíâÈíâ ÂéüÁîüÁôªÂΩïÂàÜ‰∫´ [ÂºÄÊ∫ê]]]></title>
    <url>%2Farticle%2F3067853428%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî® ÂæÆÂçö„ÄÅQQ„ÄÅÂæÆ‰ø°„ÄÅÈíâÈíâ ÂéüÁîü SDK Êé•ÂÖ•ÔºåÊèê‰æõËøô‰∫õÂπ≥Âè∞ÁöÑÁôªÂΩï„ÄÅÂàÜ‰∫´ÂäüËÉΩÊîØÊåÅ„ÄÇÈíàÂØπ‰∏öÂä°ÈÄªËæëÂØπÂêÑ‰∏™Âπ≥Âè∞ÁöÑÊé•Âè£ËøõË°åÂ∞ÅË£ÖÔºåÂØπÂ§ñÊèê‰æõ‰∏ÄËá¥ÁöÑË°®Áé∞ÔºåÂú®ÂáèËΩªÊé•ÂÖ•ÂéãÂäõÁöÑÂêåÊó∂ÔºåÂèàËÉΩËé∑ÂæóÂéüÁîü SDK ÊúÄÂ§ßÁöÑÁÅµÊ¥ªÊÄß„ÄÇ ËÄÉËôëÂà∞ÊØè‰∏™Âπ≥Âè∞ÁöÑ SDK ‰πüÂú®‰∏çÊñ≠ÁöÑÊõ¥Êñ∞Ôºå‰∏îÊØè‰∏™È°πÁõÆÁöÑÈúÄÊ±ÇÂ∑ÆÂºÇÊØîËæÉÂ§ßÔºåÂ¶ÇÂèØËÉΩÂè™ÈúÄË¶ÅÊîØÊåÅÈÉ®ÂàÜÂπ≥Âè∞ÔºåÂõ†Ê≠§Ê≤°ÊúâÂØπÁ±ªÂ∫ìËøõË°åÂèëÂ∏ÉÔºåËØ∑‰∏ãËΩΩ GitHub ‰∏äÁöÑ module Ëá™Ë°å‰æùËµñÔºåÂú®Á±ªÂ∫ìËÆæËÆ°ÁöÑËøáÁ®ã‰∏≠ÔºåÊØè‰∏™Âπ≥Âè∞ÈÉΩÊòØÁã¨Á´ãÁöÑÔºåÂ¶ÇÊûúÂè™ÈúÄË¶ÅÊîØÊåÅÈÉ®ÂàÜÂπ≥Âè∞ÔºåÂè™ÈúÄË¶ÅÂà†Èô§ platform ÂåÖ‰∏ãÈù¢ÂØπÂ∫îÁöÑÂÆûÁé∞Âç≥ÂèØÔºå‰∏ç‰ºöÂØπÂÖ∂‰ªñÂπ≥Âè∞ÈÄ†ÊàêÂΩ±Âìç„ÄÇ È°πÁõÆÂú∞ÂùÄ : GitHub - SocialSdkLibrary Êú¨ÊñáÂú∞ÂùÄ ÔºöÂø´ÈÄüÊé•ÂÖ•ÂæÆ‰ø°ÂæÆÂçöQQÈíâÈíâÂéüÁîüÁôªÂΩïÂàÜ‰∫´ üéâ 2017.12.12 ÂØπ‰ª£Á†ÅËøõË°åÁÆÄÂçïÈáçÊûÑÂπ∂ÊµãËØïÔºåÂèëÂ∏ÉÁ¨¨‰∏Ä‰∏™Á®≥ÂÆöÁâàÊú¨ 1.0.0 üéâ 2018.2.12 ÊîØÊåÅÈíâÈíâÂàÜ‰∫´ ‰ºòÁÇπËøòÂú®‰ºòÂåñ‰∏≠‚Ä¶ üî• ÁÆÄÂçïÔºöÂè™ÈúÄË¶ÅÂÖ≥Ê≥®Âá†‰∏™ÁÆ°ÁêÜÁ±ªÂíåÁõ∏ÂÖ≥Êï∞ÊçÆÁöÑÊûÑÈÄ†Âç≥ÂèØÂÆûÁé∞ÊâÄÈúÄÂäüËÉΩÔºå‰∏çÈúÄË¶ÅËÄÉËôëÂ§çÊùÇÁöÑÊéàÊùÉÂíåÂàÜ‰∫´ÈÄªËæë„ÄÇ üî• ËΩªÈáèÔºöÈô§‰∫ÜÂøÖÈ°ªÁöÑÁ¨¨‰∏âÊñπ sdk ‰πãÂ§ñÔºåÊú¨È°πÁõÆÂè™‰æùËµñ‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂºÇÊ≠•‰ªªÂä°ÁöÑÊ°ÜÊû∂ bolts (38k)ÔºåÂêéÁª≠‰ºöËÄÉËôë‰πüÂâîÈô§ÊéâÔºå‰∏çÂºïÂÖ•Êó†Áî®‰æùËµñÔºå‰øùËØÅ‰∏éÂÆø‰∏ªÈ°πÁõÆÈ´òÂ∫¶Áªü‰∏Ä„ÄÇ üî• ÂÖ®Èù¢ÔºöÂÜÖÈÉ®Â≠òÂÇ®ÊéàÊùÉ tokenÔºåÈÅøÂÖçÂ§öÊ¨°ÊéàÊùÉÔºõÂØπ qq„ÄÅÂæÆ‰ø°„ÄÅÂæÆÂçö ÂÅö‰∫ÜÂÆåÂñÑÁöÑÊîØÊåÅÔºõ üî• Êâ©Â±ïÊÄßÔºö Âπ≥Âè∞Áã¨Á´ãÔºåÈ°πÁõÆ‰ª•Âπ≥Âè∞ËøõË°åÂàíÂàÜÔºåÂêÑ‰∏™Âπ≥Âè∞‰πãÈó¥ÂÆåÂÖ®Áã¨Á´ãÔºåÂ¶ÇÊûúÊÉ≥‰ªÖÊîØÊåÅÈÉ®ÂàÜÂπ≥Âè∞ÔºåÂè™ÈúÄË¶ÅÂà†Èô§ platform ÂåÖ‰∏ãËØ•Âπ≥Âè∞ÁöÑÂÖ∑‰ΩìÂÆûÁé∞Âç≥ÂèØ„ÄÇ ËØ∑Ê±Ç„ÄÅJSON Ëß£ÊûêÁ≠âÂäüËÉΩÂèØ‰ªéÂ§ñÈÉ®Ê≥®ÂÖ•‰ª£ÁêÜÔºåÂØπ‰∏Ä‰∫õÂäüËÉΩËøõË°åËá™ÂÆö‰πâÁöÑÊâ©Â±ï„ÄÇ ÂèØ‰ª•ÁªßÊâø AbsPlatform Êé•ÂÖ•ÂÖ∂‰ªñÂπ≥Âè∞ÂàÜ‰∫´ÔºåËá™ÂÆö‰πâÊâ©Â±ï„ÄÇ üî• ÂäüËÉΩÊÄßÔºöÈíàÂØπÂÆûÈôÖÈ°πÁõÆÈúÄÊ±ÇËøõË°åÊâ©Â±ïÔºå‰æãÂ¶ÇÂú®ÂàÜ‰∫´ÂâçÁªü‰∏ÄÂØπÂàÜ‰∫´Êï∞ÊçÆÊèê‰æõ‰∏ÄÊ¨°ÈáçÊñ∞ÊûÑÈÄ†ÁöÑÊú∫‰ºö„ÄÇ üî• ÂÖºÂÆπÊÄßÔºö ‰∏∫Â§ö‰∏™Âπ≥Âè∞Êèê‰æõÂ§ñËßÇ‰∏ÄËá¥ÁöÑÂàÜ‰∫´Êé•Âè£ÔºåËã•‰∏çÊîØÊåÅÔºå‰ΩøÁî® web ÂàÜ‰∫´ÂÖºÂÆπ„ÄÇ ÊîØÊåÅÁõ¥Êé•‰ΩøÁî®ÁΩëÁªúÂõæÁâáÂàÜ‰∫´ÔºåÂÜÖÁΩÆËá™Âä®‰∏ãËΩΩÂäüËÉΩ„ÄÇ ‰ΩøÁî® Intent ÂÖºÂÆπ‰∏çÊîØÊåÅÁöÑÊï∞ÊçÆÊ®°ÂºèÔºåÂ¶ÇÊîØÊåÅÊú¨Âú∞ËßÜÈ¢ëÂàÜ‰∫´Ôºåqq ÁöÑÁ∫ØÊñáÂ≠óÂàÜ‰∫´Á≠âÁ≠â„ÄÇ ‰∏ªË¶ÅÁ±ªÊñá‰ª∂‰ΩøÁî® SocialSdk Âè™ÈúÄË¶ÅÂÖ≥Ê≥®‰ª•‰∏ãÂá†‰∏™Êñá‰ª∂Ôºö üëâÔ∏è SocialSdk.java ÁªìÂêà SocialConfig.java Áî®Êù•ËøõË°åÊéàÊùÉ‰ø°ÊÅØÁöÑÈÖçÁΩÆ„ÄÇ üëâÔ∏è Target.java Á±ªÊòØÂçïÁã¨ÂàÜÁ¶ªÂá∫Êù•ÁöÑÂ∏∏ÈáèÁ±ªÔºåÊåáÂêë‰∫ÜÁôªÂΩïÂíåÂàÜ‰∫´ÁöÑÂÖ∑‰ΩìÁõÆÊ†á„ÄÇ üëâÔ∏è LoginManager.java Áî®Êù•ÂÆûÁé∞ qq„ÄÅÂæÆ‰ø°„ÄÅÂæÆÂçöÁ¨¨‰∏âÊñπÊéàÊùÉÁôªÂΩïÔºåÂÜÖÈÉ®Â≠òÂÇ® accessTokenÔºåÊó†ÈúÄÂ§öÊ¨°ÊéàÊùÉÔºåÂè™Ë¶ÅË∞ÉÁî® LoginManager.login() ÊñπÊ≥ï„ÄÇ üëâÔ∏èÔ∏è ShareManager.java Áî®Êù•ÂÆûÁé∞ 8 ÁßçÊï∞ÊçÆÁ±ªÂûã„ÄÅ4 ‰∏™Âπ≥Âè∞„ÄÅ8 ‰∏™Ê∏†ÈÅìÁöÑÂàÜ‰∫´ÔºåÂè™Ë¶ÅË∞ÉÁî® ShareManager.share() ÊñπÊ≥ï„ÄÇ gradle ÈÖçÁΩÆÈíàÂØπÂ§öÊñπ SDK ÁöÑË¶ÅÊ±ÇÔºåÂØπÊùÉÈôê„ÄÅÂíåÂøÖË¶ÅÁöÑÁïåÈù¢„ÄÅÊúçÂä°ÈÉΩÂ∑≤ÁªèÂú®Á±ªÂ∫ì‰∏≠ËøõË°å‰∫ÜÈÖçÁΩÆÔºåÂΩì‰æùËµñËØ•Á±ªÂ∫ìÊó∂Ôºå‰ºöËá™Âä®ÂêàÂπ∂Ôºå‰∏çËøá‰ªçÁÑ∂ËøòÈúÄË¶ÅÂú®È°πÁõÆÁöÑ app/build.gradle ‰∏≠ÈÖçÁΩÆÂØπÂ∫îÁöÑ qqId ÁöÑ manifestPlaceholdersÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123defaultConfig &#123; manifestPlaceholders = [qq_id: "11049xxxxx"]&#125; ÂÖ≥‰∫é manifestPlaceholders ÁöÑ‰ΩøÁî® 12345ÂΩì‰ΩøÁî® manifestPlaceholders = [qq_id: "11049xxxxx"] ÁöÑÊñπÂºèÊó∂Ôºå‰πãÂâçÂ£∞ÊòéÁöÑÊâÄÊúâ manifestPlaceholders ÈÉΩ‰ºöË¢´ÊõøÊç¢ÊéâÔºåÂè™‰øùÁïôÊúÄÂêéÁöÑ„ÄÇÂΩì‰ΩøÁî® manifestPlaceholders.qq_id = "11049xxxxx" ÁöÑÊñπÂºèÊó∂Ôºå‰ºöÂú®ÂéüÊù•ÁöÑ manifestPlaceholders ‰∏≠ËøΩÂä†Êñ∞ÁöÑÔºåÂêåÊó∂‰πü‰øùÁïô‰ª•ÂâçÁöÑ„ÄÇÂª∫ËÆÆÁöÑÊñπÂºèÊòØÔºåÂú® defaultConfig ‰∏≠‰ΩøÁî®Áõ¥Êé•ËµãÂÄºÁöÑÊñπÂºèÔºåËÄåÂú® buildTypes Âíå Favors ‰∏≠‰ΩøÁî®ËøΩÂä†ÁöÑÊñπÂºèÔºåÈÅøÂÖçÂ∞Ü‰πãÂâçÁöÑË¶ÜÁõñÊéâ„ÄÇ ÂàùÂßãÂåñ‰Ω†ÈúÄË¶ÅÂú®‰ΩøÁî® SDK ‰πãÂâçËøõË°åÂàùÂßãÂåñÊìç‰ΩúÔºåÂª∫ËÆÆÊîæÂú® Applicaton ‰∏≠ËøõË°å„ÄÇ 123456789101112131415161718192021String qqAppId = getString(R.string.QQ_APPID);String wxAppId = getString(R.string.WEICHAT_APPID);String wxSecretKey = getString(R.string.WEICHAT_APPKEY);String sinaAppId = getString(R.string.SINA_APPKEY);String ddAppId = getString(R.string.DD_APPID);SocialSdkConfig config = new SocialSdkConfig(this) .dd(ddAppId) // ÈÖçÁΩÆqq .qq(qqAppId) // ÈÖçÁΩÆwx .wechat(wxAppId, wxSecretKey) // ÈÖçÁΩÆsina .sina(sinaAppId) // ÈÖçÁΩÆSinaÁöÑRedirectUrlÔºåÊúâÈªòËÆ§ÂÄºÔºåÂ¶ÇÊûúÊòØÂÆòÁΩëÈªòËÆ§ÁöÑ‰∏çÈúÄË¶ÅËÆæÁΩÆ .sinaRedirectUrl("http://open.manfenmm.com/bbpp/app/weibo/common.php") // ÈÖçÁΩÆSinaÊéàÊùÉscope,ÊúâÈªòËÆ§ÂÄºÔºåÈªòËÆ§ÂÄº all .sinaScope(SocialConstants.SCOPE);// üëÆ Ê∑ªÂä† config Êï∞ÊçÆÔºåÂøÖÈ°ªSocialSdk.init(config);// üëÆ Ê∑ªÂä†Ëá™ÂÆö‰πâÁöÑ json Ëß£ÊûêÔºåÂøÖÈ°ªSocialSdk.setJsonAdapter(new GsonJsonAdapter()); adapter‰ΩøÁî® adapter ËøôÁßçÊ®°Âºè‰∏ªË¶ÅÂèÇÁÖß‰∫Ü‰∏Ä‰∫õÊàêÁÜüÁöÑÁ±ªÂ∫ìÔºåÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂØπÂ§ñÊèê‰æõÊõ¥Â•ΩÁöÑÊâ©Â±ïÊÄßÔºåËøôÈÉ®ÂàÜÂÜÖÂÆπÂèØ‰ª•ÂÖ≥Ê≥® SocialSdk.java. IJsonAdapterÔºåË¥üË¥£ Json Ëß£ÊûêÔºå‰∏∫‰∫Ü‰øùÊåÅÂíåÂÆø‰∏ªÈ°πÁõÆ json Ëß£ÊûêÊ°ÜÊû∂ÁöÑÁªü‰∏ÄÔºåÊòØÂøÖÈ°ªËá™ÂÆö‰πâÊ∑ªÂä†ÁöÑÔºàÊ≤°ÊúâÂÜÖÁΩÆ‰∏Ä‰∏™ÂÆûÁé∞ÊòØÂõ†‰∏∫‰ΩøÁî®Ëá™Â∏¶ÁöÑ JsonObject Ëß£ÊûêÂÆûÂú®È∫ªÁÉ¶ÔºåÂèà‰∏çÊÉ≥ÂÜÖÁΩÆ‰∏Ä‰∏™‰∏âÊñπÂ∫ìËøõÊù•ÔºåÈááÂèñÁöÑËøôÁßçÊäòË°∑ÊñπÊ°àÔºâÔºåÊèê‰æõ‰∏Ä‰∏™ Gson ‰∏ãÁöÑÂÆûÁé∞‰ªÖ‰æõÂèÇËÄÉ - GsonJsonAdapter.java IRequestAdapterÔºåË¥üË¥£ËØ∑Ê±ÇÊï∞ÊçÆÔºåÁõÆÂâçÂæÆ‰ø°ÁöÑ OAuth2 ÊéàÊùÉÂíåÂõæÁâá‰∏ãËΩΩÁöÑÁõ∏ÂÖ≥ËØ∑Ê±ÇÈÉΩÊòØ‰ΩøÁî® IRequestAdapter ‰ª£ÁêÜÔºåÂ∑≤Áªè‰ΩøÁî® URLConnection ÂÜÖÁΩÆ‰∫Ü‰∏Ä‰∏™ÂÆûÁé∞ÔºåÂ¶ÇÊûú‰Ω†ÊúâËá™Â∑±ÁöÑÈúÄÊ±ÇÂèØ‰ª•ÈáçÂÜôËøôÈÉ®ÂàÜÔºåÊ≥®ÊÑè https ËØ∑Ê±ÇÁöÑÂÖºÂÆπÔºåÂèØ‰ª•ÂèÇËÄÉ - RequestAdapterImpl.java ÁôªÂΩïÂäüËÉΩÁôªÈôÜÂäüËÉΩÊîØÊåÅ‰∏â‰∏™Âπ≥Âè∞ÔºåqqÔºåÂæÆ‰ø°ÔºåÂæÆÂçöÔºõ 1234// 3‰∏™Âπ≥Âè∞Target.LOGIN_QQ;Target.LOGIN_WX;Target.LOGIN_WB; ‰ΩøÁî® OnLoginListener ÁõëÂê¨ÁôªÂΩïËøîÂõûÁªìÊûúÔºåËøîÂõûÁöÑ LoginResult ‰∏≠‰∏ªË¶ÅÂåÖÊã¨ÁôªÂΩïÁ±ªÂûãÔºåÂü∫Êú¨Áî®Êà∑‰ø°ÊÅØÔºå‰ª§Áâå‰ø°ÊÅØ 3 ÈÉ®ÂàÜ„ÄÇ 123456789101112131415161718192021222324252627282930313233public class LoginResult &#123; // ÁôªÈôÜÁöÑÁ±ªÂûãÔºåÂØπÂ∫î Target.LOGIN_QQ Á≠â„ÄÇ„ÄÇ„ÄÇ private int type; // ËøîÂõûÁöÑÂü∫Êú¨Áî®Êà∑‰ø°ÊÅØ // ÈíàÂØπÁôªÂΩïÁ±ªÂûãÂèØÂº∫ËΩ¨‰∏∫ WbUser,WxUser,QQUser Êù•Ëé∑ÂèñÊõ¥Âä†‰∏∞ÂØåÁöÑ‰ø°ÊÅØ private BaseUser mBaseUser; // Êú¨Ê¨°ÁôªÈôÜÁöÑ token ‰ø°ÊÅØÔºåopenid,unionid,token,expires_in private BaseAccessToken mBaseToken;&#125;// ÁôªÈôÜÁªìÊûúÁõëÂê¨mOnLoginListener = new OnLoginListener() &#123; @Override public void onLoginSucceed(LoginResult loginResult) &#123; Log.e(TAG, loginResult.toString()); &#125; @Override public void onCancel() &#123; toast("ÁôªÂΩïÂèñÊ∂à"); &#125; @Override public void onException(PlatformException e) &#123; toast("ÁôªÂΩïÂ§±Ë¥• " + e.toString()); &#125;&#125;;// 3‰∏™Âπ≥Âè∞Target.LOGIN_QQ;Target.LOGIN_WX;Target.LOGIN_WB;// Âî§ÈÜíÁôªÈôÜLoginManager.login(mActivity, Target.LOGIN_QQ, mOnLoginListener); Ê∏ÖÈô§ÊéàÊùÉ tokenÔºå‰∏∫‰∫ÜÈÅøÂÖçÊØèÊ¨°ÁôªÂΩïÈÉΩË¶ÅÊ±ÇÁî®Êà∑ÊâìÂºÄÊéàÊùÉÁïåÈù¢ÈáçÊñ∞ÁÇπÂáªÊéàÊùÉÁöÑ‰∏çÂ•Ω‰ΩìÈ™åÔºåÁ±ªÂ∫ìÈáåÈù¢ÂØπ token ËøõË°å‰∫ÜÊåÅ‰πÖÂåñÁöÑÂ≠òÂÇ®ÔºåÂΩìÊú¨Âú∞ token Ê≤°ÊúâËøáÊúüÊó∂ÔºåÁõ¥Êé•‰ΩøÁî®Ëøô‰∏™ token ÂéªËØ∑Ê±ÇÁî®Êà∑‰ø°ÊÅØÔºåÂêåÊó∂Êèê‰æõ‰∫ÜÊ∏ÖÈô§Êú¨Âú∞ token ÁöÑÊñπÊ≥ï„ÄÇ 123456LoginManager.java// Ê∏ÖÈô§ÂÖ®ÈÉ®Âπ≥Âè∞ÁöÑ tokenpublic static void clearAllToken(Context context)// Ê∏ÖÈô§ÊåáÂÆöÂπ≥Âè∞ÁöÑ tokenpublic static void clearToken(Context context, @Target.LoginTarget int loginTarget) ÂàÜ‰∫´ÂäüËÉΩÊâ©Â±ïÊîØÊåÅ123456// ÂèëÁü≠‰ø°ShareManager.sendSms(mActivity,"13612391817","msg body");// ÂèëÈÇÆ‰ª∂ShareManager.sendEmail(mActivity,"1101873740@qq.com","subject","msg body");// ÊâìÂºÄÊ∏†ÈÅìÂØπÂ∫îÂ∫îÁî®ShareManager.openApp(mActivity,Target.SHARE_QQ_FRIENDS); 8 ÁßçÊï∞ÊçÆÊîØÊåÅÂàÜ‰∫´ÊîØÊåÅ 8 ÁßçÁ±ªÂûãÁöÑÊï∞ÊçÆÔºõÂ¶ÇÊûúÊüê‰∏™Âπ≥Âè∞‰∏çÂÖºÂÆπÊüêÁßçÁ±ªÂûãÁöÑÂàÜ‰∫´ÔºåÂ∞Ü‰ºö‰ΩøÁî® web ÂàÜ‰∫´ÁöÑÊñπÂºè‰ª£ÊõøÔºõÊØîÂ¶ÇÂæÆ‰ø°‰∏çÊîØÊåÅ app ÂàÜ‰∫´ÔºåÂàÜ‰∫´Âá∫Âéª‰πãÂêéÊó∂ web ÂàÜ‰∫´ÁöÑÊ®°Âºè„ÄÇÊîØÊåÅÁöÑ 8 ÁßçÁ±ªÂûãÂàÜÂà´ÊòØÔºö ÂºÄÂêØÊ∏†ÈÅìÂØπÁî®ÁöÑ app„ÄÇ ÂàÜ‰∫´ÊñáÂ≠ó„ÄÇ ÂàÜ‰∫´ÂõæÁâá( jpg , png , gif )„ÄÇ ÂàÜ‰∫´ app„ÄÇ ÂàÜ‰∫´ web„ÄÇ ÂàÜ‰∫´ music„ÄÇ ÂàÜ‰∫´ video„ÄÇ ÂàÜ‰∫´Êú¨Âú∞ videoÔºå‰ΩøÁî® Intent ÊñπÂºèÂî§ÈÜí„ÄÇ 8 ‰∏™ÂàÜ‰∫´Ê∏†ÈÅì123456789// ÊîØÊåÅÁöÑÂàÜ‰∫´Ê∏†ÈÅìTarget.SHARE_DD; // ÈíâÈíâÂ•ΩÂèãTarget.SHARE_QQ_FRIENDS; // qqÂ•ΩÂèãTarget.SHARE_QQ_ZONE; // qqÁ©∫Èó¥Target.SHARE_WX_FRIENDS; // ÂæÆ‰ø°Â•ΩÂèãTarget.SHARE_WX_ZONE; // ÂæÆ‰ø°ÊúãÂèãÂúàTarget.SHARE_WX_FAVORITE; // ÂæÆ‰ø°Êî∂ËóèTarget.SHARE_WB_NORMAL; // Êñ∞Êµ™ÂæÆÂçöTarget.SHARE_WB_OPENAPI; // Êñ∞Êµ™ÂæÆÂçöopenApiÂàÜ‰∫´Ôºå‰ΩøÁî®ËØ•ÊñπÊ≥ïÂàÜ‰∫´ÂõæÁâáÊó∂ÂæÆÂçöÂêéÈù¢‰ºöÂ∏¶‰∏Ä‰∏™Â∞èÂ∞æÂ∑¥ÔºåÂèØ‰ª•ÁÇπÂáªËøõÂÖ•ÂÆòÂæÆ ÂàõÂª∫ÂàÜ‰∫´Êï∞ÊçÆÂàÜ‰∫´Êó∂ÔºåÊàë‰ª¨È¶ñÂÖàË¶ÅÊûÑÈÄ†ÂàÜ‰∫´Áî®ÁöÑÊï∞ÊçÆÔºåShareObj ÂØπË±°Êèê‰æõ‰∫ÜÂ§öÁßçÈùôÊÄÅÊñπÊ≥ïÁî®Êù•Âø´ÈÄüÂàõÂª∫ÂØπÂ∫îÂàÜ‰∫´ÁöÑÁ±ªÂûãÁöÑÂØπË±°„ÄÇ 1234567891011121314151617181920212223242526272829// ÊµãËØïÁî®ÁöÑË∑ØÂæÑlocalImagePath = new File(Environment.getExternalStorageDirectory(), "1.jpg").getAbsolutePath();localVideoPath = new File(Environment.getExternalStorageDirectory(), "video.mp4").getAbsolutePath();localGifPath = new File(Environment.getExternalStorageDirectory(), "3.gif").getAbsolutePath();netVideoPath = "http://7xtjec.com1.z0.glb.clouddn.com/export.mp4";netImagePath = "http://7xtjec.com1.z0.glb.clouddn.com/token.png";netMusicPath = "http://7xtjec.com1.z0.glb.clouddn.com/test_music.mp3";netMusicPath = "http://mp3.haoduoge.com/sSocialSdkConfig/2017-05-19/1495207225.mp3";targetUrl = "http://bbs.csdn.net/topics/391545021";// ÊâìÂºÄÊ∏†ÈÅìÂØπÂ∫îappShareObj shareMediaObj = ShareObj.buildOpenAppObj();// ÂàÜ‰∫´ÊñáÂ≠óShareObj textObj = ShareObj.buildTextObj("ÂàÜ‰∫´ÊñáÂ≠ó", "summary");// ÂàÜ‰∫´ÂõæÁâáShareObj imageObj = ShareObj.buildImageObj("ÂàÜ‰∫´ÂõæÁâá", "summary", localImagePath);// ÂàÜ‰∫´gifShareObj imageGifObj = ShareObj.buildImageObj("ÂàÜ‰∫´ÂõæÁâá", "summary", localGifPath);// ÂàÜ‰∫´appShareObj appObj = ShareObj.buildAppObj("ÂàÜ‰∫´app", "summary", localImagePath, targetUrl);// ÂàÜ‰∫´webShareObj webObj = ShareObj.buildWebObj("ÂàÜ‰∫´web", "summary", localImagePath, targetUrl);// ÂàÜ‰∫´ËßÜÈ¢ëShareObj videoObj = ShareObj.buildVideoObj("ÂàÜ‰∫´ËßÜÈ¢ë", "summary", localImagePath, targetUrl, localVideoPath, 10);// ÂàÜ‰∫´Êú¨Âú∞ËßÜÈ¢ëÔºå‰ΩøÁî® Intent ÊñπÂºèÂî§ÈÜíÔºåÊîØÊåÅ qq„ÄÅÂæÆ‰ø° Â•ΩÂèãÂàÜ‰∫´ShareObj videoLocalObj = ShareObj.buildVideoObjByLocalPath(localVideoPath);// ÂàÜ‰∫´Èü≥‰πêShareObj musicObj = ShareObj.buildMusicObj("ÂàÜ‰∫´Èü≥‰πê", "summary", localImagePath, targetUrl, netMusicPath, 10); ÂàÜ‰∫´ÁõëÂê¨ÂàÜ‰∫´ÁªìÊûúÔºå‰ΩøÁî® OnShareListener ËøõË°åÊ£ÄÊµã„ÄÇOnShareListener Êèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÊñπÊ≥ïÊù•ÊîØÊåÅÂàÜ‰∫´ÁöÑÂêÑ‰∏™Èò∂ÊÆµÔºåÂÖ≥‰∫éÂàÜ‰∫´ÂØπË±°ÈáçÊûÑÁöÑÊìç‰ΩúÔºåÂú®‰∏ã‰∏ÄÈÉ®ÂàÜËØ¥Êòé„ÄÇ 1234567891011121314151617181920212223public class SimpleShareListener implements OnShareListener&#123; @Override public void onStart(int shareTarget, ShareObj obj) &#123; // ÂàÜ‰∫´ÂºÄÂßã &#125; @Override public ShareObj onPrepareInBackground(int shareTarget, ShareObj obj) &#123; // ÈáçÊûÑÂàÜ‰∫´ÂØπË±°Ôºå‰∏çÈúÄË¶ÅÊó∂ËøîÂõû null Âç≥ÂèØ return null; &#125; @Override public void onSuccess() &#123; // ÂàÜ‰∫´ÊàêÂäü &#125; @Override public void onFailure(SocialException e) &#123; // ÂàÜ‰∫´Â§±Ë¥• &#125; @Override public void onCancel() &#123; // ÂàÜ‰∫´ÂèñÊ∂à &#125;&#125; ÂèëËµ∑ÂàÜ‰∫´12// Âî§ÈÜíÂàÜ‰∫´ShareManager.share(mActivity, Target.SHARE_QQ_FRIENDS, imageObj, mOnShareListener); ÈáçÂÜôÂàÜ‰∫´ÂØπË±°ÂÖ≥‰∫éÈáçÂÜôÂàÜ‰∫´ÂØπË±°ÔºåÂÖ∂ÂÆûÊèê‰æõ‰∏ÄÁßçËÉΩÂú®ÂàÜ‰∫´‰πãÂâçÂØπÈúÄË¶ÅÂàÜ‰∫´ÁöÑ ShareObj ËøõË°åÁªü‰∏ÄÂ§ÑÁêÜÁöÑÊú∫‰ºöÔºåÁ±ª‰ºº‰∏≠Èó¥Êèí‰∏ÄÈÅìËá™ÂÆö‰πâÂ∑•Â∫èÔºåÊØîÂ¶ÇÂèØ‰ª•Áî®Êù•Ëß£ÂÜ≥ÁΩëÁªúÂõæÁâáÊó†Ê≥ïÂàÜ‰∫´ÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂÆÉ‰∏ãËΩΩÂà∞Êú¨Âú∞ÔºåÂú®ËøõË°åÂàÜ‰∫´ÔºåÂèàÊØîÂ¶ÇÂõæÁâáÂàÜ‰∫´Âá∫Âéª‰πãÂâçÂä†‰∏ä app Ê∞¥Âç∞Á≠âÊìç‰Ωú„ÄÇ ‰∏ªË¶ÅÊòØÈáçÂÜô OnShareListener ÁöÑ onPrepareInBackground ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ï‰ºöÂú®ÂàÜ‰∫´‰πãÂâçÈ¶ñÂÖàÊâßË°åÔºåÂ¶ÇÊûúËøîÂõû‰∏çÊòØ nullÔºåÂ∞Ü‰ºö‰ΩøÁî®Êñ∞ÂàõÂª∫ÁöÑ ShareObj ËøõË°åÂàÜ‰∫´ÔºåÂè¶Â§ñÁî±‰∫éËÄÉËôëÂà∞ÂèØËÉΩËøõË°åËÄóÊó∂Êìç‰ΩúÔºåËøô‰∏™ÊñπÊ≥ïÊòØÂú®Â≠êÁ∫øÁ®ãÊâßË°åÁöÑ„ÄÇ 12345@Overridepublic ShareObj onPrepareInBackground(int shareTarget,ShareObj obj) &#123; // ÈáçÊûÑÂàÜ‰∫´ÂØπË±°Ôºå‰∏çÈúÄË¶ÅÊó∂ËøîÂõû null Âç≥ÂèØ return null;&#125; Áúã‰∏Ä‰∏™Âü∫Êú¨ÁöÑÂÆû‰æãÔºå‰∏ªË¶ÅÂäüËÉΩÊòØÂú®ÂàÜ‰∫´‰πãÂâçÁî®Êù•Â∞ÜÁΩëÁªúÂõæ‰∏ãËΩΩÂà∞Êú¨Âú∞ÁÑ∂ÂêéÊõ¥Êñ∞ ShareObj ÊåáÂêëÁöÑÂõæÁâáÂú∞ÂùÄÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÊîØÊåÅÁΩëÁªúÂõæÁâáÁöÑÁõ¥Êé•ÂàÜ‰∫´ÔºåÂΩìÁÑ∂ÔºåËøô‰∏™ÂäüËÉΩÂ∑≤ÁªèÂÜÖÁΩÆÂú®Á±ªÂ∫ì‰∏≠„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455public class MyShareListener extends SimpleShareListener &#123; public static final String TAG = MyShareListener.class.getSimpleName(); private Context mContext; private LoadingDialog mLoadingDialog; public MyShareListener(Context context) &#123; mContext = context; mLoadingDialog = new LoadingDialog(mContext); &#125; @Override public void onStart(int shareTarget, ShareObj obj) &#123; if (mLoadingDialog != null) mLoadingDialog.show(); &#125; @Override public ShareObj onPrepareInBackground(int shareTarget, ShareObj obj) throws Exception&#123; // ÁΩëÁªúË∑ØÂæÑÔºåÂÖàËøõË°åÊñá‰ª∂‰∏ãËΩΩËøõË°åÊñá‰ª∂‰∏ãËΩΩ ShareObjHelper.prepareThumbImagePath(obj); // ÂàÜ‰∫´ÁÖßÁâá‰∏î‰∏çÊòØgifÊó∂Âä†Ê∞¥Âç∞ if (obj.getShareObjType() == ShareObj.SHARE_TYPE_IMAGE &amp;&amp; !FileHelper.isGifFile(obj.getThumbImagePath())) &#123; File thumbImageFile = new File(obj.getThumbImagePath()); File saveFile = new File(Constants.THUMB_IMAGE_PATH, thumbImageFile.getName()); if (!FileUtil.fileIsExist(saveFile.getAbsolutePath())) &#123; ImageUtils.drawWaterMarkSync(mContext, obj.getThumbImagePath(), saveFile.getAbsolutePath(), false, false); &#125; obj.setThumbImagePath(saveFile.getAbsolutePath()); &#125; return obj; &#125; @Override public void onSuccess() &#123; ToastUtil.show("ÂàÜ‰∫´ÊàêÂäü"); &#125; @Override public void onFailure(SocialException e) &#123; switch (e.getErrorCode()) &#123; case SocialException.CODE_NOT_INSTALL: ToastUtil.show("Â∫îÁî®Êú™ÂÆâË£Ö"); break; &#125; L.e(TAG, "ÂàÜ‰∫´Â§±Ë¥•" + e.toString()); &#125; @Override public void onCancel() &#123; ToastUtil.show("ÂàÜ‰∫´ÂèñÊ∂à"); &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ÂºÄÊ∫ê</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS Âü∫Á°Ä 1]]></title>
    <url>%2Farticle%2F5b70625a%2F</url>
    <content type="text"><![CDATA[CSS ÊåáÂ±ÇÂè†Ê†∑ÂºèË°® (Cascading Style Sheets) Ëß£ÂÜ≥ÂÜÖÂÆπ‰∏éË°®Áé∞ÂàÜÁ¶ªÁöÑÈóÆÈ¢ò„ÄÇ ÂºÄÂßã1234567891011121314151617body&#123; background-color:#d0e4fe;&#125;h1&#123; color:orange; text-align:center;&#125;p&#123; font-family:&quot;Times New Roman&quot;; font-size:20px;&#125;Âõõ‰∏™ÂÄº: Á¨¨‰∏Ä‰∏™ÂÄº‰∏∫Â∑¶‰∏äËßíÔºåÁ¨¨‰∫å‰∏™ÂÄº‰∏∫Âè≥‰∏äËßíÔºåÁ¨¨‰∏â‰∏™ÂÄº‰∏∫Âè≥‰∏ãËßíÔºåÁ¨¨Âõõ‰∏™ÂÄº‰∏∫Â∑¶‰∏ãËßí„ÄÇ‰∏â‰∏™ÂÄº: Á¨¨‰∏Ä‰∏™ÂÄº‰∏∫Â∑¶‰∏äËßí, Á¨¨‰∫å‰∏™ÂÄº‰∏∫Âè≥‰∏äËßíÂíåÂ∑¶‰∏ãËßíÔºåÁ¨¨‰∏â‰∏™ÂÄº‰∏∫Âè≥‰∏ãËßí‰∏§‰∏™ÂÄº: Á¨¨‰∏Ä‰∏™ÂÄº‰∏∫Â∑¶‰∏äËßí‰∏éÂè≥‰∏ãËßíÔºåÁ¨¨‰∫å‰∏™ÂÄº‰∏∫Âè≥‰∏äËßí‰∏éÂ∑¶‰∏ãËßí‰∏Ä‰∏™ÂÄº: Âõõ‰∏™ÂúÜËßíÂÄºÁõ∏Âêå ÊèíÂÖ•Ê†∑ÂºèË°®Âêë html ÊñáÊ°£‰∏≠ÊèíÂÖ•Ê†∑ÂºèË°®ÔºåÊ†∑ÂºèË°®‰∏≠‰∏çËÉΩÂåÖÂê´‰ªª‰ΩïÁöÑ html Ê†áÁ≠æ„ÄÇ Â¶ÇÊûúÊüê‰∫õÂ±ûÊÄßÂú®‰∏çÂêåÁöÑÊ†∑ÂºèË°®‰∏≠Ë¢´ÂêåÊ†∑ÁöÑÈÄâÊã©Âô®ÂÆö‰πâÔºåÈÇ£‰πàÂ±ûÊÄßÂÄºÂ∞Ü‰ªéÊõ¥ÂÖ∑‰ΩìÁöÑÊ†∑ÂºèË°®‰∏≠Ë¢´ÁªßÊâøËøáÊù•„ÄÇÂ§öÈáçÊ†∑ÂºèÂ±ÇÂè†‰ºòÂÖàÁ∫ßÂ¶Ç‰∏ãÔºåÂêå‰∏Ä‰ºòÂÖàÁ∫ßÂÜÖÂêåÊ†∑ÁöÑÊ†∑ÂºèÂêéÈù¢ÂÆö‰πâÁöÑÂÖ∑ÊúâÊõ¥È´òÁöÑ‰ºòÂÖàÁ∫ß ÂÜÖËÅîÊ†∑Âºè &gt; ÂÜÖÈÉ®Ê†∑ÂºèË°® &gt; Â§ñÈÉ®Ê†∑ÂºèË°® &gt; ÊµèËßàÂô®Áº∫ÁúÅËÆæÁΩÆ Â§ñÈÉ®Ê†∑ÂºèË°®ÊµèËßàÂô®‰ºö‰ªéÊñá‰ª∂ mystyle.css ‰∏≠ËØªÂà∞Ê†∑ÂºèÂ£∞ÊòéÔºåÂπ∂Ê†πÊçÆÂÆÉÊù•Ê†ºÂºèÊñáÊ°£ÔºåÂ§ñÈÉ®Ê†∑ÂºèË°®ÂèØ‰ª•Âú®‰ªª‰ΩïÊñáÊú¨ÁºñËæëÂô®‰∏≠ËøõË°åÁºñËæëÔºåÂ§ñÈÉ®Ê†∑ÂºèË°®Â∫îËØ•‰ª• .css Êâ©Â±ïÂêçËøõË°å‰øùÂ≠ò„ÄÇ 123&lt;head&gt;&lt;link rel="stylesheet" type="text/css" href="mystyle.css"&gt;&lt;/head&gt; ÂÜÖÈÉ®Ê†∑ÂºèË°®ÂΩìÂçï‰∏™ÊñáÊ°£ÈúÄË¶ÅÁâπÊÆäÁöÑÊ†∑ÂºèÊó∂ÔºåÂ∞±Â∫îËØ•‰ΩøÁî®ÂÜÖÈÉ®Ê†∑ÂºèË°®„ÄÇ 123456&lt;head&gt;&lt;style&gt; hr &#123;color:red;&#125; p &#123;margin-left:20px;&#125; body &#123;background-image:url("images/back40.gif");&#125;&lt;/style&gt; ÂÜÖËÅîÊ†∑ÂºèÁî±‰∫éË¶ÅÂ∞ÜË°®Áé∞ÂíåÂÜÖÂÆπÊ∑∑ÊùÇÂú®‰∏ÄËµ∑ÔºåÂÜÖËÅîÊ†∑Âºè‰ºöÊçüÂ§±ÊéâÊ†∑ÂºèË°®ÁöÑËÆ∏Â§ö‰ºòÂäø„ÄÇ‰æãÂ¶ÇÂΩìÊ†∑Âºè‰ªÖÈúÄË¶ÅÂú®‰∏Ä‰∏™ÂÖÉÁ¥†‰∏äÂ∫îÁî®‰∏ÄÊ¨°Êó∂ÔºåÂèØ‰ª•‰ΩøÁî®ÂÜÖËÅîÊ†∑Âºè„ÄÇË¶Å‰ΩøÁî®ÂÜÖËÅîÊ†∑ÂºèÔºå‰Ω†ÈúÄË¶ÅÂú®Áõ∏ÂÖ≥ÁöÑÊ†áÁ≠æÂÜÖ‰ΩøÁî®Ê†∑Âºèstyle Â±ûÊÄß„ÄÇstyle Â±ûÊÄßÂèØ‰ª•ÂåÖÂê´‰ªª‰Ωï CSS Â±ûÊÄß„ÄÇ 1&lt;p style="color:red;margin-left:20px"&gt;This is a paragraph.&lt;/p&gt; CSS ËÉåÊôØ Property ÊèèËø∞ background ÁÆÄÂÜôÂ±ûÊÄßÔºå‰ΩúÁî®ÊòØÂ∞ÜËÉåÊôØÂ±ûÊÄßËÆæÁΩÆÂú®‰∏Ä‰∏™Â£∞Êòé‰∏≠„ÄÇ background-attachment ËÉåÊôØÂõæÂÉèÊòØÂê¶Âõ∫ÂÆöÊàñËÄÖÈöèÁùÄÈ°µÈù¢ÁöÑÂÖ∂‰ΩôÈÉ®ÂàÜÊªöÂä®„ÄÇ background-color ËÆæÁΩÆÂÖÉÁ¥†ÁöÑËÉåÊôØÈ¢úËâ≤„ÄÇ background-image ÊääÂõæÂÉèËÆæÁΩÆ‰∏∫ËÉåÊôØ„ÄÇ background-position ËÆæÁΩÆËÉåÊôØÂõæÂÉèÁöÑËµ∑Âßã‰ΩçÁΩÆ„ÄÇ background-repeat ËÆæÁΩÆËÉåÊôØÂõæÂÉèÊòØÂê¶ÂèäÂ¶Ç‰ΩïÈáçÂ§ç„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758591. ËÉåÊôØÈ¢úËâ≤(background-color)ÂÆö‰πâÈ¢úËâ≤ÁöÑ‰∏âÁßçÊñπÂºè- ÂçÅÂÖ≠ËøõÂà∂Ôºö"#123456"- RGBÈ¢úËâ≤Ôºörgb(255,0,0)- È¢úËâ≤ÂêçÁß∞Ôºöred,greenbody &#123;background-color:#b0c4de;&#125;---2. ËÉåÊôØÂõæÂÉè(background-image)ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËÉåÊôØÂõæÂÉèËøõË°åÂπ≥Èì∫ÈáçÂ§çÊòæÁ§∫Ôºå‰ª•Ë¶ÜÁõñÊï¥‰∏™ÂÖÉÁ¥†ÂÆû‰Ωì.body &#123;background-image:url('paper.gif');&#125;---3. ËÉåÊôØÂõæÂÉèÂπ≥Èì∫ÊñπÂºè(background-repeat)ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂõæÂÉè‰ºöÊ∞¥Âπ≥ÂíåÂûÇÁõ¥Âπ≥Èì∫Ôºå‰ΩøÁî®background-repeatÊåáÂÆöÂπ≥Èì∫ÊñπÂºèÊ∞¥Âπ≥ÊñπÂêëÂπ≥Èì∫ background-repeat:repeat-x; ÂûÇÁõ¥ÊñπÂêëÂπ≥Èì∫ background-repeat:repeat-y; ‰∏çÂπ≥Èì∫ background-repeat:no-repeat; body&#123;background-image:url('img_tree.png');background-repeat:no-repeat;&#125;---4. ËÉåÊôØÂõæÂÉèÊªëÂä®ÊñπÂºè(background-attachment)scroll ÈªòËÆ§ÂÄº„ÄÇËÉåÊôØÂõæÂÉè‰ºöÈöèÁùÄÈ°µÈù¢ÂÖ∂‰ΩôÈÉ®ÂàÜÁöÑÊªöÂä®ËÄåÁßªÂä®„ÄÇfixed ÂΩìÈ°µÈù¢ÁöÑÂÖ∂‰ΩôÈÉ®ÂàÜÊªöÂä®Êó∂ÔºåËÉåÊôØÂõæÂÉè‰∏ç‰ºöÁßªÂä®„ÄÇinherit ËßÑÂÆöÂ∫îËØ•‰ªéÁà∂ÂÖÉÁ¥†ÁªßÊâø background-attachment Â±ûÊÄßÁöÑËÆæÁΩÆbody &#123; background-image: url(bgimage.gif);background-attachment: fixed;&#125;---5. ËÉåÊôØÂõæÂÉèÁöÑ‰ΩçÁΩÆ(background-position)ÊåáÂÆöËÉåÊôØÂõæÂÉèÁöÑ‰ΩçÁΩÆright top left bottombody&#123;background-image:url('img_tree.png');background-repeat:no-repeat;background-position:right top;&#125;---6. ÁÆÄÂÜôÂ±ûÊÄß(backgound)ÁÆÄÂÜôÂ±ûÊÄßÁöÑÈ°∫Â∫è‰∏∫ 1. background-color 2. background-image 3. background-repeat 4. background-attachment 5. background-positionbody &#123; background:#ffffff url('img_tree.png') no-repeat right top;&#125; CSS ÊñáÊú¨ Property ÊèèËø∞ color ËÆæÁΩÆÊñáÊú¨È¢úËâ≤ body {color:blue;} direction ËÆæÁΩÆÊñáÊú¨ÊñπÂêë„ÄÇ letter-spacing ËÆæÁΩÆÂ≠óÁ¨¶Èó¥Ë∑ù line-height ËÆæÁΩÆË°åÈ´ò text-align ÂØπÈΩêÂÖÉÁ¥†‰∏≠ÁöÑÊñáÊú¨ text-decoration ÂêëÊñáÊú¨Ê∑ªÂä†‰øÆÈ•∞ text-indent Áº©ËøõÂÖÉÁ¥†‰∏≠ÊñáÊú¨ÁöÑÈ¶ñË°å text-shadow ËÆæÁΩÆÊñáÊú¨Èò¥ÂΩ± text-transform ÊéßÂà∂ÂÖÉÁ¥†‰∏≠ÁöÑÂ≠óÊØç unicode-bidi ËÆæÁΩÆÊàñËøîÂõûÊñáÊú¨ÊòØÂê¶Ë¢´ÈáçÂÜô vertical-align ËÆæÁΩÆÂÖÉÁ¥†ÁöÑÂûÇÁõ¥ÂØπÈΩê white-space ËÆæÁΩÆÂÖÉÁ¥†‰∏≠Á©∫ÁôΩÁöÑÂ§ÑÁêÜÊñπÂºè word-spacing ËÆæÁΩÆÂ≠óÈó¥Ë∑ù 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001. ÊñáÊú¨È¢úËâ≤(color)ÂØπ‰∫éW3CÊ†áÂáÜÁöÑCSSÔºöÂ¶ÇÊûú‰Ω†ÂÆö‰πâ‰∫ÜÈ¢úËâ≤Â±ûÊÄßÔºå‰Ω†ËøòÂøÖÈ°ªÂÆö‰πâËÉåÊôØËâ≤Â±ûÊÄß„ÄÇbody &#123;color:blue;&#125;h1 &#123;color:#00ff00;&#125;h2 &#123;color:rgb(255,0,0);&#125;---2. ÊñáÊú¨ÂØπÈΩêÊñπÂºè(text-align)ÂõõÁßçÂèñÂÄºÔºöright left center justify(Ëá™ÈÄÇÂ∫îÁ™óÂè£ÂØπÈΩêÂØπ)p.date &#123;text-align:justify;&#125;---3. ÊñáÊú¨‰øÆÈ•∞(text-decoration)‰∏âÁßçÂèñÂÄºÔºöoverline(‰∏äÂàíÁ∫ø) line-through(Âà†Èô§Á∫ø) underline(‰∏ãÂàíÁ∫ø)h1 &#123;text-decoration:overline;&#125;---4. ÊñáÊú¨ËΩ¨Êç¢(text-transform)‰∏âÁßçÂèñÂÄºÔºöuppercase(ÂÖ®ÈÉ®Â§ßÂÜô) lowercase(ÂÖ®ÈÉ®Â∞èÂÜô) capitalize(È¶ñÂ≠óÊØçÂ§ßÂÜô)p.uppercase &#123;text-transform:uppercase;&#125;---5. ÊñáÊú¨Áº©Ëøõ(text-indent)È¶ñË°åÊñáÊú¨Áº©Ëøõp &#123;text-indent:50px;&#125;---6. ÊñáÂ≠óÈó¥Ë∑ù(letter-spacing)‰∏â‰∏™ÂèñÂÄºnormal ÈªòËÆ§„ÄÇËßÑÂÆöÂ≠óÁ¨¶Èó¥Ê≤°ÊúâÈ¢ùÂ§ñÁöÑÁ©∫Èó¥„ÄÇlength ÂÆö‰πâÂ≠óÁ¨¶Èó¥ÁöÑÂõ∫ÂÆöÁ©∫Èó¥ÔºàÂÖÅËÆ∏‰ΩøÁî®Ë¥üÂÄºÔºâ„ÄÇinherit ËßÑÂÆöÂ∫îËØ•‰ªéÁà∂ÂÖÉÁ¥†ÁªßÊâø letter-spacing Â±ûÊÄßÁöÑÂÄº„ÄÇh2 &#123;letter-spacing:-3px&#125;---7. ÊñáÂ≠óÈ´òÂ∫¶(line-height)normal ÈªòËÆ§„ÄÇËÆæÁΩÆÂêàÁêÜÁöÑË°åÈó¥Ë∑ù„ÄÇnumber ËÆæÁΩÆÊï∞Â≠óÔºåÊ≠§Êï∞Â≠ó‰ºö‰∏éÂΩìÂâçÁöÑÂ≠ó‰ΩìÂ∞∫ÂØ∏Áõ∏‰πòÊù•ËÆæÁΩÆË°åÈó¥Ë∑ù„ÄÇlength ËÆæÁΩÆÂõ∫ÂÆöÁöÑË°åÈó¥Ë∑ù„ÄÇ10px% Âü∫‰∫éÂΩìÂâçÂ≠ó‰ΩìÂ∞∫ÂØ∏ÁöÑÁôæÂàÜÊØîË°åÈó¥Ë∑ù„ÄÇinherit ËßÑÂÆöÂ∫îËØ•‰ªéÁà∂ÂÖÉÁ¥†ÁªßÊâø line-height Â±ûÊÄßÁöÑÂÄº„ÄÇp.big &#123;line-height:200%;&#125;p.test &#123;line-height:10px;&#125;---8. ÊñáÂ≠óÈò¥ÂΩ±(text-shadow)h-shadow ÂøÖÈúÄ„ÄÇÊ∞¥Âπ≥Èò¥ÂΩ±ÁöÑ‰ΩçÁΩÆ„ÄÇÂÖÅËÆ∏Ë¥üÂÄº„ÄÇv-shadow ÂøÖÈúÄ„ÄÇÂûÇÁõ¥Èò¥ÂΩ±ÁöÑ‰ΩçÁΩÆ„ÄÇÂÖÅËÆ∏Ë¥üÂÄº„ÄÇblur ÂèØÈÄâ„ÄÇÊ®°Á≥äÁöÑË∑ùÁ¶ª„ÄÇcolor ÂèØÈÄâ„ÄÇÈò¥ÂΩ±ÁöÑÈ¢úËâ≤„ÄÇÂèÇÈòÖ CSS È¢úËâ≤ÂÄº„ÄÇh1 &#123;color:white;text-shadow:2px -2px 3px #000;&#125;--- 9. ÊñáÊú¨‰π¶ÂÜôÊñπÂêëÂ§öËØ≠Ë®ÄÊîØÊåÅ(unicode-bidi)unicode-bidi Â±ûÊÄß‰∏é direction Â±ûÊÄß‰∏ÄËµ∑‰ΩøÁî®ÔºåÊù•ËÆæÁΩÆÊàñËøîÂõûÊñáÊú¨ÊòØÂê¶Ë¢´ÈáçÂÜôÔºå‰ª•‰æøÂú®Âêå‰∏ÄÊñáÊ°£‰∏≠ÊîØÊåÅÂ§öÁßçËØ≠Ë®Ä„ÄÇÂ¶ÇÈòøÊãâ‰ºØËØ≠Ë®ÄÊòØ‰ªéÂ∑¶Âà∞Âè≥‰π¶ÂÜôÁöÑ„ÄÇ‰ΩøÁî®ËØ•Â±ûÊÄßÂèØ‰ª•ÊîπÂèòÂå∫ÂüüÂÜÖÊñáÂ≠ó‰π¶ÂÜôÊñπÂêënormal ÈªòËÆ§„ÄÇ‰∏ç‰ΩøÁî®ÈôÑÂä†ÁöÑÂµåÂÖ•Â±ÇÈù¢„ÄÇ embed ÂàõÂª∫‰∏Ä‰∏™ÈôÑÂä†ÁöÑÂµåÂÖ•Â±ÇÈù¢„ÄÇ bidi-override ÂàõÂª∫‰∏Ä‰∏™ÈôÑÂä†ÁöÑÂµåÂÖ•Â±ÇÈù¢„ÄÇÈáçÊñ∞ÊéíÂ∫èÂèñÂÜ≥‰∫é direction Â±ûÊÄß„ÄÇ initial ËÆæÁΩÆËØ•Â±ûÊÄß‰∏∫ÂÆÉÁöÑÈªòËÆ§ÂÄº„ÄÇËØ∑ÂèÇÈòÖ initialinherit ‰ªéÁà∂ÂÖÉÁ¥†ÁªßÊâøËØ•Â±ûÊÄß„ÄÇËØ∑ÂèÇÈòÖ inherit„ÄÇdiv.ex1&#123; direction:rtl; unicode-bidi:bidi-override;&#125;---10. ÊñáÂ≠óÂûÇÁõ¥ÂØπÈΩê(vertical-align)baseline ÈªòËÆ§„ÄÇÂÖÉÁ¥†ÊîæÁΩÆÂú®Áà∂ÂÖÉÁ¥†ÁöÑÂü∫Á∫ø‰∏ä„ÄÇsub ÂûÇÁõ¥ÂØπÈΩêÊñáÊú¨ÁöÑ‰∏ãÊ†á„ÄÇsuper ÂûÇÁõ¥ÂØπÈΩêÊñáÊú¨ÁöÑ‰∏äÊ†átop ÊääÂÖÉÁ¥†ÁöÑÈ°∂Á´Ø‰∏éË°å‰∏≠ÊúÄÈ´òÂÖÉÁ¥†ÁöÑÈ°∂Á´ØÂØπÈΩêtext-top ÊääÂÖÉÁ¥†ÁöÑÈ°∂Á´Ø‰∏éÁà∂ÂÖÉÁ¥†Â≠ó‰ΩìÁöÑÈ°∂Á´ØÂØπÈΩêmiddle ÊääÊ≠§ÂÖÉÁ¥†ÊîæÁΩÆÂú®Áà∂ÂÖÉÁ¥†ÁöÑ‰∏≠ÈÉ®„ÄÇbottom ÊääÂÖÉÁ¥†ÁöÑÈ°∂Á´Ø‰∏éË°å‰∏≠ÊúÄ‰ΩéÁöÑÂÖÉÁ¥†ÁöÑÈ°∂Á´ØÂØπÈΩê„ÄÇtext-bottom ÊääÂÖÉÁ¥†ÁöÑÂ∫ïÁ´Ø‰∏éÁà∂ÂÖÉÁ¥†Â≠ó‰ΩìÁöÑÂ∫ïÁ´ØÂØπÈΩê„ÄÇlength ÁôæÂàÜÊØî% ‰ΩøÁî® "line-height" Â±ûÊÄßÁöÑÁôæÂàÜÊØîÂÄºÊù•ÊéíÂàóÊ≠§ÂÖÉÁ¥†„ÄÇÂÖÅËÆ∏‰ΩøÁî®Ë¥üÂÄº„ÄÇinherit ËßÑÂÆöÂ∫îËØ•‰ªéÁà∂ÂÖÉÁ¥†ÁªßÊâø vertical-align Â±ûÊÄßÁöÑÂÄº„ÄÇ--- 11. ÊñáÂ≠óÁ©∫ÁôΩÂ§ÑÁêÜ(white-space)normal ÈªòËÆ§„ÄÇÁ©∫ÁôΩ‰ºöË¢´ÊµèËßàÂô®ÂøΩÁï•„ÄÇpre Á©∫ÁôΩ‰ºöË¢´ÊµèËßàÂô®‰øùÁïô„ÄÇÂÖ∂Ë°å‰∏∫ÊñπÂºèÁ±ª‰ºº HTML ‰∏≠ÁöÑ &lt;pre&gt; Ê†áÁ≠æ„ÄÇnowrap ÊñáÊú¨‰∏ç‰ºöÊç¢Ë°åÔºåÊñáÊú¨‰ºöÂú®Âú®Âêå‰∏ÄË°å‰∏äÁªßÁª≠ÔºåÁõ¥Âà∞ÈÅáÂà∞ &lt;br&gt; Ê†áÁ≠æ‰∏∫Ê≠¢„ÄÇpre-wrap ‰øùÁïôÁ©∫ÁôΩÁ¨¶Â∫èÂàóÔºå‰ΩÜÊòØÊ≠£Â∏∏Âú∞ËøõË°åÊç¢Ë°å„ÄÇpre-line ÂêàÂπ∂Á©∫ÁôΩÁ¨¶Â∫èÂàóÔºå‰ΩÜÊòØ‰øùÁïôÊç¢Ë°åÁ¨¶„ÄÇinherit ËßÑÂÆöÂ∫îËØ•‰ªéÁà∂ÂÖÉÁ¥†ÁªßÊâø white-space Â±ûÊÄßÁöÑÂÄº---12. ÂçïËØçÈó¥Ë∑ù(word-spacing)ÂçïËØç‰πãÈó¥ÁöÑÈó¥Ë∑ùÔºå‰∏çÂêå‰∫életter-spacing(Â≠óÊØçÂ≠óÁ¨¶Èó¥Ë∑ù)normal ÈªòËÆ§„ÄÇÂÆö‰πâÂçïËØçÈó¥ÁöÑÊ†áÂáÜÁ©∫Èó¥„ÄÇlength ÂÆö‰πâÂçïËØçÈó¥ÁöÑÂõ∫ÂÆöÁ©∫Èó¥„ÄÇinherit ËßÑÂÆöÂ∫îËØ•‰ªéÁà∂ÂÖÉÁ¥†ÁªßÊâø word-spacing Â±ûÊÄßÁöÑÂÄº„ÄÇ CSS Â≠ó‰Ωì Property ÊèèËø∞ font Âú®‰∏Ä‰∏™Â£∞Êòé‰∏≠ËÆæÁΩÆÊâÄÊúâÁöÑÂ≠ó‰ΩìÂ±ûÊÄß font-family ÊåáÂÆöÊñáÊú¨ÁöÑÂ≠ó‰ΩìÁ≥ªÂàó font-size ÊåáÂÆöÊñáÊú¨ÁöÑÂ≠ó‰ΩìÂ§ßÂ∞è font-style ÊåáÂÆöÊñáÊú¨ÁöÑÂ≠ó‰ΩìÊ†∑Âºè font-variant ‰ª•Â∞èÂûãÂ§ßÂÜôÂ≠ó‰ΩìÊàñËÄÖÊ≠£Â∏∏Â≠ó‰ΩìÊòæÁ§∫ÊñáÊú¨„ÄÇ font-weight ÊåáÂÆöÂ≠ó‰ΩìÁöÑÁ≤óÁªÜ„ÄÇ 1234567891011121. Â≠ó‰ΩìÁ≥ªÂàó(font-family) font-family Â±ûÊÄßÂ∫îËØ•ËÆæÁΩÆÂá†‰∏™Â≠ó‰ΩìÂêçÁß∞‰Ωú‰∏∫‰∏ÄÁßç"ÂêéÂ§á"Êú∫Âà∂ÔºåÂ¶ÇÊûúÊµèËßàÂô®‰∏çÊîØÊåÅÁ¨¨‰∏ÄÁßçÂ≠ó‰ΩìÔºå‰ªñÂ∞ÜÂ∞ùËØï‰∏ã‰∏ÄÁßçÂ≠ó‰Ωì„ÄÇÊ≥®ÊÑè: Â¶ÇÊûúÂ≠ó‰ΩìÁ≥ªÂàóÁöÑÂêçÁß∞Ë∂ÖËøá‰∏Ä‰∏™Â≠ó,Â§ö‰∏™Ê±âÂ≠óÊàñÂ§ö‰∏™ÂçïËØçÔºåÂÆÉÂøÖÈ°ªÁî®ÂºïÂè∑p.serif&#123;font-family:"Times New Roman",Times,serif;&#125;---2. Â≠ó‰ΩìÊ†∑Âºè(font-style)normal italicÊñú‰Ωì obliqueÊñú‰Ωìp.oblique &#123;font-style:oblique;&#125;---3]]></content>
      <categories>
        <category>ÂâçÁ´Ø</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>ÂâçÁ´Ø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®ÂÆâÂÖ®ÁöÑÂçï‰æãÊ®°Âºè [ËÆæËÆ°Ê®°Âºè]]]></title>
    <url>%2Farticle%2F65563eb2%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰ªãÁªç Java Âçï‰æãÊ®°ÂºèÔºå‰∏ªË¶ÅÂåÖÊã¨Ôºö È•øÊ±âÂºèÂçï‰æãÂÆûÁé∞ ÊáíÊ±âÂºèÂçï‰æãÂÆûÁé∞ Á∫øÁ®ãÂÆâÂÖ®Âä†ÈîÅÂçï‰æãÂÆûÁé∞ ÂèåÈáçÊ£ÄÊü•Âä†ÈîÅÂçï‰æãÂÆûÁé∞„ÄÇ ‰ΩøÁî®Êûö‰∏æÂÆûÁé∞Âçï‰æã È•øÊ±âÂºèÈ°æÂêçÊÄù‰πâÔºåÂ∞±ÊòØÂæàÈ•ø‰∫ÜÔºåÂøÖÈ°ªÁ´ãÂàªÂàõÂª∫„ÄÇ È•øÊ±âÂºèÁöÑÁâπÁÇπÂ∞±ÊòØÁ©∫Èó¥Êç¢Êó∂Èó¥ÔºåÂú®ÂºÄÂßãÊó∂Â∞±ÂàõÂª∫ÔºåËÄå‰∏îÂè™ÂàõÂª∫‰∏ÄÊ¨°ÔºåËäÇÁ∫¶‰∫ÜËøêË°åÊó∂Èó¥Ôºå‰øùËØÅ‰∫ÜÁ∫øÁ®ãÂÆâÂÖ®ÔºåÁº∫ÁÇπÂ∞±ÊòØÂΩì‰Ω†‰∏çÈúÄË¶ÅÁî®ÁöÑÊó∂ÂÄô‰πüÂêåÊ†∑Âç†Áî®ÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ 123public class TokenProvider &#123; private static TokenProvider sInst = new TokenProvider();&#125; ÊáíÊ±âÂºè‰ΩìÁé∞‰∫Ü‰∏ÄÁßçÊáíÂä†ËΩΩÁöÑÊÄùÊÉ≥Ôºå‰∏çÈúÄË¶ÅÊó∂‰∏çÂàõÂª∫ÔºåÈúÄË¶ÅÊó∂ÊâçÂàõÂª∫„ÄÇ ÊáíÊ±âÂºèÁöÑÁâπÁÇπÂ∞±ÊòØÊó∂Èó¥Êç¢Á©∫Èó¥Ôºå‰∏çÈúÄË¶ÅÊó∂‰∏çÂàõÂª∫ÔºåÈúÄË¶ÅÊó∂ÊâçÂàõÂª∫ÔºåËäÇÁ∫¶‰∫ÜÂÜÖÂ≠òÁ©∫Èó¥ÔºåÁº∫ÁÇπÂ∞±ÊòØÊØèÊ¨°Ëé∑ÂèñÈÉΩÈúÄË¶ÅÂà§Êñ≠ÔºåÂ¢ûÂä†‰∫ÜËøêË°åÊó∂Èó¥ÔºåËÄå‰∏î‰∏çÂä†ÈîÅÁöÑÊáíÊ±âÂºèÊó†Ê≥ï‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®„ÄÇ Áúã‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑ È•øÊ±âÂºè ÂàõÂª∫Âçï‰æãÁöÑÊñπÊ≥ï 1234567891011public class TokenProvider &#123; private static TokenProvider sInst; public static TokenProvider getInst() &#123; if (sInst == null) &#123; sInst = new TokenProvider(); &#125; return sInst; &#125;&#125; ‰∏∫‰ªÄ‰πà‰ºöÊúâÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÈóÆÈ¢òÂë¢ÔºüÂõ†‰∏∫Â§öÁ∫øÁ®ãËÆøÈóÆÊó∂ÔºåÂÅáËÆæ A Á∫øÁ®ãÊ≠£Âú®ÂàõÂª∫ÂÆû‰ΩìÔºåÊ≠§Êó∂ B Á∫øÁ®ãÂ∑≤ÁªèÂºÄÂßãËøõË°å sInst == null ÁöÑÂà§Á©∫Êìç‰ΩúÔºåÊ≠§Êó∂ B Á∫øÁ®ã‰æø‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂÆû‰Ωì„ÄÇ Â¶Ç‰ΩïËß£ÂÜ≥ÔºüËØ∑Áúã‰∏ãÈù¢Á∫øÁ®ãÂÆâÂÖ®Âä†ÈîÅ Á∫øÁ®ãÂÆâÂÖ®Âä†ÈîÅÂΩì‰ΩøÁî®ÊáíÊ±âÂºèÊó∂ÔºåÂ¶ÇÊûúÂ§öÁ∫øÁ®ãÂêåÊó∂ÂàõÂª∫Âçï‰æãÔºå‰∏çÂä†ÈîÅÁöÑËØùÂ∞±‰ºöÂàõÂª∫Â§ö‰∏™ÂÆû‰ΩìÔºåÊó†Ê≥ï‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÔºåÊ≠§Êó∂Â∫îÂú®Âà§Á©∫Êìç‰Ωú‰πãÂâçÂä†ÈîÅÔºåËÆ©ÂÖ∂‰ªñÁ∫øÁ®ãÂú®Â§ñÈù¢Á≠âÂæÖÂ∑≤ÁªèËøõÂÖ•ÁöÑÁ∫øÁ®ãÂÆåÊàêÊìç‰ΩúÔºåÂàõÂª∫ÂÆåÊàêÂÆû‰ΩìÔºåËøôÊó∂Á¨¨‰∫å‰∏™Á∫øÁ®ãËøõÂÖ•Êó∂ÔºåsInst Â∑≤Áªè‰∏ç‰∏∫Á©∫ÂèØ‰ª•Áõ¥Êé•ËøîÂõûÔºå‰ªéËÄå‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®„ÄÇ Âä†ÈîÅ‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ® 12345678910111213public class TokenProvider &#123; private static TokenProvider sInst; public static TokenProvider getInst() &#123; synchronized (TokenProvider.class) &#123; if (sInst == null) &#123; sInst = new TokenProvider(); &#125; &#125; return sInst; &#125;&#125; Áº∫ÁÇπ‰πüÂæàÊòéÊòæÔºåÈúÄË¶Å‰ΩøÁî®ËØ•Âçï‰æãÊó∂ÔºåÊâÄÊúâÁ∫øÁ®ãÈÉΩ‰ºöÈ¶ñÂÖàËøõÂÖ•ÂêåÊ≠•‰ª£Á†ÅÂùóÔºåÂú®Á∫øÁ®ãÂêåÊ≠•Êó∂‰ºöÊµ™Ë¥πÂæàÂ§öÊó∂Èó¥ÔºåÊàë‰ª¨ÈúÄË¶ÅÈÅøÂÖçËøôÁßçÊÉÖÂÜµÔºåËØ∑Áúã‰∏ãËäÇÂèåÈáçÊ£ÄÊü•Âä†ÈîÅ ÂèåÈáçÊ£ÄÊü•Âä†ÈîÅ‰∏∫‰∫ÜËß£ÂÜ≥‰∏äÈù¢ÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨ÈúÄË¶ÅÈÅøÂÖçÊØèÊ¨°ÈÉΩËøõË°åÂêåÊ≠•Âä†ÈîÅÔºåÂú®ÊúÄÂ§ñÂ±ÇÂÖàËøõË°åÂà§Á©∫Êìç‰ΩúÔºåÂΩìÂÆû‰ΩìÂ∑≤ÁªèÂàõÂª∫Êó∂ÔºåÂêéÈù¢ÁöÑÁ∫øÁ®ãÂàô‰∏çÈúÄË¶ÅËøõÂÖ•ÂêåÊ≠•‰ª£Á†ÅÂùóÁ≠âÂæÖÔºåËäÇÁ∫¶‰∫ÜÊó∂Èó¥„ÄÇ volatile: Ë¢´ volatile ‰øÆÈ•∞ÁöÑÂèòÈáèÁöÑÂÄºÔºåÂ∞Ü‰∏ç‰ºöË¢´Êú¨Âú∞Á∫øÁ®ãÁºìÂ≠òÔºåÊâÄÊúâÂØπËØ•ÂèòÈáèÁöÑËØªÂÜôÈÉΩÊòØÁõ¥Êé•Êìç‰ΩúÂÖ±‰∫´ÂÜÖÂ≠ò,‰ªéËÄåÁ°Æ‰øùÂ§ö‰∏™Á∫øÁ®ãËÉΩÊ≠£Á°ÆÁöÑÂ§ÑÁêÜËØ•ÂèòÈáè„ÄÇ 123456789101112131415public class TokenProvider &#123; private volatile static TokenProvider sInst; public static TokenProvider getInst() &#123; if (sInst == null) &#123; synchronized (TokenProvider.class) &#123; if (sInst == null) &#123; sInst = new TokenProvider(); &#125; &#125; &#125; return sInst; &#125;&#125; ‰ΩøÁî®Êûö‰∏æÂÆûÁé∞Âçï‰æãÁÆÄÂçïËØ¥‰∏Ä‰∏ãÊûö‰∏æÔºåÊûö‰∏æÁ±ª‰ººÁ±ªÔºå‰∏Ä‰∏™Êûö‰∏æÂèØ‰ª•Êã•ÊúâÊàêÂëòÂèòÈáèÔºåÊàêÂëòÊñπÊ≥ïÔºåÊûÑÈÄ†ÊñπÊ≥ï„ÄÇÂàõÂª∫enum Êó∂ÔºåÁºñËØëÂô®‰ºöËá™Âä®‰∏∫Êàë‰ª¨ÁîüÊàê‰∏Ä‰∏™ÁªßÊâøËá™ Java.lang.Enum ÁöÑÁ±ªÔºåÊûÑÂª∫ÂÆû‰æãÁöÑËøáÁ®ã‰∏çÊòØÊàë‰ª¨ÂÅöÁöÑÔºå‰∏Ä‰∏™ enum ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÈôêÂà∂ÊòØ private ÁöÑÔºå‰πüÂ∞±ÊòØ‰∏çÂÖÅËÆ∏Êàë‰ª¨Ë∞ÉÁî®„ÄÇÂçï‰æã‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÈÉΩÊòØ static final Á±ªÂûãÔºå‰∏ãÈù¢‰ª£Á†ÅÁöÑÂØπÊØîÂ∫îËØ•Êõ¥Ê∏ÖÊ•ö‰∏Ä‰∫õ 123enum Type&#123; A,B,C,D;&#125; Á≠âÂêå‰∫é 123456class Type extends Enum&#123; public static final Type A; public static final Type B; public static final Type C; public static final Type D;&#125; Âú®Êûö‰∏æ‰∏≠Êàë‰ª¨ÊòéÁ°Æ‰∫ÜÊûÑÈÄ†ÊñπÊ≥ïÈôêÂà∂‰∏∫ÁßÅÊúâÔºåÂú®Êàë‰ª¨ËÆøÈóÆÊûö‰∏æÂÆû‰æãÊó∂‰ºöÊâßË°åÊûÑÈÄ†ÊñπÊ≥ïÔºåÂêåÊó∂ÊØè‰∏™Êûö‰∏æÂÆû‰æãÈÉΩÊòØ static final Á±ªÂûãÁöÑÔºå‰πüÂ∞±Ë°®ÊòéÂè™ËÉΩË¢´ÂÆû‰æãÂåñ‰∏ÄÊ¨°„ÄÇÂú®Ë∞ÉÁî®ÊûÑÈÄ†ÊñπÊ≥ïÊó∂ÔºåÊàë‰ª¨ÁöÑÂçï‰æãË¢´ÂÆû‰æãÂåñ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂõ†‰∏∫ enum ‰∏≠ÁöÑÂÆû‰æãË¢´‰øùËØÅÂè™‰ºöË¢´ÂÆû‰æãÂåñ‰∏ÄÊ¨°ÔºåÊâÄ‰ª•Êàë‰ª¨ÁöÑ INSTANCE ‰πüË¢´‰øùËØÅÂÆû‰æãÂåñ‰∏ÄÊ¨°„ÄÇ 12345678910111213public enum TokenProviderSingleton &#123; INSTANCE; private TokenProvider mInst; TokenProviderSingleton() &#123; mInst = new TokenProvider(); &#125; public TokenProvider getInst() &#123; return mInst; &#125;&#125;]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Js ÂºÄÂèë-1(Âü∫Á°Ä)]]></title>
    <url>%2Farticle%2F22324dc8%2F</url>
    <content type="text"><![CDATA[Js ÊòØÂº±Á±ªÂûãÂä®ÊÄÅËØ≠Ë®Ä ÂÜÖÂª∫Êï∞ÊçÆÁ±ªÂûãobject (Func,Array,Date‚Ä¶)numberstringbooleannullundefined + : Âè™Ë¶ÅÊúâÂ≠óÁ¨¶‰∏≤Â∞±ÊòØÂ≠óÁ¨¶‰∏≤ÊãºÊé•- : Â¶ÇÊûúÊúâÂ≠óÁ¨¶‰∏≤ÔºåËΩ¨Êç¢‰∏∫Êï∞Â≠óËÆ°ÁÆó Á©∫Â≠óÁ¨¶‰∏≤ÔºånullÔºåundefinedÔºåÊï∞Â≠ó0ÔºåÊï∞Â≠óNaN ËΩ¨Âåñ‰∏∫ boolean ‰∏∫ falseÔºåÂÖ∂‰ªñ‰∏∫true. == : Á≠â‰∫éÔºåÁ±ªÂûãÁõ∏ÂêåÔºåÂêå ===ÔºåÁ±ªÂûã‰∏çÂêåÔºåËøõË°åËΩ¨Êç¢Ôºånull == undefined, number == string(ËΩ¨Êç¢‰∏∫Êï∞Â≠óÊØîËæÉ)Ôºåboolean == number(ËΩ¨Êç¢ÊàêboolÊØîËæÉ),object == number/string(Â∞ùËØïÂ∞ÜobjËΩ¨‰∏∫Âü∫Êú¨Á±ªÂûã) === : ‰∏•Ê†ºÁ≠â‰∫éÔºåÁ±ªÂûã‰∏çÂêåÔºåËøîÂõû falseÔºåÁ±ªÂûãÁõ∏Âêå null === null,undefined === undefind,NaN != NaN,new Object != new Object]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RetrofitÂºÄÂèë-2-ÁªìÂêàRxJava]]></title>
    <url>%2Farticle%2F36f21fa4%2F</url>
    <content type="text"><![CDATA[ËØ∑ÂÖàÈòÖËØª Retrofit ÂºÄÂèë-1(OkHttp+RetrofitÂü∫Êú¨‰ΩøÁî®) Êú¨ÊñáÂª∫Á´ãÂú®ÂØπ RxJava2.x Âíå Retrofit Âü∫Êú¨ÁÜüÊÇâÁöÑÂü∫Á°Ä‰∏äÔºå‰∏ªË¶ÅÊòØÂú® Android Âπ≥Âè∞‰∏ãÂØπ RxJava + Retrifit ÂèëÈÄÅËØ∑Ê±ÇËøõË°åÂ∞ÅË£ÖÊñπÊ≥ïÁöÑÊé¢Á¥¢„ÄÇ ÂáÜÂ§áÈ¶ñÂÖà‰Ω†Ë¶ÅÁ°Æ‰øùÂú®ÂàõÂª∫ Retrofit Êó∂‰ΩøÁî®‰∫Ü RcJava ÁöÑÊï∞ÊçÆËΩ¨Êç¢ÈÄÇÈÖçÂô®„ÄÇ ‰æùËµñ 1adapter_rxjava2 : 'com.jakewharton.retrofit:retrofit2-rxjava2-adapter:1.0.0', ÈÖçÁΩÆ 12final Retrofit.Builder retrofitBuilder = new Retrofit.Builder();retrofitBuilder.addCallAdapterFactory(RxJava2CallAdapterFactory.createWithScheduler(Schedulers.io())); Â∞ÜÊï∞ÊçÆ‰∏≠ËøîÂõûÁöÑÂÖ®ÈÉ®Á±ªÂûãÊîπÊàê Observable Á±ªÂûã 12345@GET(GET_USER_INFO)Observable&lt;UserInfoDTOResponse&gt; getUser();@GET(GET_BABY_RELATION_LIST)Observable&lt;UserBabyRelationResp&gt; getBabyRelationList(@Query("babyId") Long babyId, @Query("limit") int limit, @Query("offset") Long offset); ËØ∑Ê±ÇÊï∞ÊçÆËøôËæπÁÜüÊÇâ‰∫Ü RxJava ÁöÑÁõ∏ÂÖ≥‰ΩøÁî®ÂíåÊìç‰ΩúÁ¨¶‰πãÂêéÁî®Ëµ∑Êù•ËøòÁÆóÂæóÂøÉÂ∫îÊâãÔºåÂ∞±‰∏çÂÅöËøáÂ§öËß£ÈáäÔºåË¥¥‰∏§ÊÆµ‰ª£Á†ÅÊÑüÂèó‰∏Ä‰∏ã„ÄÇ Â∞ÅË£ÖÁöÑ Observer 1234567891011121314151617181920212223242526272829303132333435363738394041424344public class ObserverWrap&lt;T&gt; implements Observer&lt;T&gt; &#123; Context mContext; public ObserverWrap(Context context) &#123; mContext = context; &#125; public ObserverWrap() &#123; &#125; @Override public void onSubscribe(@NonNull Disposable d) &#123; L.eWithTread("Rx", "onSubscribe"); &#125; @Override public void onNext(@NonNull T t) &#123; L.eWithTread("Rx", "onNext -&gt; " + t.toString()); &#125; @Override public void onError(@NonNull Throwable e) &#123; L.eWithTread("Rx", "onError"); e.printStackTrace(); ToastUtil.show("ËØ∑Ê±ÇÂ§±Ë¥•"); if (e instanceof UnknownHostException) &#123; ToastUtil.show("ÁΩëÁªú‰∏çÂ•Ω"); &#125; onFinish(); &#125; @Override public void onComplete() &#123; L.eWithTread("Rx", "onComplete"); onFinish(); &#125; public void onFinish() &#123; if (mContext != null) &#123; ((BaoBaoBaseActivity) mContext).dismissLoadingDialog(); &#125; &#125;&#125; Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ 123456789101112131415// Ë∞ÉÁî®RequestTest.getUserInfo() .subscribe(new ObserverWrap&lt;UserInfoDTOResponse.UserInfoDTO&gt;()); // ÊñπÊ≥ïpublic static Observable&lt;UserInfoDTOResponse.UserInfoDTO&gt; getUserInfo() &#123; return ApiRequest.getService().getUser() .map(new Function&lt;UserInfoDTOResponse, UserInfoDTOResponse.UserInfoDTO&gt;() &#123; @Override public UserInfoDTOResponse.UserInfoDTO apply(@io.reactivex.annotations.NonNull UserInfoDTOResponse userInfoDTOResponse) throws Exception &#123; return userInfoDTOResponse.getData(); &#125; &#125;) .observeOn(AndroidSchedulers.mainThread());&#125; Êù•‰∏Ä‰∏™Â§çÊùÇÁÇπÁöÑÔºåËé∑Âèñ‰∏Ä‰∏™ÂàóË°® 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// Ë∞ÉÁî®RequestTest.getUserBabyRelationList(mActivity,baby) .subscribe(new ObserverWrap&lt;UserBabyRelation&gt;(mActivity)); // ÊñπÊ≥ïpublic static Observable&lt;UserBabyRelation&gt; getUserBabyRelationList(final Context context, Baby baby) &#123; return ApiRequest.getService() .getBabyRelationList(baby.getBabyId(), 100, null) .subscribeOn(Schedulers.newThread()) .doOnSubscribe(new Consumer&lt;Disposable&gt;() &#123; @Override public void accept(@io.reactivex.annotations.NonNull Disposable disposable) throws Exception &#123; if(context instanceof BaoBaoBaseActivity)&#123; ((BaoBaoBaseActivity) context).showLoadingDialog(); &#125; &#125; &#125;) .subscribeOn(AndroidSchedulers.mainThread()) .filter(new Predicate&lt;UserBabyRelationResp&gt;() &#123; @Override public boolean test(@io.reactivex.annotations.NonNull UserBabyRelationResp userBabyRelationResp) throws Exception &#123; if (userBabyRelationResp.getStatus() == 200 &amp;&amp; isRespNotNull(userBabyRelationResp)) &#123; return true; &#125; else if (userBabyRelationResp.getStatus() != 200) &#123; if (userBabyRelationResp.getMessage() != null) &#123; ToastUtil.show(userBabyRelationResp.getMessage()); &#125; return false; &#125; return false; &#125; &#125;) .map(new Function&lt;UserBabyRelationResp, List&lt;UserBabyRelation&gt;&gt;() &#123; @Override public List&lt;UserBabyRelation&gt; apply(@io.reactivex.annotations.NonNull UserBabyRelationResp userBabyRelationResp) throws Exception &#123; return userBabyRelationResp.getData().getList(); &#125; &#125;) .flatMap(new Function&lt;List&lt;UserBabyRelation&gt;, ObservableSource&lt;UserBabyRelation&gt;&gt;() &#123; @Override public ObservableSource&lt;UserBabyRelation&gt; apply(@io.reactivex.annotations.NonNull List&lt;UserBabyRelation&gt; userBabyRelations) throws Exception &#123; return Observable.fromIterable(userBabyRelations); &#125; &#125;) .observeOn(AndroidSchedulers.mainThread());&#125; Â∞ÅË£ÖÂú® Android Âπ≥Âè∞‰∏ãÊàë‰ª¨ËøõË°åÁΩëÁªúËØ∑Ê±ÇÊó∂ÔºåÂæÄÂæÄÊúâ‰∫õÁâπÊÆäÁöÑË¶ÅÊ±ÇÔºåÊÄªÁªìÂ¶Ç‰∏ãÔºå‰∏çÊñ≠ÂÆåÂñÑÂÆûÁé∞‰∏ãÂàóÈúÄÊ±ÇÁöÑÊñπÊ≥ïÔºåÂØªÊâæ‰∏ÄÁßçÊõ¥ÂêàÈÄÇÊõ¥ÁÆÄÂçïÁöÑ Retrofit + RxJava ÁöÑÁΩëÁªúËØ∑Ê±ÇÊû∂ÊûÑ„ÄÇ ËØ∑Ê±ÇÂºÄÂßãÊó∂ÔºåÊòæÁ§∫ Dialog ÊèêÁ§∫Áî®Êà∑Á≠âÂæÖÔºåËØ∑Ê±ÇÁªìÊùüÊó∂Ê∂àÊéâ Dialog ÂΩì Activity ÈîÄÊØÅÊó∂ÂèñÊ∂àÂΩìÂâçÁïåÈù¢ÁöÑËØ∑Ê±Ç„ÄÇ ÂΩì Dialog Ë¢´ËÆ§‰∏∫ cancel Êó∂ÔºåÂèñÊ∂àÂΩìÂâçÈ°µÈù¢ÁöÑËØ∑Ê±Ç„ÄÇ]]></content>
      <categories>
        <category>Android</category>
        <category>Library</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Retrofit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RxJava2.xÂºÄÂèë-3-Ê∫êÁ†ÅÂàÜÊûê]]></title>
    <url>%2Farticle%2F7ae7177b%2F</url>
    <content type="text"><![CDATA[Áü•ÂÖ∂ÁÑ∂(Áü•ÈÅìËΩÆÂ≠êÊòØÊÄé‰πàÁî®ÁöÑ)ÔºåÁü•ÂÖ∂ÊâÄ‰ª•ÁÑ∂(‰πüË¶ÅÁü•ÈÅìËΩÆÂ≠êÊòØÊÄé‰πàÈÄ†ÁöÑ)„ÄÇ Êú¨Êñá‰∏ªË¶Å‰ªãÁªç RxJava2.x ÊòØÂ¶Ç‰ΩïÈÄöËøáÊµÅÂºèAPIÂÆåÊàê‰∫ã‰ª∂ÁöÑ‰º†ÈÄíÂíåÂèòÊç¢ÁöÑÔºåÊàë‰ª¨‰∏çÊòØË¶ÅÂÖ®ÈÉ®ÊääÂÆÉÂºÑÁöÑÊ∏ÖÊ∏ÖÊ•öÊ•öÔºåÈÇ£ÈúÄË¶ÅÂ§ßÈáèÁöÑÊó∂Èó¥Âíå‰∏çÊñ≠Ê∑±ÂÖ•ÊâçÂèØ‰ª•ÔºåÂè™ÊòØÈÄöËøáÁÆÄÂçïÁöÑ‰æãÂ≠êÊù•ÁêÜËß£‰ªñÁöÑÂü∫Êú¨Â∑•‰ΩúÂéüÁêÜÂíå‰∏ªË¶ÅÂäüËÉΩ„ÄÇ Áúã‰∫ÜÂæàÂ§öÊñáÁ´†ÔºåÊñáÁ´†‰∏≠‰ºöËÆ≤‰ª£ÁêÜÊ®°Âºè‰ªÄ‰πàÁöÑÔºå‰ΩÜÊàëËßâÂæóÊõ¥ÂÉèÊòØÂåÖË£ÖËÄÖÊ®°ÂºèÔºåÂèØËÉΩÊàëÁêÜËß£ÊúâÂÅèÂ∑Æüò≠Ôºå‰ΩÜÊòØÊàëËßâÂæóËøôÊ†∑Êõ¥Â•ΩÁêÜËß£‰∏Ä‰∫õÔºåÊàëÂ∞±ÂÖàÊåâÁÖßÊàëÁöÑÁêÜËß£Êù•ÂÜôÔºåÂêéÈù¢‰∏çÂØπÂÜç‰øÆÊ≠£Â•Ω‰∫Ü„ÄÇ Êñá‰∏≠Ê∫êÁ†ÅÊàë‰ºöÂéªÊéâÈîôËØØÊ£ÄÊü•ÂíåÊ≥®Ëß£ÁöÑÈÉ®ÂàÜ‰ª£Á†ÅÔºåÂè™‰øùÁïôÊ†∏ÂøÉ‰ª£Á†ÅÔºåÁúãËµ∑Êù•Êõ¥Ê∏ÖÊô∞„ÄÇ ÁÆÄÂçïÁöÑËÆ¢ÈòÖÁúã‰∏Ä‰∏™ÊúÄÊúÄÁÆÄÂçïÁöÑ‰æãÂ≠ê 1234567891011121314151617181920212223Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; e.onNext(1); &#125;&#125;).subscribe(new Observer&lt;Integer&gt;() &#123; @Override public void onSubscribe(@NonNull Disposable d) &#123; log("onSubscribe"); &#125; @Override public void onNext(@NonNull Integer integer) &#123; log("onNext - &gt; " + integer); &#125; @Override public void onError(@NonNull Throwable e) &#123; log("onError"); &#125; @Override public void onComplete() &#123; log("onComplete"); &#125;&#125;); ËøôÂèØËÉΩÊòØÊúÄÊúÄÂü∫Êú¨ÁöÑÁî®Ê≥ï‰∫ÜÔºåÁÑ∂ÂêéÁúã‰∏Ä‰∏ãÊ∫êÁ†ÅÔºåË¢´ËßÇÂØüËÄÖÊòØÂ¶Ç‰ΩïÂêëËßÇÂØüËÄÖÂèëÈÄÅÊï∞ÊçÆÁöÑÔºåÈ¶ñÂÖàÊòØÂàõÂª∫Ë¢´ËßÇÂØüËÄÖÁöÑËøáÁ®ã„ÄÇ 123456// Observable.javapublic static &lt;T&gt; Observable&lt;T&gt; create(ObservableOnSubscribe&lt;T&gt; source) &#123; ObjectHelper.requireNonNull(source, "source is null"); return RxJavaPlugins.onAssembly(new ObservableCreate&lt;T&gt;(source));&#125; ObservableOnSubscribe ÊòØ‰∏™Êé•Âè£ÔºåÈáåÈù¢Âè™Êúâ‰∏Ä‰∏™ subscribe() ÊñπÊ≥ïÔºåËÄåÊàë‰ª¨Â∞±ÊòØÂú®Ëøô‰∏™ÊñπÊ≥ï‰∏≠ËøõË°å‰∫ã‰ª∂ÁöÑÂèëÈÄÅÁöÑ„ÄÇÊ∫êÁ†Å‰∏≠ÂèØ‰ª•ÁúãËßÅÂÆûÈôÖ‰∏äÂàõÂª∫‰∫Ü‰∏Ä‰∏™ ObservableCreate ËøîÂõû‰∫ÜÔºåËøô‰∏™ ObservableCreate ÂÖ∂ÂÆûÊòØObservable ÁöÑÂ≠êÁ±ªÔºå‰ªñÊòØ‰∏Ä‰∏™Ë¢´ËßÇÂØüËÄÖÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºåÂõ†‰∏∫ÊòØÂÜÖÈÉ®Ëá™Â∑±ÂàõÂª∫ÁöÑÊâÄ‰ª•Âè´ ObservableCreateÔºåÊàëÁåúÁöÑ„ÄÇÊï¥‰∏™ËøáÁ®ãÂ∞±ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ ObservableCreate Âπ∂ËøîÂõû‰∫ÜÂõûÊù•ÔºåÁÑ∂ÂêéÊÄé‰πàÂ∞±ÂèØ‰ª•ÁªßÁª≠ÈìæÂºèË∞ÉÁî®‰∫ÜÔºåÊØîÂ¶ÇÂú®‰∏äÈù¢ÁöÑÁÆÄÂçï‰æãÂ≠ê‰∏≠ÔºåË∞ÉÁî®‰∫Ü subscirbe() ÊñπÊ≥ïÔºåËøô‰πüÊòØÊúÄÂêéÂ∞ÜË∞ÉÁî®ÁöÑÊñπÊ≥ï„ÄÇ Êàë‰ª¨Â∞±‰∏äÈù¢ÁöÑÁÆÄÂçï‰æãÂ≠êÊù•ÁªßÁª≠Áúã subscribe() ÂèëÁîüÁöÑ‰∏ÄÂàªÂèëÁîü‰∫Ü‰ªÄ‰πàÔºåÊàëÂéªÊéâ‰∫ÜÂêÑÁßçÊ£ÄÊü•ÈîôËØØÁöÑ‰ª£Á†ÅÔºåÂè™‰øùÁïôÊ†∏ÂøÉ‰ª£Á†Å„ÄÇ 12345// Observable.javapublic final void subscribe(Observer&lt;? super T&gt; observer) &#123; subscribeActual(observer);&#125; Ê≤°ÈîôÔºåÂ∞±Ââ©‰∫Ü‰∏ÄÂè•‰∫ÜÔºåsubscribeActual() ÊòØ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÔºåÊàë‰ª¨ËøòË¶ÅÂéªÁúã‰∏Ä‰∏ãÂ≠êÁ±ªÁöÑÂÖ∑‰ΩìÂÆûÁé∞Ôºå‰∏äÈù¢Êàë‰ª¨ÂèëÁé∞ÂàõÂª∫ÁöÑ Observable ÁöÑÂ≠êÁ±ªÊòØ ObservableCreateÔºåÈÇ£Êàë‰ª¨ËÇØÂÆöÊòØË¶ÅÂéªÁúãËøô‰∏™Â≠êÁ±ª‰∫Ü„ÄÇ 1234567891011121314151617// ObservableCreate.javapublic final class ObservableCreate&lt;T&gt; extends Observable&lt;T&gt; &#123; final ObservableOnSubscribe&lt;T&gt; source; public ObservableCreate(ObservableOnSubscribe&lt;T&gt; source) &#123; this.source = source; &#125; @Override protected void subscribeActual(Observer&lt;? super T&gt; observer) &#123; CreateEmitter&lt;T&gt; parent = new CreateEmitter&lt;T&gt;(observer); observer.onSubscribe(parent); source.subscribe(parent); &#125;&#125; ËøòÊòØÂè™ÁúãÈáçÁÇπÁöÑÔºåfinal ObservableOnSubscribe&lt;T&gt; source; Â∞±ÊòØÊàë‰ª¨ÂàõÂª∫ Observable Êó∂‰º†ËøõÂéªÁöÑÊé•Âè£Á±ªÔºå‰ªñÂè™Êúâ‰∏Ä‰∏™ subscribe() ÊñπÊ≥ïÔºåÂÜçÊù•‰ªîÁªÜÁúã‰∏Ä‰∏ã subscribeActual() ÁöÑÂÆûÁé∞ÔºåÂèÇÊï∞Ëá™ÁÑ∂ÊòØË¶ÅËÆ¢ÈòÖËøáÊù•ÁöÑËßÇÂØüËÄÖ ObserverÔºåÁÑ∂ÂêéÂèØ‰ª•ÁúãÂà∞ Observer Ë¢´ÂåÖË£ÖÊàê‰∫Ü‰∏Ä‰∏™ CreateEmitter ÂèëÂ∞ÑÂô®ÔºåÊàë‰ª¨Áü•ÈÅì‰ªñÊòØÁî®Êù•ÂèëÂ∞Ñ‰∫ã‰ª∂ÁöÑÔºåÈÇ£Êàë‰ª¨ÂÜçÁúã‰∏ÄÁúºÂèëÂ∞ÑÂô®Ôºå‰∏çÁªÜÁúãÔºå‰ªñÊòØ‰∏Ä‰∏™ÈùôÊÄÅÂÜÖÈÉ®Á±ªÔºåÁúã‰∏Ä‰∏ãÁ±ªÂ£∞ÊòéÂç≥ÂèØ 123static final class CreateEmitter&lt;T&gt; extends AtomicReference&lt;Disposable&gt; implements ObservableEmitter&lt;T&gt;, Disposable&#123;&#125; Êé•ÁùÄ‰∏äÈù¢ÁöÑËØ¥ÔºåÁÑ∂ÂêéÂ∞ÜÂèëÂ∞ÑÂô®‰Ωú‰∏∫ÂèÇÊï∞ÊâßË°å‰∫Ü ObservableOnSubscribe ÁöÑ subscribe() ÊñπÊ≥ïÔºåÁÑ∂Âêé‰ºöÊÄé‰πàÊ†∑ÔºüËá™ÁÑ∂ÊòØÊâßË°åÊàë‰ª¨Ëá™Â∑±ÂÆûÁé∞ÁöÑ ObservableOnSubscribe ÁöÑ subscribe() ÊñπÊ≥ïÔºåÂºÄÂßã‰ΩøÁî®ÂèëÂ∞ÑÂô®ÂèëÈÄÅ‰∫ã‰ª∂„ÄÇÂÖ∂ÂÆûÊàë‰ª¨ÊòØË∞ÉÁî®ÂèëÂ∞ÑÂô®ÔºåÂèëÂ∞ÑÂô®Ë∞ÉÁî®‰ªñÂåÖË£ÖÁöÑ Observer ‰∏≠ÂØπÂ∫îÁöÑÊñπÊ≥ïËÄåÂ∑≤„ÄÇ Êèí‰∏ÄÂè•ÔºåÊàë‰ª¨Ê≥®ÊÑèÂà∞ÂΩìËÆ¢ÈòÖÂèëÁîüÊó∂ÔºåÈ¶ñÂÖàÊâßË°å‰∫Ü observer.onSubscribe(parent); ÊñπÊ≥ïÔºåËøô‰πüÂ∞±ÊòØ‰∏∫Âï•ËßÇÂØüËÄÖ‰∏≠ÁöÑÊñπÊ≥ï‰∏∫‰ªÄ‰πà‰ºöÈ¶ñÂÖàË¢´Ë∞ÉÁî®ÔºåËÄå CreateEmitter ÊòØÂÆûÁé∞‰∫Ü Disposable Êé•Âè£ÁöÑÔºåÂÆÉÂèØÁî®Êù•ÂàáÊñ≠‰∫ã‰ª∂ÊµÅ„ÄÇ ÊÄªÁªìÔºåÂΩìËßÇÂØüËÄÖË¢´ËÆ¢ÈòÖÂà∞Ë¢´ËßÇÂØüËÄÖÊó∂ÔºåË¢´ËßÇÂØüËÄÖË¢´ÂåÖË£ÖÊàê‰∏Ä‰∏™ÂèëÂ∞ÑÂô®ÔºåË∞ÉÁî® subscribe() ÊñπÊ≥ïÔºå‰ΩøÁî®ÂèëÂ∞ÑÂô®ÂèëÂ∞Ñ‰∫ã‰ª∂ÔºåË¢´ËßÇÂØüËÄÖÊî∂Âà∞‰∫ã‰ª∂„ÄÇ Êìç‰ΩúÁ¨¶Âú®ÂÆûÈôÖÂ∫îÁî®ËøáÁ®ã‰∏≠Êàë‰ª¨ÂèØËÉΩÁªèÂéÜÊó†Êï∞Ê¨°Êìç‰ΩúÁ¨¶ÁöÑÂèòÂåñÔºå‰ΩÜÊòØ‰∏∫‰∫ÜÁÆÄÂåñÂàÜÊûêÁöÑËøáÁ®ãÔºåÊàë‰ª¨Âè™Áúã‰ΩøÁî®‰∫Ü‰∏Ä‰∏™Êìç‰ΩúÁ¨¶ÁöÑ‰æãÂ≠êÔºåÁÑ∂ÂêéÁ±ªÊé®‰∏Ä‰∏ãÔºåÂÖ∂ÂÆûÂ§ö‰∏™ÂèòÂåñ‰πüÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ Áúã‰∏Ä‰∏™‰ΩøÁî®Êìç‰ΩúÁ¨¶ÁöÑÂú∫ÊôØ 12345678910111213141516Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; e.onNext(1); &#125;&#125;).map(new Function&lt;Integer, String&gt;() &#123; @Override public String apply(@NonNull Integer integer) throws Exception &#123; return String.valueOf(integer); &#125;&#125;).subscribe(new Consumer&lt;String&gt;() &#123; @Override public void accept(@NonNull String s) throws Exception &#123; log("accept -&gt; " + s); &#125;&#125;); Âú®‰∏ä‰∏™ÈóÆÈ¢òÁöÑÂü∫Á°Ä‰∏äÔºåÊàë‰ª¨‰ª• map Êìç‰ΩúÁ¨¶‰∏∫‰æãÁúã‰∏Ä‰∏ãÔºå‰ΩøÁî®Êìç‰ΩúÁ¨¶ÁöÑÂú∫ÊôØÊòØÂ¶Ç‰ΩïÂª∫Á´ãËøûÊé•ÔºåÂèëÈÄÅ‰∫ã‰ª∂ÁöÑÔºåÁõ¥Êé•Êù•Áúã map ÊñπÊ≥ïÔºåÂú® map ÊñπÊ≥ï‰∏≠ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ ObservableMap ËøîÂõû„ÄÇ 123456// Observable.javapublic final &lt;R&gt; Observable&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper) &#123; ObjectHelper.requireNonNull(mapper, "mapper is null"); return RxJavaPlugins.onAssembly(new ObservableMap&lt;T, R&gt;(this, mapper));&#125; Ëøô‰∏™ ObservableMap ‰πüÊòØ Observer ÁöÑÂ≠êÁ±ªÔºå‰πüÂ∞±ÊòØËØ¥ÂÆÉ‰πüÊòØ‰∏Ä‰∏™Ë¢´ËßÇÂØüËÄÖÔºåÂèÇÊï∞ÊòØÂΩìÂâçÁöÑË¢´ËßÇÂØüËÄÖÂíå‰∏Ä‰∏™ FunctionÔºåÊàë‰ª¨ÂÜçÊù•Áúã‰∏Ä‰∏ã ObservableMap„ÄÇ 1234567891011121314151617181920212223242526272829public final class ObservableMap&lt;T, U&gt; extends AbstractObservableWithUpstream&lt;T, U&gt; &#123; final Function&lt;? super T, ? extends U&gt; function; public ObservableMap(ObservableSource&lt;T&gt; source, Function&lt;? super T, ? extends U&gt; function) &#123; super(source); this.function = function; &#125; @Override public void subscribeActual(Observer&lt;? super U&gt; t) &#123; source.subscribe(new MapObserver&lt;T, U&gt;(t, function)); &#125; static final class MapObserver&lt;T, U&gt; extends BasicFuseableObserver&lt;T, U&gt; &#123; final Function&lt;? super T, ? extends U&gt; mapper; MapObserver(Observer&lt;? super U&gt; actual, Function&lt;? super T, ? extends U&gt; mapper) &#123; super(actual); this.mapper = mapper; &#125; @Override public void onNext(T t) &#123; U v = mapper.apply(t) actual.onNext(v); &#125; &#125;&#125; ObservableMap ÂåÖË£Ö‰∫ÜÂéüÊù•ÁöÑ SourceObservableÔºå‰πüÊé•Âèó‰∫ÜÊàë‰ª¨ËøõË°å map Êìç‰ΩúÁöÑ Function„ÄÇÂΩìËÆ¢ÈòÖÂèëÁîüÊó∂Ôºå‰ªçÊóß‰ºöË∞ÉÁî® subscribeActual() ÊñπÊ≥ïÔºåÂú®Ëøô‰∏™ÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÊääÊúÄÁªàÁöÑËßÇÂØüËÄÖÂåÖË£ÖÊàê‰∫Ü‰∏Ä‰∏™ MapObserverÔºåÁÑ∂ÂêéÊääËøô‰∏™ MapObserver ËÆ¢ÈòÖÂà∞‰∫Ü SourceObservable„ÄÇÁªìÂêà‰∏äÈù¢ÁÆÄÂçïËÆ¢ÈòÖÊó∂ÁöÑÂàÜÊûêÔºåÊ≠§Êó∂ÔºåSourceObservable ‰æø‰ºöÂ∞Ü MapObserver ÂåÖË£ÖÊàê‰∏Ä‰∏™ÂèëÂ∞ÑÂô®ÔºåÂºÄÂßãÂèëÂ∞Ñ‰∫ã‰ª∂‰∫Ü„ÄÇÂÜçÂÖ≥Ê≥®‰∏Ä‰∏ã onNext() ÊñπÊ≥ïÔºåËøôÈáå‰ºöÂÖàË∞ÉÁî® Function ËøõË°å map Êìç‰Ωú„ÄÇ ÊÄªÁªìÔºöÊàë‰ª¨Áß∞ÊúÄÂºÄÂßãÂàõÂª∫ÁöÑË¢´ËßÇÂØüËÄÖ‰∏∫ SourceObservableÔºåÂ¶ÇÊûú‰∏≠Èó¥Â¢ûÂä†‰∏Ä‰∏™ map Êìç‰ΩúÁ¨¶ÔºåÊ≠§Êó∂ÂàõÂª∫Âπ∂‰∏îËøîÂõû‰∫Ü‰∏Ä‰∏™ ObservableMap ÂåÖË£Ö SourceObservable ‰Ωú‰∏∫Êñ∞ÁöÑË¢´ËßÇÂØüËÄÖÔºåÊ≠§Êó∂ÈìæÂºèË∞ÉÁî®ÁöÑÂØπÂ§ñÂºÄÊîæÁöÑÂ∞±ÊòØ ObservableMap ‰∫ÜÔºå ÂΩìÊúÄÁªàÁöÑËßÇÂØüËÄÖÔºåÊàë‰ª¨Âè´‰ªñ finalObserverÔºåË¢´ËÆ¢ÈòÖÂà∞ ObservableMap Êó∂Ôºå‰ºöÂ∞ÜfinalObserver ÂåÖË£ÖÊàê‰∏Ä‰∏™ MapObserver (Ëøô‰∏™ MapObserver Âú®Ë∞ÉÁî® onNext() Êó∂‰ºöÁªßÁª≠Ë∞ÉÁî®‰ªñÂåÖË£ÖÁöÑ finalObserver ÁöÑ onNext() ÊñπÊ≥ïÂíåÂØπÂ∫îÁöÑ Function ÊñπÊ≥ï) ËÆ¢ÈòÖÂà∞ SourceObservable„ÄÇÁÑ∂ÂêéÂºÄÂßãÁ¨¨‰∏ÄËäÇ‰∏≠ÁöÑÊµÅÁ®ãÔºå‰πüÂ∞±ÊòØËøô‰∏™ MapOserver Â∞Ü‰ºöË¢´ÂåÖË£ÖÊàê‰∏Ä‰∏™ÂèëÂ∞ÑÂô®ÔºåÂºÄÂßãÂèëÂ∞Ñ‰∫ã‰ª∂ÔºåÁõ∏ÊØî‰πãÂâçÔºåÊ≠§Êó∂Ë∞ÉÁî® OnNext() ÂèëÈÄÅ‰∫ã‰ª∂Êó∂Ôºå‰ºöÈ¶ñÂÖàË∞ÉÁî® MapObserver ÁöÑ onNext(),ÁÑ∂ÂêéÁªßÁª≠Ë∞ÉÁî®ÂÆÉÂåÖË£ÖÁöÑ finalObserver ÁöÑ onNext(),‰∏çËøáÂú®Ëøô‰πãÈó¥‰ºö‰ΩøÁî® Function ÊåáÂÆöÁöÑÊìç‰ΩúÂØπÊï∞ÊçÆËøõË°åÂèòÊç¢ ÂÜçÂ¢ûÂä†‰∏Ä‰∏™Êìç‰ΩúÁ¨¶‰ºöÊÄé‰πàÊ†∑ÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊòØ‰∏ÄÊ†∑ÁöÑÊµÅÁ®ã‰∫ÜÔºåÂè™‰∏çËøáÊ≠§Êó∂ÂØπÂ§ñÂºÄÊîæÁöÑ ObservalMap ÊâÆÊºî‰∫Ü SourceObservable ÁöÑËßíËâ≤„ÄÇ ÊàëÂú® RxJava2.xÂºÄÂèë-2 (Schedulers) ËøôÁØáÊñáÁ´†‰∏≠‰ªãÁªç‰∫ÜÂ¶Ç‰ΩïÂú® RxJava2.x ‰∏≠Â¶Ç‰Ωï‰ΩøÁî®Á∫øÁ®ãË∞ÉÂ∫¶ÔºåÂíåÂ¶Ç‰ΩïÂà§Êñ≠ÂΩìÂâçÊñπÊ≥ïÊòØËøêË°åÂú®Âì™‰∏™Á∫øÁ®ãÔºåÂº∫ÁÉàÂª∫ËÆÆÂéªÁúã‰∏Ä‰∏ãÊâçËÉΩÊõ¥ÊòéÁôΩ‰ªñÊòØÊÄé‰πàÊ†∑‰ΩøÁî®ÁöÑÔºå‰πãÂâçÊÄªÁªì‰∫ÜÊÄé‰πàÂÅöÔºåÁé∞Âú®Áúã‰∏Ä‰∏ã‰∏∫‰ªÄ‰πà„ÄÇ subscribeOn()Âú® RxJava2.xÂºÄÂèë-2 (Schedulers) ÊÄªÁªì‰∫Ü subscribeOn() Áî®Êù•ÂàáÊç¢‰∏äÊ∏∏Á∫øÁ®ãÔºåËÄå‰∏îÂè™ÊúâÁ¨¨‰∏ÄÊ¨°ÊúâÊïàÔºåÂêéÈù¢ÁöÑË∞ÉÁî®Âè™ÂØπ doOnSubscribe()/onSubscribe() ÊñπÊ≥ïÊúâÊïàÔºå‰ΩÜÊòØ‰∏∫‰ªÄ‰πà‰ºöÊòØËøôÊ†∑Âë¢Ôºü Áúã‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê 123456789101112Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; e.onNext(1); &#125;&#125;).subscribeOn(Schedulers.io()) .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(@NonNull Integer s) throws Exception &#123; log("accept -&gt; " + s); &#125; &#125;); Ë¢´ËßÇÂØüËÄÖÂ∞Ü‰ºöÂú® io Á∫øÁ®ãËøêË°åÔºå‰∏∫‰ªÄ‰πàÔºüÁúãÊ∫êÁ†ÅÔºå‰ªçÊóßÊòØË∑ü‰πãÂâç‰∏ÄÊ†∑ÁöÑÊ®°ÂºèÔºåÂàõÂª∫Êñ∞ÁöÑË¢´ËßÇÂØüËÄÖÂåÖË£ÖÂéüÊù•ÁöÑËßÇÂØüËÄÖ„ÄÇ 123456// Observable.javapublic final Observable&lt;T&gt; subscribeOn(Scheduler scheduler) &#123; ObjectHelper.requireNonNull(scheduler, "scheduler is null"); return RxJavaPlugins.onAssembly(new ObservableSubscribeOn&lt;T&gt;(this, scheduler));&#125; Êàë‰ª¨ËøòÊòØÂ∞ÜÊúÄÂºÄÂßãÁöÑ Observable Áß∞‰Ωú SourceObservableÔºåsubscribeOn() ÂàõÂª∫Âπ∂ËøîÂõû‰∫Ü ObservableSubscribeOn ÂØπË±°ÔºåÊ≤°ÈîôÂÆÉ‰πüÊòØ Observable ÁöÑÂ≠êÁ±ªÔºåÊòØ‰∏Ä‰∏™Ë¢´ËßÇÂØüËÄÖ„ÄÇÊàë‰ª¨ÂÜçÊù•Áúã‰∏Ä‰∏ã ObservableSubscribeOn Á±ªÔºåÂàõÂª∫Êó∂‰ΩøÁî®‰∫ÜÂéüÊù•ÁöÑ SourceObservable Âíå‰∏Ä‰∏™Á∫øÁ®ãË∞ÉÂ∫¶Âô®ÔºåÂÖàË¥¥‰∏Ä‰∏ãÊ∫ê‰ª£Á†ÅÔºåÂêéÈù¢Ëß£Èáä„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// ObservableSubscribeOn.javapublic final class ObservableSubscribeOn&lt;T&gt; extends AbstractObservableWithUpstream&lt;T, T&gt; &#123; final Scheduler scheduler; public ObservableSubscribeOn(ObservableSource&lt;T&gt; source, Scheduler scheduler) &#123; super(source); this.scheduler = scheduler; &#125; @Override public void subscribeActual(final Observer&lt;? super T&gt; s) &#123; final SubscribeOnObserver&lt;T&gt; parent = new SubscribeOnObserver&lt;T&gt;(s); s.onSubscribe(parent); parent.setDisposable(scheduler.scheduleDirect(new SubscribeTask(parent))); &#125; static final class SubscribeOnObserver&lt;T&gt; extends AtomicReference&lt;Disposable&gt; implements Observer&lt;T&gt;, Disposable &#123; final Observer&lt;? super T&gt; actual; SubscribeOnObserver(Observer&lt;? super T&gt; actual) &#123; this.actual = actual; &#125; @Override public void onNext(T t) &#123; actual.onNext(t); &#125; &#125; final class SubscribeTask implements Runnable &#123; private final SubscribeOnObserver&lt;T&gt; parent; SubscribeTask(SubscribeOnObserver&lt;T&gt; parent) &#123; this.parent = parent; &#125; @Override public void run() &#123; source.subscribe(parent); &#125; &#125;&#125; ÈáçÁÇπÂ∞±Âú® subscribeActual() ÊñπÊ≥ïÔºåÊàë‰ª¨Áü•ÈÅìÂΩìËÆ¢ÈòÖÂèëÁîüÊó∂‰ºöË∞ÉÁî® subscribeActual() ÊñπÊ≥ïÔºåÊ≠§Êó∂ÔºåÂàõÂª∫‰∫Ü‰∏Ä‰∏™ SubscribeOnObserver ÂåÖË£Ö‰∫ÜÁúüÊ≠£ËÆ¢ÈòÖÁöÑËßÇÂØüËÄÖÔºåÁÑ∂ÂêéË∞ÉÁî®ËßÇÂØüËÄÖ onSubscribe() ÊñπÊ≥ïÔºåËøôË∑ü‰πãÂâçÁöÑ‰ªãÁªçÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰∏çÂêåÁöÑÊòØÂ∞ÜÊñ∞ÂàõÂª∫ÁöÑ SubscribeOnObserver ËÆ¢ÈòÖÂà∞ SourceObservable Ëøô‰∏™ËøáÁ®ãÔºåÂÅöÊàê‰∫Ü‰∏Ä‰∏™ TaskÔºåÂπ∂‰ΩøÁî®‰∫ÜÁ∫øÁ®ãË∞ÉÂ∫¶Âô®ÂéªÊâßË°åÔºåÊ≠§Êó∂‰ºöÂèëÁîü‰ªÄ‰πàÔºüËøòÊòØ‰πãÂâçËØ¥ÁöÑ SubscribeOnObserver ‰ºöË¢´ÂåÖË£ÖÊàê‰∏Ä‰∏™ÂèëÂ∞ÑÂô®ÂºÄÂßãÂèëÂ∞Ñ‰∫ã‰ª∂ÔºåËÄåÊ≠§Êó∂Âõ†‰∏∫‰ΩøÁî®‰∫ÜÁ∫øÁ®ãË∞ÉÂ∫¶Âô®ÊâßË°åÔºåÂ∞Ü‰ºöËøêË°åÂú®ÊåáÂÆöÁöÑÁ∫øÁ®ã„ÄÇ Âà∞Áé∞Âú®Â§ßËá¥Ê∏ÖÊ•ö‰∫Ü RxJava Â¶Ç‰Ωï‰ΩøÁî® subscribeOn() ÊñπÊ≥ïÂàáÊç¢‰∫ÜË¢´ËßÇÂØüËÄÖÊâÄËøêË°åÁöÑÁ∫øÁ®ãÔºåÈÇ£‰∏∫‰ªÄ‰πàÂè™ÊúâÁ¨¨‰∏ÄÊ¨°ÊúâÊïàÊûúÔºåÂêéÈù¢‰∏çÁîüÊïàÂë¢Ôºü‰∏∫‰ªÄ‰πàÂØπ‰∫é doOnSubscribe()/onSubscibe() ÂèàÊòØÁîüÊïàÁöÑÂë¢Ôºü ËôΩÁÑ∂Êàë‰ª¨ÂÜô‰ª£Á†ÅÊó∂ÊòØ‰ªéË¢´ËßÇÂØüËÄÖ‰∏ÄË∑ØÈìæÂºèÁºñÁ®ãÂÜô‰∏ãÂéªÁöÑÔºå‰ΩÜÊòØÂÖ∂ÂÆûÁúüÊ≠£ÂºÄÂßãÊâßË°åÁöÑÊó∂Êú∫ÊòØÔºåËÆ¢ÈòÖÂºÄÂßãÁöÑÊó∂ÂÄôÔºåÂç≥ subscribe() Ë∞ÉÁî®ÁöÑÊó∂ÂÄô„ÄÇËÄå‰∏îÊåâÁÖßÊàë‰ª¨‰πãÂâçÁöÑÂàÜÊûêÔºåsubscribe() ÊñπÊ≥ï‰ºöÂæÄ‰∏ä‰∏ÄÂ±Ç‰∏ÄÂ±ÇÁöÑË∞ÉÁî®‰∏äÂéªÔºå‰∏ÄÁõ¥Âà∞ÊúÄÂºÄÂßãÂàõÂª∫ÁöÑË¢´ËßÇÂØüËÄÖÔºåÁÑ∂ÂêéÂ∞±ÂºÄÂßãÂèëÈÄÅ‰∫ã‰ª∂„ÄÇÈÇ£Êàë‰ª¨Ë∞ÉÁî®‰∏§Ê¨° subscribeOn() Êó∂ÔºåÊØèÊ¨°ÈÉΩ‰ºöÂú®ÈáåÈù¢ÁîüÊàêÊñ∞ÁöÑË¢´ËßÇÂØüËÄÖÔºåÁÑ∂ÂêéÂú®ÊåáÂÆöÁ∫øÁ®ãË∞ÉÁî® subscribe() ÊñπÊ≥ïÔºåÊâÄ‰ª•ÂºÄÂßãÁöÑË¢´ËßÇÂØüËÄÖË¢´Ë∞ÉÁî®ÁöÑÁ∫øÁ®ãÂè™ÂèñÂÜ≥‰∫ÜÁ¶ª‰ªñÊúÄËøëÁöÑÈÇ£‰∏™ subscribeOn() ÔºåÂõ†‰∏∫Âú®ËøôÈáåÈù¢‰ºöÂ∞ÜÂèëÈÄÅÊúÄÂºÄÂßãÁöÑË¢´ËßÇÂØüËÄÖÁöÑ subscribe() ÊñπÊ≥ï Âà∞ÊåáÂÆöÁ∫øÁ®ãËøêË°åÔºåÂ∞±Â•ΩÂÉèÂÅáÂ¶Ç ObserableA Âú® ThreadA Á∫øÁ®ãÂÆåÊàêËÆ¢ÈòÖÔºåÊé•ÁùÄ‰ºöÁªßÁª≠Ë∞ÉÁî®ÈáåÈù¢ÂåÖË£ÖÁöÑ ObserableB Âú® ThreadB Á∫øÁ®ãÂÆåÊàêËÆ¢ÈòÖÔºåÂÖ∂ÂÆûÊúÄÁªàÁöÑ ObserableB ËøòÊòØÂú® ThreadB Á∫øÁ®ãÂÆåÊàêËÆ¢ÈòÖÂèëÈÄÅ‰∫ã‰ª∂ÁöÑ„ÄÇÂè¶Â§ñÂèØ‰ª•ÂèëÁé∞ doOnSubscribe()/onSubscibe() ÊòØÂú®ÂèëÈÄÅÂà∞ÊåáÂÆöÁ∫øÁ®ãÊâßË°å‰πãÂâçÂ∞±ÊâßË°åÁöÑÔºåÊâÄ‰ª•‰ªñ‰ªçÊóßÂèóÂà∞ÂêéÈù¢ÊåáÂÆöÁ∫øÁ®ãÁöÑÂΩ±ÂìçÔºådoOnSubscribe() ËøîÂõûÁöÑ‰πüÊòØ‰∏Ä‰∏™ ObservableÔºåÊú∫Âà∂Â§ßËá¥Áõ∏Âêå„ÄÇ observarOn()Ë∞ÉÁî® observarOn() ÂèØ‰ª•ÂàáÊç¢‰∏ãÊ∏∏ÊâÄÂú®Á∫øÁ®ãÔºåÊØèÊ¨°Ë∞ÉÁî®ÈÉΩ‰ºöÂàáÊç¢Á∫øÁ®ã„ÄÇ Á±ª‰ºº‰∏äÈù¢ÁöÑÂéüÁêÜÔºå‰ªçÊóßÁîüÊàê‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑË¢´ËßÇÂØüËÄÖ ObservableObserveOn 1234567// Observable.javapublic final Observable&lt;T&gt; observeOn(Scheduler scheduler, boolean delayError, int bufferSize) &#123; ObjectHelper.requireNonNull(scheduler, "scheduler is null"); ObjectHelper.verifyPositive(bufferSize, "bufferSize"); return RxJavaPlugins.onAssembly(new ObservableObserveOn&lt;T&gt;(this, scheduler, delayError, bufferSize));&#125; ËÆ¢ÈòÖÊó∂ÔºåÂ¶ÇÊûú‰ΩøÁî®‰∫Ü Schedulers.trampoline() ÈÇ£‰πàÂú®ÂΩìÂâçÁ∫øÁ®ãÔºå‰∏çÈúÄË¶ÅÂú®ÂàõÂª∫Êñ∞ÁöÑÂåÖË£ÖËßÇÂØüËÄÖÔºåÂê¶ÂàôÂàõÂª∫ ObserveOnObserver ÂåÖË£ÖÂéüÊù•ÁöÑËßÇÂØüËÄÖ„ÄÇ 1234567891011// ObserveOnObserver.java@Overrideprotected void subscribeActual(Observer&lt;? super T&gt; observer) &#123; if (scheduler instanceof TrampolineScheduler) &#123; source.subscribe(observer); &#125; else &#123; Scheduler.Worker w = scheduler.createWorker(); source.subscribe(new ObserveOnObserver&lt;T&gt;(observer, w, delayError, bufferSize)); &#125;&#125; Áúã‰∏Ä‰∏ã ObserveOnObserver ÂÆÉÂÆûÁé∞‰∫Ü Runnable Êé•Âè£ÔºåÂú® run ÊñπÊ≥ï‰∏≠Ê†πÊçÆÂΩìÂâçÁä∂ÊÄÅÔºåÂàÜÂà´Ë∞ÉÁî®ÂÆÉÂåÖË£ÖÁöÑËßÇÂØüËÄÖÁöÑÂØπÂ∫îÊñπÊ≥ï„ÄÇÁÑ∂ÂêéÂú®Áõ∏Â∫îÁöÑÊñπÊ≥ïÁöÑÊúÄÂêéÈÉΩ‰ºöË∞ÉÁî® schedule(); ÂèëÈÄÅÂà∞ÊåáÂÆöÁ∫øÁ®ãÊìç‰ΩúÔºåËææÂà∞ÂàáÊç¢Á∫øÁ®ãÁöÑÁõÆÁöÑÔºåÂØπÂ∫îÊñπÊ≥ïÊåáÁöÑÊòØ onNext/onComplete/onError 1234567891011121314151617181920212223242526272829303132333435363738394041static final class ObserveOnObserver&lt;T&gt; extends BasicIntQueueDisposable&lt;T&gt;implements Observer&lt;T&gt;, Runnable &#123; @Override public void onNext(T t) &#123; schedule(); &#125; @Override public void onError(Throwable t) &#123; if (done) &#123; RxJavaPlugins.onError(t); return; &#125; error = t; done = true; schedule(); &#125; @Override public void onComplete() &#123; if (done) &#123; return; &#125; done = true; schedule(); &#125; // ÂéªÊåáÂÆöÁ∫øÁ®ãÊâßË°å void schedule() &#123; if (getAndIncrement() == 0) &#123; worker.schedule(this); &#125; &#125; @Override public void run() &#123; // ‰ºöÊ†πÊçÆÂΩìÂâçÁöÑÁä∂ÊÄÅÈòüÂΩ¢ÊâßË°åË¢´ÂåÖË£ÖÁöÑËßÇÂØüËÄÖÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ï„ÄÇ if (outputFused) &#123; drainFused(); &#125; else &#123; drainNormal(); &#125; &#125;&#125; ÊÄªÁªìËØ¥‰∫ÜËøô‰πàÂ§öÔºåÊàëËá™Â∑±ÈÉΩÊÑüËßâÊúâÁÇπ‰π±ÔºåÂøÉÈáåÊòéÁôΩ‰ΩÜÊòØÂÜô‰∏çÂá∫Êù•ÁöÑÊÑüËßâÁúüÈöæÂèóÔºåËøòÊòØÊñáÁ¨î‰∏çË°åÔºåÊÉ≥Áîª‰∏™ÂõæË°®Á§∫‰∏Ä‰∏ãÔºå‰ΩÜÁîªÂÆåÊÑüËßâÊõ¥Â§çÊùÇ‰∫Ü„ÄÇ Âú®ÊàëÁúãÊù•ÔºåÊØèÊ¨°Â¢ûÂä†‰∏Ä‰∏™ÂäüËÉΩÔºåÊØîÂ¶ÇÊìç‰ΩúÁ¨¶ÔºåÊàñËÄÖÁ∫øÁ®ãÂàáÊç¢ÔºåÈÉΩ‰ºöËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑË¢´ËßÇÂØüËÄÖÂåÖË£ÖÂéüÊù•ÁöÑË¢´ËßÇÂØüËÄÖÔºåÂêåÊó∂ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑËßÇÂØüËÄÖÔºåÂéüÊù•ÁöÑËßÇÂØüËÄÖ‰πü‰ºöË¢´ÂåÖË£ÖËøõËøô‰∏™Êñ∞ÁöÑËßÇÂØüËÄÖÔºåÊìç‰ΩúÁ¨¶‰ºöÂΩ¢ÊàêËøõË°åÊï∞ÊçÆÂèòÊç¢ÁöÑË¢´ËßÇÂØüËÄÖÂíåËßÇÂØüËÄÖÔºåÁ∫øÁ®ãË∞ÉÂ∫¶‰ºöÂΩ¢ÊàêÁ∫øÁ®ãÂàáÊç¢ÁöÑË¢´ËßÇÂØüËÄÖ‰ΩïËßÇÂØüËÄÖÔºåÂΩ¢Êàê‰∏Ä‰∏™‰∏ÄÂ±Ç‰∏ÄÂ±ÇÂåÖË£ÖÁöÑÂÖ≥Á≥ª„ÄÇ ÁúüÊ≠£Ëß¶Âèë‰ª£Á†ÅÊâßË°åÁöÑÊòØ subscribe() ÊñπÊ≥ïÔºåÊ≠§Êó∂Â∞±‰ºö‰∏ÄÂ±Ç‰∏ÄÂ±ÇÁöÑË∞ÉÁî®Êõ¥ÈáåÈù¢ÂåÖË£ÖÁöÑË¢´ËßÇÂØüËÄÖÁöÑ subscribe() ÊñπÊ≥ïÔºåÂΩìÊúÄÂêé‰∏Ä‰∏™Ë¢´ËßÇÂØüËÄÖÔºå‰πüÂ∞±ÊòØÊàë‰ª¨ÊúÄÂºÄÂßãÂàõÂª∫ÁöÑÈÇ£‰∏™ÁöÑ subscribe() ÊñπÊ≥ïË¢´Ëß¶ÂèëÊó∂Ôºå‰∫ã‰ª∂‰æøÂºÄÂßãÂèëÈÄÅÔºå‰∫ã‰ª∂‰ºö‰∏ÄÂ±Ç‰∏ÄÂ±ÇÂæÄËßÇÂØüËÄÖÈáåÈù¢‰º†ÈÄíÔºåËßÇÂØüËÄÖÂèà‰ºöË∞ÉÁî®ÂÆÉÈáåÈù¢ÂåÖË£ÖÁöÑËßÇÂØüËÄÖÂéªÂ§ÑÁêÜ‰º†ÈÄíËøô‰∫õ‰∫ã‰ª∂ÔºåËøôËøáÁ®ã‰∏≠ÂåÖÂê´‰∫Ü‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÔºåÂèòÊç¢ÔºåÁ∫øÁ®ãË∞ÉÂ∫¶Á≠â„ÄÇ ÊÑüËßâËá™Â∑±Âüã‰∫Ü‰∏™ÂùëÔºåËØ¥‰∫ÜËøô‰πàÂ§öÔºåËØ¥ÁöÑ‰πü‰∏çÊòØÂæàÊòéÁôΩÔºåÊ∫êÁ†ÅËøòÊòØË¶ÅËá™Â∑±Áúã‰∏Ä‰∏ãÊâçÊõ¥Ê∏ÖÊ•ö‰∏Ä‰∫õ„ÄÇ]]></content>
      <categories>
        <category>Android</category>
        <category>Library</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>RxJava2.x</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RxJava2.xÂºÄÂèë-2-Schedulers]]></title>
    <url>%2Farticle%2F8de84f35%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªç RxJava2.x Âº∫Â§ßÁöÑÁ∫øÁ®ãË∞ÉÂ∫¶„ÄÇ Âú® Android ÂºÄÂèë‰∏≠Âõ†‰∏∫‰∏çÂÖÅËÆ∏ÈòªÂ°û‰∏ªÁ∫øÁ®ãÔºåÊâÄ‰ª•ÊâÄÊúâÁöÑËÄóÊó∂ËØ∑Ê±ÇÈÉΩÂøÖÈ°ªÂÖ®ÈÉ®ÊîæÂú®Â≠êÁ∫øÁ®ãÊù•ÂÅöÔºåÁÑ∂ÂêéÂÜçÂéª‰∏ªÁ∫øÁ®ãÊõ¥Êñ∞UIÔºåÂÖ≥‰∫é‰∏ªÁ∫øÁ®ãÂíåÂ≠êÁ∫øÁ®ãÁöÑÈÄö‰ø°ÂÖ∂ÂÆûÂºÇÂ∏∏Â§çÊùÇÔºåÂ•ΩÂú®Android ÁªôÊàë‰ª¨Êèê‰æõ‰∫Ü AsyncTaskÔºåHandler Á≠âÊñπÂºèÊù•ÁÆÄÂåñËøô‰∏ÄËøáÁ®ã„ÄÇ‰ΩøÁî® RxJava ‰ºöËÆ©ÂàáÊç¢Á∫øÁ®ãÂèòÂæóÊõ¥ÁÆÄÂçï„ÄÇ Êñá‰∏≠ÈÉ®ÂàÜÊèèËø∞ÂèØËÉΩÊúâ‰∫õÊ∑∑‰π±Ôºå‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÁúãÂá∫Âú®Âì™‰∏™Á∫øÁ®ãË∞ÉÁî®ÔºåÊàë‰ºöÂú®Â≠êÁ∫øÁ®ã‰∏≠ÊâßË°åÊàëÁöÑ‰ª£Á†ÅÔºåÊàëÂ∞±Áß∞ÂÆÉ‰∏∫ MyThreadÔºå‰πüÂ∞±ÊòØË∞ÉÁî®‰ª£Á†ÅÊâÄÂú®ÁöÑÁ∫øÁ®ã„ÄÇioÁ∫øÁ®ãÔºåËÆ°ÁÆóÁ∫øÁ®ãÔºånewThreadÁ∫øÁ®ãÂ∞±ÊòØÊàëÂØπ RxJava Âá†ÁßçÂÜÖÁΩÆÁ∫øÁ®ãÁöÑÁÆÄÁß∞„ÄÇ‰∏äÊ∏∏Á∫øÁ®ãÂ∞±ÊòØË¢´ËßÇÂØüËÄÖÊâÄÂú®ÁöÑÁ∫øÁ®ãÔºå‰∏ãÊ∏∏Á∫øÁ®ãÊòØËßÇÂØüËÄÖÊâÄÂú®Á∫øÁ®ãÔºåË∞ÉÁî®Á∫øÁ®ãÂ∞±ÊòØÊàëË∞ÉÁî®‰ª£Á†ÅÁöÑÁ∫øÁ®ã MyThread„ÄÇËøôÈáåÁÆÄÂçïÁêÜ‰∏Ä‰∏ãÔºåËôΩÁÑ∂ËøòÊòØÊúâÁÇπ‰π±„ÄÇ Schedulers ÁßçÁ±ªRxJava Ê†πÊçÆ‰∏çÂêåÂ∫îÁî®Âú∫ÊôØÂÜÖÁΩÆ‰∫ÜÂ§öÁßçÁ∫øÁ®ãË∞ÉÂ∫¶Âô®ÔºåÂèØ‰ª•Â§ßÂ§öÊï∞Âú∫ÊôØÁöÑÂêéÂè∞Êìç‰ΩúÈúÄÊ±Ç„ÄÇ Schedulers Desc Schedulers.computation() Áî®‰∫éËÆ°ÁÆó‰ªªÂä°ÔºåÂ¶Ç‰∫ã‰ª∂Âæ™ÁéØÊàñÂíåÂõûË∞ÉÂ§ÑÁêÜÔºå‰∏çË¶ÅÁî®‰∫éIOÊìç‰ΩúÔºåÈªòËÆ§Á∫øÁ®ãÊï∞Á≠â‰∫éÂ§ÑÁêÜÂô®ÁöÑÊï∞Èáè Schedulers.io() Áî®‰∫éIOÂØÜÈõÜÂûã‰ªªÂä°ÔºåÂ¶ÇÂºÇÊ≠•ÈòªÂ°ûIOÊìç‰ΩúÔºåËøô‰∏™Ë∞ÉÂ∫¶Âô®ÁöÑÁ∫øÁ®ãÊ±†‰ºöÊ†πÊçÆÈúÄË¶ÅÂ¢ûÈïøÔºõÂØπ‰∫éÊôÆÈÄöÁöÑËÆ°ÁÆó‰ªªÂä°ÔºåËØ∑‰ΩøÁî®Schedulers.computation() Schedulers.newThread() ‰∏∫ÊØè‰∏™‰ªªÂä°ÂàõÂª∫‰∏Ä‰∏™Êñ∞Á∫øÁ®ã Schedulers.trampoline() ÂΩìÂÖ∂ÂÆÉÊéíÈòüÁöÑ‰ªªÂä°ÂÆåÊàêÂêéÔºåÂú®ÂΩìÂâçÁ∫øÁ®ãÊéíÈòüÂºÄÂßãÊâßË°å Schedulers.from(executor) ‰ΩøÁî®ÊåáÂÆöÁöÑ Executor ‰Ωú‰∏∫Ë∞ÉÂ∫¶Âô® AndroidSchedulers.mainThread() Android ‰∏ªÁ∫øÁ®ã AndroidSchedulers.from(looper) ‰ªé Looper ÂàõÂª∫ Á∫øÁ®ãË∞ÉÂ∫¶ÊúÄ‰∏∫ÂÖ≥ÈîÆÁöÑÂ∞±ÊòØ‰∏§‰∏™ÊñπÊ≥ï subscribeOn() Âíå observeOn()Ôºå‰ªé‰ª£Á†ÅÁöÑÈìæÂºèË∞ÉÁî®ÂèØ‰ª•ÁÆÄÂçïÁöÑÊÄªÁªì‰∏∫Ôºö ‰∏äÊ∏∏ Observable ÊÄªÊòØÈªòËÆ§ËøêË°åÂú®Ë¢´Ë∞ÉÁî®ÁöÑÁ∫øÁ®ãÂΩì‰∏≠ÔºåÂç≥‰Ω†Âú®Âì™‰∏™Á∫øÁ®ãË∞ÉÁî®Â∞±‰ºöËøêË°åÂú®Âì™‰∏™Á∫øÁ®ã„ÄÇ ‰∏ãÊ∏∏ Onserver ÊÄªÊòØÈªòËÆ§ËøêË°åÂú®‰∏äÊ∏∏ÊâÄÂú®Á∫øÁ®ã‰∏≠(ÂΩìÁÑ∂Â¶ÇÊûú‰Ω†Ê≤°ÊúâÂàáÊç¢‰∏äÊ∏∏ÁöÑÁ∫øÁ®ãÔºåÈÇ£‰πà‰∏ãÊ∏∏‰πü‰ºöËøêË°åÂú®Ë∞ÉÁî®ÁöÑÁ∫øÁ®ã‰∏≠)ÔºåÈô§Èùû‰ΩøÁî® observeOn() ËøõË°åÁ∫øÁ®ãÁöÑÂàáÊç¢„ÄÇ subscribeOn() Áî®Êù•Â£∞Êòé‰∏äÊ∏∏‰∫ã‰ª∂ÂèëÈÄÅÊó∂ÁöÑÊâÄÂú®Á∫øÁ®ãÔºåÂΩìË∞ÉÁî®Â§öÊ¨° subscribeOn() Êó∂Ôºå‰∏äÊ∏∏‰ºöËøêË°åÂú®ÊúÄÊó©ÁöÑ‰∏ÄÊ¨°Ë∞ÉÁî®Â£∞ÊòéÁöÑÁ∫øÁ®ã‰∏≠„ÄÇÂΩìÁÑ∂‰πü‰∏çÊòØËØ¥Â§öÊ¨°ÁöÑË∞ÉÁî®ÊòØÂÆåÂÖ®Ê≤°ÊïàÊûúÁöÑÔºåÂêéÈù¢‰ºöÁªÜËØ¥„ÄÇ observeOn() Áî®Êù•Â£∞Êòé‰∏ãÊ∏∏ËßÇÂØüËÄÖÊâÄÂú®Á∫øÁ®ãÔºåÊØèÊ¨°Ë∞ÉÁî® observeOn() ÈÉΩ‰ºöÂèëÁîüÁ∫øÁ®ãÂàáÊç¢ÔºåÊ≠§Ê¨°Ë∞ÉÁî®Áõ¥Âà∞‰∏ãÊ¨°ÂàáÊç¢Á∫øÁ®ã‰∏≠Èó¥ÁöÑËøáÁ®ã‰∏≠ÁöÑÊìç‰ΩúËøêË°åÂú®Ê≠§Ê¨°Ë∞ÉÁî®ÊåáÂÆöÁöÑÁ∫øÁ®ã‰∏≠„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637log("start");Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exceptio log("Observable"); e.onNext(10); &#125;&#125;) // Á¨¨1Ê¨°Ë∞ÉÁî®subscribeOnÔºå Observable Â∞ÜËøêË°åÂú®ioÁ∫øÁ®ã .subscribeOn(Schedulers.io()) // io Á∫øÁ®ãÔºå‰∏ãÊ∏∏ÊÄªÊòØ‰ºöÈªòËÆ§ËøêË°åÂú®‰∏äÊ∏∏ÊâÄÂú®Á∫øÁ®ã‰∏≠ .filter(new Predicate&lt;Integer&gt;() &#123; @Override public boolean test(@NonNull Integer integer) throws Exception &#123; log("filter1"); return true; &#125; &#125;) // Á¨¨2Ê¨°Ë∞ÉÁî®subscribeOnÔºå‰∏ç‰ºöÁîüÊïà .subscribeOn(Schedulers.newThread()) // Á¨¨1Ê¨°Ë∞ÉÁî®observeOnÔºåÂàáÊç¢Á∫øÁ®ãÔºåfilterÊìç‰ΩúËøêË°åÂú®‰∏ªÁ∫øÁ®ã .observeOn(AndroidSchedulers.mainThread()) .filter(new Predicate&lt;Integer&gt;() &#123; @Override public boolean test(@NonNull Integer integer) throws Exception &#123; log("filter2"); return true; &#125; &#125;) // Á¨¨2Ê¨°Ë∞ÉÁî®observeOnÔºåÂàáÊç¢Á∫øÁ®ãÂà∞Â≠êÁ∫øÁ®ã .observeOn(Schedulers.newThread()) .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(@NonNull Integer integer) throws Exception &#123; log("subscribe = " + integer); &#125; &#125;); ËæìÂá∫ÁªìÊûú,ÊàëÊï¥‰∏™‰ª£Á†ÅËøêË°åÂú®‰∏Ä‰∏™ÊàëËá™Â∑±ÁöÑÂ≠êÁ∫øÁ®ã‰∏≠ÔºåÊàëÂ∞±Âè´‰ªñ MyThread Â•Ω‰∫ÜÔºåÊñπ‰æøÊèèËø∞ 12345[ThreadName:pool-13-thread-1] start // Âõ†‰∏∫Âú® MyThread Â≠êÁ∫øÁ®ãË∞ÉÁî®[ThreadName:RxCachedThreadScheduler-1] Observable // io[ThreadName:RxCachedThreadScheduler-1] filter1 // io.Áî±‰∫éÊ≤°ÊúâÂàáÊç¢Á∫øÁ®ãÔºåÈªòËÆ§ËøêË°åÂú®‰∏äÊ∏∏Á∫øÁ®ã‰∏≠„ÄÇ[ThreadName:main] filter2 // ÂàáÊç¢Âà∞‰∏ªÁ∫øÁ®ã[ThreadName:RxNewThreadScheduler-2] subscribe = 10 // ÂàáÊç¢Âà∞ newThread Á∫øÁ®ã doOnSubscribe()ÂΩìË∞ÉÁî®Â§öÊ¨° subscribeOn() ÊñπÊ≥ïÊó∂Ôºå‰∏äÊ∏∏Â∞ÜËøêË°åÂú®ÊúÄÊó©Ë∞ÉÁî®ÊåáÂÆöÁöÑÁ∫øÁ®ã‰∏≠ÔºåËøô‰∏™Ê≤°‰ªÄ‰πàÈóÆÈ¢òÔºåÂØπ‰∫é‰∏ãÊ∏∏ÁöÑ doOnNext()ÔºådoOnComplete() Êù•ËØ¥ÔºåÈÅµÂæ™‰∏äÈù¢ËØ¥ÁöÑËßÑÂàôÔºåÈô§Èùû‰Ω†‰ΩøÁî® observerOn() ÂàáÊç¢Á∫øÁ®ãÔºå‰∏çÁÑ∂ËøêË°åÂú®‰∏äÊ∏∏Á∫øÁ®ã‰∏≠„ÄÇ ‰ΩÜÊòØ doOnSubscribe() ÊúâÁÇπ‰∏ç‰∏ÄÊ†∑ÔºåÈô§Èùû‰ªñÂêéÈù¢ÊúâË∞ÉÁî® subscribeOn() ÂàáÊç¢Á∫øÁ®ãÔºåÂê¶Âàô‰ªñÈªòËÆ§ËøêË°åÂú®ÊâßË°å Observable.subcribe() ËØ≠Âè•ÁöÑÁ∫øÁ®ã‰∏≠„ÄÇ ÂÖ∂ÂÆûËøôÈáåÁöÑ doXXX() ÊñπÊ≥ïÂíå‰∏ä‰∏ÄÁØáÊñáÁ´†‰∏≠ËßÇÂØüËÄÖ‰∏≠ÁöÑÂá†‰∏™ÊñπÊ≥ïÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÔºåÂú®ËßÇÂØüËÄÖÁöÑ‰∏≠ onSubscribe() ÊñπÊ≥ï‰πüÊúâÂêåÊ†∑ÁöÑÂ±ûÊÄßÔºå‰ªñÂú®ËÆ¢ÈòÖÂèëÁîüÁöÑ‰∏ÄÁû¨Èó¥È¶ñÂÖàÊâßË°åÔºåÂπ∂‰∏îÂÆÉËøêË°åÂú®ËÆ¢ÈòÖÂèëÁîüÁöÑÁ∫øÁ®ã„ÄÇÂÖ∂‰ªñÂá†‰∏™ÊñπÊ≥ï‰πüÊòØ‰∏ÄÊ†∑ÔºåÈô§Èùû‰Ω†‰ΩøÁî® observerOn() ÂàáÊç¢Á∫øÁ®ãÔºå‰∏çÁÑ∂ËøêË°åÂú®‰∏äÊ∏∏Á∫øÁ®ã‰∏≠„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940log("start");Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; log("Observable"); e.onNext(10); e.onComplete(); &#125;&#125;) // ËÆ°ÁÆóÁ∫øÁ®ãÔºåÂõ†Ê≠§ Observable Â∞Ü‰ºöËøêË°åÂú®ËÆ°ÁÆóÁ∫øÁ®ã .subscribeOn(Schedulers.computation()) .observeOn(Schedulers.newThread()) .doOnNext(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(@NonNull Integer integer) throws Exception &#123; log("doOnNext"); &#125; &#125;) .doOnSubscribe(new Consumer&lt;Disposable&gt;() &#123; @Override public void accept(@NonNull Disposable disposable) throws Exception &#123; // ÂêéÈù¢Ê≤°ÊúâË∞ÉÁî® subscribeOn() Âõ†Ê≠§Â∞ÜËøêË°åÂú® Observable.subscribe() ÊâßË°åÁöÑÁ∫øÁ®ã log("doOnSubscribe"); &#125; &#125;) .doOnComplete(new Action() &#123; @Override public void run() throws Exception &#123; log("doOnComplete"); &#125; &#125;) .observeOn(Schedulers.newThread()) // doOnSubscribe() ËøêË°åÁöÑÁ∫øÁ®ãÂèñÂÜ≥‰∫éÂú®Âì™ÈáåÊâßË°åËÆ¢ÈòÖ // Èô§ÈùûÂêéÈù¢ÊúâË∞ÉÁî® subscribeOn() ËøõË°åÁ∫øÁ®ãÁöÑÂàáÊç¢ .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(@NonNull Integer integer) throws Exception &#123; log("subscribe = " + integer); &#125; &#125;); ËæìÂá∫ÁªìÊûúÔºåÊàëÊï¥‰∏™‰ª£Á†ÅËøêË°åÂú®‰∏Ä‰∏™ÊàëËá™Â∑±ÁöÑÂ≠êÁ∫øÁ®ã‰∏≠ÔºåÊàëÂ∞±Âè´‰ªñ MyThread Â•Ω‰∫ÜÔºåÊñπ‰æøÊèèËø∞ 1234567891011// MyThread Â≠êÁ∫øÁ®ãËøêË°å[ThreadName:pool-16-thread-1] start // Âõ†‰∏∫ subscribe() ÊñπÊ≥ï‰πüÂêåÊ†∑ËøêË°åÂú® MyThread Â≠êÁ∫øÁ®ãÔºåÊâÄ‰ª• doSunscribe() È°µËøêË°åÂú® MyThread Â≠êÁ∫øÁ®ã[ThreadName:pool-16-thread-1] doOnSubscribe // Áî±‰∫éË∞ÉÁî® subscribeOn(Schedulers.computation()) ÊâÄ‰ª•‰∏äÊ∏∏ËøêË°åÂú®ËÆ°ÁÆóÁ∫øÁ®ã[ThreadName:RxComputationThreadPool-1] Observable // ÈÅµÂæ™‰∏äÈù¢ËØ¥ÁöÑËßÑÂàôÔºåËøêË°åÂú® observerOn() ÊåáÂÆöÁöÑ newThread ‰∏≠„ÄÇ[ThreadName:RxNewThreadScheduler-1] doOnNext// Âêå‰∏ä [ThreadName:RxNewThreadScheduler-1] doOnComplete [ThreadName:RxNewThreadScheduler-2] subscribe = 10 ÂàáÊç¢ doOnSubscribe() ÊâÄÂú®Á∫øÁ®ãÂÜçÊç¢‰∏Ä‰∏™Êõ¥Êîπ doOnSubscribe() ËøêË°åÁ∫øÁ®ãÁöÑ‰æãÂ≠êÔºåË∑ü‰∏äÈù¢‰∏çÂêåÁöÑÊòØÂú® doOnSubscribe() ‰πãÂêéÊàë‰ª¨‰ΩøÁî® subscribeOn(Schedulers.io()) ÂàáÊç¢‰∫ÜÁ∫øÁ®ãÔºåÂõ†Ê≠§ doOnSubscribe() Â∞ÜËøêË°åÂú® io Á∫øÁ®ã„ÄÇ 123456789101112131415161718192021222324252627282930log("start");Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; log("Observable"); e.onNext(10); e.onComplete(); &#125;&#125;) // ËÆ°ÁÆóÁ∫øÁ®ãÔºåÂõ†Ê≠§ Observable Â∞Ü‰ºöËøêË°åÂú®ËÆ°ÁÆóÁ∫øÁ®ã .subscribeOn(Schedulers.computation()) .observeOn(Schedulers.newThread()) .doOnSubscribe(new Consumer&lt;Disposable&gt;() &#123; @Override public void accept(@NonNull Disposable disposable) throws Exception &#123; // doOnSubscribe ‰πãÂêéÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî® subscribeOn(Schedulers.io()) ÂàáÊç¢Âà∞‰∫ÜioÁ∫øÁ®ã // Âõ†Ê≠§ doOnSubscribe ËøêË°åÂú® io Á∫øÁ®ã„ÄÇ log("doOnSubscribe"); &#125; &#125;) .subscribeOn(Schedulers.io()) .observeOn(Schedulers.newThread()) // doOnSubscribe() ËøêË°åÁöÑÁ∫øÁ®ãÂèñÂÜ≥‰∫éÂú®Âì™ÈáåÊâßË°åËÆ¢ÈòÖ // Èô§ÈùûÂêéÈù¢ÊúâË∞ÉÁî® subscribeOn() ËøõË°åÁ∫øÁ®ãÁöÑÂàáÊç¢ .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(@NonNull Integer integer) throws Exception &#123; log("subscribe = " + integer); &#125; &#125;); ËøêË°åÁªìÊûú 12345678// MyThread[ThreadName:pool-16-thread-1] start// Áî±‰∫éÂêéÈù¢Ë∞ÉÁî®‰∫Ü subscribeOn(io) Âõ†Ê≠§ËøêË°åÂú® io Á∫øÁ®ã[ThreadName:RxCachedThreadScheduler-1] doOnSubscribe// ËøêË°åÂú®‰∏äÊ∏∏Á∫øÁ®ã‰∏≠[ThreadName:RxComputationThreadPool-1] Observable// ‰ΩøÁî® observeOn(Schedulers.newThread()) ÂàáÊç¢Âà∞‰∫Ü newThread[ThreadName:RxNewThreadScheduler-2] subscribe = 10 ‰∏æ‰∏™üå∞ÊúâÂï•Áî®Âë¢ÔºüÊ®°Êãü‰∏Ä‰∏™Âú∫ÊôØÔºå1‚É£Ô∏è‰∏äÊ∏∏ÂèëÈÄÅÁΩëÁªúËØ∑Ê±ÇÔºåË¶ÅÊ±ÇÂú®Â≠êÁ∫øÁ®ãÊâßË°åÔºå2‚É£Ô∏è ‰ΩÜÊòØËØ∑Ê±ÇÂàöÂºÄÂßãÁöÑÊó∂ÂÄôÊàë‰ª¨Ë¶ÅÊòæÁ§∫ dialog ÊèêÁ§∫Áî®Êà∑Á≠âÂæÖÔºåÈúÄË¶ÅÂú®‰∏ªÁ∫øÁ®ãÊâßË°åÔºå3‚É£Ô∏è ÂÆåÊàê‰πãÂêéÂèàË¶ÅÂú®Â≠êÁ∫øÁ®ãÂ§ÑÁêÜÊï∞ÊçÆÔºå4‚É£Ô∏è ÁÑ∂ÂêéÂéª‰∏ªÁ∫øÁ®ãÊõ¥Êñ∞UI„ÄÇ 123456789101112131415161718192021222324252627282930313233343536log("ÂºÄÂßãÊìç‰ΩúÔºå‰∏∫‰∫ÜÊêûÂ§çÊùÇÁÇπÔºåÊàëÂú®ÊàëËá™Â∑±ÂàõÂª∫Â≠êÁ∫øÁ®ãÊìç‰Ωú");Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; log("Â≠êÁ∫øÁ®ãÂèëËµ∑ÁΩëÁªúËØ∑Ê±Ç"); e.onNext(10); e.onComplete(); &#125;&#125;) // Âú®Â≠êÁ∫øÁ®ãÂèëËµ∑ËØ∑Ê±Ç .subscribeOn(Schedulers.newThread()) .doOnSubscribe(new Consumer&lt;Disposable&gt;() &#123; @Override public void accept(@NonNull Disposable disposable) throws Exception &#123; log("ËØ∑Ê±Ç‰πãÂâçÔºå‰∏ªÁ∫øÁ®ãÂºπËµ∑dialog"); &#125; &#125;) // ÂàáÊç¢Âà∞‰∏ªÁ∫øÁ®ãÂºπ dialog .subscribeOn(AndroidSchedulers.mainThread()) // ÂàáÊç¢Âà∞ËÆ°ÁÆóÁ∫øÁ®ã Â§ÑÁêÜÊï∞ÊçÆ .observeOn(Schedulers.computation()) .filter(new Predicate&lt;Integer&gt;() &#123; @Override public boolean test(@NonNull Integer integer) throws Exception &#123; log("ËÆ°ÁÆóÁ∫øÁ®ãÂ§ÑÁêÜÊï∞ÊçÆ"); return true; &#125; &#125;) // ÂàáÊç¢Âà∞‰∏ªÁ∫øÁ®ãÊõ¥Êñ∞UI .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(@NonNull Integer integer) throws Exception &#123; log("‰∏ªÁ∫øÁ®ãÊõ¥Êñ∞UI"); &#125; &#125;); ËæìÂá∫ÁªìÊûú 12345[ThreadName:pool-13-thread-1] ÂºÄÂßãÊìç‰ΩúÔºå‰∏∫‰∫ÜÊêûÂ§çÊùÇÁÇπÔºåÊàëÂú®ÊàëËá™Â∑±ÂàõÂª∫Â≠êÁ∫øÁ®ãÊìç‰Ωú[ThreadName:main] ËØ∑Ê±Ç‰πãÂâçÔºå‰∏ªÁ∫øÁ®ãÂºπËµ∑dialog[ThreadName:RxNewThreadScheduler-1] Â≠êÁ∫øÁ®ãÂèëËµ∑ÁΩëÁªúËØ∑Ê±Ç[ThreadName:RxComputationThreadPool-1] ËÆ°ÁÆóÁ∫øÁ®ãÂ§ÑÁêÜÊï∞ÊçÆ[ThreadName:main] ‰∏ªÁ∫øÁ®ãÊõ¥Êñ∞UI ÊÄª‰πãÔºåÂ¶Ç‰ΩïÂà§Êñ≠Âà∞Â∫ïÂú®‰ªÄ‰πàÁ∫øÁ®ãËøêË°åÁªº‰∏äÊâÄËø∞ÔºåÊÄªÁªìÂá†Êù°ÂÖ¨ÂºèÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊää‰∏äÈù¢ËØ¥ÁöÑÂÜçËØ¥‰∏ÄÈÅçÔºö Âá†‰∏™Ê¶ÇÂøµ Ôºö ‰∏äÊ∏∏Ôºå‰∏äÊ∏∏ÊåáÁöÑÊòØ Êï∞ÊçÆÂèëÂ∞ÑÊ∫êÔºåObservable ‰∏≠ÁöÑ‰ª£Á†Å„ÄÇ ‰∏ãÊ∏∏Ôºå‰∏ãÊ∏∏ÊåáÁöÑÊòØ Êìç‰ΩúÁ¨¶ÊñπÊ≥ïÔºåObservable Ë∞ÉÁî®ÊñπÊ≥ïÔºåËßÇÂØüËÄÖ‰∏≠ÁöÑÊñπÊ≥ï Ë∞ÉÁî®Á∫øÁ®ãÔºåÊàëÂú®Âì™‰∏™Á∫øÁ®ãËøêË°åËØ•‰ª£Á†ÅÔºåËøô‰∏™Á∫øÁ®ãÂ∞±ÊòØË∞ÉÁî®Á∫øÁ®ã„ÄÇ 1‚É£Ô∏è„ÄÅ‰∏äÊ∏∏ÊÄªÊòØÈªòËÆ§ËøêË°åÂú®Ë¢´ Ë∞ÉÁî®Á∫øÁ®ã ÂΩì‰∏≠ÔºåÂç≥‰Ω†Âú®Âì™‰∏™Á∫øÁ®ãË∞ÉÁî®Â∞±‰ºöËøêË°åÂú®Âì™‰∏™Á∫øÁ®ã„ÄÇ 2‚É£Ô∏è„ÄÅ ‰∏ãÊ∏∏ÊÄªÊòØÈªòËÆ§ËøêË°åÂú®‰∏äÊ∏∏ÊâÄÂú®Á∫øÁ®ã‰∏≠ (ÂΩìÁÑ∂Â¶ÇÊûú‰Ω†Ê≤°ÊúâÂàáÊç¢‰∏äÊ∏∏ÁöÑÁ∫øÁ®ãÔºåÈÇ£‰πà‰∏ãÊ∏∏‰πü‰ºöËøêË°åÂú® Ë∞ÉÁî®Á∫øÁ®ã ‰∏≠) ÔºåÈô§Èùû‰ΩøÁî® observeOn() ËøõË°åÁ∫øÁ®ãÁöÑÂàáÊç¢„ÄÇ 3‚É£Ô∏è„ÄÅ subscribeOn() Áî®Êù•Â£∞Êòé‰∏äÊ∏∏‰∫ã‰ª∂ÂèëÈÄÅÊó∂ÁöÑÊâÄÂú®Á∫øÁ®ãÔºåÂΩìË∞ÉÁî®Â§öÊ¨° subscribeOn() Êó∂Ôºå‰∏äÊ∏∏‰ºöËøêË°åÂú® ÊúÄÊó© ÁöÑ‰∏ÄÊ¨°Ë∞ÉÁî®Â£∞ÊòéÁöÑÁ∫øÁ®ã‰∏≠„ÄÇ 4‚É£Ô∏è„ÄÅ observeOn() Áî®Êù•Â£∞Êòé‰∏ãÊ∏∏ËßÇÂØüËÄÖÊâÄÂú®Á∫øÁ®ãÔºåÊØèÊ¨°Ë∞ÉÁî® observeOn() ÈÉΩ‰ºöÂèëÁîüÁ∫øÁ®ãÂàáÊç¢ÔºåÊ≠§Ê¨°ÂàáÊç¢ Âà∞ ‰∏ãÊ¨°ÂàáÊç¢ ‰πãÈó¥ËøêË°åÂú® Ê≠§Ê¨°ÂàáÊç¢ ÁöÑÁ∫øÁ®ã‰∏≠„ÄÇ 5‚É£Ô∏è„ÄÅ ÂØπ‰∫é doOnNext()/onNext()ÔºådoOnComplete()/onComplete()ÔºådoOnError()/onError() Âá†‰∏™ÊñπÊ≥ï (ÂâçËÄÖÊòØ Ë¢´ËßÇÂØüËÄÖ Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÔºåÂêéËÄÖÊòØ ËßÇÂØüËÄÖ Êé•Âè£ÈáåÈù¢ÁöÑÂØπÂ∫îÊñπÊ≥ï) Ôºå‰ªñ‰ª¨ÈÉΩÂíåÊìç‰ΩúÁ¨¶‰∏ÄÊ†∑ÔºåÈÅµÂæ™ 2‚É£Ô∏è ‰∏≠ÁöÑËßÑÂàô„ÄÇ 6‚É£Ô∏è„ÄÅÂØπ‰∫é doOnSubscribe()/onSubscribe() ÊñπÊ≥ï (ÂâçËÄÖÊòØ Ë¢´ËßÇÂØüËÄÖ Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÔºåÂêéËÄÖÊòØ ËßÇÂØüËÄÖ Êé•Âè£ÈáåÈù¢ÁöÑÂØπÂ∫îÊñπÊ≥ï) Êù•ËØ¥ÔºåÂ¶ÇÊûú‰ªñÂêéÈù¢ÊúâË∞ÉÁî® subscribeOn() ÂàáÊç¢Á∫øÁ®ãÔºåÈÇ£‰πàÂÆÉËøêË°åÂú®ÂàáÊç¢ÁöÑÁ∫øÁ®ãÔºåÂê¶Âàô‰ªñÈªòËÆ§ËøêË°åÂú®ÊâßË°å Observable.subcribe() ËØ≠Âè•ÁöÑÁ∫øÁ®ã‰∏≠„ÄÇ ‰∏∫‰ªÄ‰πàÊòØËøôÊ†∑‰∏äÈù¢Âè™ÊòØÊÄªÁªì‰∏Ä‰∫õËßÑÂàôÔºå‰∏Ä‰∏™ÊñπÊ≥ïÊòØËøêË°åÂú®‰ªÄ‰πàÁ∫øÁ®ãÔºå‰ΩøÁî®‰∏äÈù¢ÁöÑËßÑÂàôÂèØ‰ª•Êõ¥ÁÆÄÂçïÂà§Êñ≠Âá∫Êù•ÔºåÊàë‰ª¨ÂÖ∂ÂÆûÊòØÂú®ÈÄöËøá‰∏Ä‰∫õË°®Ë±°Êù•ÊÄªÁªìÂ¶Ç‰ΩïÂà§Êñ≠ÔºåÈÇ£‰∏∫‰ªÄ‰πà‰ºöÊòØËøôÊ†∑ÁöÑËßÑÂàôÂë¢ÔºüÊàëÁé∞Âú®‰πüËøòÊ≤°Á†îÁ©∂ÊòéÁôΩÔºåÔºåÔºåÔºåÔºåÔºåÊâÄ‰ª•ÔºåÂæÖÂäû ÔΩû ok‰∫ÜÔΩûÂÖ≥‰∫é RxJava2.x ÁöÑ‰∏Ä‰∫õÊ∫êÁ†ÅÂàÜÊûêËßÅRxJava2.xÂºÄÂèë (Ê∫êÁ†ÅËß£Êûê)]]></content>
      <categories>
        <category>Android</category>
        <category>Library</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>RxJava2.x</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂùöÊåÅ]]></title>
    <url>%2Farticle%2FInfinity%2F</url>
    <content type="text"><![CDATA[2017Âπ¥7Êúà2Êó•ÔºåÊó©9ÁÇπ10ÂàÜÔºåÂë®Êó•ÔºåÂ§©Ê∞î‰∏çÈîôÔºåÁ®çÂæÆÊúâÁÇπÁÉ≠„ÄÇ ‰ªäÂ§©Âë®Êó•ÔºåËΩ¨Áúº‰∏ÄÂë®ËøáÊù•‰∫ÜÔºåËøôÂë®ÈÉΩÂ∞ΩÈáèËÉΩÂú®Êó©‰∏ä7ÁÇπÂà∞8ÁÇπËµ∑Â∫äÂà∞ÂÖ¨Âè∏ÔºåÁÆóÊòØÂùöÊåÅ‰∏ãÊù•‰∫ÜÔºå‰ª•ÂêéÁªßÁª≠ÔºåÁÑ∂ÂêéÊääÊó∂Èó¥ÊéßÂà∂Âú®7ÁÇπÂ§öÔºåÁé∞Âú®Ëµ∑Â∫ä‰πãÂêéÂ¢®ËøπÁöÑÊó∂Èó¥Â§™Â§ö‰∫ÜÔºå7ÁÇπÂ§öÁùÅÁúºÔºåÈÉΩË¶ÅÂø´9ÁÇπÈíüÊâçÊúâÁä∂ÊÄÅ„ÄÇ ËøôÂë®‰∏ªË¶ÅÁúã‰∫Ü‰∏Ä‰∏ã Kotlin ÁöÑ‰∏ÄÁÇπÂÜÖÂÆπÔºåÁÑ∂Âêé Retrofit ÁΩëÁªúËØ∑Ê±ÇÔºåÁÆÄÂçïÁöÑÂºÄÂßã‰∫ÜËß£‰∫Ü‰∏Ä‰∏ãÔºåÂêéÈù¢‰ºöÁªßÁª≠Ê∑±ÂÖ•Ôºå‰ªäÂ§©ÈáçÁÇπÁúã RxJavaÔºåÂä†Ê≤π ÔºÅ TODO LIST : Kotlin Ââ©‰ΩôÈÉ®ÂàÜÁªßÁª≠Êé®Ëøõ„ÄÇ OkHttp + Retrofit + RxJava ËøòÊòØË¶ÅÁªßÁª≠‰∫ÜËß£„ÄÇ Áúã‰∫ÜÂá†ÁØáÈù¢ÁªèÔºåEventBusÔºåGlideÔºåOkHttpÔºåRetrofit Ê∫êÁ†ÅÁúã‰∏Ä‰∏ãÂéüÁêÜ„ÄÇ ÂçöÂÆ¢ÁªßÁª≠Êï¥ÁêÜ„ÄÇ Êõ¥Â§ö‚Ä¶]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RxJava2.xÂºÄÂèë-1-Âü∫Á°Ä]]></title>
    <url>%2Farticle%2F3251baff%2F</url>
    <content type="text"><![CDATA[ÂºÄÂßãÊÄªÁªìËÆ∞ÂΩï RxJava ÁöÑÁõ∏ÂÖ≥ÂÜÖÂÆπÔºåÊú¨Êñá‰∏≠ÊâÄÊúâÊ∂âÂèä RxJava ÁöÑÂú∞ÊñπÂùáÊåá Rxjava2.0„ÄÇ Êú¨Êñá‰∏ªË¶Å‰ª• Observable Âíå Flowable ‰∏∫‰æã‰ªãÁªçÂ¶Ç‰ΩïÂàõÂª∫Ë¢´ËßÇÂØüËÄÖÂíåËßÇÂØüËÄÖÔºåÂπ∂ËøûÊé•‰ªñ‰ª¨„ÄÇ RxJava https://github.com/ReactiveX/RxJava RxJava https://github.com/ReactiveX/RxAndroid Êé®ËçêÊñáÁ´†ËÆ∞ÂΩï‰∏Ä‰∏ãÁúãËøáÁöÑÂá†ÁØáËøò‰∏çÈîôÁöÑÂÖ≥‰∫é RxJava ÁöÑÊñáÁ´†ÔºåÊÑüË∞¢‰ªñ‰ª¨ÁöÑÊÄªÁªìÂíåÂàÜ‰∫´„ÄÇ RxJava1 - „Ää Áªô Android ÂºÄÂèëËÄÖÁöÑ RxJava ËØ¶Ëß£ „Äã- ÊâîÁâ©Á∫ø)ÔºåËøôÁØáÊñáÁ´†ÊòØÂØπ RxJava1 ÁöÑËÆ≤Ëß£ÔºåÂæà‰∏çÈîôÔºåÂõæÊñáÂπ∂ËåÇÔºåÁúã‰∫Ü‰∏ÄÈÅç‰πãÂêé‰ªçÊóßÊúâ‰∫õÁñëÊÉëÔºåÂª∫ËÆÆÂ§öÁúãÂá†ÈÅçÔºåÂæàÂ§öÂÖ≥‰∫éÂéüÁêÜÁöÑ‰ªãÁªçÂèØ‰ª•Âä†Âº∫ÂØπ Rx ÁöÑÁêÜËß£„ÄÇ RxJava2 - „Ää ÁªôÂàùÂ≠¶ËÄÖÁöÑRxJava2.0ÊïôÁ®ã(‰∏Ä) „Äã- ÊéòÈáë ‰ª•Âèä RxJava2 - „Ää ÁªôÂàùÂ≠¶ËÄÖÁöÑRxJava2.0ÊïôÁ®ã(‰∫å) „Äã- ÊéòÈáëÔºåÁâπÁÇπÂ∞±ÊòØ‰ΩúËÄÖ‰ΩøÁî®Ê∞¥ÁÆ°‰∏äÊ∏∏‰∏ãÊ∏∏ÁöÑÊèèËø∞ÊñπÂºèÔºåÁÆÄÂåñ‰∫ÜÂØπËßÇÂØüËÄÖÊ®°ÂºèÂíå‰∫ã‰ª∂ÂèëÈÄÅÁöÑÁêÜËß£ÔºåÊµÖÊòæÊòìÊáÇÔºå‰πüÂæàÂÖ®Èù¢ÔºåÈÄÇÂêàÂÖ•Èó®„ÄÇ „Ää RxJava2.0 ‰Ω†‰∏çÁü•ÈÅìÁöÑ‰∫ã„Äã- ÁÆÄ‰π¶ ÊòØÂØπ RxJava1.x Âíå RxJava2.x ÁöÑÂØπÊØîÔºåÊñáÁ´†‰∏≠ÂØπ 2.x ÁöÑÈÉ®ÂàÜ apiÔºåËøõË°å‰∫ÜÂàó‰∏æÔºåÂØπÊØîËµ∑Êù•ÁúãÂ∞±Ê∏ÖÊô∞Â§ö‰∫ÜÔºåÂè¶Â§ñÂæàÂ•ΩÁöÑËß£Èáä‰∫ÜËÉåÂéãÁöÑÈóÆÈ¢òÔºåÂèóÁõäÂå™ÊµÖ„ÄÇ „ÄäÂÖ≥‰∫éRxJavaÊúÄÂèãÂ•ΩÁöÑÊñáÁ´†„Äã- Áü•‰πé RxJava2.x APi ÊñáÊ°£ ÊàëÁöÑÁêÜËß£‰∏äÈù¢Êé®ËçêÁöÑÊñáÁ´†‰∏≠ÂØπ RxJava ÁöÑÁõ∏ÂÖ≥ÂéüÁêÜÈÉΩÂÅö‰∫ÜÈÉ®ÂàÜËØ¥ÊòéÔºåÊàëÂ∞±‰∏çÂÅöËøáÂ§öÊèèËø∞ÔºåËØ¥‰∏Ä‰∏ãÊàëÁöÑ‰∏Ä‰∫õÁêÜËß£Âêß„ÄÇ RxJava ÊúÄÂÖ≥ÈîÆÁöÑ‰∏§‰∏™ÁÇπÂ∞±ÊòØ ËßÇÂØüËÄÖÊ®°Âºè Âíå ÂºÇÊ≠•„ÄÇÂú® RxJava ‰∏≠Ë¢´ËßÇÂØüËÄÖ‰Ωú‰∏∫‰∫ã‰ª∂ÁöÑ‰∫ßÁîüÊñπÔºåÊòØ ‰∏ªÂä® ÁöÑÔºåÊòØÊï¥‰∏™‰∫ã‰ª∂ÊµÅÁ®ãÁöÑËµ∑ÁÇπ„ÄÇËßÇÂØüËÄÖ‰Ωú‰∏∫‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÊñπÔºåÊòØ Ë¢´Âä® ÁöÑÔºåÊòØÊï¥‰∏™‰∫ã‰ª∂ÊµÅÁ®ãÁöÑÁªàÁÇπ„ÄÇÂú®Ëµ∑ÁÇπÂíåÁªàÁÇπ‰πãÈó¥ÔºåÂç≥‰∫ã‰ª∂‰º†ÈÄíÁöÑËøáÁ®ã‰∏≠ÊòØÂèØ‰ª•Ë¢´Âä†Â∑•ÔºåËøáÊª§ÔºåËΩ¨Êç¢ÔºåÂêàÂπ∂Á≠âÁ≠âÊñπÂºèÂ§ÑÁêÜÁöÑ„ÄÇ ObservableÔºåË¢´ËßÇÂØüËÄÖÔºåË¢´ËÆ¢ÈòÖËÄÖÔºåÂèØË¢´ËßÇÂØüÁöÑÔºå‰ªñÊòØÊï∞ÊçÆÂíå‰∫ã‰ª∂ÂèëÂ∞ÑÁöÑÊ∫êÔºå‰ªñÂú® RxJava ‰∏≠ÊòØÊúâÂ§öÁßçÂÆûÁé∞ÊñπÂºèÔºåËøôÈáå‰∏çÊòØËØ¥ÁöÑÂì™‰∏™Á±ªÔºåËÄåÊòØ‰∏ÄÁßçÊ≥õÊåá„ÄÇ ObserverÔºèSubscriberÔºåËßÇÂØüËÄÖÔºåËÆ¢ÈòÖËÄÖÔºå‰ªñÊòØ‰∫ã‰ª∂Êé•ÂèóËÄÖ„ÄÇ Êï¥‰ΩìÊù•ÁúãÔºåÂèØ‰ª•ÁêÜËß£‰∏∫‰∏ÄÊù°‰∫ã‰ª∂ÊµÅÔºåË¢´ËßÇÂØüËÄÖÂú®‰∏äÊ∏∏ÂèëÈÄÅ‰∫ã‰ª∂ÔºåËßÇÂØüËÄÖÂú®‰∏ãÊ∏∏Êé•Âèó‰∫ã‰ª∂Ôºå‰∏≠Ê∏∏‰ºöÊúâÂæàÂ§öÈíàÂØπ‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÂíåÂèòÊç¢ÔºåËøôÊ†∑ÁêÜËß£Êõ¥ÁÆÄÂçï‰∏Ä‰∫õÔºå‰πüÊõ¥ÊúâÂä©‰∫éÁêÜËß£ËÉåÂéã(Backpressure)ÁöÑÂ≠òÂú®„ÄÇ‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÁêÜËß£ÔºåÈÅøÂÖçÂèôËø∞ÁöÑÊ∑∑‰π±ÔºåÊñáÁ´†‰∏≠Êàë‰ºöÁî® ‰∏äÊ∏∏ Âíå ‰∏ãÊ∏∏ ËøôÊ†∑ÁöÑÊèèËø∞Êù•‰ª£Êõø Ë¢´ËßÇÂØüËÄÖ Âíå ËßÇÂØüËÄÖ„ÄÇ ‰ΩøÁî® ObservableÂàõÂª∫‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑ ObservableÔºåÂèëÈÄÅ Integer Á±ªÂûãÁöÑÊï∞ÊçÆÔºåRxJava ÊúâÂæàÂ§öÂàõÂª∫ Observable ÁöÑÁÆÄÂçïÊñπÊ≥ïÔºåÊàë‰ª¨ÊöÇÊó∂Â∞±‰ΩøÁî®ÊúÄÂéüÂßãÁöÑÈÇ£ÁßçÔºåÊñπ‰æøÁêÜËß£„ÄÇ ObservableEmitter ÁªßÊâø EmitterÔºåÊòØ‰∏Ä‰∏™Êï∞ÊçÆÂèëÂ∞ÑÂô®ÔºåÁî®Êù•ÂêëËßÇÂØüËÄÖÂèëÈÄÅÊï∞ÊçÆ„ÄÇ 123456789101112// ÂàõÂª∫ ObservableObservable&lt;Integer&gt; observable = Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; // ÂèëÂ∞ÑÊï∞ÊçÆ e.onNext(1); e.onNext(2); // ÁªìÊùüÂèëÈÄÅ e.onComplete(); e.onNext(3); &#125;&#125;); ÂàõÂª∫‰∏Ä‰∏™ ObserverÔºåÊé•ÂèóÊï∞ÊçÆÂπ∂ÊâìÂç∞„ÄÇ 123456789101112131415161718Observer&lt;Integer&gt; observer = new Observer&lt;Integer&gt;() &#123; @Override public void onSubscribe(@NonNull Disposable d) &#123; log("onSubscribe"); &#125; @Override public void onNext(@NonNull Integer integer) &#123; log("onNext == &gt; " + integer); &#125; @Override public void onError(@NonNull Throwable e) &#123; log("onError"); &#125; @Override public void onComplete() &#123; log("onComplete"); &#125;&#125;; ÂÆûÁé∞ËÆ¢ÈòÖÔºåÊü•ÁúãÁªìÊûú„ÄÇ 123456789observable.subscribe(observer);// ÁªìÊûúÂ¶Ç‰∏ãÔºå3 ‰∏ç‰ºöË¢´ÊâìÂç∞---------------[ThreadName:pool-13-thread-1] onSubscribe[ThreadName:pool-13-thread-1] onNext == &gt; 1[ThreadName:pool-13-thread-1] onNext == &gt; 2[ThreadName:pool-13-thread-1] onComplete--------------- ËøôÊ†∑Êàë‰ª¨Â∞±ÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑËÆ¢ÈòÖÊµÅÁ®ãÔºåÂÆåÊàê‰∫ÜÊï∞ÊçÆÁöÑ‰º†ÈÄíÔºåÊÄªÁªì‰ª•‰∏ãË¶ÅÁÇπÔºö ObservableEmitter ÁªßÊâø EmitterÔºåÊòØ‰∏Ä‰∏™ÂèëÂ∞ÑÂô®ÔºåÁî®Êù•Âêë‰∏ãÊ∏∏ÂèëÈÄÅ‰∫ã‰ª∂ÔºåÂÆÉÂèØ‰ª•ÂèëÈÄÅÂ¶Ç‰∏ã3Áßç‰∫ã‰ª∂Ôºå‰πüÂØπÂ∫î‰∏ãÊ∏∏ËÆ¢ÈòÖËÄÖÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ï„ÄÇ 12345public interface Emitter&lt;T&gt; &#123; void onNext(@NonNull T value); void onError(@NonNull Throwable error); void onComplete();&#125; ‰∏äÊ∏∏Âíå‰∏ãÊ∏∏ÁöÑÊâÄÊúâÊñπÊ≥ïÈÉΩÈªòËÆ§ËøêË°åÂú®ÂΩìÂâçÊâÄÂú®Á∫øÁ®ãÂÜÖÔºåÂ¶Ç‰∏äËøêË°åÁªìÊûúÔºåÊàëÂú®Â≠êÁ∫øÁ®ãËøêË°åÂàôÊâÄÊúâÊñπÊ≥ï‰ºöÂú®Â≠êÁ∫øÁ®ãË∞ÉÁî®„ÄÇ ËÆ¢ÈòÖÂèëÁîüÂú® observable.subscribe(observer); Êó∂ÔºåÊ≠§Êó∂‰∏äÊ∏∏ÊâçÂºÄÂßãÂèëÈÄÅ‰∫ã‰ª∂ÔºåÂπ∂‰∏î onSubscribe() ÊñπÊ≥ï‰ºöÂú®ÂºÄÂßãËÆ¢ÈòÖÊó∂È¶ñÂÖàÊâßË°å„ÄÇ ‰∏äÊ∏∏ÂèØ‰ª•ÂèëÈÄÅÊó†Êï∞‰∏™ onNext(T t) ‰∫ã‰ª∂Ôºå‰∏ãÊ∏∏ÈÉΩÂèØ‰ª•Êé•ÂèóÂà∞„ÄÇ ÂΩì‰∏äÊ∏∏ÂèëÈÄÅ onComplete() ‰∫ã‰ª∂‰πãÂêéÔºå‰∏äÊ∏∏ÁöÑ‰∫ã‰ª∂‰ºöÁªßÁª≠ÂèëÈÄÅÔºå‰ΩÜÊòØ‰∏ãÊ∏∏Âú®Êé•ÂèóÂà∞ onCompelete() ‰∫ã‰ª∂‰πãÂêéÂ∞±‰ºöÂàáÊç¢‰∫ã‰ª∂ÊµÅÔºå‰∏ç‰ºöÂú®Êé•ÂèóÂêéÁª≠ÁöÑ‰∫ã‰ª∂ÔºåÂõ†Ê≠§ÂèëÈÄÅÂ§ö‰∏™ onComplete() ËôΩÁÑ∂‰∏ç‰ºöÂØºËá¥Á®ãÂ∫è crashÔºå‰ΩÜÊòØÊòØÊó†ÊÑè‰πâÁöÑ„ÄÇ ÂΩì‰∏äÊ∏∏ÂèëÈÄÅ onError() ‰∫ã‰ª∂‰πãÂêéÔºå‰∏äÊ∏∏ÁöÑ‰∫ã‰ª∂‰ºöÁªßÁª≠ÂèëÈÄÅÔºå‰ΩÜÊòØ‰∏ãÊ∏∏Âú®Êé•ÂèóÂà∞ onError() ‰∫ã‰ª∂‰πãÂêéÂ∞±‰ºöÂàáÊç¢‰∫ã‰ª∂ÊµÅÔºå‰∏ç‰ºöÂú®Êé•ÂèóÂêéÁª≠ÁöÑ‰∫ã‰ª∂ÔºåÂΩì‰Ω†ÂèëÈÄÅÁ¨¨‰∫å‰∏™ onError() ‰∫ã‰ª∂Êó∂‰ºöÂØºËá¥Á®ãÂ∫è crash„ÄÇ ÂèëÈÄÅ onComplete() Âíå onError() ‰∫ã‰ª∂‰∏çÊòØÂøÖÈ°ªÁöÑ„ÄÇ onComplete() Âíå onError() ÊòØÂîØ‰∏Ä‰∏î‰∫íÊñ•ÁöÑÔºå‰Ω†‰∏çËÉΩÂèëÈÄÅÂ§ö‰∏™ onComplete() ÊàñÂ§ö‰∏™ onError()Ôºå‰πü‰∏çËÉΩ‰∏çËÉΩÂèëÈÄÅ‰∏Ä‰∏™ onCompelete() ‰∫ã‰ª∂ÂÜçÂèëÈÄÅ onError()ÔºåÂèçËøáÊù•‰πüÊòØ„ÄÇ ‰∏≠Êñ≠‰∫ã‰ª∂ÊµÅDisposable ÂØπË±°ÂèØÁî®Áî®Êù•ÂàáÊñ≠‰∫ã‰ª∂ÊµÅÔºåÂú® onSubscribe() Ë¢´Ë∞ÉÁî®Êó∂‰ºöËøîÂõû Disposable ÂØπË±°ÔºåÊàë‰ª¨Âú®Ëé∑ÂèñÂà∞Êï∞Â≠ó 4 Êó∂ÂàáÊñ≠‰∫ã‰ª∂ÊµÅ„ÄÇÂ∞Ü‰∏äÈù¢ÁöÑ‰ª£Á†ÅÁ®çÂæÆÁÆÄÂåñ‰∏Ä‰∏ã 12345678910111213141516171819202122232425262728293031323334353637// ÂàõÂª∫ ObservableObservable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; // ÂèëÂ∞ÑÊï∞ÊçÆ e.onNext(1); e.onNext(2); e.onNext(3); e.onNext(4); e.onNext(5); // ÁªìÊùüÂèëÈÄÅ e.onComplete(); e.onNext(6); &#125;&#125;).subscribe(new Observer&lt;Integer&gt;() &#123; Disposable mDisposable; @Override public void onSubscribe(@NonNull Disposable d) &#123; mDisposable = d; log("onSubscribe"); &#125; @Override public void onNext(@NonNull Integer integer) &#123; log("onNext == &gt; " + integer); if (integer == 4) &#123; mDisposable.dispose(); &#125; &#125; @Override public void onError(@NonNull Throwable e) &#123; log("onError"); &#125; @Override public void onComplete() &#123; log("onComplete"); &#125;&#125;); ÁªìÊûú‰∏∫ 12345[ThreadName:pool-13-thread-1] onSubscribe[ThreadName:pool-13-thread-1] onNext == &gt; 1[ThreadName:pool-13-thread-1] onNext == &gt; 2[ThreadName:pool-13-thread-1] onNext == &gt; 3[ThreadName:pool-13-thread-1] onNext == &gt; 4 ÂÖ∂‰ªñËÆ¢ÈòÖÊñπÊ≥ïÂú®ÂÆûÈôÖÂ∫îÁî®ËøáÁ®ã‰∏≠Êàë‰ª¨ÂèØËÉΩÂπ∂‰∏çÂÖ≥Ê≥®‰∏ãÊ∏∏ÊâÄÊúâÁöÑÊé•Âèó‰∫ã‰ª∂ÁöÑÊñπÊ≥ïÔºåÂõ†Ê≠§ RxJava Êèê‰æõ‰∫ÜÂ§öÁßçËÆ¢ÈòÖÊñπÂºèÊù•ÁÆÄÂåñËÆ¢ÈòÖËøáÁ®ã„ÄÇ ËøôÈáåËØ¥‰∏Ä‰∏ã Action Âíå ConsumerÔºå‰∏é RxJava1.x ‰∏çÂêåÔºåÊ≤°Êúâ‰ΩøÁî® ActionN ËøôÁßçÂëΩÂêçÊñπÂºè„ÄÇ Action ÊòØÊó†ÂèÇÊó†ËøîÂõûÂÄºÁöÑÊé•Âè£ÔºåÂÆÉÂèØ‰ª•Áî®Êù•Êõø‰ª£Á±ª‰ºº onComplete() ËøôÁßçÊó†ÂèÇÊó†ËøîÂõûÂÄºÂÄºÁöÑÊñπÊ≥ï„ÄÇ 123public interface Action &#123; void run() throws Exception;&#125; Consumer ÊòØÂçï‰∏™ÂèÇÊï∞Êó†ËøîÂõûÂÄºÁöÑÊé•Âè£ÔºåÂÆÉÂèØ‰ª•Áî®Êù•‰ª£ÊõøÁ±ª‰ºº onSubscribe(@NonNull Disposable d)ÔºåonNext(@NonNull Integer integer)ÔºåonError(@NonNull Throwable e) ËøôÁ±ªÂçï‰∏™ÂèÇÊï∞Êó†ËøîÂõûÂÄºÁöÑÊñπÊ≥ï„ÄÇ 123public interface Consumer&lt;T&gt; &#123; void accept(@NonNull T t) throws Exception;&#125; ÈáçËΩΩÁöÑËÆ¢ÈòÖÊñπÊ≥ïÔºåÈô§‰∫Ü‰ª• Observer ÁöÑÊñπÂºèËÆ¢ÈòÖ‰πãÂ§ñÔºåÂÖ∂‰ªñÊñπÊ≥ïÈÉΩËøîÂõû Disposable ÂØπË±°Áî®Êù•‰∏≠Êñ≠‰∫ã‰ª∂ÊµÅ„ÄÇ 1234567891011121314151617// ‰∏ãÊ∏∏‰∏çÂÖ≥Ê≥®‰∏äÊ∏∏ÁöÑ‰ªª‰Ωï‰∫ã‰ª∂public final Disposable subscribe()// ËßÇÂØüËÄÖpublic final void subscribe(Observer&lt;? super T&gt; observer)// Âè™ÂÖ≥Ê≥® onNext() ‰∫ã‰ª∂public final Disposable subscribe(Consumer&lt;? super T&gt; onNext) // Âè™ÂÖ≥Ê≥® onNext() onError() public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError)// Âè™ÂÖ≥Ê≥® onNext() onError() onComplete()public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError,Action onComplete)// Âè™ÂÖ≥Ê≥® onNext() onError() onComplete() onSubscribe()public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError, Action onComplete, Consumer&lt;? super Disposable&gt; onSubscribe) ‰ΩøÁî®Âè™ÂÖ≥Ê≥® onNext() ‰∫ã‰ª∂ÁöÑËÆ¢ÈòÖÊñπÊ≥ïÂÆûÁé∞ËÆ¢ÈòÖ„ÄÇ 123456789101112131415Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; // ÂèëÂ∞ÑÊï∞ÊçÆ e.onNext(1); e.onNext(2); // ÁªìÊùüÂèëÈÄÅ e.onComplete(); &#125;&#125;).subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(@NonNull Integer integer) throws Exception &#123; log("use Consumer onNext = &gt; " + integer); &#125;&#125;); ÂØπ Observable ÁöÑ‰ªãÁªçÁõ∏ÂØπËØ¶ÁªÜÔºå‰∏ãÈù¢ÁöÑ‰ªãÁªç‰ºöÁÆÄÂçï‰∏Ä‰∫õÔºåÂõ†‰∏∫ÂæàÂ§öÁõ∏‰ººÁöÑÂú∞ÊñπÔºåÂ∞±‰∏çÂÜçËµòËø∞‰∫Ü„ÄÇ ‰ΩøÁî® FlowableFlowable ‰∏é Observable ÁöÑÂå∫Âà´Â∞±ÊòØÂÆûÁé∞‰∫Ü ËÉåÂéã(Backpressure) ÁöÑÁÆ°ÁêÜÔºåËÆ≤ÁúüÔºåÊàëÂØπËÉåÂéãËøô‰∏™Ê¶ÇÂøµ‰πüÁêÜËß£ÁöÑ‰∏çÊòØÂæàÂÖ®Èù¢ÔºåÊ¶ÇÊã¨ÁöÑËÆ≤ËÉåÂéãÂ∞±ÊòØ‰∏äÊ∏∏ÂèëÈÄÅÁöÑ‰∫ã‰ª∂Â§™Â§öÔºå‰∏ãÊ∏∏Â§ÑÁêÜ‰∫ã‰ª∂ÁöÑÈÄüÂ∫¶Â§™ÊÖ¢ÔºåÂØºËá¥‰∏äÊ∏∏‰∫ã‰ª∂Â†ÜÁßØÔºåÊ≠§Êó∂Â¶Ç‰ΩïÂ§ÑÁêÜÂ†ÜÁßØÁöÑ‰∫ã‰ª∂ÔºåÂ∞±ÊòØËÉåÂéãÂ§ÑÁêÜÁöÑÁ≠ñÁï•„ÄÇ ËÉåÂéãÂ§ÑÁêÜÁ≠ñÁï•ÔºåÂú® RxJava2.x ‰∏≠ Observable ‰∏çÂÜçÊîØÊåÅËÉåÂéãÔºåÈúÄË¶ÅÊîØÊåÅËÉåÂéãÊó∂ÈúÄË¶Å‰ΩøÁî® Flowable ÂàõÂª∫Ë¢´ËßÇÂØüËÄÖÔºåÂπ∂Ë¶ÅÊ±ÇÊòéÁ°ÆÊåáÂÆöËÉåÂéãÂ§ÑÁêÜÁ≠ñÁï•„ÄÇ ÂÖ≥‰∫é Flowable Âíå Backpressure ÁöÑÂÜÖÂÆπÂêéÈù¢‰ΩúÂçïÁã¨Á†îÁ©∂ÔºåËøôÈáå‰∏çÂ±ïÂºÄ„ÄÇ 123456public enum BackpressureStrategy &#123; ERROR, BUFFER, DROP, LATEST&#125; ÂÆûÁé∞‰∏Ä‰∏™ËÆ¢ÈòÖÔºåÊîØÊåÅËÉåÂéãÊó∂ÔºåÈúÄË¶ÅÂú®‰∏ãÊ∏∏Ë∞ÉÁî® request(long n) Êù•Âêë‰∏äÊ∏∏ËØ∑Ê±ÇÔºåËá™Â∑±Ë¶ÅÂ§öÂ∞ëÊï∞ÊçÆÔºåËØ∑Ê±ÇÂ§öÂ∞ëÊï∞ÊçÆ‰∏äÊ∏∏Â∞±‰ºöÂèëÂ§öÂ∞ëÊï∞ÊçÆËøáÊù•ÔºåÂ¶Ç‰∏ãÂÆû‰æã‰∏≠ÔºåÂè™‰ºöËé∑ÂèñÂà∞‰∏ÄÊ¨°‰∫ã‰ª∂„ÄÇ 123456789101112131415161718192021222324252627Flowable.create(new FlowableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull FlowableEmitter&lt;Integer&gt; e) throws Exception &#123; for (int i = 0; i &lt; 10; i++) &#123; e.onNext(i); &#125; e.onComplete(); &#125;&#125;, BackpressureStrategy.BUFFER).subscribe(new FlowableSubscriber&lt;Integer&gt;() &#123; @Override public void onSubscribe(Subscription s) &#123; log("onSubscribe"); s.request(1); &#125; @Override public void onNext(Integer integer) &#123; log("onNext == &gt; " + integer); &#125; @Override public void onError(Throwable t) &#123; log("onError"); &#125; @Override public void onComplete() &#123; log("onComplete"); &#125;&#125;); ‰∏≠Êñ≠‰∫ã‰ª∂ÊµÅSubscription Á±ª‰ºº‰∫é Observable ‰∏≠ÁöÑ DisposableÔºåÂèØ‰ª•Áî®Êù•‰∏≠Êñ≠‰∫ã‰ª∂ÊµÅÔºå‰∏çÂêåÁöÑÊòØÈúÄË¶Å‰ΩøÁî® cancel() ÊñπÊ≥ïÔºåÂè¶Â§ñÊúâÂè¶‰∏Ä‰∏™ request(long n) ÊñπÊ≥ïÁî®Êù•Âêë‰∏äÊ∏∏ËØ∑Ê±ÇÊï∞ÊçÆ„ÄÇ 1234public interface Subscription &#123; public void request(long n); public void cancel();&#125; Â¶Ç‰∏ãÔºå‰ΩøÁî® Subscription ‰∏≠Êñ≠‰∫ã‰ª∂„ÄÇ 12345678910111213141516171819202122232425262728Flowable.create(new FlowableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull FlowableEmitter&lt;Integer&gt; e) throws Exception &#123; for (int i = 0; i &lt; 10; i++) &#123; e.onNext(i); &#125; e.onComplete(); &#125;&#125;, BackpressureStrategy.BUFFER).subscribe(new FlowableSubscriber&lt;Integer&gt;() &#123; Subscription mSubscription; @Override public void onSubscribe(Subscription s) &#123; log("onSubscribe"); mSubscription = s; s.request(1); &#125; @Override public void onNext(Integer integer) &#123; log("onNext == &gt; " + integer); mSubscription.request(5); if (integer == 5) &#123; mSubscription.cancel(); &#125; &#125; // ... &#125;); ÂÖ≥‰∫é request‰∏ãÊ∏∏ËØ∑Ê±ÇÂ§öÂ∞ëÂ∞±‰ºöÊî∂Âà∞Â§öÂ∞ë‰∫ã‰ª∂Ôºå‰ΩÜÊòØ‰∏ç‰ºöÈòªÂ°û‰∏äÊ∏∏‰∫ã‰ª∂ÂèëÈÄÅÁöÑËøáÁ®ãÔºå‰∏äÊ∏∏ÁöÑ‰∫ã‰ª∂‰ºö‰∏ÄÁõ¥ÂèëÔºå‰ΩÜÊòØ‰∏ãÊ∏∏Ê≤°ËØ∑Ê±ÇÁöÑËØùÊé•Âèó‰∏çÂà∞‰∫ã‰ª∂„ÄÇ request(long n) ‰∏≠ÁöÑÊï∞ÈáèÊòØ‰ºöÁ¥ØÂä†ÁöÑÔºåÁ¥ØÂä†ÁöÑÊï∞ÈáèÂ∞±ÊòØËØ∑Ê±ÇÁöÑÊÄªÈáèÔºåÂ¶ÇÊûúËØ∑Ê±ÇÁöÑÊÄªÈáèË∂ÖËøá‰∫ÜÂèëÈÄÅÁöÑÊÄªÈáèÔºåÂàô‰∏äÊ∏∏‰∫ã‰ª∂‰ºöË¢´ÂÖ®ÈÉ®Êé•ÂèóÂà∞Ôºå‰ΩÜÊòØ‰∏ç‰ºöÂ§öÂá∫Êù•„ÄÇ Â¶Ç‰∏ãÂÆû‰æã‰∏≠ÔºåÊÄªÂÖ±ËØ∑Ê±Ç‰∫Ü 1 + 2 + 2 = 5 Ê¨°‰∫ã‰ª∂ÔºåÂõ†Ê≠§Âè™Êî∂Âà∞‰∫Ü 5 Ê¨°‰∫ã‰ª∂Ôºå‰ΩÜÊòØ‰∏äÊ∏∏ÁöÑ‰∫ã‰ª∂ÂèëÈÄÅÂπ∂Ê≤°ÊúâÂÅúÊ≠¢„ÄÇ 1234567891011121314151617181920212223242526Flowable.create(new FlowableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull FlowableEmitter&lt;Integer&gt; e) throws Exception &#123; for (int i = 0; i &lt; 10; i++) &#123; log("send next " + i); e.onNext(i); &#125; e.onComplete(); &#125;&#125;, BackpressureStrategy.BUFFER).subscribe(new FlowableSubscriber&lt;Integer&gt;() &#123; Subscription mSubscription; @Override public void onSubscribe(Subscription s) &#123; log("onSubscribe"); mSubscription = s; s.request(1); &#125; @Override public void onNext(Integer integer) &#123; log("onNext == &gt; " + integer); if(integer == 0 || integer == 1) &#123; mSubscription.request(2); &#125; &#125; // ...&#125;); ËæìÂá∫ÁªìÊûú 12345678910111213141516[ThreadName:pool-13-thread-1] onSubscribe[ThreadName:pool-13-thread-1] send next 0[ThreadName:pool-13-thread-1] onNext == &gt; 0[ThreadName:pool-13-thread-1] send next 1[ThreadName:pool-13-thread-1] onNext == &gt; 1[ThreadName:pool-13-thread-1] send next 2[ThreadName:pool-13-thread-1] onNext == &gt; 2[ThreadName:pool-13-thread-1] send next 3[ThreadName:pool-13-thread-1] onNext == &gt; 3[ThreadName:pool-13-thread-1] send next 4[ThreadName:pool-13-thread-1] onNext == &gt; 4[ThreadName:pool-13-thread-1] send next 5[ThreadName:pool-13-thread-1] send next 6[ThreadName:pool-13-thread-1] send next 7[ThreadName:pool-13-thread-1] send next 8[ThreadName:pool-13-thread-1] send next 9 ÂÖ∂‰ªñËÆ¢ÈòÖÊñπÊ≥ïFlowable Ë∑ü Observable ‰∏ÄÊ†∑ÂØπËÆ¢ÈòÖÊìç‰Ωú‰πüÊúâÂæàÂ§öÈáçËΩΩÊñπÊ≥ïÔºåÂèØ‰ª•ÂèÇÁÖßObervable#ÂÖ∂‰ªñËÆ¢ÈòÖÊñπÊ≥ï„ÄÇ Êõ¥Â§öË¢´ËßÇÂØüËÄÖÂÆûÁé∞ÊàëÁé∞Âú®Ëøò‰∏çÂ§™Ê∏ÖÊ•öÂÆÉ‰ª¨‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºåÂ∞±ÂÖàÂàó‰∏æ‰∏Ä‰∏ã APIÔºåÂêéÈù¢ÊúâÊú∫‰ºöÂÜç‰ªîÁªÜÁúãÁúã Maybe 123456789101112131415161718Maybe.create(new MaybeOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull MaybeEmitter&lt;Integer&gt; e) throws Exception &#123; &#125;&#125;).subscribe(new MaybeObserver&lt;Integer&gt;() &#123; @Override public void onSubscribe(@NonNull Disposable d) &#123; &#125; @Override public void onSuccess(@NonNull Integer integer) &#123; &#125; @Override public void onError(@NonNull Throwable e) &#123; &#125; @Override public void onComplete() &#123; &#125;&#125;); Completable 123456789101112131415Completable.create(new CompletableOnSubscribe() &#123; @Override public void subscribe(@NonNull CompletableEmitter e) throws Exception &#123; &#125;&#125;).subscribe(new CompletableObserver() &#123; @Override public void onSubscribe(@NonNull Disposable d) &#123; &#125; @Override public void onComplete() &#123; &#125; @Override public void onError(@NonNull Throwable e) &#123; &#125;&#125;); Single 123456789101112131415Single.create(new SingleOnSubscribe&lt;Object&gt;() &#123; @Override public void subscribe(@NonNull SingleEmitter&lt;Object&gt; e) throws Exception &#123; &#125;&#125;).subscribe(new SingleObserver&lt;Object&gt;() &#123; @Override public void onSubscribe(@NonNull Disposable d) &#123; &#125; @Override public void onSuccess(@NonNull Object o) &#123; &#125; @Override public void onError(@NonNull Throwable e) &#123; &#125;&#125;);]]></content>
      <categories>
        <category>Android</category>
        <category>Library</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>RxJava2.x</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RetrofitÂºÄÂèë-1-Âü∫Á°Ä]]></title>
    <url>%2Farticle%2Fe57450c6%2F</url>
    <content type="text"><![CDATA[Retrofit Êú¨Êñá‰ªãÁªç OkHttp Âíå Retrofit ÁöÑÂü∫Êú¨‰ΩøÁî®ÔºåÂåÖÊã¨Ôºö ÂàõÂª∫ÂíåÈÖçÁΩÆ OkHttpClient ÂàõÂª∫ÂíåÈÖçÁΩÆ Retrofit Â¶Ç‰Ωï‰ΩøÁî® Retrofit ÂÆö‰πâÊé•Âè£ÂèëËµ∑ËØ∑Ê±Ç ÂÖ≥‰∫é Retrofit ‰∏≠ methodÔºåpathÔºåquery paramÔºåbodyÔºåHeader Ê≥®Ëß£Â£∞ÊòéÁöÑ‰ªãÁªç„ÄÇ Ê∑ªÂä†‰æùËµñ1234567891011121314// ÁΩëÁªúËØ∑Ê±Çokhttp3 : 'com.squareup.okhttp3:okhttp:3.4.2',// ÂçïÂÖÉÊµãËØïÔºåÊú™Áî®okhttp3Mockwebserver : 'com.squareup.okhttp3:mockwebserver:3.4.2',// Ë∞ÉËØïÂ∑•ÂÖ∑Á±ªÂ∫ìstetho : 'com.facebook.stetho:stetho:1.4.2',stetho_okhttp3 : 'com.facebook.stetho:stetho-okhttp3:1.4.2',// jsonËß£Êûêgson : 'com.google.code.gson:gson:2.6.1',// retrofit 2.0retrofit : 'com.squareup.retrofit2:retrofit:2.3.0',converter_gson : 'com.squareup.retrofit2:converter-gson:2.1.0',// Êó•ÂøóÊâìÂç∞logging_interceptor : 'com.squareup.okhttp3:logging-interceptor:3.8.0', ÂàõÂª∫ OkHttpRetrofit ÊòØÂØπ OkHttp ÁöÑÂ∞ÅË£ÖÔºåÊèê‰æõ‰∫Ü‰ΩøÁî®Ê≥®Ëß£Êõ¥ÁÆÄÂçïÁöÑÊûÑÂª∫ÂêÑÁßçËØ∑Ê±ÇÔºåÈÖçÁΩÆÂêÑÁßçÂèÇÊï∞ÁöÑÊñπÂºè„ÄÇÊú¨Ë¥®ÂèëËµ∑ÁΩëÁªúËØ∑Ê±ÇÁöÑËøòÊòØ OkHttpÔºå‰ΩÜ Retrofit ËÆ©Ëøô‰∏ÄÊìç‰ΩúÊõ¥Âä†ÁöÑÁÆÄÂçï‰ºòÈõÖ„ÄÇ ÂàõÂª∫‰∏Ä‰∏™ OkHttpClent Âπ∂ËøõË°åÁÆÄÂçïÈÖçÁΩÆ 12345678910111213141516171819202122232425262728/** * ÂàõÂª∫ OkHttpClient * * @return OkHttpClient */private OkHttpClient buildOkHttpClient() &#123; OkHttpClient.Builder okHttpBuilder = new OkHttpClient.Builder(); // ËøûÊé•Ë∂ÖÊó∂ okHttpBuilder.connectTimeout(5 * 1000, TimeUnit.MILLISECONDS); // ËØªË∂ÖÊó∂ okHttpBuilder.readTimeout(5 * 1000, TimeUnit.MILLISECONDS); // ÂÜôË∂ÖÊó∂ okHttpBuilder.writeTimeout(5 * 1000, TimeUnit.MILLISECONDS); // Ê∏ÖÈô§ interceptors okHttpBuilder.interceptors().clear(); okHttpBuilder.networkInterceptors().clear(); // Ëá™ÂÆö‰πâ InterceptorÔºåÁî®Êù•Ê∑ªÂä†ÂÖ®Â±Ä Header okHttpBuilder.addNetworkInterceptor(new HeaderInterceptor()); // Ëá™ÂÆö‰πâ InterceptorÔºåËøõË°åÊó•ÂøóÊâìÂç∞ÔºåÊâ©Â±ïËá™ HttpLoggingInterceptor okHttpBuilder.addNetworkInterceptor(new LogInterceptor(LogInterceptor.Level.BOTH)); // Â§±Ë¥•ÂêéÈáçËØï okHttpBuilder.retryOnConnectionFailure(true); // face book Ë∞ÉËØïÊ°ÜÊû∂ okHttpBuilder.addNetworkInterceptor(new StethoInterceptor()); // tokenÊ†°È™åÔºåËøîÂõû 403 Êó∂ okHttpBuilder.authenticator(new TokenAuthenticator()); return okHttpBuilder.build();&#125; ÂàõÂª∫ RetrofitOkHttp Âè™Ë¥üË¥£ÂèëËµ∑ÁΩëÁªúËØ∑Ê±ÇÔºåÁª¥Êä§ÁΩëÁªúËøûÊé•Á≠âÊìç‰ΩúÔºåËÄå Retrofit Â∏ÆÊàë‰ª¨Â∞ÜÁΩëÁªú‰º†ËæìÁöÑÊï∞ÊçÆËΩ¨Êç¢‰∏∫ÂèØÁî®ÁöÑ model ÂØπË±°ÔºåÂπ∂‰∏îÊèê‰æõÁÆÄÂçïÁöÑÊï∞ÊçÆÂ§ÑÁêÜÊñπÂºè„ÄÇ ÈÖçÁΩÆ CallAdapterFactory ‰∏∫ RxJava2CallAdapterFactory.createWithScheduler(Schedulers.io()) Áî®Êù•Â∞ÜËøîÂõûÁöÑÊï∞ÊçÆËΩ¨Êç¢‰∏∫ RxJava ÁöÑ Observable ÂØπË±°Ôºå‰ΩÜÊòØÊú¨ÊñáËøòÊ≤°Ê∂âÂèäÂà∞ RxJava ÁöÑÈÉ®ÂàÜ„ÄÇ ÈÖçÁΩÆ ConverterFactory ‰∏∫ GsonConverterFactory.create(new Gson()) Áî®Êù•‰ΩøÁî® GSON Â∞ÜÁΩëÁªúÊï∞ÊçÆÂ∫èÂàóÂåñ‰∏∫ÂèØÁî®ÂØπË±°„ÄÇ psÔºöbaseUrl Ë¶ÅÊ±Ç‰ª• / ÁªìÂ∞æÔºåËÄåËØ∑Ê±ÇÁöÑ path Ë¶ÅÊ±Ç‰∏ç‰ª• / ÂºÄÂ§¥Ôºå‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨ÈúÄË¶ÅÁ±ª‰ºº https://www.baidu.com/ ÁöÑÂΩ¢Âºè„ÄÇ 12345678910111213141516171819/** * ÂàõÂª∫ retrofit * * @param okHttpClient client * @return retrofit */private Retrofit buildRetrofit(OkHttpClient okHttpClient) &#123; final Retrofit.Builder retrofitBuilder = new Retrofit.Builder(); // client retrofitBuilder.client(okHttpClient); // baseUrl retrofitBuilder.baseUrl(BASE_URL); // rxJava Ë∞ÉÁî® adapter retrofitBuilder.addCallAdapterFactory( RxJava2CallAdapterFactory.createWithScheduler(Schedulers.io())); // Êï∞ÊçÆËΩ¨Êç¢ adapter retrofitBuilder.addConverterFactory(GsonConverterFactory.create(new Gson())); return retrofitBuilder.build();&#125; ÂàõÂª∫ api ÊúçÂä°Êé•Âè£ÂàõÂª∫Êé•Âè£Á±ªÔºå‰ΩøÁî®Ê≥®Ëß£Â£∞ÊòéÁΩëÁªúËØ∑Ê±ÇÁöÑÊñπÊ≥ïÂíåÁõ∏ÂÖ≥ÂèÇÊï∞ÔºåËøôÈáåÂè™ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåÊõ¥Â§öÂèÇÊï∞ÂíåÈÖçÁΩÆÂ∞ÜÂú®ÂêéÈù¢ËØ¥ÊòéÔºåÂ¶ÇÔºö 1234567public interface ApiService &#123; String GET_USER_INFO = "api/v1/user/info"; @GET(GET_USER_INFO) Call&lt;UserInfoDTOResponse&gt; getUser(@Header("Authorization") String auth);&#125; ‰ΩøÁî® Retrofit ÂàùÂßãÂåñ ApiServiceÔºåËé∑ÂèñÂà∞ ApiService ÁöÑÂÆû‰æã‰πãÂêéÂ∞±ÂèØ‰ª•‰ΩøÁî®ËØ•ÂÆû‰æãÂèëËµ∑ËØ∑Ê±Ç„ÄÇ Êàë‰ΩøÁî® ApiRequest ÊåÅÊúâ ApiService ÁöÑÂÆû‰æãÔºåÂêåÊó∂ ApiRequest ÊòØ‰∏Ä‰∏™Âçï‰æãÔºå‰Ωú‰∏∫ÂèëËµ∑ÁΩëÁªúËØ∑Ê±ÇÁöÑÁÆ°ÁêÜËÄÖ„ÄÇ 1234private void createService() &#123; Retrofit retrofit = buildRetrofit(buildOkHttpClient()); mApiService = retrofit.create(ApiService.class);&#125; ÂèëËµ∑ËØ∑Ê±Ç 12345678910111213141516171819public static void getUserInfo() &#123; // ‰ªéÂçï‰æã‰∏≠Ëé∑Âèñ ApiService ApiService service = ApiRequest.getService(); // ÂàõÂª∫ËØ∑Ê±Ç Call&lt;UserInfoDTOResponse&gt; userCall = service.getUser(); // ÂèëËµ∑ËØ∑Ê±Ç userCall.enqueue(new Callback&lt;UserInfoDTOResponse&gt;() &#123; @Override public void onResponse(@NonNull Call&lt;UserInfoDTOResponse&gt; call,@NonNull Response&lt;UserInfoDTOResponse&gt; response) &#123; UserInfoDTOResponse body = response.body(); if (body != null &amp;&amp; body.getData() != null) &#123; L.e(TAG, body.getData().toString()); &#125; &#125; @Override public void onFailure(@NonNull Call&lt;UserInfoDTOResponse&gt; call,@NonNull Throwable t) &#123; &#125; &#125;);&#125; ‰∏ãÈù¢ÂØπ Retrofit ‰∏≠ method,path,qurey,body,headerÂá†‰∏™ÈÉ®ÂàÜÂàÜÂà´ËØ¥Êòé„ÄÇ MethodRetrofit ÊîØÊåÅ GETÔºåPOSTÔºåPUTÔºåDELETEÔºåHEADÔºåOPTION Á≠âËØ∑Ê±ÇÊñπÂºèÔºåÂπ∂ÊúâÂØπÂ∫îÁöÑÊ≥®Ëß£„ÄÇ 12345@GET(GET_USER_INFO)Call&lt;UserInfoDTOResponse&gt; getUser();@DELETE(DELETE_RM_BABY)Call&lt;BaseResponse&gt; deleteBaby(@Path(PATH_BABY_ID) Long babyId); PATHËØ∑Ê±ÇË∑ØÂæÑÔºåËØ∑Ê±ÇË∑ØÂæÑ‰∏≠ÂèØ‰ª•ÂåÖÂê´ÂèÇÊï∞ÔºåÂπ∂Âú®ÂèÇÊï∞‰∏≠‰ΩøÁî® @PATH Ê≥®Ëß£Êù•Âä®ÊÄÅÊîπÂèòË∑ØÂæÑÔºåÊØîÂ¶ÇË∑ØÂæÑ api/v1/user/{id}Ôºå‰ΩøÁî®Ê≥®Ëß£ @PATH(&quot;id&quot;) Long id Âç≥ÂèØÊîπÂèòË∑ØÂæÑ‰∏≠ {id} ËØ∑Ê±ÇÊó∂ÁöÑÂÄº„ÄÇ 12345678910// path ‰∏≠‰∏çÂåÖÂê´ÂèÇÊï∞@GET(GET_USER_INFO)Call&lt;UserInfoDTOResponse&gt; getUser();String PATH_BABY_ID = "babyId";String PUT_EDIT_BABY = "api/v2/baby/doEdit/&#123;" + PATH_BABY_ID + "&#125;";@PUT(PUT_EDIT_BABY)Call&lt;BaseResponse&gt; putEditBaby(@Path(PATH_BABY_ID) Long babyId); BodyÂèëÈÄÅ POST „ÄÅPUT ËØ∑Ê±ÇÊó∂ÈÄöÂ∏∏ÈúÄË¶ÅÊê∫Â∏¶ body Êï∞ÊçÆÔºå‰ΩøÁî® @Body Ê≥®Ëß£ÔºåÂ¶Ç‰∏ãÔºö 12@PUT(PUT_EDIT_BABY)Call&lt;BaseResponse&gt; putEditBaby(@Body BabyParam babyParam); QueryÈÖçÁΩÆ UrlQuery ÂèÇÊï∞ÔºåÊØîÂ¶Ç api/v1/user/list?limit=100&amp;offset=10 ËøôÁßçÁ±ªÂûã„ÄÇÊúâ‰∏§ÁßçÈÖçÁΩÆÊñπÂºèÔºö Á¨¨‰∏ÄÁßç‰ΩøÁî® @Query Ê≥®Ëß£ÔºåÂ¶Ç @Query(&quot;userId&quot;) Long userId ÁöÑÂΩ¢Âºè„ÄÇËøôÁßçÂΩ¢ÂºèÂèØ‰ª•‰º†ÈÄí null ÂÄºÔºåÂ¶ÇÊûúÊüê‰∏™ÂèÇÊï∞‰∏∫ nullÔºåÂ∞Ü‰∏ç‰ºöÊãºÊé•Âú® url ÂêéÈù¢„ÄÇ Á¨¨‰∫åÁßç‰ΩøÁî® @QueryMap Ê≥®Ëß£ÔºåÂ¶Ç @QureyMap Map&lt;String,String&gt; params ÁöÑÂΩ¢Âºè„ÄÇËøôÁßçÂΩ¢Âºè‰º†ÈÄí‰∏Ä‰∏™ map ‰Ωú‰∏∫ÂèÇÊï∞Ôºå‰ΩÜÊòØ map ‰∏≠ value ‰∏çËÉΩ‰∏∫ nullÔºåÂê¶Âàô‰ºöÊäõÂá∫ÂºÇÂ∏∏„ÄÇ 12345@GET(GET_BABY_RELATION_LIST)Call&lt;UserBabyRelationResp&gt; getBabyRelationList(@Query("babyId") Long babyId, @Query("limit") int limit, @Query("offset") Long offset);@GET(GET_BABY_RELATION_LIST)Call&lt;UserBabyRelationResp&gt; getBabyRelationList(@QueryMap Map&lt;String,String&gt; map); HeaderÈùôÊÄÅ HeaderÔºå‰ΩøÁî® @Headers Ê≥®Ëß£Ê∑ªÂä†Âú®ËØ∑Ê±ÇÊé•Âè£‰∏äÔºåÁî®Ê≥ïÂ¶Ç‰∏ãÔºö 123456789101112@Headers(&#123;"key:value","key:value"&#125;)@Headers("key:value")eg:@Headers(&#123;"Authorization: authValue", "User-Agent: Retrofit-Sample-App"&#125;)@GET(GET_USER_INFO)Call&lt;UserInfoDTOResponse&gt; getUser();@Headers("Authorization: authValue")@GET(GET_USER_INFO)Call&lt;UserInfoDTOResponse&gt; getUser(); Â±ÄÈÉ®Âä®ÊÄÅ HeaderÔºå‰ΩøÁî® @Header(&quot;key&quot;) Âíå @HeaderMap Ê≥®Ëß£Ê∑ªÂä†Âú®ËØ∑Ê±ÇÂèÇÊï∞‰∏äÔºåÂä®ÊÄÅÈÖçÁΩÆÔºåÁî®Ê≥ïÂ¶Ç‰∏ãÔºö 12345678910@Header("Authorization") String auth// retrofit:2.1.0 Ê∑ªÂä†@HeaderMap Map&lt;String, String&gt; headerseg:@GET(GET_USER_INFO)Call&lt;UserInfoDTOResponse&gt; getUser(@Header("Authorization") String auth);@GET(GET_USER_INFO)Call&lt;UserInfoDTOResponse&gt; getUser(@HeaderMap Map&lt;String, String&gt; headers); ÂÖ®Â±ÄÈÖçÁΩÆ HeaderÔºå‰∏∫ OkHttp Ê∑ªÂä† InterceptorÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ addNetWorkIntercepror() Âíå addInterceptor() ÁöÑÂå∫Âà´„ÄÇÂΩìËøõÂÖ• netWorkInterceptor Êó∂Â∑≤ÁªèÊ∑ªÂä†‰∫Ü User-Agent Á≠â HeaderÔºåÊ≠§Êó∂Ë¶ÅÊääËá™Â∑±ÁöÑ Header ‰∏Ä‰∏™‰∏Ä‰∏™ addHeader() ËøõÂéªÔºåÈò≤Ê≠¢ÊääÂéüÊù•ÁöÑÂÜ≤Êéâ„ÄÇ 1234567891011121314151617181920212223242526272829public final class HeaderInterceptor implements Interceptor &#123; public static final String TAG = HeaderInterceptor.class.getSimpleName(); // Âà∞Ëææ netWorkInterceptor Êó∂ÔºåÈªòËÆ§ header Â∑≤ÁªèÊ∑ªÂä†Ôºå‰∏çËÉΩ‰ΩøÁî®ÊõøÊç¢ÁöÑÊñπÂºèÔºåË¶Å‰ΩøÁî® addHeader ÁöÑÊñπÂºè // Âà∞Ëææ interceptor Êó∂ÔºåËøòÊ≤°ÊúâÊ∑ªÂä†ÈªòËÆ§ header ,ÂèØ‰ª•Áõ¥Êé•ÊõøÊç¢ÂéüÊù•ÁöÑ header ÔºåÂêéÈù¢‰ºöËøΩÂä†ÈªòËÆ§ header @Override public Response intercept(@NonNull Chain chain) throws IOException &#123; Request request = chain.request(); L.e(TAG, "Ê∑ªÂä†ÂÖ®Â±Ä header "); Request.Builder builder = request.newBuilder(); Map&lt;String, String&gt; headersMap = ApiRequest.getHeadersMap(); for (String key : headersMap.keySet()) &#123; builder.addHeader(key, headersMap.get(key)); &#125; Response response; try &#123; response = chain.proceed(builder.build()); &#125; catch (Exception e) &#123; e.printStackTrace(); throw e; &#125; return response; &#125;&#125;OkHttpClient.Builder okHttpBuilder = new OkHttpClient.Builder();okHttpBuilder.addNetworkInterceptor(new HeaderInterceptor()); TodoÊõ¥Â§öÂÜÖÂÆπËøòÊ≤°ÊúâÊ∂âÂèä‚Ä¶ 1234567891011// Ë°®ÂçïÊèê‰∫§@FormUrlEncoded@POST("user/edit")@HEADCall&lt;User&gt; updateUser(@Field("first_name") String first, @Field("last_name") String last);// Êñá‰ª∂‰∏ä‰º†@Multipart@PUT("user/photo")Call&lt;User&gt; updateUser(@Part("photo") RequestBody photo, @Part("description") RequestBody description);]]></content>
      <categories>
        <category>Android</category>
        <category>Library</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Library</tag>
        <tag>Retrofit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êàë‰∏∫‰ªÄ‰πàË¶ÅÂÜôÂçöÂÆ¢]]></title>
    <url>%2Farticle%2Fd8c55445%2F</url>
    <content type="text"><![CDATA[2017Âπ¥11Êúà21Êó•Êôö22:13 Âèà‰∏ãÈõ® Êàë‰∏∫‰ªÄ‰πàË¶ÅÂÜôÂçöÂÆ¢Ôºü ÂæàÊó©‰πãÂâçÂú® CSDN ÂÜôÔºåÈÇ£‰∏™Êó∂ÂÄôÂçïÁ∫ØÁöÑËøòÊòØÊï¥ÁêÜÁü•ËØÜÔºåÁÑ∂ÂêéÂÜôÁÇπ‰∏úË•øÂá∫Êù•ÔºåÈ©¨‰∏äÂéªÂêÑÁßçÁæ§ÈáåÊé®ÂπøÔºåÂ¢ûÂä†ÊµèËßàÈáèÔºå‰πü‰∏∫‰∫ÜËôöËç£ÂøÉ„ÄÇÂÜçÂêéÊù•ÔºåÁî® Hexo + NexT Êê≠Âª∫‰∫ÜËøô‰∏™ÂçöÂÆ¢ÔºåËá™Â∑±ÂÅöÂüüÂêçËß£ÊûêÔºåÊúâÈÇ£‰πà‰∏ÄÊÆµÊó∂Èó¥Ôºå‰πü‰ºöÂæàÂ∏åÊúõÔºåËá™Â∑±ÁöÑÂçöÂÆ¢Ë¢´Âà´‰∫∫ÁúãËßÅÔºåÂ∞±ÂéªÂÅö SEOÔºåÁªìÊûú‰∏çÁÆóÁêÜÊÉ≥ÔºåÂõ†‰∏∫ÊàëÁöÑÂçöÂÆ¢ÊÄªÁöÑÊù•ËØ¥ËøòÊòØÁ¨îËÆ∞ÂΩ¢ÂºèÁöÑÔºåÂèØËÉΩÊ≤°ÊúâÂ§™Â§öÂæàÊ∑±ÂÖ•ÁöÑ‰∏úË•øÔºåÂÜÖÂÆπ‰∏çË∂≥Â§üÂê∏Âºï‰∫∫ÔºåÂà∞Áé∞Âú®ÔºåÊàëÂ∑≤ÁªèÂÆåÂÖ®ÊääËøô‰∏™ÂçöÂÆ¢Ëá™Â∑±ÁöÑÁ¨îËÆ∞Êù•Áî®ÔºåÈÅáÂà∞ÈóÆÈ¢òÔºåÂ¶ÇÊûú‰ª•ÂâçÊï¥ÁêÜËøáÂ∞±ÊâìÂºÄËá™Â∑±ÁöÑÂçöÂÆ¢ÔºåÊêúÁ¥¢‰∏Ä‰∏ãÔºåÂ∞±ËÉΩÊâæÂà∞ÂéüÊú¨ÂøòËÆ∞ÁöÑÁ≠îÊ°à„ÄÇ ÂæàÂ§ö‰∏úË•øÊàëÈÉΩÊòØÂú®ÂàùÂ≠¶Èò∂ÊÆµÔºåÂÉèÂâçÁ´ØÔºåÂÉè weexËøòÊúâ Kotlin Á≠âÔºåÈÉΩÊòØÁúãÂÆòÊñπÊñáÊ°£ÔºåÁÑ∂ÂêéÂÜô demoÔºåÂÜçÊï¥ÁêÜÊàêÊàëÁöÑÂçöÂÆ¢ÔºåÊàëÊúâÊó∂ÂÄôÂ∞±Âú®ÊÉ≥ÔºåÊàëÊâÄÂÜôÁöÑ‰∏úË•øÔºåÂÆòÊñπÊñáÊ°£ÊòéÊòéÈÉΩÊúâÔºåÊàëËøòÊúâÂøÖË¶ÅÂÜçÂéªÂÜô‰∏ÄÁØáÂçöÂÆ¢ÂéªÊï¥ÁêÜÂêóÔºü Á≠îÊ°àËÇØÂÆöÊòØÊúâÂøÖË¶ÅÔºå‰∏çÁÑ∂Êàë‰πü‰∏ç‰ºö‰∏ÄÁõ¥ÂùöÊåÅÂÜô„ÄÇ ÊÖ¢ÊÖ¢ÁöÑÊàëÂèëÁé∞ÔºåÊØèÊ¨°Â≠¶‰∏Ä‰∏™‰∏úË•øÔºåÂ≠¶ÂÆå‰∫ÜÊï¥ÁêÜÊàêÊàëËá™Â∑±ÁöÑÊñáÊ°£Â∑≤ÁªèÊàê‰∏∫‰∫Ü‰π†ÊÉØÔºåÂê¶ÂàôÂ∞±Â•ΩÂÉèÊ≤°Â≠¶Ëøá‰∏ÄÊ†∑Ôºå‰∏∫‰ªÄ‰πàÊúâÂøÖË¶ÅÔºåÊàëÊúâ‰ª•‰∏ãÂá†ÁÇπËÄÉËôëÔºö ÂÆòÊñπÊñáÊ°£Á°ÆÂÆûÂÖ®Èù¢ÔºåÁõ∏ÊØîÊàëËá™Â∑±ÁöÑÂçöÂÆ¢Ôºå‰∏çÂèØËÉΩÊääÂÖ®ÈÉ®ÂÜÖÂÆπÈÉΩÊëòÂà∞ÊàëÁöÑÂçöÂÆ¢‰∏≠Ôºå‰ΩÜÊàëÊÉ≥ÁöÑÊòØÔºåÊñáÊ°£ÊòØÁªôÊâÄÊúâ‰∫∫ÁúãÁöÑÔºåÊàëÁöÑÂçöÂÆ¢ÊòØÁªôÊàëÁúãÁöÑÔºåÈáåÈù¢‰∏çÂÖâÊúâÊñáÊ°£ÈáåÈù¢ÁöÑÁü•ËØÜÁÇπÔºåËøòÊúâÊàëÂàùÂ≠¶Ëøô‰∏™‰∏úË•ø‰∏ÄË∑ØË∏©ÁöÑÂùëÂíåÊàëÊâæÂà∞ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÊàëÊääÂÆÉÂÅöÈáçÁÇπÂú®ÂçöÂÆ¢‰∏≠ÊèêÈÜíËá™Â∑±ÔºåÂØπÊàëËÄåË®ÄÊõ¥ÂÆπÊòìÈÅøÂÖçÂÜçÂá∫Áé∞Á±ª‰ººÁöÑÈîôËØØ„ÄÇ ÂÆòÊñπÊñáÊ°£‰ºö‰∏ÄÁõ¥Êõ¥Êñ∞ÔºåÊúâ‰∫∫Áª¥Êä§Ôºå‰πüËÆ∏Êúâ‰∏ÄÂ§©ÊàëÂΩìÂàùÂ≠¶‰π†ÁöÑÊó∂ÂÄôËÆ∞‰∏ãÁöÑËøôÁØáÂçöÂÆ¢ÈáåÈù¢ÁöÑÂÜÖÂÆπÂ∑≤ÁªèÊÖ¢ÊÖ¢ËêΩÂêé‰∫ÜÔºåÊàëËßâÂæóÂÆûÈôÖ‰∏äÂ∫îËØ•ÊòØÔºåÂΩìÂÆòÊñπÂÅö‰∫ÜÊõ¥Êñ∞ÔºåÊàëÂÜçÂéªÂ≠¶‰π†Ëøô‰∫õÊõ¥Êñ∞ÁöÑÂú∞ÊñπÔºåÂπ∂ÊääÂÆÉËΩ¨ÂåñÔºåÊõ¥Êñ∞Âà∞ÊàëËá™Â∑±ÁöÑÂçöÂÆ¢‰∏≠Ôºå‰∏çËøáÔºåËøôÁÇπÊÄª‰ºöÊúâ‰∫õÂäõ‰∏ç‰ªéÂøÉ„ÄÇ ÊÄªËÄåË®Ä‰πãÔºåÊàëÂ≠¶‰π†Âà´‰∫∫ÁöÑ‰∏úË•øÔºåÁúã‰∏ÄÈÅçÔºåÁîöËá≥ÊòØÊï≤‰∏ÄÈÅç‰ª£Á†ÅÔºåËΩ¨ÁúºËøáÂéªÂ∞±Ë∑üÂñùÂáâÊ∞¥‰∏ÄÊ†∑Ôºå‰ªÄ‰πàÈÉΩËÆ∞‰∏ç‰ΩèÔºåÊàë‰∏ÄËæπÂ≠¶Ôºå‰∏ÄËæπÊääË¶ÅÁÇπ„ÄÅÂøÉÂæóËÆ∞ÂΩï‰∏ãÊù•ÔºåÂΩìÁÑ∂ËøôÂπ∂‰∏çËÉΩÈòªÊ≠¢ÊàëÂøòËÆ∞ÈÇ£‰∫õ‰∏úË•øÔºå‰ΩÜÊòØÂΩìÊàëÂøòËÆ∞Êó∂Ôºå‰∏çÈúÄË¶ÅÂÜçÂéªÊü•ÊâæÂæà‰πÖÔºåÂè™ÈúÄË¶ÅÊâìÂºÄÊàëÁöÑÂçöÂÆ¢ÔºåÊâæÂà∞ÂØπÂ∫îÁöÑÂú∞ÊñπÔºå Áúã‰∏Ä‰∏ãÂΩìÊó∂ÊòØÂ¶Ç‰ΩïÁêÜËß£ÔºåÂ¶Ç‰ΩïÊÄùËÄÉËÆ∞ÂøÜÁöÑÔºåÂ∞±‰ºöÊÉ≥Ëµ∑Êù•„ÄÇÈïøËøúÊù•ËØ¥ËøôÂØπÊàëÂØπÂ≠¶‰π†ÁöÑ‰∏úË•øÁöÑÁêÜËß£ÂíåÊ≤âÊ∑ÄÈÉΩÊúâÂ•ΩÂ§Ñ„ÄÇ ÂÜôËøô‰∫õÔºåÊòØÂ∏åÊúõÊúâ‰∏ÄÂ§©ÊàëÂØπÊï¥ÁêÜÂçöÂÆ¢ÊÑüÂà∞ÂéåÂÄ¶ÊàñËÄÖÂèàÂºÄÂßãÊÄÄÁñëËøôÊ†∑ÂÅöÁöÑÂøÖË¶ÅÊÄßÊó∂ÔºåËÉΩÊèêÈÜíËá™Â∑±ÔºåËøôÊ†∑ÂÅöÊòØÂØπÁöÑÔºåË¶ÅÂùöÊåÅ„ÄÇ]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊîπÂèò]]></title>
    <url>%2Farticle%2F3443742407%2F</url>
    <content type="text"><![CDATA[2017Âπ¥6Êúà29Êó•Êó©8ÁÇπ Â∞èÈõ® ‰∏äÂë®Âë®Êú´Áúã‰∫Ü„ÄäÂèòÂΩ¢ÈáëÂàö5„ÄãÔºåÁÑ∂ÂêéÁù°‰∫ÜÊï¥Êï¥‰∏§Â§©ÔºåÂë®Êó•ÁöÑÊôö‰∏äÊúâÁßçÂº∫ÁÉàÁöÑË¥üÁΩ™ÊÑüÔºåÊÑüËßâÁÆÄÁõ¥Â∞±ÊòØÂú®Êµ™Ë¥πÁîüÂëΩÔºå‰∫éÊòØÂ∞±Êää‰ªäÊó•Â§¥Êù°„ÄÅÂæÆÂçö„ÄÅÁà±Â•áËâ∫„ÄÅÂìîÂì©ÂìîÂì©„ÄÅÂúüË±ÜÁ≠âËΩØ‰ª∂ÂÖ®ÈÉΩÂç∏ËΩΩ‰∫ÜÔºåÁïô‰∏ã‰∫ÜËÑâËÑâ„ÄÅCSDN„ÄÅÁü•‰πé‚Ä¶ Âà∞‰ªäÂ§©Â∑≤ÁªèÊòØÁ¨¨ÂõõÂ§©ÔºåËøôÂá†Â§©‰∏ÄÁõ¥ÂùöÊåÅÊôö‰∏ä11ÁÇπÈíüÂ∑¶Âè≥Áù°ËßâÔºåÊó©‰∏ä7ÁÇπÈíüÂà∞8ÁÇπÈíü‰πãÈó¥Ëµ∑Â∫äÔºåÊúâÁÇπÂç±Êú∫ÊÑüÔºåËøôÊ†∑‰∏ãÂéªÁªàÂΩíÊòØ‰∏çË°åÁöÑ„ÄÇ‰ªäÂ§©Êó©‰∏ä7ÁÇπÂ§öÁùÅÁúºÁúã‰∫Ü‰∏ÄÁØáÊñáÁ´†ÔºåÊòØ‰∏ÄÁØáÈù¢ÁªèÔºåÁúã‰∫Ü‰ªñÊÄªÁªìÁöÑÈù¢ËØïÁü•ËØÜÁÇπÔºåÂçÅ‰πãÂÖ´‰πùÈÉΩÁ≠î‰∏ç‰∏äÊù•„ÄÇÊÑüËßâ‰∏ÄÁõ¥Âú®Â∑•‰ΩúÁöÑËøáÁ®ã‰∏≠ÈÉΩÊòØÂÆûÁé∞‰∏∫‰∏ªÔºåÂ†ÜÁ†å‰ª£Á†ÅÔºåÂéüÁêÜ„ÄÅÁÆóÊ≥ï‰ªÄ‰πàÁöÑÂ•Ω‰πÖÊ≤°ÂéªÁÆ°ËøáÔºåÂæàÊó©‰πãÂâçËøò‰ºöÂéªÁúã‰∏ÄÁúºÊ∫êÁ†ÅÔºåÂàÜÊûê‰∏Ä‰∏ãÔºåÁé∞Âú®Ê†πÊú¨Ê≤°ÈÇ£‰∏™ÁßØÊûÅÊÄßÔºåÊòØÊó∂ÂÄôÂæóÊîπÂèò‰∏Ä‰∏ãÔºåÂ§öÂ≠¶ÁÇπ‰∏úË•øÊâçÊúâÈÄâÊã©ÁöÑÊùÉÂäõ„ÄÇ ÊÄªÊúâ‰∏ÄÂ§©Êàë‰πüË¶ÅÂèòÁöÑÂæàüêÇx„ÄÇÈù©ÂëΩÂ∞öÊú™ÊàêÂäüÔºåÂêåÂøó‰ªçÈúÄÂä™Âäõ„ÄÇ ÈôÑÈù¢Áªè ‰∏ÄÂπ¥AndroidÂ∑•‰ΩúÁªèÈ™åÔºå‰∏Ä‰∏æÊãø‰∏ãÁôæÂ∫¶„ÄÅÁΩëÊòì„ÄÅÁæéÂõ¢„ÄÅÂ∞èÁ±≥„ÄÅÂø´ÊâãÁ≠âOfferÈù¢Áªè Êü•Âà∞‰∫ÜËøô‰∏™üêÇ‰∫∫ÁöÑÂçöÂÆ¢Âú∞ÂùÄÔºå‰∏çËøáË≤å‰ººÊâì‰∏çÂºÄCSDN]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WebView]]></title>
    <url>%2Farticle%2F3518734228%2F</url>
    <content type="text"><![CDATA[Êú¨ÊñáËÆ∞ÂΩï Android ‰∏≠ WebView Êéß‰ª∂ÁöÑÁõ∏ÂÖ≥‰ΩøÁî®Ôºå‰∏çÊñ≠ÂÆåÂñÑ‰∏≠‚Ä¶ ‰∏ªË¶ÅÂåÖÊã¨Ôºö Âü∫Êú¨Â±ûÊÄßÁöÑÈÖçÁΩÆ WebView ÁºìÂ≠òÁõ∏ÂÖ≥ÂÜÖÂÆπ Java ‰∏é Js ÁöÑ‰∫§‰∫í ÊâìÂºÄÊú¨Âú∞Â∫îÁî®(ÊîØ‰ªòÂÆùÁ≠â) Âä†ËΩΩËøúÁ®ãÁΩëÈ°µÔºåÊú¨Âú∞ÁΩëÈ°µÔºåassert ÁõÆÂΩï‰∏ãÁöÑÁΩëÈ°µ ÊîØÊåÅËá™ÂÆö‰πâ‰∏ãËΩΩ Ëá™ÂÆö‰πâ WebChromeClient Êú¨Âú∞ÂåñÂºπÁ™ó„ÄÅÊñá‰ª∂ÈÄâÊã© Êõ¥ËØ¶ÁªÜÁöÑÊâ©Â±ïÂÆûÁé∞ÈÉΩÂèØ‰ª•Âú® GitHub-WebKit ‰∏≠ÊâæÂà∞„ÄÇ Âü∫Êú¨ÈÖçÁΩÆÊ±áÊÄªÊ±áÊÄªÁöÑËÆ∞ÂΩï‰∏Ä‰∏ã WebView ÁöÑÈÖçÁΩÆÊñπÊ≥ïÔºåÈáçË¶ÅÁöÑÂ±ûÊÄßÂêéÈù¢‰ºöÂ±ïÂºÄËØ¥Êòé„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839@SuppressLint("SetJavaScriptEnabled")public static void initWebViewSettings(WebView mWebView) &#123; //ÊîØÊåÅËé∑ÂèñÊâãÂäøÁÑ¶ÁÇπ mWebView.requestFocusFromTouch(); // Ëß¶ËßâÂèçÈ¶àÔºåÊöÇÊó∂Ê≤°ÂèëÁé∞Áî®Â§ÑÂú®Âì™Èáå mWebView.setHapticFeedbackEnabled(false); WebSettings settings = mWebView.getSettings(); // ÊîØÊåÅÊèí‰ª∂ settings.setPluginState(WebSettings.PluginState.ON); // ÂÖÅËÆ∏js‰∫§‰∫í settings.setJavaScriptEnabled(true); // ËÆæÁΩÆWebViewÊòØÂê¶ÂèØ‰ª•Áî± JavaScript Ëá™Âä®ÊâìÂºÄÁ™óÂè£ÔºåÈªòËÆ§‰∏∫ false // ÈÄöÂ∏∏‰∏é JavaScript ÁöÑ window.open() ÈÖçÂêà‰ΩøÁî®„ÄÇ settings.setJavaScriptCanOpenWindowsAutomatically(true); // ÂÖÅËÆ∏‰∏≠ÊñáÁºñÁ†Å settings.setDefaultTextEncodingName("UTF-8"); // ‰ΩøÁî®Â§ßËßÜÂõæÔºåËÆæÁΩÆÈÄÇÂ∫îÂ±èÂπï settings.setUseWideViewPort(true); settings.setLoadWithOverviewMode(true); // ÊîØÊåÅÂ§öÁ™óÂè£ settings.setSupportMultipleWindows(true); // ÈöêËóèËá™Â∏¶Áº©ÊîæÊåâÈíÆ settings.setBuiltInZoomControls(false); // ÊîØÊåÅÁº©Êîæ settings.setSupportZoom(true); // ËÆæÁΩÆÂèØËÆøÈóÆÊñá‰ª∂ settings.setAllowFileAccess(true); // ÂΩìWebViewË∞ÉÁî®requestFocusÊó∂‰∏∫WebViewËÆæÁΩÆËäÇÁÇπ settings.setNeedInitialFocus(true); //ÊîØÊåÅËá™Âä®Âä†ËΩΩÂõæÁâá settings.setLoadsImagesAutomatically(true); // ÊåáÂÆöWebViewÁöÑÈ°µÈù¢Â∏ÉÂ±ÄÊòæÁ§∫ÂΩ¢ÂºèÔºåË∞ÉÁî®ËØ•ÊñπÊ≥ï‰ºöÂºïËµ∑È°µÈù¢ÈáçÁªò„ÄÇ // NORMAL,SINGLE_COLUMN ËøáÊó∂, NARROW_COLUMNS ËøáÊó∂ ,TEXT_AUTOSIZING settings.setLayoutAlgorithm(WebSettings.LayoutAlgorithm.SINGLE_COLUMN); // ‰ªéLollipop(5.0)ÂºÄÂßãWebViewÈªòËÆ§‰∏çÂÖÅËÆ∏Ê∑∑ÂêàÊ®°ÂºèÔºåhttpsÂΩì‰∏≠‰∏çËÉΩÂä†ËΩΩhttpËµÑÊ∫êÔºåÈúÄË¶ÅËÆæÁΩÆÂºÄÂêØ if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) &#123; settings.setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW); &#125;&#125; WebView ÁºìÂ≠òÊ∏ÖÈô§ÁºìÂ≠òÔºåtrue Ë°®Á§∫Ê∏ÖÈô§Á£ÅÁõòÁºìÂ≠òÔºåËøô‰∏™ÊñπÊ≥ïÊòØÂÖ®Â±ÄÁöÑÔºå‰πüÂ∞±ÊòØËØ¥‰ºöÊ∏ÖÈô§ÊéâÊï¥‰∏™Â∫îÁî®ÊâÄÊúâÁöÑ ÁΩëÈ°µÁºìÂ≠ò„ÄÇ 1mWebView.clearCache(true); Ê∏ÖÈô§ÂéÜÂè≤ËÆ∞ÂΩï 1mWebView.clearHistory(); ÁΩë‰∏äÊúâ‰ªãÁªçËØ¥ÔºåËÆæÁΩÆÁºìÂ≠òÁöÑÁõÆÂΩïÔºåÊ∏ÖÈô§ÁºìÂ≠òÊó∂Âà†Èô§ÊéâÁºìÂ≠òÊñá‰ª∂Ôºå‰ΩÜÊòØ‰ΩøÁî®‰∏ãÈù¢ÁöÑÊñπÊ≥ïËÆæÁΩÆÁºìÂ≠òË∑ØÂæÑÂêéÔºåÂèëÁé∞Êñá‰ª∂Âπ∂Ê≤°ÊúâÁºìÂ≠òÂà∞ÊåáÂÆöÁöÑÁõÆÂΩïÔºå‰∏çÁü•ÈÅìÊòØÊÄé‰πàÂõû‰∫ãÔºüÊ±ÇÊåáÊïô ÁºìÂ≠òÊ®°Âºè ÊèèËø∞ LOAD_DEFAULT ÈªòËÆ§ÁöÑÁºìÂ≠ò‰ΩøÁî®Ê®°Âºè„ÄÇÂú®ËøõË°åÈ°µÈù¢ÂâçËøõÊàñÂêéÈÄÄÁöÑÊìç‰ΩúÊó∂ÔºåÂ¶ÇÊûúÁºìÂ≠òÂèØÁî®Âπ∂Êú™ËøáÊúüÂ∞±‰ºòÂÖàÂä†ËΩΩÁºìÂ≠òÔºåÂê¶Âàô‰ªéÁΩëÁªú‰∏äÂä†ËΩΩÊï∞ÊçÆ„ÄÇËøôÊ†∑ÂèØ‰ª•ÂáèÂ∞ëÈ°µÈù¢ÁöÑÁΩëÁªúËØ∑Ê±ÇÊ¨°Êï∞„ÄÇ LOAD_CACHE_ELSE_NETWORK Âè™Ë¶ÅÁºìÂ≠òÂèØÁî®Â∞±Âä†ËΩΩÁºìÂ≠òÔºåÂì™ÊÄïÂÆÉ‰ª¨Â∑≤ÁªèËøáÊúüÂ§±Êïà„ÄÇÂ¶ÇÊûúÁºìÂ≠ò‰∏çÂèØÁî®Â∞±‰ªéÁΩëÁªú‰∏äÂä†ËΩΩÊï∞ÊçÆ„ÄÇ LOAD_NO_CACHE ‰∏çÂä†ËΩΩÁºìÂ≠òÔºåÂè™‰ªéÁΩëÁªúÂä†ËΩΩÊï∞ÊçÆ„ÄÇ LOAD_CACHE_ONLY ‰∏ç‰ªéÁΩëÁªúÂä†ËΩΩÊï∞ÊçÆÔºåÂè™‰ªéÁºìÂ≠òÂä†ËΩΩÊï∞ÊçÆ„ÄÇ 123456789101112131415161718private static void initWebViewCache(WebView mWebView) &#123; String cachePath = new File(Environment.getExternalStorageDirectory() , "webCache").getAbsolutePath(); WebSettings settings = mWebView.getSettings(); settings.setAppCacheEnabled(true); settings.setAppCachePath(cachePath); settings.setDatabaseEnabled(true); // ËøáÊó∂ settings.setDatabasePath(cachePath); // ÂºÄÂêØdomÁºìÂ≠ò settings.setDomStorageEnabled(true); // Âä†ËΩΩÊ®°Âºè settings.setCacheMode(WebSettings.LOAD_NO_CACHE); // ÁºìÂ≠òÊúÄÂ§ßÂÄºÔºåËøáÊó∂ settings.setAppCacheMaxSize(1000 * 1024);&#125; Âä†ËΩΩ UrlÂä†ËΩΩÁΩëÁªúË∑ØÂæÑÔºåheaders ‰∏çÊòØÂøÖÈÄâÁöÑ 123Map&lt;String,String&gt; headers = new HashMap&lt;&gt;();headers.put("auth","110");mWebView.loadUrl("https://www.baidu.com/",headers); Âä†ËΩΩ assert Ë∑ØÂæÑ 123456// WebViewUtil.javapublic static String getAssertUrl(String fileUrl) &#123; return "file:///android_asset/" + fileUrl;&#125;mWebView.loadUrl(WebViewUtil.getAssertUrl("index.html")); Âä†ËΩΩ sd Âç°Ë∑ØÂæÑ 123456// WebViewUtil.javapublic static String getSdUrl(String fileUrl) &#123; return "file://" + Environment.getExternalStorageDirectory() + "/" + fileUrl;&#125;mWebView.loadUrl(WebViewUtil.getSdUrl("index.html")); Js Ë∞ÉÁî® JavaJava ‰∏é Js ‰∫§‰∫íÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™Â∏¶Êúâ @JavascriptInterface Ê≥®Ëß£ÊñπÊ≥ïÁöÑÂØπË±°ÔºåÂ¶Ç‰∏ãÔºö 123456789101112public class JsBridge &#123; @JavascriptInterface public void toast(String msg) &#123; ToastUtils.show(msg); &#125; @JavascriptInterface public void log(String msg) &#123; Log.e(TAG, msg); &#125;&#125; ‰ΩøÁî® JsBridge ËøûÊé• Java Âíå JsÔºå‰ΩøÁî® mWebView.addJavascriptInterface(obj, name); ÊñπÊ≥ï„ÄÇ objÔºöÂ∏¶Êúâ JavascriptInterface Ê≥®Ëß£ÊñπÊ≥ïÁöÑÂØπË±°ÂÆû‰æã„ÄÇ nameÔºö‰∏Ä‰∏™Ê†áÂøóÁ¨¶Ôºåjs Â∞Ü‰ºö‰ΩøÁî®ËØ•Ê†áÂøóÊù•Ë∞ÉÁî® java Â±ÇÁöÑÊñπÊ≥ï„ÄÇ 12mWebView.getSettings().setJavaScriptEnabled(true);mWebView.addJavascriptInterface(new JsBridge(), "android"); Âú®Ê∑ªÂä†Ë∞ÉÁî®Êé•Âè£Êó∂ÔºåÊàë‰ª¨Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™Ê†áËÆ∞ÔºåÂ¶Ç‰∏äÈù¢‰ª£Á†Å‰∏≠Ê∑ªÂä†ÁöÑÊòØ androidÔºåÂÆÉÁõ∏ÂΩì‰∫éË∞ÉÁî®Êé•Âè£ÂØπË±°ÁöÑ‰∏Ä‰∏™Âà´ÂêçÔºåÂõ†Ê≠§Âú® js ‰∏≠Ë∞ÉÁî® java ÊñπÊ≥ïÊó∂ÔºåÂè™ÈúÄË¶Å‰ΩøÁî® window ÂØπË±°ÔºåÂ¶Ç‰∏ã: 1window.android.log('test js invoke java method'); Java Ë∞ÉÁî® Js‰ΩøÁî® java Ë∞ÉÁî® js ÊñπÊ≥ïÁõ∏ÂØπÁÆÄÂçïÔºåÂÅáÂ¶ÇÂú® js ‰∏≠Â∫îËØ•Â£∞ÊòéÂ¶Ç‰∏ã functionÔºå 123456789101112&lt;script&gt;// ÊúâÂèÇÊó†ËøîÂõûÂÄº function funcParam(param)&#123; alert(param+""); &#125; // ÊúâÂèÇÊúâËøîÂõûÂÄº function newFunc(param1,param2,param3)&#123; alert((param1 + param2) + " " + param3); return param3; &#125;&lt;/script&gt; Âú® java Â±ÇË∞ÉÁî®Êó∂Âè™ÈúÄ loadUrl(&quot;Javascript:jsÊñπÊ≥ïÂêç()) Âç≥ÂèØÔºå‰ΩÜÊòØ Android 4.4 ‰πãÂêéÂú®Ë∞ÉÁî® js ÊñπÊ≥ïÊó∂ÂèØ‰ª•Ëé∑ÂèñËøîÂõûÂÄºÔºåÂÜô‰∏Ä‰∏™ÊñπÊ≥ïÂÖºÂÆπ‰∏Ä‰∏ã 12345678910111213public static final String JS_FUNC_PREFIX = "javascript:";public void invokeJs(String jsFunc, final ValueCallback&lt;String&gt; callback) &#123; if (!jsFunc.startsWith(JS_FUNC_PREFIX)) &#123; jsFunc = JS_FUNC_PREFIX + jsFunc; &#125; // api 19 if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123; mWebView.evaluateJavascript(jsFunc, callback); &#125; else &#123; mWebView.loadUrl(jsFunc); &#125;&#125; Âú®‰∏é js ËøõË°åÂèÇÊï∞‰º†ÈÄíÊó∂ÔºåÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂèØ‰ª•Áõ¥Êé•‰º†ÈÄíÔºåÂ≠óÁ¨¶‰∏≤Á±ªÂûãË¶Å‰ΩøÁî®ÂºïÂè∑ÂåÖÂê´ÔºåËÄå‰∏îÁõ¥Êé•ÊãºÊé•Â≠óÁ¨¶‰∏≤‰∏çÂ§™Â•ΩÔºåÂõ†Ê≠§ÂÜô‰∏Ä‰∏™ÁÆÄÂåñÊûÑÂª∫ js ÊñπÊ≥ïÔºåËá™Âä®ÊåâÈ°∫Â∫èËøõË°åÂèÇÊï∞ÁöÑÊãºÊé•„ÄÇ 123456789101112131415161718// ÂàõÂª∫‰∏Ä‰∏™ js ÊñπÊ≥ïpublic static String generateJsFunc(String funcName, Object... params) &#123; StringBuilder sb = new StringBuilder(funcName).append("("); for (int i = 0; i &lt; params.length; i++) &#123; if (params[i] != null) &#123; if (params[i] instanceof String) &#123; sb.append("'").append(params[i]).append("'"); &#125; else &#123; sb.append(params[i]); &#125; if (i != params.length - 1) &#123; sb.append(","); &#125; &#125; &#125; sb.append(")"); return sb.toString();&#125; ÁÆÄÂçïË∞ÉÁî® 123456789101112// Ë∞ÉÁî®ÊúâÂèÇÊúâËøîÂõûÂÄºÁöÑÊñπÊ≥ïString jsFunc = JsBridge.generateJsFunc("newFunc", "str", 100, 100);mJsBridge.invokeJs(jsFunc, new ValueCallback&lt;String&gt;() &#123; @Override public void onReceiveValue(String value) &#123; Log.e(TAG, "value = " + value); &#125;&#125;);// Ë∞ÉÁî®ÊúâÂèÇÊó†ËøîÂõûÂÄºÊñπÊ≥ïString funcParam = JsBridge.generateJsFunc("funcParam", 100);mJsBridge.invokeJs(funcParam, null); Êã¶Êà™ Url ÊâìÂºÄÂ∫îÁî®(ÊîØ‰ªòÂÆù)‰∏ªË¶ÅÂéüÁêÜÊòØÁî±‰∫éÊüê‰∫õÂ∫îÁî®‰ºöÊö¥Èú≤‰∏Ä‰∫õÈ°µÈù¢Âá∫Êù•‰æõÂà´ÁöÑ app Âî§Ëµ∑ÔºåÂõ†Ê≠§Êàë‰ª¨Âè™ÈúÄË¶ÅÊã¶Êà™ËøôÁßç UrlÔºåÁÑ∂Âêé‰ΩøÁî® intent ÊâìÂºÄÂç≥ÂèØÔºå‰∏ãÈù¢‰ª•ÊîØ‰ªòÂÆù‰∏∫‰æãËØ¥ÊòéÔºö ÂâçÁ´Ø‰ΩøÁî®ÊîØ‰ªòÂÆùËøõË°åÊîØ‰ªòÊó∂ÔºåÈúÄË¶ÅÊâìÂºÄÊâãÊú∫ÊîØ‰ªòÂÆùÂÆ¢Êà∑Á´ØÔºåÊñ≠ÁÇπÁúãÂà∞ÊîØ‰ªòÂÆù‰ºöÂä†ËΩΩ‰∏Ä‰∏™ scheme ‰∏∫ alipays ÁöÑurlÔºåÈìæÊé•‰∏≠ÈÖçÁΩÆ‰∫ÜÊîØ‰ªòÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂÆ¢Êà∑Á´ØË¶ÅÂÅöÁöÑÂ∞±ÊòØÊã¶Êà™ËØ• UrlÔºå‰ΩøÁî® intent ÊâìÂºÄÊîØ‰ªòÂÆù„ÄÇ ÂΩì html Âä†ËΩΩÁΩëÈ°µ‰πãÂâç‰ºöÂÖàËµ∞ shouldOverrideUrlLoading() ÊñπÊ≥ïÔºåÊ≠§Êó∂Êà™Êñ≠‰∏ç‰ΩøÁî® webView Âä†ËΩΩÔºåËÄåÊòØ‰ΩøÁî® intent ÊâìÂºÄÔºåÊ≠§ÊñπÊ≥ï‰∏ç‰ªÖÈÄÇÁî®ÊîØ‰ªòÂÆùÔºå‰πüÈÄÇÁî®ÊâìÂºÄÂÖ∂‰ªñÂ∫îÁî®„ÄÇ 12345678910111213141516171819202122232425262728293031323334mWebView.setWebViewClient(new WebViewClient() &#123; @Override public boolean shouldOverrideUrlLoading(WebView view, String url) &#123; // Â¶ÇÊûú‰∏ç‰ΩøÁî® intent Ë¶ÜÁõñÂä†ËΩΩËøô‰∏™ÈìæÊé•ÔºåÂ∞±Ëµ∞ÂéüÊù• if (!shouldOverrideIntentUrl(getContext(), url)) &#123; view.loadUrl(url, Api.makeHttpHeaders(getContext())); &#125; return true; &#125;&#125;);public static final String ALIPAY_SCHEME = "alipays";public static boolean shouldOverrideIntentUrl(Context context, String url) &#123; Uri uri = Uri.parse(url); if (uri != null &amp;&amp; uri.getScheme() != null &amp;&amp; uri.getScheme().equals(ALIPAY_SCHEME)) &#123; try &#123; Intent intent = Intent.parseUri(url, Intent.URI_INTENT_SCHEME); intent.addCategory(Intent.CATEGORY_BROWSABLE); intent.setComponent(null); intent.setSelector(null); context.startActivity(intent); &#125; catch (Exception e) &#123; e.printStackTrace(); if (e instanceof ActivityNotFoundException) &#123; ToastUtil.show("Êú™Ê£ÄÊµãÂà∞ÊîØ‰ªòÂÆùÂÆ¢Êà∑Á´Ø"); &#125; return true; &#125; return true; &#125; return false;&#125; ÊîØÊåÅ‰∏ãËΩΩÈìæÊé•ÂΩìÁΩëÈ°µ‰∏≠Âä†ËΩΩ‰∏Ä‰∏™‰∏ãËΩΩÁöÑÈìæÊé•ÔºåÂ¶Ç http://xxx.apk ËøôÁßçÈìæÊé•Ôºå‰ºöËµ∞ shouldOverrideUrlLoading() ÊñπÊ≥ïÔºå‰ΩÜÊòØÔºåÂÆÉÊòØÊó†Ê≥ïÂä†ËΩΩ‰∏Ä‰∏™ÁΩëÈ°µÁöÑÔºåÁªìÊûúÂ∞±ÊòØÊ≤°Êúâ‰ªª‰ΩïÂèçÂ∫îÔºåÊ≠§Êó∂ÈúÄË¶ÅËÆæÁΩÆ DownloadListenerÔºåÈúÄË¶Å‰∏ãËΩΩÁöÑÈìæÊé•‰ºöËøõÂÖ•ÁõëÂê¨Ôºå‰Ω†ÂèØ‰ª•Âú®ÁõëÂê¨‰∏≠Ëá™Â∑±ËøõË°åÁΩëÁªú‰∏ãËΩΩ‰øùÂ≠òÂà∞Êñá‰ª∂Ôºå‰∏ãÈù¢Êàë‰ΩøÁî®Áõ¥Êé•ÊâìÂºÄÊµèËßàÂô®ÁöÑÊñπÂºèÔºåÊõ¥ÁÆÄÂçï‰∏Ä‰∫õ„ÄÇ 12345678910111213141516171819public static void setDefDownloadListener(final WebView webView) &#123; webView.setDownloadListener(new DownloadListener() &#123; @Override public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) &#123; //Âéª‰∏ãËΩΩ Intent intent = new Intent(Intent.ACTION_VIEW); String downLoadUrl = url; if (!downLoadUrl.contains("http://")) &#123; downLoadUrl = "http://" + downLoadUrl; &#125; intent.setData(Uri.parse(downLoadUrl)); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); webView.getContext().startActivity(intent); &#125; &#125;);&#125; WebChromeClientÊú¨Âú∞ÂåñÂºπÁ™óWebView ÈªòËÆ§ÊòØÊó†Ê≥ïÂºπÂá∫ alert() ÁöÑÔºåÈúÄË¶ÅËÆæÁΩÆ WebChromeClient 1mWebView.setWebChromeClient(new WebChromeClient()); ‰ªéÁΩëÈ°µ‰∏äÂºπËµ∑ÁöÑÂºπÁ™ó‰∏éËÆæÂ§áÊï¥‰ΩìÈ£éÊ†º‰∏çÊòØÂæàÊê≠ÔºåÈúÄË¶ÅÈáçËΩΩ onJsAlert()„ÄÅonJsConfirm() Âíå onJsPrompt() Êù•Â∞ÜÂºπÁ™óÊú¨Âú∞Âåñ„ÄÇJavaScript ‰∏éÊú¨Âú∞ÊñπÊ≥ïÂØπÂ∫îÂ¶Ç‰∏ãÔºö 123456// ÊèêÁ§∫ ËøîÂõûÂÄº‰∏∫ undefind - onJsAlert()var result = alert("test");// Á°ÆËÆ§ÂíåÂèñÊ∂à ËøîÂõûÂÄº‰∏∫ true | falsevar result = confirm("test"); - onJsConfirm()// Áî®Êà∑ËæìÂÖ• ËøîÂõûÂÄº‰∏∫Áî®Êà∑ËæìÂÖ•ÁöÑÂÜÖÂÆπ - onJsPrompt()var result = prompt("message","default"); ‰ª• onJsConfirm() ‰∏∫‰æãÂÆûÁé∞ÂìçÂ∫îÁî®Êà∑ËæìÂÖ•ÁöÑÊñπÊ≥ïÔºå‰ΩøÁî® JsResult Âêë JavaScript ËøîÂõûÂÄºÔºåÂê¶ÂàôÁΩëÈ°µÁ´Ø‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÔºå‰∏çËÉΩÊìç‰Ωú„ÄÇ 1234567891011121314151617181920212223@Overridepublic boolean onJsConfirm(WebView view, String url, String message, final JsResult result) &#123; new AlertDialog.Builder(view.getContext()) .setCancelable(false) .setMessage(message) .setPositiveButton("Á°ÆÂÆö", new DialogInterface.OnClickListener() &#123; @Override public void onClick(DialogInterface dialog, int which) &#123; result.confirm(); dialog.dismiss(); &#125; &#125;) .setNegativeButton("ÂèñÊ∂à", new DialogInterface.OnClickListener() &#123; @Override public void onClick(DialogInterface dialog, int which) &#123; result.cancel(); dialog.dismiss(); &#125; &#125;) .create() .show(); return true;&#125; Êñá‰ª∂ÈÄâÊã©ÈúÄË¶ÅÈáçËΩΩ onShowFileChooser() ÊñπÊ≥ïÔºå‰ΩøÁî® Intent ÊâìÂºÄÊñá‰ª∂ÈÄâÊã©ÔºåÁÑ∂ÂêéËøîÂõûÊñá‰ª∂ÔºåÂú® api21 ‰ª•‰∏äÊèê‰æõ‰∫Ü‰∏Ä‰∫õÁâπÊúâÁöÑÊñπÊ≥ïÔºåÂú®Ëøô‰∏™ÁâàÊú¨‰ª•‰∏ãË¶ÅËá™Â∑±ÈÄÇÈÖç„ÄÇ 123456789101112131415161718192021222324252627@Overridepublic boolean onShowFileChooser(WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback, FileChooserParams fileChooserParams) &#123; if (mActivity == null) return false; /* How to use: 1. Build an intent using &#123;@link #createIntent&#125; 2. Fire the intent using &#123;@link android.app.Activity#startActivityForResult&#125;. 3. Check for ActivityNotFoundException and take a user friendly action if thrown. 4. Listen the result using &#123;@link android.app.Activity#onActivityResult&#125; 5. Parse the result using &#123;@link #parseResult&#125; only if media capture was not requested. 6. Send the result using mFilePathCallback of &#123;@link WebChromeClient#onShowFileChooser&#125; * */ Intent intent; if (AppUtils.isOver(Build.VERSION_CODES.LOLLIPOP)) &#123; intent = fileChooserParams.createIntent(); &#125; else &#123; intent = new Intent(Intent.ACTION_GET_CONTENT); intent.addCategory(Intent.CATEGORY_OPENABLE); intent.setType("*/*"); &#125; mActivity.startActivityForResult(intent, MyWebView.WEB_REQ_CODE); mMyWebView.mFilePathCallback = filePathCallback; return true;&#125; Âú® onActivityResult() ‰∏≠Êé•ÂèóËøîÂõûÁöÑÊï∞ÊçÆ. 123456789101112public void onActivityResult(int requestCode, int resultCode, Intent data) &#123; if (requestCode != WEB_REQ_CODE) return; Uri[] uris; if (AppUtils.isOver(Build.VERSION_CODES.LOLLIPOP)) &#123; uris = WebChromeClient.FileChooserParams.parseResult(resultCode, data); &#125; else &#123; uris = new Uri[]&#123;data.getData()&#125;; &#125; mFilePathCallback.onReceiveValue(uris); mFilePathCallback = null;&#125; todoÊõ¥Â§öÂÜÖÂÆπË°•ÂÖÖ‰∏≠ ‚Ä¶]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RecyclerView Light Adapter [ÂºÄÊ∫ê]]]></title>
    <url>%2Farticle%2F1632666977%2F</url>
    <content type="text"><![CDATA[LightAdapter ÁöÑËÆæËÆ°ÂàùË°∑ÊòØËÉΩÂ§üÂø´ÈÄü„ÄÅÁÆÄÂçïÁöÑÂÆåÊàê RecyclerView ÁöÑÊï∞ÊçÆÈÄÇÈÖçÂ∑•‰ΩúÔºåÂêåÊó∂‰πüÂØπ‰ΩøÁî®ËøáÁ®ã‰∏≠ÁöÑ‰∏Ä‰∫õÂ∏∏Áî®ÂäüËÉΩËøõË°å‰∫ÜÊâ©Â±ïÂíåÂ∞ÅË£Ö„ÄÇ ÈöèÁùÄÂäüËÉΩÁöÑÊÖ¢ÊÖ¢‰∏∞ÂØåÔºå‰ΩøÁî®Ëµ∑Êù•‰πüÂèòÂæóË∂äÊù•Ë∂äÂ§çÊùÇÔºåÊúÄÂêéÂÜ≥ÂÆö‰ΩøÁî®Ê≥®Ëß£ÁöÑÊñπÂºèÂØπÈÄÇÈÖçÂô®ËøõË°åÈÖçÁΩÆ„ÄÇ GitHub - LightAdapter Âü∫‰∫éÊ≥®Ëß£ÂÆûÁé∞Âü∫Êú¨ÁöÑÊï∞ÊçÆÈÄÇÈÖçÂäüËÉΩ„ÄÇ È¢ÑÂä†ËΩΩÔºåÊîØÊåÅÈ°∂ÈÉ®„ÄÅÂ∫ïÈÉ®È¢ÑÂä†ËΩΩÊõ¥Â§öÊï∞ÊçÆ„ÄÇ Header &amp; FooterÔºå‰∏∫ÂàóË°®Ê∑ªÂä† Â§¥ÈÉ® Âíå Â∞æÈÉ®„ÄÇ ÂçïÂáª„ÄÅÂèåÂáª„ÄÅÈïøÊåâ‰∫ã‰ª∂ÊîØÊåÅ„ÄÇ Ëá™Âä® UI Á∫øÁ®ãÊõ¥Êñ∞Êï∞ÊçÆÔºåÈÅøÂÖçÊï∞ÊçÆÊõ¥Êñ∞ÈóÆÈ¢ò„ÄÇ ÈÄâÊã©Âô®ÂäüËÉΩÊâ©Â±ïÔºå‰∏ªË¶ÅÈíàÂØπÁÇπÂáªÈÄâ‰∏≠ËøôÁßçÂú∫ÊôØ„ÄÇ ËÆæËÆ°ÂàÜÊûêÂú®Á±ªÂ∫ìÂäüËÉΩÂèòÁöÑË∂äÊù•Ë∂ä‰∏∞ÂØåÁöÑÂêåÊó∂ÔºåÊ∂âÂèäÁöÑÈÖçÁΩÆ‰πüË∂äÊù•Ë∂äÂ§öÔºå‰πüÂõ†Ê≠§ÈÄ†Êàê‰∫ÜÂ§ßÈáèÁöÑÂäüËÉΩÂ†ÜÁßØÂú® Adaper ÈáåÈù¢Ôºå‰∏çÂÆπÊòìÁª¥Êä§‰πü‰∏çÂà©‰∫éÊâ©Â±ïÔºåÂõ†Ê≠§ÂØπÁ±ªÂ∫ìËøõË°å‰∫ÜÈáçÊûÑÔºåÊåâÁÖßÂäüËÉΩÂàíÂàÜ‰∫ÜÂ§ö‰∏™Ê®°ÂùóÔºåÊØè‰∏™Ê®°ÂùóË¥üË¥£ÂÆåÂÖ®Áã¨Á´ãÁöÑÂäüËÉΩÔºåËøôÊ†∑ Adapter ‰ªÖÂÆåÊàêÊï∞ÊçÆÁöÑÂä†ËΩΩÂíåÁªëÂÆöÔºåÂêÑÈÉ®ÂàÜÊâ©Â±ïÁöÑÂäüËÉΩÁî±Â≠êÊ®°ÂùóÂÆåÊàêÔºåÈÄªËæëÊõ¥Ê∏ÖÊô∞ÔºåÂΩìÊúâÊñ∞ÁöÑÂäüËÉΩÂä†ÂÖ•Êó∂ÔºåÂè™ÈúÄË¶ÅÂ¢ûÂä†‰∏Ä‰∏™Ê®°ÂùóÔºåÊõ¥Âà©‰∫éÊâ©Â±ï„ÄÇ ÁõÆÂâçÊúâ‰ª•‰∏ãÂá†‰∏™Ê®°ÂùóÔºö FullSpanModuleÔºåË¥üË¥£Â§ÑÁêÜË∑®Ë∂äÊï¥Ë°åÁöÑÂ∏ÉÂ±ÄÁ±ªÂûã„ÄÇ HFModuleÔºåHeader&amp;Footer Ê®°ÂùóÔºåË¥üË¥£Ê∑ªÂä† Â§¥Â∞æÂ∏ÉÂ±Ä„ÄÇ LoadMoreModuleÔºåÂ∫ïÈÉ®È¢ÑÂä†ËΩΩÊõ¥Â§öÊ®°ÂùóÔºåË¥üË¥£ÂàóË°®Âà∞ËææÂ∫ïÈÉ®Êó∂Ëß¶ÂèëÈ¢ÑÂä†ËΩΩ„ÄÇ TopLoadMoreModuleÔºåÈ°∂ÈÉ®Âä†ËΩΩÊõ¥Â§öÊ®°ÂùóÔºåË¥üË¥£ÂàóË°®Âà∞ËææÈ°∂ÈÉ®Êó∂Ëß¶ÂèëÈ¢ÑÂä†ËΩΩ„ÄÇ UpdateModuleÔºåÊï∞ÊçÆÊõ¥Êñ∞Ê®°ÂùóÔºåË¥üË¥£Â∞ÜÊï∞ÊçÆÊõ¥Êñ∞Êìç‰ΩúÂèëÂ∏ÉÂà∞ UI Á∫øÁ®ãÔºåÂêåÊó∂ÂØπÊï∞ÊçÆÊõ¥Êñ∞ÁöÑÊñπÊ≥ïÂÅöÊâ©Â±ï„ÄÇ ÂäüËÉΩÊ®°ÂùóÂåñ‰ª•ÂêéÔºåÊï¥‰∏™Á±ªÂ∫ìÁöÑÊû∂ÊûÑÂ∞±Êõ¥Ê∏ÖÊô∞‰∫ÜÔºå‰∏çËøá‰∏éÊ≠§ÂêåÊó∂‰πüÂ∏¶Êù•‰∫ÜÂè¶‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ∞±ÊòØÊ®°ÂùóËøáÂ§öÔºåÂä†Â§ß‰∫Ü‰ΩøÁî®ÈöæÂ∫¶Ôºå‰ΩøÁî®ËÄÖÈúÄË¶ÅÂÖ≥Ê≥®ÊâÄÊúâÁöÑÊ®°ÂùóÔºå‰∏∫‰∫ÜÈÅøÂÖçËøôÊ†∑ÊÉÖÂÜµÔºåÈááÁî®‰∫ÜÊ≥®Ëß£Êù•ËøõË°åÈÖçÁΩÆÊìç‰ΩúÔºåÁ±ªÂ∫ìÂÜÖÈÉ®Ëß£ÊûêÊ≥®Ëß£Ëá™Âä®Ê∑ªÂä†ÈÄÇÂΩìÁöÑÊ®°ÂùóËøõÂéªÔºåËøôÊ†∑‰∏ÄÊù•‰ΩøÁî®ËÄÖÂ∞±‰∏çÈúÄË¶ÅÂÖ≥Ê≥®Ëøô‰∫õÊ®°ÂùóÂÖ∑‰ΩìÁöÑÂäüËÉΩÔºåÊó¢ÂÅöÂà∞‰∫ÜÂäüËÉΩÂàÜÁ¶ª‰πüÂØπ‰ΩøÁî®ËÄÖË∂≥Â§üÂèãÂ•Ω„ÄÇ ÁõÆÂâçÊúâ‰ª•‰∏ãÊ≥®Ëß£ËøõË°åÈÖçÁΩÆÔºö AdapterLayoutÔºåË¥üË¥£ Adapter Â∏ÉÂ±ÄËµÑÊ∫êÊñá‰ª∂ÈÖçÁΩÆÔºåÊîØÊåÅÂçïÁ±ªÂûãÂíåÂ§öÁ±ªÂûã„ÄÇ FooterÔºåË¥üË¥£ Footer Â∏ÉÂ±ÄÊñá‰ª∂ÁöÑÈÖçÁΩÆ„ÄÇ HeaderÔºåË¥üË¥£ Header Â∏ÉÂ±ÄÊñá‰ª∂ÁöÑÈÖçÁΩÆ„ÄÇ PreLoadingÔºåË¥üË¥£È°∂ÈÉ®„ÄÅÂ∫ïÈÉ®È¢ÑÂä†ËΩΩÈÖçÁΩÆ„ÄÇ FullSpanÔºåË∑®Ë∂äÊï¥Ë°åÁöÑÁ¥ØÂøÉÈÖçÁΩÆ„ÄÇ ÈáçË¶ÅÈÄÇÈÖçÂô®ÁöÑÈÖçÁΩÆ‰ΩøÁî®Ê≥®Ëß£Êù•ÂÆåÊàêÔºå‰ΩÜÊòØÁî±‰∫é Library Module ‰∏≠ËµÑÊ∫ê ID Êó†Ê≥ï‰Ωú‰∏∫Ê≥®Ëß£ÁöÑÂèÇÊï∞ÔºåÊâÄ‰ª•‰∏∫ÊØè‰∏™Ê≥®Ëß£‰πüÂú® LightAdapter Êèê‰æõ‰∫ÜÂÖ∑ÊúâÁõ∏ÂêåÂäüËÉΩÁöÑÊñπÊ≥ïÂØπÂ∫îÔºåÂΩìÊó†Ê≥ï‰ΩøÁî®Ê≥®Ëß£Êó∂ÔºåÂèØ‰ª•‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ïÔºåÂª∫ËÆÆ‰ºòÂÖà‰ΩøÁî®Ê≥®Ëß£„ÄÇ ÂΩìÂ£∞ÊòéÂ•Ω Adapter ÂêéÔºåÂä°ÂøÖÈúÄË¶ÅË∞ÉÁî®Â¶Ç‰∏ãÊñπÊ≥ïÔºå‰∏ÄÊñπÈù¢ÈúÄË¶ÅËß¶ÂèëËß£ÊûêÊ≥®Ëß£‰∏≠ÁöÑÈÖçÁΩÆÔºåÂè¶‰∏ÄÊñπÈù¢‰πüÊòØ‰∏∫‰∫ÜÊääËÆæÁΩÆ LayoutManager ÂèòÊàêÂº∫Âà∂ÊÄßÁöÑÔºåÂõ†‰∏∫ÊÄªÊòØ‰ºöÂøòËÆ∞: 12345678910/** * Âä°ÂøÖÈúÄË¶ÅË∞ÉÁî®ËØ•ÊñπÊ≥ï * @param targetHost Adapter ÂØπË±°ÊâÄÂú®ÁöÑÁ±ª * @param recyclerView RecyclerView * @param layoutManager ÂØπÂ∫î LayoutManager */public void bind(Object targetHost, RecyclerView recyclerView, RecyclerView.LayoutManager layoutManager) // üå∞:mAdapter.bind(MainActivty.this, mRecyclerView, mLayoutManager) ÊèèËø∞ Ê≥®Ëß£ ÊñπÊ≥ï Â§áÊ≥® Layout @AdapterLayout addType(int type,int layoutId) ‰∏∫ÈÄÇÈÖçÂô®Ê∑ªÂä†Â∏ÉÂ±ÄÊñá‰ª∂ËµÑÊ∫ê Header @Header configHeaderFooter(int headerLyId,int footerLyId) Ê∑ªÂä†Â§¥ÈÉ®Â∏ÉÂ±ÄËµÑÊ∫ê Footer @Footer configHeaderFooter(int headerLyId,int footerLyId) Ê∑ªÂä†Â∞æÈÉ®Â∏ÉÂ±ÄËµÑÊ∫ê È¢ÑÂä†ËΩΩ @PreLoading configPreLoading(int top,int bottom) È¢ÑÂä†ËΩΩ FullSpan @FullSpan configFullSpan(int‚Ä¶ types) Ë∑®Ë∂äÊï¥Ë°å Êï∞ÊçÆÈÄÇÈÖçËøõË°åÊï∞ÊçÆÈÄÇÈÖçÊó∂ÔºåÈúÄË¶Å‰∏Ä‰∏™Â∏ÉÂ±ÄÊñá‰ª∂ÁöÑËµÑÊ∫êÊñá‰ª∂Ôºå‰ΩøÁî®Ê≥®Ëß£ @AdapterLayout Êù•ÈÖçÁΩÆÔºåÂ¶Ç‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂçïÁ±ªÂûãÈÄÇÈÖçÂô®ÈúÄË¶ÅÂ¶Ç‰∏ãÂ£∞ÊòéÔºö 12@AdapterLayout(R.layout.item_layout) LightAdapter&lt;GuideData&gt; mAdapter; ÂêåÊ†∑‰πüÊîØÊåÅÂ§öÁ±ªÂûãÂ∏ÉÂ±ÄÔºå‰∏ãÈù¢Á±ªÂûã TYPE_A ÂØπÂ∫îÂ∏ÉÂ±ÄÊñá‰ª∂ R.layout.item_ly_aÔºåÁ±ªÂûã TYPE_B ÂØπÂ∫îÂ∏ÉÂ±ÄÊñá‰ª∂ R.layout.item_ly_bÔºå‰∏§‰∏™Êï∞ÁªÑÈïøÂ∫¶ÈúÄË¶ÅÁõ∏Á≠âÔºö 123@AdapterLayout(itemTypes = &#123;TYPE_A,TYPE_B&#125;, itemLayoutIds = &#123;R.layout.item_ly_a,R.layout.item_ly_b&#125;) LightAdapter&lt;GuideData&gt; mAdapter; ‰πãÂêéÂ∞±ÂèØ‰ª•ÂàõÂª∫ AdapterÔºåËøõË°åÊï∞ÊçÆÁªëÂÆöÔºö 123456mAdapter = new LightAdapter&lt;GuideData&gt;(mContext,mGuideDatas) &#123; @Override public void onBindView(LightHolder holder, GuideData data, int pos, int type) &#123; // Êï∞ÊçÆÁªëÂÆö &#125;&#125;; ‰∏ç‰ΩøÁî®Ê≥®Ëß£ÁöÑÂÆûÁé∞ÊñπÂºèÔºåÂª∫ËÆÆÈ¶ñÈÄâÊ≥®Ëß£ËøõË°åÈÖçÁΩÆÔºö 1234567891011121314151617// ÂçïÁ±ªÂûãmAdapter = new LightAdapter&lt;GuideData&gt;(mContext, mGuideDatas, R.layout.item_layout) &#123; @Override public void onBindView(LightHolder holder, GuideData data, int pos, int type) &#123; // Êï∞ÊçÆÁªëÂÆö &#125;&#125;;// Â§öÁ±ªÂûãmAdapter = new LightAdapter&lt;GuideData&gt;(mContext, mGuideDatas) &#123; @Override public void onBindView(LightHolder holder, GuideData data, int pos, int type) &#123; // Êï∞ÊçÆÁªëÂÆö &#125;&#125;;mAdapter.addType(TYPE_A, R.layout.item_ly_a) .addType(TYPE_B, R.layout.item_ly_b); ÂäüËÉΩÊ®°ÂùóHeader &amp; Footer‰∏∫Â∏ÉÂ±ÄÊ∑ªÂä†Â§¥Â∞æÔºå‰ΩøÁî® @Header Âíå @Footer Ê≥®Ëß£Êù•ÂÆåÊàê 1234@Header(R.layout.headerly)@Footer(R.layout.footerly)@AdapterLayout(R.layout.item)private LightAdapter&lt;HFData&gt; mAdapter; ÂØπÂ∫îÁöÑ‰∏ç‰ΩøÁî®Ê≥®Ëß£ÁöÑÊñπÊ≥ïÊòØÔºö 1public void configHeaderFooter(int headerLayoutId, int footerLayoutId) ÂØπÂ§¥Â∞æÊï∞ÊçÆËøõË°åÁªëÂÆö 1234567891011mAdapter = new LightAdapter&lt;GuideData&gt;(mContext, mGuideDatas) &#123; @Override public void onBindHeaderView(LightHolder holder) &#123; // ÁªëÂÆö header Êï∞ÊçÆ &#125; @Override public void onBindFooterView(LightHolder holder) &#123; // ÁªëÂÆö footer Êï∞ÊçÆ &#125;&#125;; PreLoadingÈ¢ÑÂä†ËΩΩÊõ¥Â§öÂäüËÉΩÈúÄË¶ÅÊåáÂÆöÊèêÂâçÂá†È°πËß¶ÂèëÈ¢ÑÂä†ËΩΩÔºåÊØîÂ¶ÇÂΩìË∑ùÁ¶ªÂà∞ËææÂàóË°®Â∫ïÈÉ®ËøòÂ∑Æ 3 ‰∏™ item Êó∂Ëß¶ÂèëÈ¢ÑÂä†ËΩΩ„ÄÇ‰ΩøÁî® @PreLoading ËøõË°åÈÖçÁΩÆ„ÄÇ 123@AdapterLayout(R.layout.load_more_item)@PreLoading(top = 2, bottom = 2)private LightAdapter&lt;LoadMoreModel&gt; mAdapter; ÂØπÂ∫îÁöÑ‰∏ç‰ΩøÁî®Ê≥®Ëß£ÁöÑÊñπÊ≥ïÊòØÔºö 1public void configPreLoading(int top, int bottom) È¢ÑÂä†ËΩΩÊõ¥Â§öËß¶ÂèëÊó∂ÁöÑÊñπÊ≥ïÔºö 1234567891011mAdapter = new LightAdapter&lt;GuideData&gt;(mContext, mGuideDatas) &#123; @Override public void onTopLoadMore() &#123; // È°∂ÈÉ®Âä†ËΩΩÊõ¥Â§ö &#125; @Override public void onBottomLoadMore() &#123; // Â∫ïÈÉ®Âä†ËΩΩÊõ¥Â§ö &#125;&#125;; FullSpanÂΩì‰ΩøÁî® GridLayoutManager Â∏ÉÂ±ÄÊó∂ÔºåÈÄöÂ∏∏‰ºöÊúâÈúÄÊ±ÇÊüêÁßçÁ±ªÂûãÁöÑÊï∞ÊçÆ‰Ωú‰∏∫Ê†áÈ¢òÂÜÖÂÆπÂá∫Áé∞Ôºå‰ªñÈúÄË¶ÅË∑®Ë∂äÊï¥Ë°åÔºåÂÆûÁé∞Á±ª‰ººÈöîÊñ≠ÁöÑÊïàÊûúÔºå‰ΩøÁî® @FullSpan Ê≥®Ëß£Êù•ÈÖçÁΩÆ„ÄÇ ‰∏ãÈù¢ÁöÑÁ§∫‰æã‰∏≠ÔºåTYPE_OK Á±ªÂûãÂõûË∑®Ë∂äÊï¥Ë°å„ÄÇ 12345@AdapterLayout( itemTypes = &#123;TypeModel.TYPE_OK, TypeModel.TYPE_NO&#125;, itemLayoutIds = &#123;R.layout.layout_ok, R.layout.layout_no&#125;)@FullSpan(TypeModel.TYPE_OK)private LightAdapter&lt;TypeModel&gt; mAdapter; ÂØπÂ∫îÁöÑ‰∏ç‰ΩøÁî®Ê≥®Ëß£ÁöÑÊñπÊ≥ïÔºö 1public void configFullSpan(int... fullSpanTypes) UpdateÁî®‰∫éÊõ¥Êñ∞Êï∞ÊçÆÔºå‰∏çÈúÄË¶ÅÊ≥®Ëß£ÊîØÊåÅÔºåÁâπÁÇπÊòØÂØπÊï∞ÊçÆÊõ¥Êñ∞ÁöÑÊñπÊ≥ïËøõË°å‰∫ÜÊâ©Â±ïÔºåÂêåÊó∂ÊâÄÊúâÁöÑÊï∞ÊçÆÊõ¥Êñ∞ÈÉΩ‰ºöÂà∞ UI Á∫øÁ®ãÊâßË°åÔºå‰∏çÈúÄË¶ÅÂÜç‰∏∫‰∫ÜÊõ¥Êñ∞ÈÄÇÈÖçÂô®ÂéªÂàáÊç¢Á∫øÁ®ãÂï¶„ÄÇ 123456789101112131415// ÊîØÊåÅÂéüÊù•ÁöÑÊõ¥Êñ∞ÊñπÊ≥ïÔºå‰∏çËøáË¢´ÂàáÊç¢Âà∞‰∫Ü UI Á∫øÁ®ãmAdapter.update().notifyDataSetChanged();mAdapter.update().notifyItemChanged(0);mAdapter.update().notifyItemInserted(0);mAdapter.update().notifyItemRangeChanged(0,10);////////////////////////////// -- Êâ©Â±ïÁöÑÊñ∞ÊñπÊ≥ï -- //////////////////////////////// Ê∏ÖÁ©∫Êï∞ÊçÆmAdapter.update().clear();// ÊîπÂèòÊüê‰∏Ä‰∏™Êï∞ÊçÆmAdapter.update().set(100,new GuideData());// Âú®Â§¥ÈÉ®Ê∑ªÂä†Êï∞ÊçÆÔºåÁî®‰∫éÂàÜÈ°µÂä†ËΩΩmAdapter.update().appendHeadList(mGuideDatas,true);// Âú®Â∞æÈÉ®Ê∑ªÂä†Êï∞ÊçÆÔºåÁî®‰∫éÂàÜÈ°µÂä†ËΩΩmAdapter.update().appendTailList(mGuideDatas,true); ‰∫ã‰ª∂ÊîØÊåÅ ÂçïÂáª„ÄÅÂèåÂáª„ÄÅÈïøÊåâ‰∫ã‰ª∂ÔºåËÆæÁΩÆÁÆÄÂçï‰∏îËøîÂõûÊï∞ÊçÆ‰∏∞ÂØå„ÄÇ 123456789101112131415161718192021222324mAdapter.setOnItemListener(new SimpleItemListener&lt;GuideData&gt;() &#123; @Override public void onClick(int pos, LightHolder holder, GuideData data) &#123; // ÂçïÂáª‰∫ã‰ª∂ &#125; @Override public void onLongPress(int pos, LightHolder holder, GuideData data) &#123; // ÈïøÊåâ‰∫ã‰ª∂ &#125; @Override public void onDoubleClick(int pos, LightHolder holder, GuideData data) &#123; // ÂèåÂáª‰∫ã‰ª∂ &#125; @Override public boolean isSupportDoubleClick() &#123; // ÊòØÂê¶ÊîØÊåÅÂèåÂáªÔºåÈªòËÆ§‰∏çÊîØÊåÅ return super.isSupportDoubleClick(); &#125; @Override public boolean isClickable(GuideData data) &#123; // ËØ•Á±ªÂûãÊï∞ÊçÆÊòØÂê¶ÊîØÊåÅ‰∫ã‰ª∂ÔºåÈªòËÆ§ÊîØÊåÅ return super.isClickable(data); &#125;&#125;); Êï∞ÊçÆÁªëÂÆöÊï∞ÊçÆÁªëÂÆö‰∏ªË¶ÅÂü∫‰∫éÁÆÄÂåñËøá LightHolderÔºåÈáåÈù¢ÂÜÖÁΩÆ‰∫ÜÂæàÂ§öÁªëÂÆöÊï∞ÊçÆÁöÑÁÆÄÂçïÊñπÊ≥ïÔºåÂ¶ÇÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142mAdapter = new LightAdapter&lt;GuideData&gt;(mContext, mGuideDatas) &#123; @Override public void onBindView(LightHolder holder, GuideData data, int pos, int type) &#123; holder // ËÆæÁΩÆÊñáÊú¨ .setText(R.id.test1, "test") // ÂØπÂ§ö‰∏™Êéß‰ª∂ËÆæÁΩÆÁõ∏ÂêåÊñáÂ≠óÈ¢úËâ≤ .setTextColor(Ids.all(R.id.test1, R.id.test2, R.id.test3), Color.RED) // ÊòæÁ§∫ .setVisible(R.id.test1, R.id.test2, R.id.test3) // ÊòæÁ§∫ || ÈöêËóè .setVisibleGone(R.id.test1, true) // ÁÇπÂáª‰∫ã‰ª∂ .setClick(R.id.test1, new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; &#125; &#125;) // ÈïøÊåâ‰∫ã‰ª∂ .setLongClick(R.id.test1, new View.OnLongClickListener() &#123; @Override public boolean onLongClick(View v) &#123; return false; &#125; &#125;) // ÂØπÊúÄÂ§ñÂ±Ç view ËÆæÁΩÆ layout params .setLayoutParams(100, 100) // ÂØπÊåáÂÆö view ËÆæÁΩÆ layout params .setLayoutParams(R.id.test1, 100, 100) // ËÆæÁΩÆ checked .setChecked(Ids.all(R.id.test1, R.id.test2),false) // Ëá™ÂÆö‰πâ callbackÔºåÂèØ‰ª•ÂÅö‰ªª‰Ωï‰∫ãÔºå‰∏ªË¶Å‰∏∫‰∫Ü‰øùÊåÅÈìæÂºè‰ª£Á†ÅÈ£éÊ†º .setCallback(R.id.test1, new LightHolder.Callback&lt;ImageView&gt;() &#123; @Override public void bind(LightHolder holder, ImageView view, int pos) &#123; Glide.with(holder.getContext()).load(url).into(view); &#125; &#125;) // ËÆæÁΩÆÂõæÁâá .setImage(R.id.test1,R.mipmap.ic_launcher); &#125;&#125;; SelectManagerÁâµÊâØÂà∞ÂàóË°®Êó∂ÈÄöÂ∏∏‰ºöÊúâÂçïÈÄâ„ÄÅÂ§öÈÄâÁöÑÂäüËÉΩÔºåLightAdapter ‰∏≠ÁöÑ SelectManager Â∞±ÊòØÈíàÂØπËøôÁßç‰∏öÂä°Âú∫ÊôØËøõË°åÁöÑÁÆÄÂåñÂ∞ÅË£ÖÔºåÂÄüÂä©ÂÆÉÂèØ‰ª•Êõ¥ÁÆÄÂçïÁöÑÂÆûÁé∞ÈÄâÊã©Âô®ÂäüËÉΩÔºåÂêåÊó∂ËøòÊîØÊåÅÂ±ÄÈÉ®Êõ¥Êñ∞Êï∞ÊçÆ„ÄÇ ÊîØÊåÅÂçïÈÄâ SelectManager.TYPE_SINGLE Âíå Â§öÈÄâ SelectManager.TYPE_MULTI ‰∏§ÁßçÊ®°ÂºèÔºå 1234567891011mSelectManager = new SelectManager&lt;&gt;(mAdapter, SelectManager.TYPE_SINGLE, new AdapterViewBinder&lt;TypeModel&gt;() &#123; @Override public void onBindViewHolder(LightHolder holder, TypeModel data, int pos, int type) &#123; // Âà§Êñ≠ËØ•Êï∞ÊçÆÊòØÂê¶Ë¢´ÈÄâ‰∏≠ÔºåÁÑ∂ÂêéËøõË°å‰∏çÂêåÁöÑÊï∞ÊçÆÊ∏≤Êüì if (!mSelectManager.isSelect(data)) &#123; holder.setText(R.id.item_common_tv, "Ê≤°ÈÄâ" + data.index); &#125; else &#123; holder.setText(R.id.item_common_tv, "ÈÄâ‰∏≠" + data.index); &#125; &#125;&#125;); ËÆæÁΩÆÂàùÂßãÈÄâ‰∏≠ÁöÑÈ°πÔºö 1mSelectManager.initSelect(0, 1, 2); ÂàáÊç¢Êüê‰∏ÄÈ°πÁöÑÈÄâ‰∏≠Áä∂ÊÄÅÔºö 123456mAdapter.setOnItemListener(new SimpleItemListener&lt;TypeModel&gt;() &#123; @Override public void onClick(int pos, LightHolder holder, TypeModel data) &#123; mSelectManager.select(pos); &#125;&#125;); Ëé∑ÂèñÈÄâÊã©ÁöÑÊï∞ÊçÆÔºö 12mSelectManager.getResult();mSelectManager.getResults();]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ÂºÄÊ∫ê</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁºñËØëFFmpeg‰πãÂëΩ‰ª§Ë°å]]></title>
    <url>%2Farticle%2F4043209466%2F</url>
    <content type="text"><![CDATA[‰∏äÁØáÊñáÁ´†‰ªãÁªç‰∫Ü FFmpeg Â§ß‰ΩìÁöÑÁºñËØëÊµÅÁ®ãÔºåÂπ∂Âú® Java Â±ÇËøõË°å JNI Êé•Âè£ÁöÑË∞ÉÁî®ÔºåÂÄüÊ≠§‰∫ÜËß£ Android ÁºñËØëÂ∫ïÂ±Ç so Â∫ìÁöÑÊñπÂºèÔºåÊú¨Êñá‰∏ªË¶Å‰ªãÁªçÂ¶Ç‰ΩïÂú® Android Âπ≥Âè∞‰ΩøÁî® FFmoeg ÂëΩ‰ª§Ë°åÂØπÈü≥ËßÜÈ¢ëËøõË°åÊìç‰Ωú„ÄÇ ÊâøÊé•‰∏äÊñáÔºåÊú¨Êñá‰ªéÁºñËØëÂ•ΩÂêÑ‰∏™ so Êñá‰ª∂‰πãÂêéÔºåÁºñÂÜô Java Â±ÇË∞ÉÁî®ÁöÑ c Êñá‰ª∂ÂºÄÂßã„ÄÇ Ê∫ê‰ª£Á†Å GitHub - FFmpegAndroidSupport(Ê≥®ÊÑèÂú® try_cmd ÂàÜÊîØ) Java Â±Ç Native ÊñπÊ≥ïÈ¶ñÂÖàËøõË°å Java Â±Ç‰ª£Á†ÅÁöÑÁºñÂÜôÔºåÂàõÂª∫ FFmpegSupport Á±ªÔºåÂä†ËΩΩ so Êñá‰ª∂ÔºåÂ£∞Êòé native ÊñπÊ≥ï„ÄÇ 123456789101112131415161718192021222324252627282930313233343536public class FFmpegSupport &#123; static &#123; try &#123; System.loadLibrary("avdevice-57"); System.loadLibrary("avfilter-6"); System.loadLibrary("avformat-57"); System.loadLibrary("avutil-55"); System.loadLibrary("avcodec-57"); System.loadLibrary("postproc-54"); System.loadLibrary("swresample-2"); System.loadLibrary("swscale-4"); System.loadLibrary("ffmpegjni"); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; public static int ffmpegRunCommand(String command) &#123; if (command.isEmpty()) &#123; return 1; &#125; String[] args = command.split(" "); return ffmpegRunCommand(args); &#125; static int ffmpegRunCommand(String[] commands) &#123; for (String command : commands) &#123; Log.d("ffmpeg-jni", command); &#125; return ffmpegRun(commands.length, commands); &#125; public static native int ffmpegRun(int argc, String[] args);&#125; ÁîüÊàê .h Â§¥Êñá‰ª∂‰ΩøÁî® javah ÂëΩ‰ª§Ê†πÊçÆ‰Ω†ÁöÑ java Êñá‰ª∂Ëá™Âä®ÁîüÊàê .h Êñá‰ª∂Ôºåjavah ÂëΩ‰ª§ÈúÄË¶Å class Êñá‰ª∂ÔºåÊâÄ‰ª•È¶ñÂÖà‰Ω†ÈúÄË¶ÅÂØπÂ∑•Á®ãËøõË°åÁºñËØëÔºåÁîüÊàê class Êñá‰ª∂ÔºåÂÆÉ‰Ωç‰∫é project/app/build/intermediates/classes/debug ÁõÆÂΩï‰∏ã„ÄÇ ÊØîÂ¶ÇÊàëÁöÑÁ±ªÂè´ÂÅö FFmpegSupportÔºåÂåÖÂêç com.march.fasÔºåËøêË°åÂëΩ‰ª§ÂêéÁîüÊàê‰∫Ü com_march_fas_FFmpegSupport.h Êñá‰ª∂ÔºåËøô‰∏™ .h Êñá‰ª∂ÁöÑÂêçÂ≠óÂ∫îËØ•ÊòØÂèØ‰ª•Ëá™ÂÆö‰πâÁöÑÔºåÁé∞Âú®ÊòØÈªòËÆ§ÁöÑÂåÖÂêçÁ±ªÂêçÔºåÊàëËøòÊ≤°ÊúâÊü•Âà∞Áõ∏ÂÖ≥ÂèÇÊï∞„ÄÇ 123456javah -d &lt;.hÊñá‰ª∂ÁîüÊàêÁöÑÁõÆÂΩï&gt; -classpath &lt;classÊñá‰ª∂Â≠òÂÇ®ÁöÑÁõÆÂΩï&gt; &lt;ÂåÖÂêç.Á±ªÂêç&gt;// Â¶Ç‰∏ãjavah -d /Users/march/AndroidPro/FFmpegAndroidSupport/app/src/main/jni \-classpath /Users/march/AndroidPro/FFmpegAndroidSupport/app/build/intermediates/classes/debug \com.march.fas.FFmpegSupport Êü•Áúã .h Êñá‰ª∂ÁöÑÂÜÖÂÆπÔºåÂ∞Ü jclass Êîπ‰∏∫ jobjectÔºåÂéüÂõ†ÁöÑËØùÊàë‰πü‰∏çÁü•ÈÅì‰∏∫‰ªÄ‰πàÔºå‰∏çÊòØÂæàÊáÇËøô‰∏ÄÂùóÂÑøÔºå‰πüÊòØÊü•ËµÑÊñôÊÖ¢ÊÖ¢ÊÄªÁªìÁöÑ„ÄÇ 123456789101112131415161718192021/* DO NOT EDIT THIS FILE - it is machine generated */#include &lt;jni.h&gt;/* Header for class com_march_fas_FFmpegSupport */#ifndef _Included_com_march_fas_FFmpegSupport#define _Included_com_march_fas_FFmpegSupport#ifdef __cplusplusextern "C" &#123;#endif/* * Class: com_march_fas_FFmpegSupport * Method: ffmpegRun * Signature: (I[Ljava/lang/String;)I */JNIEXPORT jint JNICALL Java_com_march_fas_FFmpegSupport_ffmpegRun (JNIEnv *, jobject, jint, jobjectArray);#ifdef __cplusplus&#125;#endif#endif ÁºñÂÜôÂØπÂ∫î c Êñá‰ª∂Ê†πÊçÆÁîüÊàêÁöÑ .h ÁºñÂÜô c Êñá‰ª∂ÔºåÂÖ∂‰∏≠ logjni.h ÊòØ‰∏Ä‰∏™ÊâìÂç∞Êó•ÂøóÁöÑÂ∑•ÂÖ∑Á±ªÔºåËØ¶ÁªÜÂèØ‰ª•ÂèÇËÄÉ github ‰∏äÈù¢ÁöÑÊ∫êÊñá‰ª∂„ÄÇ 123456789101112131415161718192021222324252627282930313233343536#include "logjni.h"#include "com_march_fas_FFmpegSupport.h"#include &lt;stdlib.h&gt;#include &lt;stdbool.h&gt;int main(int argc, char **argv);JNIEXPORT jint JNICALL Java_com_march_fas_FFmpegSupport_ffmpegRun(JNIEnv *env, jobject obj, jint argc, jobjectArray args) &#123; int i = 0; char **argv = NULL; jstring *strr = NULL; if (args != NULL) &#123; argv = (char **) malloc(sizeof(char *) * argc); strr = (jstring *) malloc(sizeof(jstring) * argc); for (i = 0; i &lt; argc; ++i) &#123; strr[i] = (jstring)(*env)-&gt;GetObjectArrayElement(env, args, i); argv[i] = (char *)(*env)-&gt;GetStringUTFChars(env, strr[i], 0); LOGD("args: %s", argv[i]); &#125; &#125; LOGD("Run ffmpeg"); int result = main(argc, argv); LOGD("ffmpeg result %d", result); for (i = 0; i &lt; argc; ++i) &#123; (*env)-&gt;ReleaseStringUTFChars(env, strr[i], argv[i]); &#125; free(argv); free(strr); return result;&#125; ÂáÜÂ§áÂ∑•‰ΩúÂ¶Ç‰∏ä‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨‰ΩøÁî® ffmpeg.c ‰∏≠ÁöÑ main() ÂáΩÊï∞ÔºåÂõ†Ê≠§ÈúÄË¶ÅÂ∞Ü ffmpeg.c Âíå ffmpeg.h Êã∑Ë¥ùÂà∞ jni ÁõÆÂΩï‰∏≠ÔºåÂêåÊó∂ ffmpeg.c ÂèàÂºïÁî®‰∫ÜÂ§ö‰∏™Êñá‰ª∂ÔºåÂ§ßËá¥Êúâ‰ª•‰∏ãÂá†‰∏™Êñá‰ª∂ÔºåËøô‰∫õÊñá‰ª∂ÈÉΩÈúÄË¶ÅÊã∑Ë¥ùÂà∞ jni ÁõÆÂΩï‰∏≠ 12345678config.hffmpeg.cffmpeg.hffmpeg_filter.cffmpeg_opt.ccmdutils_common_opts.hcmdutils.hcmdutils.c Ë∑ü‰∏ä‰∏ÄÁØáÊñáÁ´†ËØ¥ÁöÑ‰∏ÄÊ†∑ÔºåÊàë‰ª¨ËøòÊòØË¶ÅÂ∞ÜÁºñËØëÂ•ΩÁöÑ so Êñá‰ª∂Êã∑Ë¥ùÂà∞ jni ÁõÆÂΩïÔºåÂêåÊó∂ÁºñÂÜô Android.mk Âíå Application.mk Êñá‰ª∂„ÄÇ‰∏∫‰∫ÜËÆ©ÁªìÊûÑÊõ¥Âä†Ê∏ÖÊô∞ÔºåÊàëÂØπÁõÆÂΩïÂÅö‰∫Ü‰∫õËÆ∏ÊîπÂä®„ÄÇÂú® jni ÁõÆÂΩï‰∏ãÊñ∞Âª∫‰∫Ü prebuilt/armeabi Êñá‰ª∂Â§πÔºåÁî®Êù•Â≠òÊîæ so Êñá‰ª∂„ÄÇÂêåÊó∂ Android.mk Âíå Application.mk Êñá‰ª∂‰πüÈúÄË¶ÅÂÅöÁõ∏Â∫î‰øÆÊîπ„ÄÇ Android.mk Êñá‰ª∂Ôºå 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172LOCAL_PATH:= $(call my-dir)include $(CLEAR_VARS)LOCAL_MODULE:= avcodec-prebuilt-armeabiLOCAL_SRC_FILES:= prebuilt/armeabi/libavcodec-57.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE:= avdevice-prebuilt-armeabiLOCAL_SRC_FILES:= prebuilt/armeabi/libavdevice-57.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE:= avfilter-prebuilt-armeabiLOCAL_SRC_FILES:= prebuilt/armeabi/libavfilter-6.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE:= avformat-prebuilt-armeabiLOCAL_SRC_FILES:= prebuilt/armeabi/libavformat-57.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE := avutil-prebuilt-armeabiLOCAL_SRC_FILES := prebuilt/armeabi/libavutil-55.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE := swresample-prebuilt-armeabiLOCAL_SRC_FILES := prebuilt/armeabi/libswresample-2.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE := swscale-prebuilt-armeabiLOCAL_SRC_FILES := prebuilt/armeabi/libswscale-4.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE := postproc-prebuilt-armeabiLOCAL_SRC_FILES := prebuilt/armeabi/libpostproc-54.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE := libffmpegjniLOCAL_ARM_MODE := armLOCAL_SRC_FILES := com_march_fas_FFmpegSupport.c \ ffmpeg.c \ cmdutils.c \ ffmpeg_opt.c \ ffmpeg_filter.cLOCAL_LDLIBS := -L$(SYSROOT)/usr/lib -llog -lzLOCAL_SHARED_LIBRARIES:= avcodec-prebuilt-armeabi \ avdevice-prebuilt-armeabi \ avfilter-prebuilt-armeabi \ avformat-prebuilt-armeabi \ avutil-prebuilt-armeabi \ swresample-prebuilt-armeabi \ swscale-prebuilt-armeabi \ postproc-prebuilt-armeabiLOCAL_C_INCLUDES += -L$(SYSROOT)/usr/includeLOCAL_C_INCLUDES += /Users/march/AndroidPro/FFmpegAndroidSupport/ffmpeg-3.3.1LOCAL_CFLAGS := -DUSE_ARM_CONFIGinclude $(BUILD_SHARED_LIBRARY) Application.mk Êñá‰ª∂ 12APP_ABI := armeabi-v7aAPP_PLATFORM := android-14 ‰øÆÊîπ ffmpeg Ê∫ê‰ª£Á†Å]]></content>
      <categories>
        <category>Android</category>
        <category>Ndk</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>FFmpeg</tag>
        <tag>Ndk</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-5-Á±ª‰∏éÂØπË±°]]></title>
    <url>%2Farticle%2F2717980190%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªç Kotlin Á±ª‰∏éÂØπË±°„ÄÇ Áúã‰∫ÜÂÆòÊñπÊñáÊ°£ÁöÑÁõ∏ÂÖ≥ÊèèËø∞ÔºåÂèëÁé∞ÂæàÂ§öÂêçËØçÂú® Kotlin ‰∏≠Âíå Java ÈÉΩÊúâ‰∏çÂ§™‰∏ÄÊ†∑ÔºåÂú® Kotlin ‰∏≠ ÊñπÊ≥ï Ë¢´Áß∞‰∏∫ ÂáΩÊï∞ÔºåËÄåÂÉè open , final ËøôÁßçÂÖ≥ÈîÆÂ≠óË¢´Áß∞‰∏∫Ê≥®Ëß£(annotation)ÔºåÂú®Êàë‰πãÂâçÁöÑËÆ§Áü•ÂΩì‰∏≠Âè™Êúâ @Inject ËøôÁßçÊâçÊòØÊ≥®Ëß£„ÄÇÂõ†Ê≠§ÊñáÁ´†‰∏≠ÁöÑÊèèËø∞ÈÉΩÂ∞ΩÈáè‰ΩøÁî® Kotlin ‰∏≠ÁöÑÊúØËØ≠„ÄÇ ÊûÑÈÄ†Âô®Kotlin ‰∏≠ÁöÑÁ±ªÂèØ‰ª•Êúâ‰∏Ä‰∏™ ‰∏ªÊûÑÈÄ†Âô® (primary constructor), ‰ª•Âèä‰∏Ä‰∏™ÊàñÂ§ö‰∏™ Ê¨°ÊûÑÈÄ†Âô® (secondary constructor)„ÄÇ‰∏ªÊûÑÈÄ†Âô®ÊòØÁ±ªÂ§¥ÈÉ®ÁöÑ‰∏ÄÈÉ®ÂàÜ, ‰Ωç‰∫éÁ±ªÂêçÁß∞(‰ª•ÂèäÂèØÈÄâÁöÑÁ±ªÂûãÂèÇÊï∞)‰πãÂêé„ÄÇ ‰∏ªÊûÑÈÄ†Âô®‰∏ªÊûÑÈÄ†Âô®Á¥ßË∑üÂú®Á±ªÂêçÂêéÈù¢ËøõË°åÂ£∞ÊòéÔºåÂ£∞ÊòéÁöÑ‰∏ÄËà¨ÂΩ¢ÂºèÂ¶Ç‰∏ãÔºåÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶ÈªòËÆ§‰∏∫ publicÔºå(Â¶ÇÊûú‰∏ªÊûÑÈÄ†Âô®ÊòØ public ÁöÑÔºåÂêåÊó∂Ê≤°ÊúâÊ≥®Ëß£ÈÇ£‰πàÂèØ‰ª•ÁúÅÁï• constructor ÂÖ≥ÈîÆÂ≠ó)„ÄÇÂΩìÁÑ∂Â¶ÇÊûúÁ±ªÂÜÖÈÉ®Ê≤°ÊúâÂÖ∑‰ΩìÁöÑÂÆûÁé∞Ôºå{} ‰πüÊòØÂèØ‰ª•ÁúÅÁï•ÁöÑ„ÄÇ 12345678// ÂÆåÊï¥ÁöÑÂÜôÊ≥ïclass Engineer private @Inject constructor(name: String, age: Int, language: String)// ÁÆÄÂåñÂÜôÊ≥ïÔºåÁî±‰∫éÊòØpublicÁöÑÔºåÂêåÊó∂Ê≤°ÊúâÊ≥®Ëß£ÔºåÁúÅÁï•‰∫ÜconstructorÂÖ≥ÈîÆÂ≠óclass Engineer (name: String, age: Int, language: String)// ÈªòËÆ§ÁîüÊàê‰∏Ä‰∏™publicÁöÑÊó†ÂèÇÊûÑÈÄ†Âô®class Engineer Áî±‰∫é‰∏ªÊûÑÈÄ†Âô®‰∏≠Êó†Ê≥ï‰ΩøÁî®ÂàùÂßãÂåñ‰ª£Á†ÅÔºåÂèØ‰ª•Âú®Á±ªÂÜÖËøõË°åÂ±ûÊÄßÁöÑÂàùÂßãÂåñÔºå‰ΩøÁî® init{} ÂÖ≥ÈîÆÂ≠óË°®Á§∫„ÄÇ 123456789101112class Engineer (name: String, age: Int, language: String) &#123; var name: String = "" var age:Int = 0 var language:String = "" init &#123; this.name = name this.age = age this.language = language log("name = $name,age = $age, lan = $language") &#125;&#125; Âú®‰∏ªÊûÑÈÄ†Âô®ÂÜÖÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® val Âíå var Â£∞ÊòéÂíåÂàùÂßãÂåñÂ±ûÊÄßÔºå‰ªñ‰ª¨ÈÉΩÊòØÁ±ªÁöÑÊàêÂëòÂ±ûÊÄß„ÄÇ 123class Engineer(val name: String = "", age: Int = 0, language: String = "") &#123;&#125; Ê≥®ÊÑè: Âú® JVM ‰∏≠, Â¶ÇÊûú‰∏ªÊûÑÈÄ†Âô®ÁöÑÊâÄÊúâÂèÇÊï∞ÈÉΩÊåáÂÆö‰∫ÜÈªòËÆ§ÂÄº, ÁºñËØëÂô®Â∞Ü‰ºö‰∫ßÁîü‰∏Ä‰∏™È¢ùÂ§ñÁöÑÊó†ÂèÇÊï∞ÊûÑÈÄ†Âô®, Ëøô‰∏™Êó†ÂèÇÊï∞ÊûÑÈÄ†Âô®‰ºö‰ΩøÁî®ÈªòËÆ§ÂèÇÊï∞ÂÄºÊù•Ë∞ÉÁî®Êó¢ÊúâÁöÑÊûÑÈÄ†Âô®. Êúâ‰∫õÂ∫ì(ÊØîÂ¶Ç Jackson Êàñ JPA) ‰ºö‰ΩøÁî®Êó†ÂèÇÊï∞ÊûÑÈÄ†Âô®Êù•ÂàõÂª∫ÂØπË±°ÂÆû‰æã, Ëøô‰∏™ÁâπÊÄßÂ∞Ü‰ΩøÂæó Kotlin ÊØîËæÉÂÆπÊòì‰∏éËøôÁßçÂ∫ìÂçèÂêåÂ∑•‰Ωú. Ê¨°Á∫ßÊûÑÈÄ†Âô®Â¶ÇÊûúÁ±ªÊúâ‰∏ªÊûÑÈÄ†Âô®, ÈÇ£‰πàÊØè‰∏™Ê¨°Á∫ßÊûÑÈÄ†Âô®ÈÉΩÂøÖÈ°ªÂßîÊâòÁªô‰∏ªÊûÑÈÄ†Âô®, Ë¶Å‰πàÁõ¥Êé•ÂßîÊâò, Ë¶Å‰πàÈÄöËøáÂÖ∂‰ªñÊ¨°Á∫ßÊûÑÈÄ†Âô®Èó¥Êé•ÂßîÊâò. ÂßîÊâòÂà∞Âêå‰∏Ä‰∏™Á±ªÁöÑÂè¶‰∏Ä‰∏™ÊûÑÈÄ†Âô®Êó∂, ‰ΩøÁî® this ÂÖ≥ÈîÆÂ≠óÂÆûÁé∞„ÄÇ 12345class Engineer(val name: String = "", age: Int = 0, language: String = "") &#123; constructor(name: String, age: Int) : this(name, age, "en")&#123; log("Ê¨°Á∫ßÊûÑÈÄ†Âô®") &#125;&#125; ÂàõÂª∫ÂØπË±°ÊûÑÈÄ†Âô®‰∏≠ÁöÑÂ±ûÊÄßÊåáÂÆöÂàùÂßãÂÄºÂêéÂú®ÂàõÂª∫ÂØπË±°Êó∂ÂèØ‰ª•ÁúÅÁï•Ôºå‰ΩøÁî®Â¶Ç‰∏ãÊñπÊ≥ïÔºåÈÅøÂÖçÈáçËΩΩÊûÑÈÄ†ÊñπÊ≥ïÔºå‰∏ªÊûÑÈÄ†Âô®‰∏≠ÂÖ∑ÊúâÈªòËÆ§ÂÄºÁöÑÂ±ûÊÄß‰∏çÊòØÂøÖÈ°ªËµãÂÄºÁöÑ„ÄÇ 123val en = Engineer("",12)val en1 = Engineer(name = "test")val en2 = Engineer(name = "test",age = 12,language = "") ÁªßÊâøkotlin ‰∏≠ÊâÄÊúâÁöÑÁ±ªÈªòËÆ§ÁªßÊâøËá™Ë∂ÖÁ±ª Any,Any ‰∏çÊòØ java.lang.Object; Â∞§ÂÖ∂Ë¶ÅÊ≥®ÊÑè, Èô§ equals() , hashCode() Âíå toString() ‰πãÂ§ñ, ÂÆÉÊ≤°Êúâ‰ªª‰ΩïÊàêÂëò„ÄÇ Kotlin ‰∏≠ÊâÄÊúâÁöÑÁ±ªÈÉΩÊòØ fnial ÁöÑÔºå‰πüÂ∞±ÊòØ‰∏çÂÖÅËÆ∏ÁªßÊâøÔºåËøôÁÇπÂíå Java Ê≠£Â•ΩÁõ∏ÂèçÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥ÁªßÊâø‰∏Ä‰∏™Á±ªÂøÖÈ°ª‰ΩøÁî® open ÂÖ≥ÈîÆÂ≠óÂ£∞Êòé„ÄÇ Kotlin ‰ΩøÁî® : Ë°®Á§∫ÁªßÊâøÔºåÂ≠êÁ±ªÂíåÁà∂Á±ªÊûÑÈÄ†Âô®Ë∞ÉÁî®ÂàÜ‰∏∫‰ª•‰∏ã‰∏§ÁßçÊÉÖÂÜµ Â¶ÇÊûúÁ±ªÊúâ‰∏ªÊûÑÈÄ†Âô®, ÈÇ£‰πàÂøÖÈ°ªÂú®‰∏ªÊûÑÈÄ†Âô®‰∏≠‰ΩøÁî®‰∏ªÊûÑÈÄ†Âô®ÁöÑÂèÇÊï∞Êù•ÂàùÂßãÂåñÂü∫Á±ª„ÄÇ 12345open class Engineer(var name: String = "", var age: Int = 0, var language: String = "") &#123;&#125;class BigEngineer(var level: Int) : Engineer("name",12) &#123;&#125; Â¶ÇÊûúÁ±ªÊ≤°Êúâ‰∏ªÊûÑÈÄ†Âô®, ÈÇ£‰πàÊâÄÊúâÁöÑÊ¨°Á∫ßÊûÑÈÄ†Âô®ÈÉΩÂøÖÈ°ª‰ΩøÁî® super ÂÖ≥ÈîÆÂ≠óÊù•ÂàùÂßãÂåñÂü∫Á±ª, ÊàñËÄÖÂßîÊâòÂà∞Âè¶‰∏Ä‰∏™ÊûÑÈÄ†Âô®, Áî±Ë¢´ÂßîÊâòÁöÑÊûÑÈÄ†Âô®Êù•ÂàùÂßãÂåñÂü∫Á±ª„ÄÇ Ê≥®ÊÑè, ËøôÁßçÊÉÖÂÜµ‰∏ã, ‰∏çÂêåÁöÑÊ¨°Á∫ßÊûÑÈÄ†Âô®ÂèØ‰ª•Ë∞ÉÁî®Âü∫Á±ª‰∏≠‰∏çÂêåÁöÑÊûÑÈÄ†Âô®„ÄÇ 12345678910open class Engineer(var name: String = "", var age: Int = 0, var language: String = "") &#123; &#125;class BigEngineer : Engineer &#123; var level = 0 constructor(name:String,age:Int,level:Int):super(name,age,"en")&#123; this.level = level &#125;&#125; ÊñπÊ≥ïÁöÑË¶ÜÁõñÂíåÁ±ª‰∏ÄÊ†∑ÔºåÁ±ª‰∏≠ÁöÑÊâÄÊúâÊñπÊ≥ïÈÉΩÈªòËÆ§ÊòØ final ÁöÑÔºåÂç≥‰∏çÂÖÅËÆ∏Âú®Â≠êÁ±ª‰∏≠ËøõË°åÈáçÂÜôÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÂú®Â≠êÁ±ª‰∏≠Êõ¥ÊîπÔºåÈúÄË¶Å‰ΩøÁî® open Ê≥®Ëß£Â£∞ÊòéÔºåÂ¶ÇÂÆû‰æã‰∏≠ 3„ÄÇ Â¶ÇÊûúÂ≠êÁ±ªÊÉ≥Ë¶ÅË¶ÜÁõñÁà∂Á±ªÁöÑÊñπÊ≥ïÔºåÂøÖÈ°ªÊ∑ªÂä† override Ê≥®Ëß£„ÄÇ Â¶ÇÊûúÈÅóÊºè‰∫ÜËøô‰∏™Ê≥®Ëß£ÔºåÁºñËØëÂô®Â∞Ü‰ºöÊä•ÂëäÈîôËØØ„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™ÂáΩÊï∞Ê≤°ÊúâÊ†áÊ≥® open Ê≥®Ëß£Ôºå ÈÇ£‰πàÂú®Â≠êÁ±ª‰∏≠Â£∞Êòé‰∏Ä‰∏™ÂêåÂêçÂêåÂèÇÁöÑÊñπÊ≥ïÂ∞ÜÊòØÈùûÊ≥ïÁöÑ, Êó†ËÆ∫ÊòØÂê¶Ê∑ªÂä† override Ê≥®Ëß£Ôºå ÈÉΩ‰∏çÂèØ‰ª•ÔºåÂ¶ÇÂÆû‰æã‰∏≠ 4„ÄÇ ÂΩì‰∏Ä‰∏™Â≠êÁ±ªÊàêÂëòÊ†áËÆ∞‰∫Ü override Ê≥®Ëß£Êù•Ë¶ÜÁõñÁà∂Á±ªÊàêÂëòÊó∂Ôºå Ë¶ÜÁõñÂêéÁöÑÂ≠êÁ±ªÊàêÂëòÊú¨Ë∫´‰πüÂ∞ÜÊòØ open ÁöÑ, ‰πüÂ∞±ÊòØËØ¥Ôºå Â≠êÁ±ªÊàêÂëòÂèØ‰ª•Ë¢´Ëá™Â∑±ÁöÑÂ≠êÁ±ªÂÜçÊ¨°Ë¶ÜÁõñÔºåÂ¶ÇÂÆû‰æã‰∏≠ 1„ÄÇ Â¶ÇÊûú‰Ω†Â∏åÊúõÁ¶ÅÊ≠¢ËøôÁßçÂÜçÊ¨°Ë¶ÜÁõñÔºåÂèØ‰ª•‰ΩøÁî® final Ê≥®Ëß£ÔºåÂ¶ÇÂÆû‰æã‰∏≠ 2„ÄÇ ÂÆû‰æãÔºö 12345678910111213141516171819202122open class Engineer(var name: String = "", var age: Int = 0, var language: String = "") &#123; open fun test() &#123;&#125; open fun test2() &#123;&#125; // Ê≠§ÂáΩÊï∞‰∏çÂÖÅËÆ∏Âú®Â≠êÁ±ªË¶ÜÁõñ fun test3() &#123;&#125;&#125;open class BigEngineer(name: String = "", age: Int = 0, var level: Int = 0) : Engineer(name, age, "en") &#123; // 1. Ê≠§ÂáΩÊï∞Ë¶ÜÁõñ‰∫ÜË∂ÖÁ±ª‰∏≠ÁöÑÂáΩÊï∞Ôºå‰ªñÂ∞ÜÈªòËÆ§ÊòØopenÁöÑÔºå‰ªñÁöÑÂ≠êÁ±ªÂèØ‰ª•Ë¶ÜÁõñËØ•ÊñπÊ≥ï„ÄÇ override fun test() &#123;&#125; // 2. Ê≠§ÂáΩÊï∞Âú®Â≠êÁ±ª‰∏≠Â∞Ü‰∏ç‰ºöË¢´Ë¶ÜÁõñÔºåÂõ†‰∏∫ÊòæÂºèÁöÑÊ∑ªÂä†‰∫ÜfinalÊ≥®Ëß£ final override fun test2() &#123;&#125; // 3. ËøôÂè•ÊòØÁºñËØëÈîôËØØÁöÑÔºåÂõ†‰∏∫test3()‰∏çÊòØopenÁöÑ // override fun test3() &#123;&#125; // 4. ËøôÂè•ÊòØÁºñËØëÈîôËØØÁöÑÔºåË∂ÖÁ±ª‰∏≠test3()ÊòØfinalÁöÑÔºåÂú®Â≠êÁ±ª‰∏≠Â£∞ÊòéÂêåÂêçÂêåÂèÇÁöÑÂáΩÊï∞ÊòØÈùûÊ≥ïÁöÑ // fun test3()&#123;&#125;&#125; Âú®‰∏Ä‰∏™ final Á±ª(ÊØîÂ¶ÇÔºå ‰∏Ä‰∏™Ê≤°ÊúâÊ∑ªÂä† open Ê≥®Ëß£ÁöÑÁ±ª)‰∏≠Ôºå Â£∞Êòé open ÊàêÂëòÊòØÊ≤°ÊúâÊÑè‰πâÁöÑ„ÄÇ 123456class Test&#123; // Ë≠¶Âëä‚ö†Ô∏èopen has no effect in a final class„ÄÇ // Âú®‰∏Ä‰∏™finalÁ±ª‰∏≠Â£∞ÊòéopenÊàêÂëòÊòØÊó†ÊÑè‰πâÁöÑÔºåÂõ†‰∏∫Á±ªÊó†Ê≥ïË¢´ÁªßÊâøÔºåÊàêÂëòÂáΩÊï∞ÂíåÂèòÈáè‰πüÊó†Ê≥ïË¢´ÈáçÂÜô„ÄÇ open fun test()&#123;&#125; open val a = 0&#125; Â±ûÊÄßÁöÑË¶ÜÁõñÂâçÊèêÔºåÂ±ûÊÄßÁöÑË¶ÜÁõñÊñπÂºè‰∏éÊñπÊ≥ïË¶ÜÁõñÁ±ª‰ººÔºåÂêåÊ†∑ÂøÖÈ°ªÂú®Áà∂Á±ª‰∏≠Â£∞Êòé‰∏∫ openÔºåÂΩìË∂ÖÁ±ª‰∏≠Â£∞ÊòéÁöÑÂ±ûÊÄßÂú®Âêé‰ª£Á±ª‰∏≠ÂÜçÊ¨°Â£∞ÊòéÊó∂ÔºåÂøÖÈ°ª‰ΩøÁî® override ÂÖ≥ÈîÆÂ≠óÊù•Ê†áËÆ∞ÔºåËÄå‰∏îË¶ÜÁõñÂêéÁöÑÂ±ûÊÄßÊï∞ÊçÆÁ±ªÂûãÂøÖÈ°ª‰∏éË∂ÖÁ±ª‰∏≠ÁöÑÂ±ûÊÄßÊï∞ÊçÆÁ±ªÂûãÂÖºÂÆπ„ÄÇ ÂèØ‰ª•‰ΩøÁî®Â∏¶ÂàùÂßãÂåñÂô®ÁöÑÂ±ûÊÄßÊù•Ë¶ÜÁõñË∂ÖÁ±ªÂ±ûÊÄßÔºå ‰πüÂèØ‰ª•‰ΩøÁî®Â∏¶ÂèñÂÄºÊñπÊ≥ï(getter)ÁöÑÂ±ûÊÄßÊù•Ë¶ÜÁõñ„ÄÇ ÂèØ‰ª•Âú®‰∏ªÊûÑÈÄ†Âô®ÁöÑÂ±ûÊÄßÂ£∞Êòé‰∏≠‰ΩøÁî® override ÂÖ≥ÈîÆÂ≠óÔºåË¶ÜÁõñ‰∏ªÊûÑÈÄ†Âô®‰∏≠ÁöÑÂ±ûÊÄß„ÄÇ ÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ var Â±ûÊÄßË¶ÜÁõñ‰∏Ä‰∏™ val Â±ûÊÄßÔºå‰ΩÜ‰∏çÂèØ‰ª•ÂèçËøáÊù•‰ΩøÁî®‰∏Ä‰∏™ val Â±ûÊÄßË¶ÜÁõñ‰∏Ä‰∏™ var Â±ûÊÄß„ÄÇ ÂÖÅËÆ∏ËøôÁßçË¶ÜÁõñÁöÑÂéüÂõ†ÊòØÔºå val Â±ûÊÄßÊú¨Ë¥®‰∏äÂè™ÊòØÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ get ÊñπÊ≥ïÔºå‰ΩøÁî® var Â±ûÊÄßÊù•Ë¶ÜÁõñÂÆÉÔºå Âè™ÊòØÂêëÂêé‰ª£Á±ª‰∏≠Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™ set ÊñπÊ≥ï„ÄÇ 123456789101112131415161718192021222324// nameÂ±ûÊÄßÊòØopenÁöÑÔºåÂÆÉÂèØ‰ª•Âú®Â≠êÁ±ª‰∏≠Ë¢´Ë¶ÜÁõñopen class Engineer(open var name: String = "", var age: Int = 0, var language: String = "") &#123; open val a: Int get() = 100 open val b: Int = 100 open var c:Int = 100&#125;// Ë¶ÜÁõñ‰∫ÜË∂ÖÁ±ª‰∏≠ÁöÑnameÂ±ûÊÄßopen class BigEngineer(override var name: String = "", age: Int = 0, var level: Int = 0) : Engineer(name, age, "en") &#123; // ÂèØ‰ª•‰ΩøÁî®ÂàùÂßãÂåñÂô®ÊàñgetterÊñπÊ≥ïÂØπÂ±ûÊÄßËøõË°åË¶ÜÁõñÔºåÈÉΩÊòØÂÖÅËÆ∏ÁöÑ„ÄÇ override val a: Int = 100 override var b = 0 get() = 1 // ËøôÂè•ÊòØÁºñËØëÈîôËØØÁöÑÔºåÂõ†‰∏∫valÂèòÈáè‰∏çËÉΩË¶ÜÁõñvarÂèòÈáè // override val c:Int = 1&#125; Ë¶ÜÁõñÁöÑÂéüÂàôÂú® Kotlin ‰∏≠Ôºå Á±ªÁªßÊâø‰∏≠ÁöÑÊñπÊ≥ïÂÆûÁé∞ÈóÆÈ¢ò, ÈÅµÂÆà‰ª•‰∏ãËßÑÂàô: Â¶ÇÊûú‰∏Ä‰∏™Á±ª‰ªéÂÆÉÁöÑÁõ¥Êé•Ë∂ÖÁ±ª‰∏≠ÁªßÊâø‰∫ÜÂêå‰∏Ä‰∏™ÊàêÂëòÁöÑÂ§ö‰∏™ÂÆûÁé∞ÔºåÈÇ£‰πàËøô‰∏™Â≠êÁ±ªÂøÖÈ°ªË¶ÜÁõñËøô‰∏™ÊàêÂëòÔºåÂπ∂Êèê‰æõ‰∏Ä‰∏™Ëá™Â∑±ÁöÑÂÆûÁé∞ÔºåËøôÊ†∑Âú®Â≠êÁ±ª‰∏≠Ê∂àÈô§Ê≠ß‰πâÔºå‰∏∫‰∫ÜË°®Á§∫‰ΩøÁî®ÁöÑÊñπÊ≥ïÊòØ‰ªéÂì™‰∏™Ë∂ÖÁ±ªÁªßÊâøÂæóÂà∞ÁöÑÔºå Êàë‰ª¨‰ΩøÁî® super ÂÖ≥ÈîÆÂ≠ó, Â∞ÜË∂ÖÁ±ªÂêçÁß∞ÊîæÂú®Â∞ñÊã¨Âè∑Á±ª, ÊØîÂ¶Ç super&lt;Áà∂Á±ª&gt;„ÄÇ 12345678910111213141516171819202122232425open class ClsA &#123; open val a = 100 open fun test() &#123;&#125;&#125;interface ClsB &#123; val a: Int get() = 200 fun test() &#123;&#125;&#125;class ClsC : ClsA(), ClsB &#123; // Â±ûÊÄßÂøÖÈ°ªËøõË°åÂàùÂßãÂåñÔºåÂõ†Ê≠§‰∏çÂ≠òÂú®ËøôÊ†∑ÁöÑÈóÆÈ¢ò override val a = 300 // ÊñπÊ≥ïÁöÑË¶ÜÁõñ // Ê≠§Êó∂ÁºñËØëÂô®Âº∫Âà∂ÂøÖÈ°ªÂÆûÁé∞test()ÊñπÊ≥ï,Âõ†‰∏∫ÂèØ‰ª•‰ªéË∂ÖÁ±ª‰∏≠ÁªßÊâøÂ§ö‰∏™ÂÆûÁé∞ override fun test() &#123; // ÊòéÁ°ÆÁöÑË∞ÉÁî®Áà∂Á±ª‰∏≠ÁöÑÊñπÊ≥ï super&lt;ClsA&gt;.test() super&lt;ClsB&gt;.test() &#125;&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-4-Êé•Âè£]]></title>
    <url>%2Farticle%2F6a146f82%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªç Kotlin Êé•Âè£„ÄÇ Â£∞ÊòéÊé•Âè£‰ΩøÁî® interface ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÔºõ Êé•Âè£‰∏≠ÂèØ‰ª•ÂåÖÂê´ÊäΩË±°ÊñπÊ≥ïÁöÑÂ£∞ÊòéÔºå‰πüÂèØ‰ª•ÂåÖÂê´ÊñπÊ≥ïÁöÑÂÆûÁé∞„ÄÇ Êé•Âè£‰∏éÊäΩË±°Á±ªÁöÑÂå∫Âà´Âú®‰∫éÔºå Êé•Âè£‰∏çËÉΩÂ≠òÂÇ®Áä∂ÊÄÅÊï∞ÊçÆ„ÄÇ Êé•Âè£ÂèØ‰ª•ÊúâÂ±ûÊÄßÔºå ‰ΩÜËøô‰∫õÂ±ûÊÄßÂøÖÈ°ªÊòØÊäΩË±°ÁöÑÔºå‰∏çËÉΩ‰ΩøÁî®ÂàùÂßãÂåñÂô®Êù•ÂàùÂßãÂåñÔºåÊàñËÄÖÂøÖÈ°ªÊèê‰æõËÆøÈóÆÂô®ÁöÑËá™ÂÆö‰πâÂÆûÁé∞„ÄÇ Êé•Âè£‰∏çÊîØÊåÅ Backing FieldÔºåÂõ†Ê≠§ var ÂèòÈáèÊó†Ê≥ïÂÆö‰πâËÆøÈóÆÂô®ÔºåÂõ†Ê≠§ var Á±ªÂûãÁöÑÂ±ûÊÄßÂøÖÂÆöÊòØÊäΩË±°ÁöÑ„ÄÇ 123456789101112131415161718192021222324252627interface FirstInterface &#123; // ÂèØ‰ª•ÂÖ∑ÊúâÂ±ûÊÄßÔºå‰ΩÜÊòØÂ±ûÊÄßÂøÖÈ°ªÊòØÊäΩË±°ÁöÑ // ÊàñËÄÖÂøÖÈ°ªÊèê‰æõËÆøÈóÆÂô®ÁöÑËá™ÂÆö‰πâÂÆûÁé∞ val testVal1: Int var testVar2: Int val testVal3: Int get() = 100 // ÁºñËØëÈîôËØØÔºåÊé•Âè£‰∏çÊîØÊåÅ backing field // Âõ†Ê≠§ var Á±ªÂûãÁöÑÂ±ûÊÄß‰∏çËÉΩËá™ÂÆö‰πâËÆøÈóÆÂô® var testVar4: Int get() = 100 // ÁºñËØëÈîôËØØÔºåÂ±ûÊÄßÂøÖÈ°ªÊòØÊäΩË±°ÁöÑ // ÊàñËÄÖÂøÖÈ°ªÊèê‰æõËÆøÈóÆÂô®ÁöÑËá™ÂÆö‰πâÂÆûÁé∞ val testVal10: Int = 1 var testVar10: Int = 1 // ÂèØ‰ª•ÂåÖÂê´ÊäΩË±°ÊñπÊ≥ïÁöÑÂ£∞Êòé fun testFun1() // ‰πüÂèØ‰ª•ÂåÖÂê´ÊñπÊ≥ïÁöÑÂÆûÁé∞ fun testFun2(param: Int): String &#123; return "test fun 2" &#125;&#125; ÂÆûÁé∞Êé•Âè£12345678910111213141516171819202122232425class SecondInterface:FirstInterface&#123; // ‰ΩøÁî®ÂàùÂßãÂåñÂô®Ë¶ÜÁõñÊé•Âè£ÊäΩË±°Â±ûÊÄß override val testVal1: Int = 10 // ‰ΩøÁî®Ëá™ÂÆö‰πâËÆøÈóÆÂô®Ë¶ÜÁõñÊé•Âè£ÊäΩË±°Â±ûÊÄß override var testVar2: Int get() = 100 set(value) &#123;&#125; // Ë¶ÜÁõñÊé•Âè£ÈùûÊäΩË±°Â±ûÊÄß override val testVal3: Int get() = super.testVal3 // Ë¶ÜÁõñÊé•Âè£ÊäΩË±°ÊñπÊ≥ï override fun testFun1() &#123; &#125; // Ë¶ÜÁõñÊé•Âè£ÈùûÊäΩË±°ÊñπÊ≥ï override fun testFun2(param: Int): String &#123; return super.testFun2(param) &#125;&#125; Ëß£ÂÜ≥Êé•Âè£Ë¶ÜÁõñÂÜ≤Á™ÅÁî±‰∫éÊé•Âè£ÊòØÂèØ‰ª•Â§öÁªßÊâøÁöÑÔºåÂ¶ÇÊûúÂÆûÁé∞Â§ö‰∏™Êé•Âè£ÔºåÂêåÊó∂Êé•Âè£‰∏≠ÊúâÁõ∏ÂêåÊñπÊ≥ïÁöÑÂ£∞ÊòéÔºåÂ∞±‰ºöÂá∫Áé∞Ë¶ÜÁõñÂÜ≤Á™ÅÔºå‰ΩøÁî®ÂÆòÁΩëÁöÑ‰∏Ä‰∏™‰æãÂ≠êÊù•ËØ¥Êòé‰∏Ä‰∏ãË¶ÜÁõñÂÜ≤Á™ÅÁöÑËß£ÂÜ≥„ÄÇÂçïÁªßÊâøÊó∂Ëá™ÁÑ∂Ë¶ÅÂÆûÁé∞Êé•Âè£‰∏≠ÊâÄÊúâÊäΩË±°ÊñπÊ≥ïÔºåÂΩìÂÆûÁé∞Â§ö‰∏™Êé•Âè£Êó∂ÔºåÂ¶ÇÊûúÂÆûÁé∞ÁöÑÊé•Âè£‰∏≠ÂÖ∑ÊúâÂêåÂêçÁöÑÊäΩË±°ÊñπÊ≥ïÔºåÂç≥‰ΩøÂú®Êé•Âè£‰∏≠ÂØπËØ•ÊñπÊ≥ïÈÉΩÂ∑≤ÁªèÊúâ‰∫ÜÂÆûÁé∞ÔºåÈÇ£‰πàÂú®Â≠êÁ±ª‰∏≠‰πüÂøÖÈ°ªÂÆûÁé∞ËØ•ÊñπÊ≥ïÔºåÂπ∂‰ΩøÁî®super&lt;Êé•Âè£ÂêçÁß∞&gt;.ÊñπÊ≥ïÂêçÔºåÂ¶Ç‰∏ãÈù¢ÁöÑ super&lt;A&gt;.bar() Êù•Âú®Â≠êÁ±ª‰∏≠ÊòæÂºèÁöÑÂ£∞ÊòéÂà∞Â∫ïÊòØÁªßÊâøÂì™‰∏Ä‰∏™ÂÆûÁé∞„ÄÇ 123456789101112131415161718192021222324252627interface A &#123; fun foo() &#123; print("A") &#125; fun bar()&#125;interface B &#123; fun foo() &#123; print("B") &#125; fun bar() &#123; print("bar") &#125;&#125;class C : A &#123; override fun bar() &#123; print("bar") &#125;&#125;class D : A, B &#123; // ÈáçÂêçÂáΩÊï∞ÂøÖÈ°ªÂÆûÁé∞ÔºåÂç≥‰ΩøÁªßÊâøÁöÑÊé•Âè£‰∏≠Â∑≤ÁªèÊúâ‰∫ÜÂÖ∑‰ΩìÂÆûÁé∞ override fun foo() &#123; super&lt;A&gt;.foo() super&lt;B&gt;.foo() &#125; override fun bar() &#123; super&lt;B&gt;.bar() // Áî±‰∫é A ‰∏≠ÂØπ bar Ê≤°ÊúâÂÆûÁé∞ÔºåÂèØ‰ª•Â¶Ç‰∏ãÁÆÄÂÜô // super.bar() &#125;&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-3-Â±ûÊÄß‰∏éÂüü]]></title>
    <url>%2Farticle%2F12ba0671%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªç Kotlin Â±ûÊÄßÂíåÂüüÁöÑÁõ∏ÂÖ≥ÂÜÖÂÆπ„ÄÇ Kotlin ‰∏≠Ôºå‰ΩøÁî® val Â£∞ÊòéÂ∏∏Èáè(‰∏çÂèØÂèò)Ôºå‰ΩøÁî® var Â£∞ÊòéÂèòÈáè(ÂèØÂèò)„ÄÇ 12345public val a = 100 // Â∏∏ÈáèÔºå‰∏çÂèØÂèòÔºåÂΩì‰Ω†ÂÜçÊÉ≥ÊîπÂèò‰ªñÁöÑÂÄºÊó∂‰ºöÊä•Èîôprivate var b = 1000 // ÂèòÈáèÔºåÂèØÂèòb = -100val c:Int? = null Â±ûÊÄßÁöÑÂ£∞ÊòéÂ£∞ÊòéÂ±ûÊÄßÁöÑÂÆåÊï¥ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºåÂÖ∂‰∏≠ÁöÑÂàùÂßãÂåñÂô®(initializer)Ôºå ÂèñÂÄºÊñπÊ≥ï(getter)Ôºå ‰ª•ÂèäËÆæÂÄºÊñπÊ≥ï(setter)ÈÉΩÊòØÂèØÈÄâÁöÑ„ÄÇKotlin ÂÖ∑ÊúâÁ±ªÂûãËá™Âä®Êé®Êñ≠ÂæóÁâπÊÄßÔºåÂ¶ÇÊûúÂ±ûÊÄßÁ±ªÂûãÂèØ‰ª•ÈÄöËøáÂàùÂßãÂåñÂô®Ëá™Âä®Êé®Êñ≠ÂæóÂà∞Ôºå ÊàñËÄÖÂèØ‰ª•ÈÄöËøáËøô‰∏™Â±ûÊÄßË¶ÜÁõñÁöÑÂü∫Á±ªÊàêÂëòÂ±ûÊÄßÊé®Êñ≠ÂæóÂà∞Ôºå ÂàôÂ±ûÊÄßÁ±ªÂûãÁöÑÂ£∞Êòé‰πüÂèØ‰ª•ÁúÅÁï•„ÄÇ Ê†áÂáÜÁöÑÂàùÂßãÂåñÊñπÊ≥ïÔºåÈúÄË¶ÅÊ∏ÖÊ•öÂÖ∂‰∏≠Âá†‰∏™Ê¶ÇÂøµ propertyName ÔºöÂèòÈáèÂêç PropertyType ÔºöÂèòÈáèÁ±ªÂûãÔºåÂ¶ÇÊûúÂèØ‰ª•Êé®Êñ≠ÂæóÂà∞ÔºåÂèØ‰ª•ÁúÅÁï• property_initializer ÔºöÂàùÂßãÂåñÂô®ÔºåÂÆÉÂèØ‰ª•ÊòØ‰∏Ä‰∏™Âõ∫ÂÆöÂÄºÊàñ‰∏Ä‰∏™Ë°®ËææÂºè getter ÔºöÂèñÂÄºÊñπÊ≥ïÔºåËÆøÈóÆÂô®ÁöÑ‰∏ÄÁßç setter ÔºöËÆæÂÄºÊñπÊ≥ïÔºåËÆøÈóÆÂô®ÁöÑ‰∏ÄÁßç 123var &lt;propertyName&gt;: &lt;PropertyType&gt; [= &lt;property_initializer&gt;] [&lt;getter&gt;] [&lt;setter&gt;] Ê≥®ÊÑèÔºåÂ¶Ç‰∏ãÊ≥®Èáä 1 Â§ÑÔºåÂØπ‰∫é var ÂèòÈáèÊù•ËØ¥ÔºåÂàùÂßãÂåñÂô®ÔºåËÆæÂÄºÔºåÂèñÂÄºÊñπÊ≥ïÈÉΩÊòØÂÖÅËÆ∏ÂêåÊó∂Â≠òÂú®ÁöÑÔºõÂ¶Ç‰∏ãÊ≥®Èáä 2 Â§ÑÔºåÂØπ‰∫é val ÂèòÈáèÊù•ËØ¥Ôºå‰∏çÂÖÅËÆ∏ÊúâËÆæÂÄºÊñπÊ≥ïÔºåÂêåÊó∂ getter ÊñπÊ≥ïÂíå ÂàùÂßãÂåñÂô® ‰∏çÂÖÅËÆ∏ÂêåÊó∂ÊåáÂÆöÔºåÂõ†‰∏∫Âè™ËØªÂèòÈáèÂè™ÂÖÅËÆ∏ÂàùÂßãÂåñ‰∏ÄÊ¨°„ÄÇ ‰ΩøÁî® Ê≥®Ëß£ Âíå ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶ÔºåÂ¶Ç‰∏ãÊ≥®Èáä 3 Â§ÑÔºåÔºåÂ¶ÇÊûú‰∏çÊÉ≥Âú®Â§ñÁïåËÆøÈóÆÂ±ûÊÄßÁöÑ setÔºèget ÊñπÊ≥ïÔºåÂèØ‰ª•‰ΩøÁî®ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶Êù•ÈÅøÂÖçÂ§ñÈÉ®ËÆøÈóÆ„ÄÇÂêåÊ†∑‰πüÂèØ‰ª•Âú® setÔºèget ÊñπÊ≥ïÂâç‰ΩøÁî®Ê≥®Ëß£„ÄÇ 1234567891011121314151617181920212223242526open class ClsA &#123; // 1 var x: Int = 100 get() = 100 set(value) &#123; field = value &#125; // 2. ‰∏çÂÖÅËÆ∏ÊúâËÆæÂÄºÊñπÊ≥ïÔºåÂêåÊó∂getÊñπÊ≥ïÂíåÂàùÂßãÂåñÂô®‰∏çÂÖÅËÆ∏ÂêåÊó∂ÊåáÂÆöÔºåÂõ†‰∏∫Âè™ËØªÂèòÈáèÂè™ÂÖÅËÆ∏ÂàùÂßãÂåñ‰∏ÄÊ¨° val y: Int get() = 100 // ËøôÊòØ‰∏çÂÖÅËÆ∏ÁöÑÔºåÂõ†‰∏∫valÂè™ËØªÁöÑ // set(value) &#123; // field = value // &#125; // 3. Âú®set/getÊñπÊ≥ïÂâç‰ΩøÁî®ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶ÂíåÊ≥®Ëß£ var z: Int = 100 @Inject get private set&#125;eg:val param:ClsA = ClsA()// ÁºñËØëÈîôËØØÔºåÂõ†‰∏∫‰∏çÂÖÅËÆ∏ËÆøÈóÆzÁöÑËÆæÂÄºÊñπÊ≥ïparam.z = 100 Backing FieldsKotlin Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Â±ûÊÄßÂêçÁß∞ÂØπÁ±ªÁöÑÂ±ûÊÄßËøõË°åËÆøÈóÆÔºå‰ΩÜÊòØÂÆûÈôÖ‰∏äÊàë‰ª¨Âπ∂Ê≤°ÊúâÁõ¥Êé•ËÆøÈóÆËØ•Â±ûÊÄßÁöÑÂºïÁî®ÔºåËÄåÊòØÂú®ÁºñËØëÊó∂Ë¢´ËΩ¨Êç¢Êàê‰∫Ü getter/setter ÊñπÊ≥ïÊù•ËøõË°åËÆøÈóÆÔºåÂ¶ÇÊ≥®Èáä‰∏≠ 1 Â§Ñ‰ª£Á†ÅÔºåËøôÊ†∑Êàë‰ª¨Êó¢ÂèØ‰ª•ÁÆÄÂåñ‰ª£Á†ÅÔºåÂèà‰øùÊåÅ‰∫ÜÁ±ªÁöÑÂ∞ÅÈó≠ÊÄß„ÄÇ Kotlin ÁöÑÁ±ª‰∏≠‰∏çÂÖÅËÆ∏Êã•ÊúâÂüü(Field)Ôºå‰πüÂ∞±ÊòØËØ¥‰Ω†Âú®Á±ªÂÜÖÈÉ®‰πüÊó†Ê≥ïÁõ¥Êé•‰ΩøÁî®Â±ûÊÄßÁöÑÂêçÁß∞ÂØπÂ±ûÊÄßËøõË°åËÆøÈóÆÔºåËÄåÊòØÈÉΩ‰ºöËΩ¨Êç¢‰∏∫ getter/getter ÊñπÊ≥ï„ÄÇÂõ†Ê≠§ÂΩì‰Ω†Âú® set ÊñπÊ≥ï‰∏≠Ë∞ÉÁî®ËØ•Â±ûÊÄß‰∏∫‰ªñËµãÂÄºÊó∂Âèà‰ºöË∞ÉÁî® set ÊñπÊ≥ïÔºåÂØºËá¥ Â†ÜÊ†àÊ∫¢Âá∫ÔºåÂ¶ÇÂÆû‰æã‰∏≠ 2ÔºåËøôÊòØÊàëÂú®ÂºÄÂßãÂÜôÁöÑÊó∂ÂÄôÈÅáÂà∞ÁöÑÈóÆÈ¢ò„ÄÇ 12345678910// 1 ‰º™‰ª£Á†ÅClsA().x = 100 Áõ∏ÂΩì‰∫é ClsA().setX(100)val a = ClsA.x Áõ∏ÂΩì‰∫é val a = ClsA().getX()// 2var xx: Int = 100 set(value) &#123; // ÂÜçÊ¨°Ë∞ÉÁî® set ÊñπÊ≥ï xx = value + 1 &#125; ‰ΩÜÊòØËá™ÂÆö‰πâÂ±ûÊÄßÁöÑËÆøÈóÆÂô®Êó∂‰∏çÂèØÈÅøÂÖçÁöÑË¶Å‰ΩøÁî® ÂüüÂèòÈáèÔºåÂõ†Ê≠§ Kotlin Êèê‰æõ‰∫Ü Backing Fields ÁöÑÁâπÊÄßÔºå‰ΩøÁî®ÂÖ≥ÈîÆÂ≠ó field Ë°®Á§∫Ôºåfield Ê†áËØÜÁ¨¶Âè™ÂÖÅËÆ∏Âú®Â±ûÊÄßÁöÑËÆøÈóÆÂô®ÂáΩÊï∞ÂÜÖ‰ΩøÁî®ÔºåÂ¶Ç‰∏ã‰ª£Á†Å‰∏≠Ôºå‰ΩøÁî® field Âç≥ÂèØÁúüÂÆûÁöÑËÆøÈóÆ(‰∏çÁªèËøágetter/setter) ÂèòÈáè xxÔºåÂÆåÊàêËµãÂÄºÊìç‰Ωú„ÄÇ 12345var xx: Int = 100 get() = field++ set(value) &#123; field = value - 1 &#125; Backing PropertyÊúâÊó∂ÈöêÂê´ÁöÑÂêéÁ´ØÂüüÂ±ûÊÄß‰∏çË∂≥‰ª•Ëß£ÂÜ≥Êüê‰∫õÊÉÖÂÜµÁöÑÈóÆÈ¢òÔºåÊ≠§Êó∂ÂèØ‰ª•‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑ Backing Property„ÄÇÂ¶Ç‰∏ãÂÆû‰æã‰∏≠ÔºåBacking Property Â∞±ÊòØÂè¶Â§ñÂÆö‰πâ‰∏Ä‰∏™Â±ûÊÄß _yy Áî®Êù•Â≠òÂÇ®Êï∞ÊçÆÔºåËÄåÂ§ñÁïåËÆøÈóÆÁöÑÂ±ûÊÄß yy Âè™ÊòØÊèê‰æõ‰∫Ü‰∏Ä‰∏™ËÆøÈóÆÂô®ÊñπÊ≥ïËÄåÂ∑≤ÔºåÊú¨Ë∫´Â∑≤Áªè‰∏çÂÖ∑Â§á‰ªÄ‰πàÊÑè‰πâÂï¶ÔºåÂ∞ÜËÆøÈóÆÂô®ÁöÑÂ£∞ÊòéÂíåÊï∞ÊçÆÁöÑÂ≠òÂÇ®ÊîæÂú®‰∏§‰∏™Âú∞ÊñπÔºåÂ∞±‰∏ç‰ºöÂèëÁîü‰πãÂâçÁöÑÂÜ≤Á™ÅÔºàÊàëÁöÑÁêÜËß£üòäÔºâ 12345678910111213141516private var _yy: String? = nullvar yy: String get() &#123; if (_yy == null) &#123; _yy = "init str" &#125; return _yy ?: "be changed" &#125; set(value) &#123; _yy = "this is $value" &#125; // ËÆøÈóÆyyval param: ClsA = ClsA()param.yy ÁºñËØëÊúüÂ∏∏Êï∞Â¶ÇÊûúÂ±ûÊÄßÂÄºÂú®ÁºñËØëÊúüÈó¥Â∞±ËÉΩÁ°ÆÂÆö, ÂàôÂèØ‰ª•‰ΩøÁî® const ‰øÆÈ•∞Á¨¶, Â∞ÜÂ±ûÊÄßÊ†áËÆ∞‰∏∫ ÁºñËØëÊúüÂ∏∏Êï∞ÂÄº(compile time constants)„ÄÇ ËøôÁ±ªÂ±ûÊÄßÂøÖÈ°ªÊª°Ë∂≥‰ª•‰∏ãÊâÄÊúâÊù°‰ª∂: ÂøÖÈ°ªÊòØÈ°∂Á∫ßÂ±ûÊÄßÔºå ÊàñËÄÖÊòØ‰∏Ä‰∏™ object ÁöÑÊàêÂëò„ÄÇ ÂÄºË¢´ÂàùÂßãÂåñ‰∏∫ String Á±ªÂûã, ÊàñÂü∫Êú¨Á±ªÂûã(primitive type)„ÄÇ ‰∏çÂ≠òÂú®Ëá™ÂÆö‰πâÁöÑÂèñÂÄºÊñπÊ≥ï„ÄÇ 1234567// È°∂Á∫ßÂ±ûÊÄßconst val TEST_CONST = "TEST_CONST"// Â£∞ÊòéÂú® object ‰∏≠object Const&#123; const val TEST_CONST_IN_OBJ = "TEST_CONST_IN_OBJ"&#125; Â±ûÊÄßÂàùÂßãÂåñ - Âª∂Ëøü(lateinit)lateinit ÂÖ≥ÈîÆÂ≠óË°®Á§∫ÂΩìÂâç ÂèòÈáè ‰∏ç‰ºöÂú®Â£∞ÊòéÊó∂ËøõË°åÂàùÂßãÂåñÊìç‰ΩúÔºåÂàùÂßãÂåñÊìç‰Ωú‰ºöÂú®ÂêéÈù¢ËøõË°åÔºåÂÉèÊòØ‰∏ÄÁßçÂçèËÆÆÊú∫Âà∂ÔºåÂëäÁü•ÁºñËØëÂô®Êàë‰ºöÂú®ÂêéÈù¢‰ΩøÁî®ËØ•ÂèòÈáè‰πãÂâçÁöÑÊÅ∞ÂΩìÊó∂Êú∫ÂàùÂßãÂåñËØ•ÂèòÈáèÔºå‰∏çË¶ÅËøõË°åË≠¶Âëä‚ö†Ô∏è„ÄÇÂú®‰∏Ä‰∏™ lateinit Â±ûÊÄßË¢´ÂàùÂßãÂåñ‰πãÂâçËÆøÈóÆÂÆÉÔºå ‰ºöÊäõÂá∫‰∏Ä‰∏™ÁâπÂà´ÁöÑÂºÇÂ∏∏ÔºåËøô‰∏™ÂºÇÂ∏∏Â∞Ü‰ºöÊåáÊòéË¢´ËÆøÈóÆÁöÑÂ±ûÊÄßÔºå‰ª•ÂèäÂÆÉÊ≤°ÊúâË¢´ÂàùÂßãÂåñËøô‰∏ÄÈîôËØØ„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ‰ΩøÁî® lateinit ÂÖ≥ÈîÆÂ≠óÊúâÂæàÂ§öÈôêÂà∂: ÂøÖÈ°ªÊòØÂèòÈáèÔºåÂç≥‰ΩøÁî® var ÂÖ≥ÈîÆÂ≠óËøõË°åÂ£∞Êòé„ÄÇ ‰∏çËÉΩ‰øÆÈ•∞ÂèØ‰∏∫ null ÁöÑÁ±ªÂûãÔºåÊØîÂ¶Ç lateinit var str:String? ÊòØÁºñËØë‰∏çÈÄöËøáÁöÑ„ÄÇ ‰∏çËÉΩ‰øÆÈ•∞Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûã„ÄÇ‰æãÂ¶Ç Int,FloatÁ≠â 123lateinit var stuLateInit:StudentstuLateInit = Student("name",11) Â±ûÊÄßÂª∂ËøüÂàùÂßãÂåñ - ‰ª£ÁêÜ(by lazy)by lazy ÊòØÂ±ûÊÄß‰ª£ÁêÜÁöÑÂü∫Êú¨ËøêÁî®ÔºåÊòØÁªèËøáÁÆÄÂåñÂêéÁöÑÂ±ûÊÄß‰ª£ÁêÜÔºå‰ªñ‰∏∫Â±ûÊÄßÊèê‰æõÂàùÂßãÂåñÊñπÊ≥ï„ÄÇËøôÈáå‰∏çÊâ©Â±ïÂ±ûÊÄß‰ª£ÁêÜÁöÑÁõ∏ÂÖ≥ÈóÆÈ¢ò„ÄÇ Âõ†‰∏∫‰ªñÂè™Êèê‰æõÂèñÂÄºÊñπÊ≥ïÊâÄ‰ª•‰ªÖÂèØ‰ª•Áî®Âú®Â∏∏ÈáèÁöÑÂàùÂßãÂåñ‰∏≠Ôºå‰ΩøÁî® by lazy ÂΩìÂ±ûÊÄßË¢´Á¨¨‰∏ÄÊ¨°ËÆøÈóÆÊó∂ÔºåÂ∞±‰ºöËß¶ÂèëÂàùÂßãÂåñÊµÅÁ®ã„ÄÇ Âè™ÊúâÂ∏∏ÈáèÔºå‰πüÂ∞±ÊòØ‰ΩøÁî® valÊâçËÉΩ‰ΩøÁî® by lazy Âª∂ËøüÂàùÂßãÂåñ 1234567891011val stuByLazy:Student by lazy &#123; Student("name",11)&#125;val mMyMsgTv:TextView by lazy &#123; findViewById(R.id.mTestTv) as TextView&#125;// ÂΩìÂ∏∏ÈáèË¢´‰ΩøÁî®Êó∂ÊâçËøõË°åÂàùÂßãÂåñlogError(stuByLazy.myCls)mMyMsgTv.text="ÊñáÊú¨"]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-2-Âü∫Á°Ä-ÊéßÂà∂ÊµÅ]]></title>
    <url>%2Farticle%2F57e86c00%2F</url>
    <content type="text"><![CDATA[Êú¨ÁØá‰∏ªË¶Å‰ªãÁªç Kotlin ‰∏≠ ÊéßÂà∂ÊµÅÁöÑ‰ΩøÁî®Ôºåif , when , for , while Á≠âÂÖ≥ÈîÆÂ≠óÂú® Kotlin ‰∏≠ÁöÑÊñ∞ÁâπÊÄß„ÄÇ Â¶Ç‰ΩïÂú®ÂáΩÊï∞‰∏≠ËøîÂõûÂíåË∑≥ËΩ¨Ôºåreturn , continue , break Á≠âÂÖ≥ÈîÆÂ≠óÁöÑ‰ΩøÁî®„ÄÇ if Âà§Êñ≠ÁªìÊûÑ123456789101112131415var a = 0if (a == 0) a = 100if (a == 0) a = 100 else a = 1000// ‰Ωú‰∏∫Ë°®ËææÂºèÊó∂ÂøÖÈ°ªÊúâelseÂàÜÊîØval rst1 = if (a == 0) 100 else 1000// ÂÖ∑ÊúâÂ§öË°åËØ≠Âè•ÂøÖÈ°ª‰ΩøÁî®&#123;&#125;val rst2 = if (a == 0) &#123; logError(100) 100&#125; else &#123; logError(1000) 1000&#125; when ÂàÜÊîØÁªìÊûÑKotlin ‰ΩøÁî® when ÂÖ≥ÈîÆÂ≠óÂÆûÁé∞ÂàÜÊîØÁªìÊûÑ„ÄÇ ÂΩì when ‰Ωú‰∏∫Ë°®ËææÂºèÂá∫Áé∞Êó∂ÔºåÂøÖÈ°ªÂÖ∑Êúâ else ÂàÜÊîØÔºåÈô§Èùû‰Ω†ÁöÑÂàÜÊîØÂ∑≤ÁªèÂåÖÂê´‰∫ÜÊâÄÊúâÁöÑÊÉÖÂÜµÔºåËøôÊòØÂõ†‰∏∫‰Ωú‰∏∫Ë°®ËææÂºèÊó∂‰ªñÂøÖÈ°ªÊúâ‰∏Ä‰∏™ËøîÂõûÂÄºÔºåËÄå else ÂàÜÊîØÂ∞Ü‰ºöÂú®ÊâÄÊúâÊù°‰ª∂ÈÉΩ‰∏çÊª°Ë∂≥Êó∂ÊâßË°å„ÄÇ when ‰Ωú‰∏∫Ë°®ËææÂºè 12345678910111213fun testFun3(param: Int): Int = when (param) &#123; // ‰∏ÄËà¨Áî®Ê≥ï 0 -&gt; 0 // ‰ΩøÁî® in Êìç‰ΩúÁ¨¶ÂåπÈÖçËåÉÂõ¥ in 1..5 -&gt; 1 !in 100..105 -&gt; -1 // ‰ΩøÁî®Â§ö‰∏™ÂåπÈÖç 5, 6, 7 -&gt; 2 // Á±ªÂûãÂà§Êñ≠ is Int -&gt; 3 // ‰Ωú‰∏∫Ë°®ËææÂºèÂøÖÈ°ªÊúâelseÂàÜÊîØ else -&gt; 100&#125; Âú®ÂáΩÊï∞‰∏≠‰ΩøÁî® when 12345678// ‰Ωú‰∏∫ÂáΩÊï∞Êó∂‰∏çÈúÄË¶ÅÂøÖÈ°ªÊúâ else ÂàÜÊîØfun testFun5() &#123; val param: Any? = 100 when (param) &#123; // Ëá™Âä®ÁöÑÁ±ªÂûãÊé®Êñ≠ÔºåÊ≠§Êó∂param ÊòØ String Á±ªÂûã is String -&gt; param.startsWith("") &#125;&#125; for Âæ™ÁéØÁªìÊûÑ‰ªª‰ΩïÂÄº, Âè™Ë¶ÅËÉΩÂ§ü‰∫ßÁîü‰∏Ä‰∏™Ëø≠‰ª£Âô®( iterator), Â∞±ÂèØ‰ª•‰ΩøÁî® for Âæ™ÁéØËøõË°åÈÅçÂéÜ„ÄÇ ËÉΩÂ§ü‰∫ßÁîü‰∏Ä‰∏™Ëø≠‰ª£Âô®ÊòØÊåáÔºö Â≠òÂú®‰∏Ä‰∏™ÊàêÂëòÂáΩÊï∞- ÊàñÊâ©Â±ïÂáΩÊï∞ iterator(), ÂÆÉÁöÑËøîÂõûÁ±ªÂûãÂ∫îËØ• Â≠òÂú®‰∏Ä‰∏™ÊàêÂëòÂáΩÊï∞- ÊàñÊâ©Â±ïÂáΩÊï∞ next(), Âπ∂‰∏î Â≠òÂú®‰∏Ä‰∏™ÊàêÂëòÂáΩÊï∞- ÊàñÊâ©Â±ïÂáΩÊï∞ hasNext(), ÂÆÉÁöÑËøîÂõûÁ±ªÂûã‰∏∫ Boolean Á±ªÂûã„ÄÇ ÈÅçÂéÜÊï∞ÁªÑÂíå List 12345678910111213141516171819202122232425262728// ÈÅçÂéÜ‰∏¥Êó∂Êï∞ÁªÑfor (item in (1..4)) &#123; logError(item)&#125;// ÈÅçÂéÜlistval lists = mutableListOf(1, 2, 4)// ÈÅçÂéÜitemfor (item in lists) &#123; logError(item)&#125;// ‰ΩøÁî®‰∏ãÊ†áÈÅçÂéÜfor (i in lists.indices) &#123; logError(lists.get(i))&#125;// Ëé∑Âèñ‰∏ãÊ†áÂíåÂÄºfor((i,item) in lists.withIndex())&#123; logError("$i = $item")&#125;// ÈÅçÂéÜÊï∞ÁªÑ‰πüÊòØ‰∏ÄÊ†∑ÁöÑval arrays = arrayOf(1,2,3)for (item in arrays)&#123; logError(item)&#125;for (i in arrays.indices)&#123; logError(arrays[i])&#125; ÈÅçÂéÜ map 12345// ÈÅçÂéÜmapval maps = mapOf(Pair("a", "b"), Pair("a1", "b1"))for ((key, value) in maps) &#123; logError("map($key-&gt;$value)")&#125; ÈÅçÂéÜÂ≠óÁ¨¶‰∏≤ 12345// ÈÅçÂéÜÂ≠óÁ¨¶‰∏≤val str = "test"for (s in str)&#123; logError("$s in str")&#125; while Âæ™ÁéØÁªìÊûÑÁî®Ê≥ï‰∏éÂÖ∂‰ªñËØ≠Ë®ÄÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ 12345678910var a = 0while (a &gt; 100) &#123; logError("a is $a") a++&#125;do &#123; logError("a is $a") a++&#125; while (a &gt; 100) ËøîÂõû‰∏éË∑≥ËΩ¨Kotlin ‰∏≠Êúâ‰∏âÁßçÊ†áÁ≠æÂèØ‰ª•Ë∑≥Âá∫Á®ãÂ∫èÊµÅÁ®ã return. ÈªòËÆ§Ë°å‰∏∫ÊòØ, ‰ªéÊúÄÂÜÖÂ±ÇÁöÑÂáΩÊï∞Êàñ ÂåøÂêçÂáΩÊï∞ ‰∏≠ËøîÂõû„ÄÇbreak. ÁªìÊùüÊúÄÂÜÖÂ±ÇÁöÑÂæ™ÁéØ„ÄÇcontinue. Âú®ÊúÄÂÜÖÂ±ÇÁöÑÂæ™ÁéØ‰∏≠, Ë∑≥ËΩ¨Âà∞‰∏ã‰∏ÄÊ¨°Âæ™ÁéØ„ÄÇ Kotlin ‰∏≠ÁöÑ‰ªª‰ΩïË°®ËææÂºèÈÉΩÂèØ‰ª•Áî® label Ê†áÁ≠æÊù•Ê†áËÆ∞„ÄÇÊ†áÁ≠æÁöÑÂΩ¢Âºè‰∏éÊ†áËØÜÁ¨¶Áõ∏Âêå, ÂêéÈù¢ÈôÑÂä†‰∏Ä‰∏™ @ Á¨¶Âè∑,Â¶Ç loopOut@,‰ΩøÁî®Ê†áÁ≠æÊ†áËÆ∞‰ΩçÁΩÆÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®Á®ãÂ∫èË∑≥Âá∫Êìç‰ΩúÁ¨¶Ë∑≥Âá∫ÊåáÂÆö‰ΩçÁΩÆÔºåÂ¶Ç break@loopOut,continue@loopOut,return@loopOut„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ‰∏≠Èó¥‰∏çÈúÄË¶ÅÊúâÁ©∫Ê†ºÔºå‰ªñ‰ª¨ÊòØ‰∏Ä‰ΩìÁöÑ„ÄÇÂ¶ÇÊûúÊúâÊ†áÁ≠æÁöÑÂêåÊó∂ÂèàÊúâËøîÂõûÂÄºÔºå‰ΩøÁî® return@loopOut 100 ËøôÊ†∑ÁöÑÂΩ¢ÂºèÔºåÊÑè‰∏∫Ë∑≥Âá∫Âà∞ loopOut Ê†áÁ≠æ‰ΩçÁΩÆÔºåËøîÂõûÂÄºÊòØ 100 „ÄÇ 12345678910111213fun testFun6() &#123; loopOut@ for (i in 1..10) &#123; loopIn@ for (j in 10..100) &#123; if (i * j == 100) break@loopOut if (i * j &lt; 10) continue@loopIn if (i * j == 101) break@loopIn logError("result = $&#123;i * j&#125;") &#125; &#125;&#125; Âú® Kotlin ‰∏≠, ÈÄöËøá‰ΩøÁî®Â≠óÈù¢ÂÄºÂáΩÊï∞(function literal), Â±ÄÈÉ®ÂáΩÊï∞(local function), ‰ª•ÂèäÂØπË±°Ë°®ËææÂºè(object expression), ÂÖÅËÆ∏ÂÆûÁé∞ÂáΩÊï∞ÁöÑÂµåÂ•ó„ÄÇÈÄöËøáÊ†áÁ≠æÈôêÂÆöÁöÑ return ËØ≠Âè•, ÂèØ‰ª•‰ªé‰∏Ä‰∏™Â§ñÂ±ÇÂáΩÊï∞‰∏≠ËøîÂõû. ÊúÄÈáçË¶ÅÁöÑ‰ΩøÁî®Âú∫ÊôØÊòØ‰ªé Lambda Ë°®ËææÂºè‰∏≠ËøîÂõû„ÄÇ Â¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÈªòËÆ§‰ºö‰ªéÂáΩÊï∞ testFun61() ‰∏≠ËøîÂõûÔºåËøîÂõûÂÄº‰∏∫9ÔºåËÄå‰∏î‰Ω†ÂÜô return ËØ≠Âè•Êó∂ÔºåÁºñËØëÂô®‰ºöÊèêÁ§∫‰Ω†ÂøÖÈ°ªËøîÂõû‰∏Ä‰∏™ Int Á±ªÂûã„ÄÇËøôÁßçÈùûÂ±ÄÈÉ®ÁöÑËøîÂõû(non-local return), ‰ªÖÂØπ‰º†ÈÄíÁªô ÂÜÖËÅîÂáΩÊï∞(inline function) ÁöÑ Lambda Ë°®ËææÂºèÊúâÊïà„ÄÇ 123456789// ÂáΩÊï∞‰ºöËøîÂõû 9fun testFun61(): Int &#123; val arrays = Array(10, &#123; i -&gt; i * i &#125;) arrays.forEach &#123; if (it == 9) return it &#125; return 0&#125; Â¶ÇÊûúÈúÄË¶Å‰ªéÂÜÖÈÉ® Lambda Ë°®ËææÂºèË∑≥Âá∫ËÄå‰∏çÊòØ‰ªéÂáΩÊï∞‰∏≠ËøîÂõûÔºåÂèØ‰ª•‰ΩøÁî®Ê†áÁ≠æÊåáÂÆöË∑≥Âá∫ÁõÆÊ†á„ÄÇ‰ΩøÁî®ÈöêÂê´Ê†áÁ≠æ‰ºöÊõ¥Êñπ‰æø‰∏Ä‰∫õ, ÈöêÂê´Ê†áÁ≠æÁöÑÂêçÁß∞‰∏é Lambda Ë°®ËææÂºèË¢´‰º†ÈÄíÂéªÁöÑÂáΩÊï∞ÂêçÁß∞Áõ∏Âêå„ÄÇÂ¶Ç‰∏ãÈù¢ÁöÑÈöêÂê´Ê†áÁ≠æ‰∏∫ forEach@„ÄÇ 12345678910111213141516171819// Ê≠§Êó∂ËøîÂõû 0fun testFun62():Int&#123; val arrays = Array(10, &#123; i -&gt; i * i &#125;) arrays.forEach signal@&#123; if (it == 9) return@signal &#125; return 0&#125;// ‰ΩøÁî®ÈöêÂê´Ê†áÁ≠æfun testFun63():Int&#123; val arrays = Array(10, &#123; i -&gt; i * i &#125;) arrays.forEach &#123; if (it == 9) return@forEach &#125; return 0&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-2-Âü∫Á°Ä-Êï∞ÊçÆÁ±ªÂûã]]></title>
    <url>%2Farticle%2F6eea2c65%2F</url>
    <content type="text"><![CDATA[Êú¨ÁØá‰ªãÁªç Kotlin ÁöÑÂÜÖÂª∫Êï∞ÊçÆÁ±ªÂûãÔºåÂåÖÊã¨Êï∞ÂÄºÁ±ªÂûãÔºåÂ≠óÁ¨¶Á±ªÂûãÔºåÂ∏ÉÂ∞îÁ±ªÂûãÔºåÊï∞ÁªÑÁ±ªÂûãÔºåÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁ≠â„ÄÇ Âêå‰∏ÄÊÄß Âíå Áõ∏Á≠âÊÄßÂêå‰∏ÄÊÄßÔºöÂØπË±°ÁöÑÂú∞ÂùÄÔºåÊï∞ÊçÆÁ±ªÂûãÔºåÂÜÖÂÆπÈÉΩÁõ∏ÂêåÔºåÂú® Kotlin ‰∏≠‰ΩøÁî® === ËøêÁÆóÁ¨¶ËøõË°åÊØîËæÉÔºåÂÆÉÁõ∏ÂΩì‰∫é Java ‰∏≠ÁöÑ == ËøêÁÆóÁ¨¶Ôºå‰ªñË¶ÅÊ±ÇÂØπË±°ÊòØÂÆåÂÖ®Áõ∏ÂêåÁöÑÂØπË±°ÔºåÂç≥ÊåáÂêëÂêå‰∏ÄÂú∞ÂùÄ„ÄÇ Áõ∏Á≠âÊÄßÔºöÂÜÖÂÆπÁõ∏Á≠âÔºåÂú® Kotlin ‰∏≠‰ΩøÁî® == ËøêÁÆóÊ≥ïËøõË°åÊØîËæÉÔºåÁõ∏ÂΩì‰∫é Java ‰∏≠ÁöÑ equals() ÊñπÊ≥ïÔºåËøôÈáåÊ∂âÂèäËá™ÂÆö‰πâËøêÁÆóÁ¨¶ÁöÑ‰∏ÄÁÇπÂÜÖÂÆπÔºå Âú® Kotlin ‰∏≠ÂΩì‰Ω†ÂØπ‰∏Ä‰∏™ÂØπË±°‰ΩøÁî® == ËøêÁÆóÁ¨¶Ôºå‰ºöËá™Âä®Êü•Êâæ equals() ÊñπÊ≥ïËøõË°åË∞ÉÁî®„ÄÇ Êï∞ÂÄºÁ±ªÂûãKotlin Êï∞ÂÄº‰ΩøÁî®ÂÜÖÂª∫ÂØπË±°Ë°®Á§∫ÔºåÊâÄÊúâÊï∞ÂÄºÁ±ªÂûãÁªßÊâøËá™ Number ÊäΩË±°Á±ªÔºåNumber ‰∏≠ÂÆö‰πâ‰∫ÜÊï∞ÂÄºÂú®ÂêÑ‰∏™Á±ªÂûã‰πãÈó¥ËΩ¨Êç¢ÁöÑÊñπÊ≥ï„ÄÇ Long Á±ªÂûãÈúÄË¶ÅÂú®Êï∞Â≠óÊú´Â∞æËøΩÂä† Â§ßÂÜô ÁöÑ L Ë°®Á§∫ÔºåÂ¶Ç 123LÔºõ Float Á±ªÂûãÈúÄË¶ÅÂú®Êï∞Â≠óÊú´Â∞æËøΩÂä† fÔºèF Ë°®Á§∫ÔºåÂ¶Ç 123.5F ËøõÂà∂Ôºö ÈªòËÆ§ÂçÅËøõÂà∂ËÆ°Êï∞ÔºåÂ¶ÇÔºö 123ÔºõÂçÅÂÖ≠ËøõÂà∂‰ª• 0x ÂºÄÂ§¥ÔºåÂ¶Ç 0x1FAÔºõ‰∫åËøõÂà∂‰ª• 0b ÂºÄÂ§¥ÔºåÂ¶Ç 0b001101Ôºõ‰∏çÊîØÊåÅ ÂÖ´ËøõÂà∂Ë°®Á§∫„ÄÇ ÈªòËÆ§Á±ªÂûãÔºö Â∞èÊï∞ÈªòËÆ§ÊòØ Double Á±ªÂûãÔºåÂ¶ÇÊûúÈúÄË¶ÅÊòæÂºèÂ£∞Êòé‰∏∫ FloatÔºåÈúÄË¶ÅÂä† f/F ÂêéÁºÄÔºõÊï¥ÂûãÂ¶ÇÊûúÂú® Int ËåÉÂõ¥ÂÜÖÈªòËÆ§‰∏∫ Int Á±ªÂûãÔºåÈúÄË¶ÅÊòæÂºèÂ£∞Êòé‰∏∫ Long ÈúÄË¶ÅÊ∑ªÂä† L ÂêéÁºÄ„ÄÇ Double (64 bit) ÔºõFloat (32 bit) ÔºõLong (64 bit) ÔºõInt (32 bit) ÔºõShort (16 bit) ÔºõByte (8 bit) Ôºõ Êï∞ÂÄºË£ÖÁÆ±Âú® Kotlin ‰∏≠ÊòØÊ≤°ÊúâÂÉè Java ‰∏≠ÈÇ£Ê†∑ÁöÑÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºå‰ΩÜÊòØÂÜÖÂª∫ÁöÑÊï∞ÂÄºÁ±ªÂûãÂÖ∑ÊúâÂíåÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁõ∏‰ººÁöÑÁâπÊÄßÔºåÂ¶Ç Int Âíå int Âú®ÊØîËæÉÊìç‰Ωú‰∏äÊòØÂÆåÂÖ®‰∏ÄÊ†∑ÁöÑÔºåÂèØ‰ª•ÂÉèÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÈÇ£‰πàÂØπÂæÖ‰ªñ„ÄÇ 123456789val aInt1 = 10val bInt1 = 10Log(aInt1 == bInt1) // trueLog(aInt1 === bInt1) // trueval aInt2 = 129val bInt2 = 129Log(aInt2 == bInt2) // trueLog(aInt2 === bInt2) // true Âú® Java ‰∏≠ÊúâÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂåÖË£ÖÁ±ªÂûãÔºåÂå∫Âà´Âú®‰∫éÂåÖË£ÖÁ±ªÂûãÊòØÂØπË±°ÔºåÂèØ‰ª•‰∏∫ null ÔºåÂú® Kotlin ‰∏≠‰ΩøÁî® Type? Â£∞ÊòéÂèØ‰ª•‰∏∫Á©∫ÁöÑÁ±ªÂûãÔºåÂ¶Ç Int? ÔºåËøôÁßçÁ±ªÂûãÂú®ÊØîËæÉÊìç‰Ωú‰∏äÂíå Java ‰∏≠ÁöÑÂåÖË£ÖÁ±ªÂûãÊòØ‰∏ÄÊ†∑ÁöÑÔºå ÂèØ‰ª•Á±ªÊØîÊù•Áúã„ÄÇ Âíå Java ‰∏ÄÊ†∑Â≠òÂú®ÁùÄÊï∞ÂÄºÂ∏∏ÈáèÊ±†ÁöÑÊ¶ÇÂøµÔºåÂΩìÊï∞ÂÄºÂú® [-128,127] ‰πãÈó¥ÁöÑÊï∞ÂÄº‰ºöÁºìÂ≠òÂú®Â∏∏ÈáèÊ±†‰∏≠ÔºåÂõ†‰∏∫ÂΩìÂÄº‰∏∫ 10 Êó∂ÔºåÊØîËæÉËµ∑Êù•ÊòØÁõ∏Á≠âÁöÑ„ÄÇ 123456789101112131415val aInt3: Int? = 10val bInt3: Int? = 10Log(aInt3 == bInt3) // trueLog(aInt3 === bInt3) // trueval aInt4: Int? = 129val bInt4: Int? = 129Log(aInt4 == bInt4) // trueLog(aInt4 === bInt4) // false val num = 129val aInt5:Int? = numval bInt5:Int? = numLog(aInt5 == bInt5) // trueLog(aInt5 === bInt5) // false Á±ªÂûãËΩ¨Êç¢Âú® Java ‰∏≠ÁöÑÁ±ªÂûãËΩ¨Êç¢Â∑≤ÁªèÁõ∏ÂØπ‰∏•Ê†ºÔºåÂÆÉÂÖÅËÆ∏Â∞Ü‰ΩéÁ≤æÂ∫¶Á±ªÂûãÈöêÂºèËΩ¨Êç¢‰∏∫È´òÁ≤æÂ∫¶Á±ªÂûãÔºå‰ΩÜÊòØÈ´òÁ≤æÂ∫¶Á±ªÂûãËΩ¨Êç¢‰∏∫‰ΩéÁ≤æÂ∫¶Á±ªÂûãÊó∂ÈúÄË¶ÅËøõË°åÂº∫Âà∂ËΩ¨Êç¢Ôºå‰ΩÜÊòØ Kotlin Âú®Á±ªÂûãËΩ¨Êç¢‰∏äÊõ¥Âä†‰∏•Ê†ºÔºå‰ªñ‰∏çÂÖÅËÆ∏ËøõË°å‰ªª‰ΩïÂΩ¢ÂºèÁöÑÈöêÂºèÁ±ªÂûãËΩ¨Êç¢Ôºå‰πüÂ∞±ÊòØËØ¥‰ªª‰ΩïÁöÑÁ±ªÂûãËΩ¨Êç¢‰∏ÄÂÆöÊòØ‰Ω†‰∏ªÂä®ÁöÑÊìç‰ΩúÔºå‰∏çËøá Kotlin ‰ΩøÁî®Êâ©Â±ïÊñπÊ≥ïÊèê‰æõ‰∫Ü‰∏ÄÁßçÁõ∏ÂØπ‰ºòÈõÖÁöÑÊñπÂºè„ÄÇ 123456val bb : Byte = 1val ll:Long = 1// ‰ΩéÁ≤æÂ∫¶ËΩ¨È´òÁ≤æÂ∫¶val ii1:Int = bb.toInt()// È´òÁ≤æÂ∫¶ËΩ¨‰ΩéÁ≤æÂ∫¶val ii2:Int = ll.toInt() Êï∞ÂÄºËøêÁÆóÁ¨¶1234567shl(bits) ‚Äì Â∏¶Á¨¶Âè∑Â∑¶Áßª (Á≠â‰∫é Java ÁöÑ&lt;&lt;)shr(bits) ‚Äì Â∏¶Á¨¶Âè∑Âè≥Áßª (Á≠â‰∫é Java ÁöÑ &gt;&gt;)ushr(bits) ‚Äì Êó†Á¨¶Âè∑Âè≥Áßª (Á≠â‰∫é Java ÁöÑ &gt;&gt;&gt;)and(bits) ‚Äì Êåâ‰Ωç‰∏é(and)or(bits) ‚Äì Êåâ‰ΩçÊàñ(or)xor(bits) ‚Äì Êåâ‰ΩçÂºÇÊàñ(xor)inv() ‚Äì Êåâ‰ΩçÂèñÂèç Â≠óÁ¨¶Á±ªÂûãChar Á±ªÂûã‰∏çÊòØ Number ÁöÑÂ≠êÁ±ªÔºå‰πüÂ∞±ÊòØËØ¥ Char Á±ªÂûãÂπ∂‰∏çÊòØÊï∞ÂÄºÁ±ªÂûã„ÄÇ Char Á±ªÂûã‰ΩøÁî® ÂçïÂºïÂè∑ Â¶Ç &#39;a&#39; Ë°®Á§∫„ÄÇÁâπÊÆäÂ≠óÁ¨¶‰ΩøÁî®ÂèçÊñúÁ∫øËΩ¨‰πâË°®Ëææ„ÄÇKotlinÊîØÊåÅÁöÑËΩ¨‰πâÂ≠óÁ¨¶ÂåÖÊã¨: \t, \b, \n, \r, \&#39;, \&quot;, \\, \$ „ÄÇ ÂÖ∂‰ªñ‰ªª‰ΩïÂ≠óÁ¨¶, ÈÉΩÂèØ‰ª•‰ΩøÁî® Unicode ËΩ¨‰πâË°®ËææÊñπÂºè: &#39;\uFF00&#39;„ÄÇ Char Á±ªÂûã‰πüÂÖ∑Êúâ‰∏ÄÁ≥ªÂàóÁöÑÁ±ªÂûãËΩ¨Êç¢ÊñπÊ≥ïÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî® &#39;0&#39;.toInt() ËøôÊ†∑ÁöÑËØ≠Ê≥ïÂ∞Ü Char Á±ªÂûãËΩ¨Êç¢‰∏∫Êï∞ÂÄºÁ±ªÂûã„ÄÇ ÂèØ‰ª•‰ΩøÁî® Char? Á±ªÂûãÂØπ Char Á±ªÂûãËøõË°åË£ÖÁÆ±Êìç‰ΩúÔºå‰∏éÊï∞ÂÄºÁ±ªÂûã‰∏ÄÊ†∑ÔºåË£ÖÁÆ±Êìç‰Ωú‰∏çËÉΩ‰øùÊåÅÂØπË±°Âêå‰∏ÄÊÄß„ÄÇ Â∏ÉÂ∞îÁ±ªÂûãBoolean Á±ªÂûãÁî®Êù•Ë°®Á§∫Â∏ÉÂ∞îÂÄº, Êúâ‰∏§‰∏™ÂèØËÉΩÁöÑÂÄº: true Âíå false. ÂΩìÈúÄË¶Å‰∏Ä‰∏™ÂèØ‰∏∫ null ÁöÑÂ∏ÉÂ∞îÂÄºÂºïÁî®Êó∂, Â∏ÉÂ∞îÂÄº‰πü‰ºöË¢´Ë£ÖÁÆ±(box). Â∏ÉÂ∞îÂÄºÁöÑËÆ°ÁÆó‰∏é Java Áõ∏Âêå„ÄÇ Êï∞ÁªÑÁ±ªÂûãKotlin ‰∏≠ÁöÑÊï∞ÁªÑÈÄöËøá Array Á±ªË°®Ëææ, Ëøô‰∏™Á±ªÊã•Êúâ get Âíå set ÂáΩÊï∞(Ëøô‰∫õÂáΩÊï∞ÈÄöËøáËøêÁÆóÁ¨¶ÈáçËΩΩËΩ¨Êç¢‰∏∫ [] ËøêÁÆóÁ¨¶), Ê≠§Â§ñËøòÊúâ size Â±ûÊÄß, ‰ª•ÂèäÂÖ∂‰ªñ‰∏Ä‰∫õÊúâÁî®ÁöÑÊàêÂëòÂáΩÊï∞„ÄÇ Kotlin ‰∏≠‰πüÊúâ‰∏ìÈó®ÁöÑÁ±ªÊù•Ë°®ËææÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÊï∞ÁªÑ: ByteArray, ShortArray, IntArray Á≠âÁ≠â, Ëøô‰∫õÊï∞ÁªÑÂèØ‰ª•ÈÅøÂÖçÊï∞ÂÄºÂØπË±°Ë£ÖÁÆ±Â∏¶Êù•ÁöÑÊÄßËÉΩÊçüËÄó„ÄÇËøô‰∫õÁ±ª‰∏é Array Á±ª‰πãÈó¥‰∏çÂ≠òÂú®ÁªßÊâøÂÖ≥Á≥ª, ‰ΩÜÂÆÉ‰ª¨ÁöÑÊñπÊ≥ïÂíåÂ±ûÊÄßÊòØ‰∏ÄËá¥ÁöÑ. ÂêÑ‰∏™Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÊï∞ÁªÑÁ±ªÈÉΩÊúâÂØπÂ∫îÁöÑÂ∑•ÂéÇÂáΩÊï∞„ÄÇ 1234567891011121314151617181920// ÂàùÂßãÂåñ‰∏Ä‰∏™ Arrayval array1 = arrayOf(1, 2, 4)// ÂàùÂßãÂåñ‰∏Ä‰∏™ÂÖ®‰∏∫ null ÁöÑ Arrayval array2 = arrayOfNulls&lt;Int&gt;(10)// IntArrayÁ±ªÂûãval array3 = intArrayOf(1, 2, 3)// ShortArrayÁ±ªÂûãval array4 = shortArrayOf(1, 2, 3)// ‰ΩøÁî®Â∑•ÂéÇÂáΩÊï∞ÂàùÂßãÂåñval array5 = Array(10, &#123; i -&gt; i * i&#125;)// Êé®Ëçê‰∏ãÊ†áËÆøÈóÆlogError(array5[0])logError(array5.get(0))logError(array5.size) Â≠óÁ¨¶‰∏≤Á±ªÂûã‰ΩøÁî®ÂèåÂºïÂè∑ &quot;abc&quot; Ë°®Á§∫ËΩ¨ÁßªÂ≠óÁ¨¶‰∏≤ÔºåÊîØÊåÅËΩ¨‰πâÂ≠óÁ¨¶„ÄÇ ‰ΩøÁî®‰∏â‰∏™ÂèåÂºïÂè∑ &quot;&quot;&quot;abc&quot;&quot;&quot; Ë°®Á§∫ÂéüÁîüÂ≠óÁ¨¶‰∏≤ÔºåÂéüÁîüÂ≠óÁ¨¶‰∏≤‰∏çÊîØÊåÅËΩ¨‰πâÔºåÂèØ‰ª•ÂåÖÂê´‰ªª‰ΩïËΩ¨‰πâÂ≠óÁ¨¶„ÄÇ ‰∏ãÈù¢ÁöÑ trimMargin() ÂáΩÊï∞‰ºöÂ∞Ü | ÊõøÊç¢ÊéâÔºåËøôÊ†∑‰øùÊåÅÂú®ÁºñÁ†ÅÊó∂ÊúüÁöÑÊï¥Ê¥ÅÔºå‰ΩÜÊòØÂú®ËøêË°åÊúüÈó¥‰∏ç‰ºöËæìÂá∫„ÄÇ 1234567891011121314// ÈªòËÆ§‰ΩøÁî® | ÂàÜÂâ≤val text = """ |Tell me and I forget\n. |Teach me and I remember\t. |Involve me and I learn. |(Benjamin Franklin) """.trimMargin()logError(text)// ËæìÂá∫Tell me and I forget\n.Teach me and I remember\t.Involve me and I learn.(Benjamin Franklin) Â≠óÁ¨¶‰∏≤Ê®°ÊùøÔºåËΩ¨‰πâÂ≠óÁ¨¶‰∏≤ÂíåÂéüÁîüÂ≠óÁ¨¶‰∏≤ÈÉΩÊîØÊåÅÂ≠óÁ¨¶‰∏≤Ê®°ÊùøÔºå‰ΩøÁî® ${Ë°®ËææÂºè} ÁöÑÊñπÂºèÂèØ‰ª•Âú®Â≠óÁ¨¶‰∏≤‰∏≠Èó¥ÊèíÂÖ•Êï∞ÊçÆ„ÄÇÂè™Êúâ‰∏Ä‰∏™ÁÆÄÂçïÂÄºÊó∂ÂèØ‰ª•ÁúÅÁï• {} ,ÂêåÊó∂‰πüÊîØÊåÅÂ§çÊùÇË°®ËææÂºèÁöÑËÆ°ÁÆó„ÄÇËΩ¨‰πâÂ≠óÁ¨¶‰∏≤‰∏≠‰Ω†ÂèØ‰ª•‰ΩøÁî® \$ Êù•ÂÜôÂÖ• $ Â≠óÁ¨¶ÔºåÂéüÁîüÂ≠óÁ¨¶‰∏≤‰∏≠Áî±‰∫é‰∏çÊîØÊåÅËΩ¨‰πâÂ≠óÁ¨¶Ôºå‰Ω†ÂèØ‰ª•‰ΩøÁî® ${&quot;$&quot;} ÁöÑÊñπÂºèÂÜôÂÖ• $ Â≠óÁ¨¶„ÄÇ 12345val user = User()val param = 100var str = "test str template like $param"str = "test str template like $&#123;user.name&#125; "str = "test str template like $&#123;if (user.age &lt;= 0) 100 else user.age&#125;"]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-2-Âü∫Á°Ä-ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶]]></title>
    <url>%2Farticle%2F70650835%2F</url>
    <content type="text"><![CDATA[ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶Áî®Êù•Ë°®ËææÁ±ª„ÄÅÊé•Âè£„ÄÅÂ±ûÊÄßÁ≠âË¢´ÂºÄÊîæÁöÑÁ®ãÂ∫¶ÔºåÂç≥Âú®‰ªÄ‰πà‰ΩçÁΩÆÂèØ‰ª•ËÆøÈóÆÔºåÂú®‰ªÄ‰πà‰ΩçÁΩÆË¢´ÈôêÂà∂ËÆøÈóÆ„ÄÇ Êú¨ÁØá‰∏ªË¶Å‰ªãÁªç Kotlin ‰∏≠ÁöÑÂõõÁßçÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶ÔºåÂàÜÂà´‰∏∫ publicÔºåprotected„ÄÅinternal Âíå private„ÄÇ Á±ªÔºåÂØπË±°ÔºåÊé•Âè£ÔºåÊûÑÈÄ†Âô®ÔºåÂáΩÊï∞ÔºåÂ±ûÊÄß‰ª•ÂèäÂ±ûÊÄßËÆøÈóÆÂô®ËÆæÂÄºÊñπÊ≥ï(ËÆøÈóÆÂô®ÂèñÂÄºÊñπÊ≥ïÊÄª‰∏éÂ±ûÊÄßÊú¨Ë∫´ÂèØËßÅÂ∫¶Áõ∏ÂêåÔºåÂõ†Ê≠§‰∏çÈúÄË¶ÅÊéßÂà∂ÂÖ∂ÂèØËßÅÂ∫¶)ÔºåÈÉΩÂèØ‰ª•‰ΩøÁî® ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶ „ÄÇ ÂõõÁßçÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶Ôºöprivate„ÄÅprotected„ÄÅinternal„ÄÅpublicÔºåÈªòËÆ§‰∏∫ public„ÄÇ‰∏é Java ‰∏çÂêåÁöÑÊòØÂ∞ë‰∫Ü default Â§ö‰∫Ü internal„ÄÇ Ê≥®ÊÑèÔºöÂ±ÄÈÉ®ÂèòÈáèÔºåÂ±ÄÈÉ®ÂáΩÊï∞Ôºå‰ª•ÂèäÂ±ÄÈÉ®Á±ªÔºåÈÉΩ‰∏çËÉΩÊåáÂÆöÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶„ÄÇ top-leveltop-levelÔºå ÂÉè class ËøôÁßçÂèØ‰ª•Áõ¥Êé•Â£∞ÊòéÂú®ÂåÖ‰∏ã„ÄÇÂú® Kotlin ‰∏≠ÔºåÂáΩÊï∞, Â±ûÊÄß, Á±ª, ÂØπË±°, Êé•Âè£ÈÉΩÂèØ‰ª•Â£∞Êòé‰∏∫ top-level„ÄÇÊØîÂ¶ÇÊâ©Â±ïÂáΩÊï∞ÂíåÊâ©Â±ïÂ±ûÊÄßÂ∞±ÊòØ Â£∞Êòé‰∏∫ top-level ÁöÑ„ÄÇÊ≥®ÊÑèÔºåËøôÈáåËØ¥ÁöÑÊòØ top-level Á∫ßÂà´Â£∞ÊòéÔºåÂú®Ëøô‰∫õÂ£∞ÊòéÂÜÖÈÉ®ÂÜçÂ£∞ÊòéÂà´ÁöÑÂáΩÊï∞ÊàñËÄÖÂ±ûÊÄßÔºå‰∏çÂú®ËÆ®ËÆ∫ËåÉÁï¥ÔºåÂ∞ÜÂú®‰∏ã‰∏ÄÈÉ®ÂàÜËØ¥ÊòéÔºåÂØπ‰∫é top-level ‰∏≠ÁöÑÂ£∞ÊòéÊù•ËØ¥Ôºö public ÔºöÊÑè‰∏∫ËØ•Â£∞ÊòéÂú®‰ªª‰Ωï‰ΩçÁΩÆÈÉΩÂèØ‰ª•ËÆøÈóÆÔºåpublic ÊòØÈªòËÆ§ÁöÑÔºåÂèØ‰ª•ÁúÅÁï•„ÄÇIf you do not specify any visibility modifier, public is used by default, which means that your declarations will be visible everywhere; private ÔºöÊÑè‰∏∫ËØ•Â£∞ÊòéÂè™ËÉΩÂú®Âêå‰∏Ä‰∏™Ê∫ê‰ª£Á†ÅÊñá‰ª∂‰∏≠ËÆøÈóÆ„ÄÇIf you mark a declaration private, it will only be visible inside the file containing the declaration; internal ÔºöÊÑè‰∏∫ËØ•Â£∞ÊòéÂú®Âêå‰∏Ä‰∏™moduleÁöÑ‰ªªÊÑè‰ΩçÁΩÆÊòØÂèØ‰ª•ËÆøÈóÆÁöÑ„ÄÇIf you mark it internal, it is visible everywhere in the same module; protected ÔºöÂØπ top-level ÁöÑÂ£∞ÊòéÊòØÊó†ÊïàÁöÑ„ÄÇprotected is not available for top-level declarations. 12345678910111213// Á±ªÂ£∞Êòéclass MyCls // Êé•Âè£Â£∞ÊòéÔºåÂêå module ËÆøÈóÆinternal interface MyInter // ÂáΩÊï∞Â£∞ÊòéÔºåÂè™ÂÖÅËÆ∏Âú®Êñá‰ª∂ÂÜÖËÆøÈóÆprivate fun MyFun()&#123;&#125; // Â±ûÊÄßÂ£∞ÊòéÔºåÊâÄÊúâÂú∞ÊñπÈÉΩÂèØ‰ª•ËÆøÈóÆÔºåÈªòËÆ§ public ÂèØ‰ª•ÁúÅÁï•public var MyVal = 10 // ËÆæÁΩÆÊñπÊ≥ïÂè™ÊúâÊñá‰ª∂ÂÜÖÂèØ‰ª•ËÆøÈóÆ private set Á±ª‰∏éÊé•Âè£Âú®Á±ªÂíåÊé•Âè£ÂÜÖÈÉ®‰ΩøÁî®ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶ private ÔºöÂú®Á±ªÂÜÖ(‰ª•ÂèäÂÆÉÁöÑÊâÄÊúâÊàêÂëò‰πãÈó¥)ÂèØ‰ª•ËÆøÈóÆ„ÄÇprivate means visible inside this class only (including all its members); protected ÔºöÂíå private Áõ∏ÂêåÔºåËÄå‰∏îÂú®Â≠êÁ±ª‰∏≠‰πüÂèØ‰ª•ËÆøÈóÆ„ÄÇprotected ‚Äî same as private + visible in subclasses too; internal ÔºöÂú®Âêå‰∏Ä‰∏™ module ÂÜÖÔºåËÉΩËÆøÈóÆËØ•Á±ªÁöÑÂú∞ÊñπÔºå‰πüËÉΩËÆøÈóÆËØ•Á±ªÁöÑ internal ÊàêÂëò„ÄÇany client inside this module who sees the declaring class sees its internal members; public ÔºöÂú®‰ªª‰Ωï‰ΩçÁΩÆÂá°ÊòØËÉΩËÆøÈóÆËØ•Á±ªÔºåÂàô‰πüËÉΩËÆøÈóÆËØ•Á±ªÁöÑ public ÊàêÂëò„ÄÇany client who sees the declaring class sees its public members. Ê≥®ÊÑèÔºö Âú® Kotlin ‰∏≠ÔºåÂ§ñÈÉ®Á±ª‰∏çËÉΩËÆøÈóÆÂÖ∂ÂÜÖÈÉ®Á±ªÁöÑ private ÊàêÂëò„ÄÇÂ¶ÇÊûú‰Ω†Ë¶ÜÁõñ‰∏Ä‰∏™ protected ÊàêÂëòÔºåÂπ∂‰∏îÊ≤°ÊúâÊòéÁ°ÆÊåáÂÆöÂèØËßÅÂ∫¶ÔºåÈÇ£‰πàË¶ÜÁõñÂêéÊàêÂëòÁöÑÂèØËßÅÂ∫¶‰πüÂ∞ÜÊòØ protected„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475open class OuterCls &#123; // Á±ªÂÜÖÂèØËÆøÈóÆ private var a = 1 // Á±ªÂÜÖÂèØËÆøÈóÆÔºåÂ≠êÁ±ªÂèØËÆøÈóÆ protected open val b = 2 // Ê®°ÂùóÂÜÖÂèØ‰ª•ËÆøÈóÆËØ•Á±ªÁöÑÂú∞ÊñπÔºåÈÉΩÂèØ‰ª•ËÆøÈóÆËØ•Â±ûÊÄß internal val c = 3 // ÈªòËÆ§‰∏∫ public,‰ªª‰Ωï‰ΩçÁΩÆÔºåÂèØ‰ª•ËÆøÈóÆËØ•Á±ªÁöÑÂú∞ÊñπÈÉΩÂèØ‰ª•ËÆøÈóÆËØ•Â±ûÊÄß var d = 4 fun test() &#123; a = 1 // Â§ñÈÉ®Á±ªËÆøÈóÆÂµåÂ•óÁ±ªpubicÊàêÂëò NestedCls().publicVar // ÁºñËØëÈîôËØØÔºåÂ§ñÈÉ®Á±ª‰∏çËÉΩËÆøÈóÆÂµåÂ•óÁ±ª private ÊàêÂëò NestedCls().privateVar // ÁºñËØëÈîôËØØÔºåÂ§ñÈÉ®Á±ª‰∏çËÉΩËÆøÈóÆÂµåÂ•óÁ±ª protected ÊàêÂëò NestedCls().protectedVar // Â§ñÈÉ®Á±ªËÆøÈóÆÂÜÖÈÉ®ÂêßÁ±ªpublicÊàêÂëò InnerCls().publicVar // ÁºñËØëÈîôËØØÔºåÂ§ñÈÉ®Á±ª‰∏çËÉΩËÆøÈóÆÂÜÖÈÉ®Á±ª protected ÊàêÂëò InnerCls().privateVar // ÁºñËØëÈîôËØØÔºåÂ§ñÈÉ®Á±ª‰∏çËÉΩËÆøÈóÆÂÜÖÁ±ª protected ÊàêÂëò InnerCls().protectedVar &#125; // ÂµåÂ•óÁ±ª private class NestedCls &#123; public var publicVar: Int = 5 private var privateVar: Int = 5 protected var protectedVar: Int = 5 // ÂµåÂ•óÁ±ªÔºå‰∏çËÉΩËÆøÈóÆÂ§ñÈÉ®Á±ªÊàêÂëòÔºå‰∏çËÆ∫ private public fun test() &#123; // ÁºñËØëÈîôËØØ a = 1 // ÁºñËØëÈîôËØØ d = 10 &#125; &#125; inner class InnerCls &#123; public var publicVar: Int = 5 private var privateVar: Int = 5 protected var protectedVar: Int = 5 // ÂÜÖÈÉ®Á±ªÔºåÂèØ‰ª•ËÆøÈóÆÂ§ñÈÉ®Á±ªÊàêÂëòÔºå‰∏çËÆ∫ private public fun test() &#123; a = 1 d = 10 &#125; &#125;&#125;class Subclass : OuterCls() &#123; // a ‰∏çÂèØËÆøÈóÆ // b, c Âíå d ÂèØ‰ª•ËÆøÈóÆ // Nested Âíå e ÂèØ‰ª•ËÆøÈóÆ // Ë¶ÜÁõñ‰∫ÜÁà∂Á±ª‰∏≠ÁöÑ bÔºåbÂèØËßÅÂ∫¶‰ªçÁÑ∂‰∏∫ protectedÔºåÂèØ‰ª•Ë¢´Â≠êÁ±ªË¶ÜÁõñ override val b = 5 fun testSub()&#123; // ÁºñËØëÈîôËØØÔºåÂ≠êÁ±ª‰∏çÂèØ‰ª•ËÆøÈóÆ NestedCls Âõ†‰∏∫‰ªñÊòØ private ÁöÑ NestedCls().publicVar // ÂèØ‰ª•ËÆøÈóÆ InnerClsÔºå‰ªñÊòØ public ÁöÑ InnerCls().publicVar &#125;&#125;class Unrelated(o: OuterCls) &#123; // o.a, o.b ‰∏çÂèØËÆøÈóÆ // o.c Âíå o.d ÂèØ‰ª•ËÆøÈóÆ(Â±û‰∫éÂêå‰∏ÄÊ®°Âùó) // Outer.Nested ‰∏çÂèØËÆøÈóÆ, Nested::e ‰πü‰∏çÂèØËÆøÈóÆ&#125; ÊûÑÈÄ†Âô®Ê≥®ÊÑèÔºåÊåáÂÆöÁ±ªÊûÑÈÄ†Âô®ÂèØËßÅÂ∫¶Ôºå‰Ω†ÈúÄË¶ÅÊòéÁ°ÆÊ∑ªÂä†‰∏Ä‰∏™ constructor ÂÖ≥ÈîÆÂ≠ó„ÄÇ private ÔºöË°®Á§∫ÊûÑÈÄ†Âô®Âè™Âú®Á±ªÂÜÖÂèØ‰ª•ËÆøÈóÆ„ÄÇ protected ÔºöÁ±ªÊûÑÈÄ†Âô®ÂèØËßÅÂ∫¶‰∏çÊîØÊåÅ protected„ÄÇ internal ÔºöË°®Á§∫ÂêåÊ®°ÂùóÂÜÖÂèØ‰ª•ËÆøÈóÆËØ•ÊûÑÈÄ†Âô®„ÄÇ public ÔºöÂú®‰ªª‰Ωï‰ΩçÁΩÆÈÉΩÂèØËÆøÈóÆÔºåÊûÑÈÄ†Âô®ÈªòËÆ§ public„ÄÇ 1234567891011121314class MyCls1 private constructor()&#123; fun test()&#123; // Á±ªÂÜÖÂèØ‰ª•ËÆøÈóÆ MyCls1() &#125;&#125;class MyCls2 public constructor()class MyCls3 internal constructor()class MyCls4 internal constructor()&#123; fun test()&#123; // ÁºñËØëÈîôËØØÔºåprivate ÁöÑÊûÑÈÄ†Âô®ÂêåÊñá‰ª∂ÂÜÖ‰∏çËÉΩËÆøÈóÆ MyCls1() &#125;&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-2-Âü∫Á°Ä]]></title>
    <url>%2Farticle%2F811551029%2F</url>
    <content type="text"><![CDATA[Êú¨ÁØá‰∏ªË¶Å‰ªãÁªç Kotlin ÁöÑÂü∫Á°ÄËØ≠Ê≥ïÔºåÊéßÂà∂ÊµÅÔºåÂÜÖÂª∫Êï∞ÊçÆÁ±ªÂûãÁ≠âÂÜÖÂÆπ‚Ä¶ import ËØ≠Âè•ÂíåÂåÖÁöÑÁõ∏ÂÖ≥Ê¶ÇÂøµ„ÄÇ ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶ÁöÑ‰ΩøÁî®„ÄÇ Â§ßÈÉ®ÂàÜÂÜÖÂª∫Êï∞ÊçÆÁ±ªÂûãÁöÑ‰ªãÁªç„ÄÇÂåÖÊã¨Êï∞ÂÄºÁ±ªÂûãÔºåÂ≠óÁ¨¶Á±ªÂûãÔºåÂ∏ÉÂ∞îÁ±ªÂûãÔºåÊï∞ÁªÑÁ±ªÂûãÔºåÂ≠óÁ¨¶‰∏≤Á±ªÂûã„ÄÇ ÊéßÂà∂ÊµÅÁöÑ‰ΩøÁî®Ôºåif , when , for , while Á≠âÂÖ≥ÈîÆÂ≠óÂú® Kotlin ‰∏≠ÁöÑÊñ∞ÁâπÊÄß„ÄÇ Â¶Ç‰ΩïÂú®ÂáΩÊï∞‰∏≠ËøîÂõûÂíåË∑≥ËΩ¨Ôºåreturn , continue , break Á≠âÂÖ≥ÈîÆÂ≠óÁöÑ‰ΩøÁî®„ÄÇ go~ ÂåÖ123456// ÂØºÂåÖimport com.march.ktexample.model.Student// ÂØºÂåÖÊó∂‰ΩøÁî®Âà´ÂêçÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•‰ΩøÁî®Âà´ÂêçË∞ÉÁî®import android.util.Log as LL.e(TAG, str) ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶Á±ªÔºåÂØπË±°ÔºåÊé•Âè£ÔºåÊûÑÈÄ†Âô®ÔºåÂáΩÊï∞ÔºåÂ±ûÊÄß‰ª•ÂèäÂ±ûÊÄßËÆøÈóÆÂô®ËÆæÂÄºÊñπÊ≥ï(ËÆøÈóÆÂô®ÂèñÂÄºÊñπÊ≥ïÊÄª‰∏éÂ±ûÊÄßÊú¨Ë∫´ÂèØËßÅÂ∫¶Áõ∏ÂêåÔºåÂõ†Ê≠§‰∏çÈúÄË¶ÅÊéßÂà∂ÂÖ∂ÂèØËßÅÂ∫¶)ÔºåÈÉΩÂèØ‰ª•‰ΩøÁî® ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶ „ÄÇKotlin ‰∏≠ÁöÑÂõõÁßçÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶Ôºöprivate„ÄÅprotected„ÄÅinternal„ÄÅpublicÔºåÈªòËÆ§‰∏∫ public„ÄÇ‰∏é Java ‰∏çÂêåÁöÑÊòØÂ∞ë‰∫Ü default Â§ö‰∫Ü internal„ÄÇ Ê≥®ÊÑèÔºöÂ±ÄÈÉ®ÂèòÈáèÔºå Â±ÄÈÉ®ÂáΩÊï∞Ôºå‰ª•ÂèäÂ±ÄÈÉ®Á±ªÔºåÈÉΩ‰∏çËÉΩÊåáÂÆöÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶„ÄÇ top-leveltop-levelÔºå ÂÉè class ËøôÁßçÂèØ‰ª•Áõ¥Êé•Â£∞ÊòéÂú®ÂåÖ‰∏ã„ÄÇÂú® Kotlin ‰∏≠ÔºåÂáΩÊï∞, Â±ûÊÄß, Á±ª, ÂØπË±°, Êé•Âè£ÈÉΩÂèØ‰ª•Â£∞Êòé‰∏∫ top-level„ÄÇÊØîÂ¶ÇÊâ©Â±ïÂáΩÊï∞ÂíåÊâ©Â±ïÂ±ûÊÄßÂ∞±ÊòØ Â£∞Êòé‰∏∫ top-level ÁöÑ„ÄÇÊ≥®ÊÑèÔºåËøôÈáåËØ¥ÁöÑÊòØ top-level Á∫ßÂà´Â£∞ÊòéÔºåÂú®Ëøô‰∫õÂ£∞ÊòéÂÜÖÈÉ®ÂÜçÂ£∞ÊòéÂà´ÁöÑÂáΩÊï∞ÊàñËÄÖÂ±ûÊÄßÔºå‰∏çÂú®ËÆ®ËÆ∫ËåÉÁï¥ÔºåÂ∞ÜÂú®‰∏ã‰∏ÄÈÉ®ÂàÜËØ¥ÊòéÔºåÂØπ‰∫é top-level ‰∏≠ÁöÑÂ£∞ÊòéÊù•ËØ¥Ôºö public ÔºöÊÑè‰∏∫ËØ•Â£∞ÊòéÂú®‰ªª‰Ωï‰ΩçÁΩÆÈÉΩÂèØ‰ª•ËÆøÈóÆÔºåpublic ÊòØÈªòËÆ§ÁöÑÔºåÂèØ‰ª•ÁúÅÁï•„ÄÇIf you do not specify any visibility modifier, public is used by default, which means that your declarations will be visible everywhere; private ÔºöÊÑè‰∏∫ËØ•Â£∞ÊòéÂè™ËÉΩÂú®Âêå‰∏Ä‰∏™Ê∫ê‰ª£Á†ÅÊñá‰ª∂‰∏≠ËÆøÈóÆ„ÄÇIf you mark a declaration private, it will only be visible inside the file containing the declaration; internal ÔºöÊÑè‰∏∫ËØ•Â£∞ÊòéÂú®Âêå‰∏Ä‰∏™moduleÁöÑ‰ªªÊÑè‰ΩçÁΩÆÊòØÂèØ‰ª•ËÆøÈóÆÁöÑ„ÄÇIf you mark it internal, it is visible everywhere in the same module; protected ÔºöÂØπ top-level ÁöÑÂ£∞ÊòéÊòØÊó†ÊïàÁöÑ„ÄÇprotected is not available for top-level declarations. 1234567891011121314151617package com.march.ktexample// filename:VisibilityModifiersTest.kt// Á±ªÂ£∞Êòéclass MyCls // Êé•Âè£Â£∞ÊòéÔºåÂêå module ËÆøÈóÆinternal interface MyInter // ÂáΩÊï∞Â£∞ÊòéÔºåÂè™ÂÖÅËÆ∏Âú®Êñá‰ª∂ÂÜÖËÆøÈóÆprivate fun MyFun()&#123;&#125; // Â±ûÊÄßÂ£∞ÊòéÔºåÊâÄÊúâÂú∞ÊñπÈÉΩÂèØ‰ª•ËÆøÈóÆÔºåÈªòËÆ§ public ÂèØ‰ª•ÁúÅÁï•public var MyVal = 10 // ËÆæÁΩÆÊñπÊ≥ïÂè™ÊúâÊñá‰ª∂ÂÜÖÂèØ‰ª•ËÆøÈóÆ private set Á±ª‰∏éÊé•Âè£Âú®Á±ªÂíåÊé•Âè£ÂÜÖÈÉ®‰ΩøÁî®ÂèØËßÅÂ∫¶‰øÆÈ•∞Á¨¶ private ÔºöÂú®Á±ªÂÜÖ(‰ª•ÂèäÂÆÉÁöÑÊâÄÊúâÊàêÂëò‰πãÈó¥)ÂèØ‰ª•ËÆøÈóÆ„ÄÇprivate means visible inside this class only (including all its members); protected ÔºöÂíå private Áõ∏ÂêåÔºåËÄå‰∏îÂú®Â≠êÁ±ª‰∏≠‰πüÂèØ‰ª•ËÆøÈóÆ„ÄÇprotected ‚Äî same as private + visible in subclasses too; internal ÔºöÂú®Âêå‰∏Ä‰∏™ module ÂÜÖÔºåËÉΩËÆøÈóÆËØ•Á±ªÁöÑÂú∞ÊñπÔºå‰πüËÉΩËÆøÈóÆËØ•Á±ªÁöÑ internal ÊàêÂëò„ÄÇany client inside this module who sees the declaring class sees its internal members; public ÔºöÂú®‰ªª‰Ωï‰ΩçÁΩÆÂá°ÊòØËÉΩËÆøÈóÆËØ•Á±ªÔºåÂàô‰πüËÉΩËÆøÈóÆËØ•Á±ªÁöÑ public ÊàêÂëò„ÄÇany client who sees the declaring class sees its public members. Ê≥®ÊÑèÔºö Âú® Kotlin ‰∏≠ÔºåÂ§ñÈÉ®Á±ª‰∏çËÉΩËÆøÈóÆÂÖ∂ÂÜÖÈÉ®Á±ªÁöÑ private ÊàêÂëò„ÄÇÂ¶ÇÊûú‰Ω†Ë¶ÜÁõñ‰∏Ä‰∏™ protected ÊàêÂëòÔºåÂπ∂‰∏îÊ≤°ÊúâÊòéÁ°ÆÊåáÂÆöÂèØËßÅÂ∫¶ÔºåÈÇ£‰πàË¶ÜÁõñÂêéÊàêÂëòÁöÑÂèØËßÅÂ∫¶‰πüÂ∞ÜÊòØ protected„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475open class OuterCls &#123; // Á±ªÂÜÖÂèØËÆøÈóÆ private var a = 1 // Á±ªÂÜÖÂèØËÆøÈóÆÔºåÂ≠êÁ±ªÂèØËÆøÈóÆ protected open val b = 2 // Ê®°ÂùóÂÜÖÂèØ‰ª•ËÆøÈóÆËØ•Á±ªÁöÑÂú∞ÊñπÔºåÈÉΩÂèØ‰ª•ËÆøÈóÆËØ•Â±ûÊÄß internal val c = 3 // ÈªòËÆ§‰∏∫ public,‰ªª‰Ωï‰ΩçÁΩÆÔºåÂèØ‰ª•ËÆøÈóÆËØ•Á±ªÁöÑÂú∞ÊñπÈÉΩÂèØ‰ª•ËÆøÈóÆËØ•Â±ûÊÄß var d = 4 fun test() &#123; a = 1 // Â§ñÈÉ®Á±ªËÆøÈóÆÂµåÂ•óÁ±ªpubicÊàêÂëò NestedCls().publicVar // ÁºñËØëÈîôËØØÔºåÂ§ñÈÉ®Á±ª‰∏çËÉΩËÆøÈóÆÂµåÂ•óÁ±ª private ÊàêÂëò NestedCls().privateVar // ÁºñËØëÈîôËØØÔºåÂ§ñÈÉ®Á±ª‰∏çËÉΩËÆøÈóÆÂµåÂ•óÁ±ª protected ÊàêÂëò NestedCls().protectedVar // Â§ñÈÉ®Á±ªËÆøÈóÆÂÜÖÈÉ®ÂêßÁ±ªpublicÊàêÂëò InnerCls().publicVar // ÁºñËØëÈîôËØØÔºåÂ§ñÈÉ®Á±ª‰∏çËÉΩËÆøÈóÆÂÜÖÈÉ®Á±ª protected ÊàêÂëò InnerCls().privateVar // ÁºñËØëÈîôËØØÔºåÂ§ñÈÉ®Á±ª‰∏çËÉΩËÆøÈóÆÂÜÖÁ±ª protected ÊàêÂëò InnerCls().protectedVar &#125; // ÂµåÂ•óÁ±ª private class NestedCls &#123; public var publicVar: Int = 5 private var privateVar: Int = 5 protected var protectedVar: Int = 5 // ÂµåÂ•óÁ±ªÔºå‰∏çËÉΩËÆøÈóÆÂ§ñÈÉ®Á±ªÊàêÂëòÔºå‰∏çËÆ∫ private public fun test() &#123; // ÁºñËØëÈîôËØØ a = 1 // ÁºñËØëÈîôËØØ d = 10 &#125; &#125; inner class InnerCls &#123; public var publicVar: Int = 5 private var privateVar: Int = 5 protected var protectedVar: Int = 5 // ÂÜÖÈÉ®Á±ªÔºåÂèØ‰ª•ËÆøÈóÆÂ§ñÈÉ®Á±ªÊàêÂëòÔºå‰∏çËÆ∫ private public fun test() &#123; a = 1 d = 10 &#125; &#125;&#125;class Subclass : OuterCls() &#123; // a ‰∏çÂèØËÆøÈóÆ // b, c Âíå d ÂèØ‰ª•ËÆøÈóÆ // Nested Âíå e ÂèØ‰ª•ËÆøÈóÆ // Ë¶ÜÁõñ‰∫ÜÁà∂Á±ª‰∏≠ÁöÑ bÔºåbÂèØËßÅÂ∫¶‰ªçÁÑ∂‰∏∫ protectedÔºåÂèØ‰ª•Ë¢´Â≠êÁ±ªË¶ÜÁõñ override val b = 5 fun testSub()&#123; // ÁºñËØëÈîôËØØÔºåÂ≠êÁ±ª‰∏çÂèØ‰ª•ËÆøÈóÆ NestedCls Âõ†‰∏∫‰ªñÊòØ private ÁöÑ NestedCls().publicVar // ÂèØ‰ª•ËÆøÈóÆ InnerClsÔºå‰ªñÊòØ public ÁöÑ InnerCls().publicVar &#125;&#125;class Unrelated(o: OuterCls) &#123; // o.a, o.b ‰∏çÂèØËÆøÈóÆ // o.c Âíå o.d ÂèØ‰ª•ËÆøÈóÆ(Â±û‰∫éÂêå‰∏ÄÊ®°Âùó) // Outer.Nested ‰∏çÂèØËÆøÈóÆ, Nested::e ‰πü‰∏çÂèØËÆøÈóÆ&#125; ÊûÑÈÄ†Âô®Ê≥®ÊÑèÔºåÊåáÂÆöÁ±ªÊûÑÈÄ†Âô®ÂèØËßÅÂ∫¶Ôºå‰Ω†ÈúÄË¶ÅÊòéÁ°ÆÊ∑ªÂä†‰∏Ä‰∏™ constructor ÂÖ≥ÈîÆÂ≠ó„ÄÇ private ÔºöË°®Á§∫ÊûÑÈÄ†Âô®Âè™Âú®Á±ªÂÜÖÂèØ‰ª•ËÆøÈóÆ„ÄÇ protected ÔºöÁ±ªÊûÑÈÄ†Âô®ÂèØËßÅÂ∫¶‰∏çÊîØÊåÅ protected„ÄÇ internal ÔºöË°®Á§∫ÂêåÊ®°ÂùóÂÜÖÂèØ‰ª•ËÆøÈóÆËØ•ÊûÑÈÄ†Âô®„ÄÇ public ÔºöÂú®‰ªª‰Ωï‰ΩçÁΩÆÈÉΩÂèØËÆøÈóÆÔºåÊûÑÈÄ†Âô®ÈªòËÆ§ public„ÄÇ 1234567891011121314class MyCls1 private constructor()&#123; fun test()&#123; // Á±ªÂÜÖÂèØ‰ª•ËÆøÈóÆ MyCls1() &#125;&#125;class MyCls2 public constructor()class MyCls3 internal constructor()class MyCls4 internal constructor()&#123; fun test()&#123; // ÁºñËØëÈîôËØØÔºåprivate ÁöÑÊûÑÈÄ†Âô®ÂêåÊñá‰ª∂ÂÜÖ‰∏çËÉΩËÆøÈóÆ MyCls1() &#125;&#125; ÂÜÖÂª∫Êï∞ÊçÆÁ±ªÂûã‰ªãÁªç Kotlin ÁöÑÂÜÖÂª∫Êï∞ÊçÆÁ±ªÂûãÔºåÂåÖÊã¨Êï∞ÂÄºÁ±ªÂûãÔºåÂ≠óÁ¨¶Á±ªÂûãÔºåÂ∏ÉÂ∞îÁ±ªÂûãÔºåÊï∞ÁªÑÁ±ªÂûãÔºåÂ≠óÁ¨¶‰∏≤Á±ªÂûã„ÄÇ Êï∞ÂÄºÁ±ªÂûãKotlin Êï∞ÂÄº‰ΩøÁî®ÂÜÖÂª∫ÂØπË±°Ë°®Á§∫ÔºåÊâÄÊúâÊï∞ÂÄºÁ±ªÂûãÁªßÊâøËá™ Number ÊäΩË±°Á±ªÔºåNumber ‰∏≠ÂÆö‰πâ‰∫ÜÊï∞ÂÄºÂú®ÂêÑ‰∏™Á±ªÂûã‰πãÈó¥ËΩ¨Êç¢ÁöÑÊñπÊ≥ï„ÄÇ Long Á±ªÂûãÈúÄË¶ÅÂú®Êï∞Â≠óÊú´Â∞æËøΩÂä† Â§ßÂÜô ÁöÑ L Ë°®Á§∫ÔºåÂ¶Ç 123LÔºõFloat Á±ªÂûãÈúÄË¶ÅÂú®Êï∞Â≠óÊú´Â∞æËøΩÂä† fÔºèF Ë°®Á§∫ÔºåÂ¶Ç 123.5F„ÄÇÈªòËÆ§ÂçÅËøõÂà∂ËÆ°Êï∞ÔºåÂ¶ÇÔºö 123ÔºõÂçÅÂÖ≠ËøõÂà∂‰ª• 0x ÂºÄÂ§¥ÔºåÂ¶Ç 0x1FAÔºõ‰∫åËøõÂà∂‰ª• 0b ÂºÄÂ§¥ÔºåÂ¶Ç 0b001101Ôºõ‰∏çÊîØÊåÅ ÂÖ´ËøõÂà∂Ë°®Á§∫„ÄÇ Â∞èÊï∞ÈªòËÆ§ÊòØ Double Á±ªÂûãÔºåÂ¶ÇÊûúÈúÄË¶ÅÊòæÂºèÂ£∞Êòé‰∏∫ FloatÔºåÈúÄË¶ÅÂä† f/F ÂêéÁºÄ„ÄÇ Double (64 bit) ÔºõFloat (32 bit) ÔºõLong (64 bit) ÔºõInt (32 bit) ÔºõShort (16 bit) ÔºõByte (8 bit) Ôºõ Âêå‰∏ÄÊÄßÔºöÂØπË±°ÁöÑÁ±ªÂûãÔºåÂÜÖÂÆπÁõ∏ÂêåÔºå‰ΩøÁî® === ËøêÁÆóÁ¨¶ÊØîËæÉ‰∏∫ true Áõ∏Á≠âÊÄßÔºöÂÜÖÂÆπÁõ∏Á≠âÔºå‰ΩøÁî® == ËøêÁÆóÊ≥ïÊØîËæÉ‰∏∫ true Êï∞ÂÄºË£ÖÁÆ± Kotlin ‰∏≠‰∏ÄÂàáÁöÜ‰∏∫ÂØπË±°ÔºåÂõ†Ê≠§ÂÜÖÂª∫ÁöÑÊï∞ÂÄºÁ±ªÂûã‰πü‰∏∫ÂØπË±°Ôºå‰ΩÜÊòØ‰ªñ‰ª¨ÂÖ∑ÊúâÂ¶ÇÂêåÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÁâπÊÄßÔºåÂç≥ Âêå‰∏ÄÊÄßÔºåÊï∞ÂÄºÂÜÖÂª∫ÂØπË±°Â∞±Â¶ÇÂêå Java ‰∏≠ÁöÑÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºå‰ªñ‰ª¨ÁöÑÂÄºÊòØ‰∏çËÉΩ‰∏∫ null ÁöÑÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®ÂÉè Int? ËøôÊ†∑Êù•ËøõË°åÊï∞ÂÄºË£ÖÁÆ±ÔºåËøôÈáåÂèØ‰ª•ÂèÇËÄÉ Java ‰∏≠Êï∞ÂÄºË£ÖÁÆ±ÁöÑÊ¶ÇÂøµ„ÄÇË£ÖÁÆ±‰πãÂêéÁöÑÊï∞ÂÄº‰ºö‰øùÊåÅ Áõ∏Á≠âÊÄß ‰ΩÜÊó†Ê≥ï‰øùÊåÅ Âêå‰∏ÄÊÄß 12345678910111213141516// ÂÜÖÂª∫ÂØπË±°ÁöÑÂêå‰∏ÄÊÄßval aInt = 10val bInt = 10logError("$&#123;aInt === bInt&#125;")// truelogError("$&#123;aInt == bInt&#125;")// true// Êï∞ÂÄºË£ÖÁÆ±Âêé‰øùÊåÅÁõ∏Á≠âÊÄßÔºå‰ΩÜÊòØ‰∏ç‰øùÊåÅÂêå‰∏ÄÊÄßval aOrigin:Int = 10000val aBoxInt: Int? = aOriginval bBoxInt: Int? = aOriginlogError("$&#123;aBoxInt === bBoxInt&#125;")// falselogError("$&#123;aBoxInt == bBoxInt&#125;")// trueÂõ∞ÊÉëÔºöÂΩìaOrigin = 10Êó∂ÔºåaBoxInt === bBoxInt ‰∏∫ trueÔºåÂΩìaOrigin = 10000Êó∂ÔºåaBoxInt === bBoxInt ‰∏∫ false Á±ªÂûãËΩ¨Êç¢ Kotlin ‰∏ç‰ºöÂ∞ÜËæÉÂ∞èÁöÑÊï∞ÊçÆÁ±ªÂûãÈöêÂºèÂú∞ËΩ¨Êç¢‰∏∫ËæÉÂ§ßÁöÑÊï∞ÊçÆÁ±ªÂûã. ‰πüÂ∞±ÊòØËØ¥, Â¶ÇÊûú‰∏çËøõË°åÊòæÂºèÁ±ªÂûãËΩ¨Êç¢, Êàë‰ª¨Â∞±‰∏çËÉΩÂ∞Ü‰∏Ä‰∏™ Byte Á±ªÂûãÂÄºËµãÁªô‰∏Ä‰∏™ Int Á±ªÂûãÁöÑÂèòÈáè„ÄÇ‰Ω†ÈúÄË¶Å‰ΩøÁî® toInt() ÊòæÂºèÊâ©Â§ß‰∏∫Êõ¥Â§ßÁöÑÁ±ªÂûãÔºå Number Á±ª‰∏≠ÂÆö‰πâ‰∫ÜÂêëÂêÑ‰∏™Êï∞ÊçÆÁ±ªÂûãËΩ¨Êç¢ÁöÑÊñπÂºè„ÄÇ 123456val bb : Byte = 1val ll:Long = 1// Êâ©Â§ßval ii1:Int = bb.toInt()// Áº©Â∞èval ii2:Int = ll.toInt() Êï∞ÂÄºËøêÁÆóÁ¨¶ 1234567shl(bits) ‚Äì Â∏¶Á¨¶Âè∑Â∑¶Áßª (Á≠â‰∫é Java ÁöÑ&lt;&lt;)shr(bits) ‚Äì Â∏¶Á¨¶Âè∑Âè≥Áßª (Á≠â‰∫é Java ÁöÑ &gt;&gt;)ushr(bits) ‚Äì Êó†Á¨¶Âè∑Âè≥Áßª (Á≠â‰∫é Java ÁöÑ &gt;&gt;&gt;)and(bits) ‚Äì Êåâ‰Ωç‰∏é(and)or(bits) ‚Äì Êåâ‰ΩçÊàñ(or)xor(bits) ‚Äì Êåâ‰ΩçÂºÇÊàñ(xor)inv() ‚Äì Êåâ‰ΩçÂèñÂèç Â≠óÁ¨¶Á±ªÂûãChar Á±ªÂûã‰∏çÊòØ Number ÁöÑÂ≠êÁ±ªÔºå‰πüÂ∞±ÊòØËØ¥ Char Á±ªÂûãÂπ∂‰∏çÊòØÊï∞ÂÄºÁ±ªÂûã„ÄÇ Char Á±ªÂûã‰ΩøÁî® ÂçïÂºïÂè∑ Â¶Ç &#39;a&#39; Ë°®Á§∫„ÄÇÁâπÊÆäÂ≠óÁ¨¶‰ΩøÁî®ÂèçÊñúÁ∫øËΩ¨‰πâË°®Ëææ. KotlinÊîØÊåÅÁöÑËΩ¨‰πâÂ≠óÁ¨¶ÂåÖÊã¨: \t, \b, \n, \r, \&#39;, \&quot;, \\, \$ „ÄÇ ÂÖ∂‰ªñ‰ªª‰ΩïÂ≠óÁ¨¶, ÈÉΩÂèØ‰ª•‰ΩøÁî® Unicode ËΩ¨‰πâË°®ËææÊñπÂºè: &#39;\uFF00&#39;„ÄÇ Char Á±ªÂûã‰πüÂÖ∑Êúâ‰∏ÄÁ≥ªÂàóÁöÑÁ±ªÂûãËΩ¨Êç¢ÊñπÊ≥ïÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî® &#39;0&#39;.toInt() ËøôÊ†∑ÁöÑËØ≠Ê≥ïÂ∞Ü Char Á±ªÂûãËΩ¨Êç¢‰∏∫Êï∞ÂÄºÁ±ªÂûã„ÄÇ ÂèØ‰ª•‰ΩøÁî® Char? Á±ªÂûãÂØπ Char Á±ªÂûãËøõË°åË£ÖÁÆ±Êìç‰ΩúÔºå‰∏éÊï∞ÂÄºÁ±ªÂûã‰∏ÄÊ†∑ÔºåË£ÖÁÆ±Êìç‰Ωú‰∏çËÉΩ‰øùÊåÅÂØπË±°Âêå‰∏ÄÊÄß„ÄÇ Â∏ÉÂ∞îÁ±ªÂûãBoolean Á±ªÂûãÁî®Êù•Ë°®Á§∫Â∏ÉÂ∞îÂÄº, Êúâ‰∏§‰∏™ÂèØËÉΩÁöÑÂÄº: true Âíå false. ÂΩìÈúÄË¶Å‰∏Ä‰∏™ÂèØ‰∏∫ null ÁöÑÂ∏ÉÂ∞îÂÄºÂºïÁî®Êó∂, Â∏ÉÂ∞îÂÄº‰πü‰ºöË¢´Ë£ÖÁÆ±(box). Â∏ÉÂ∞îÂÄºÁöÑËÆ°ÁÆó‰∏é Java Áõ∏Âêå„ÄÇ Êï∞ÁªÑÁ±ªÂûãKotlin ‰∏≠ÁöÑÊï∞ÁªÑÈÄöËøá Array Á±ªË°®Ëææ, Ëøô‰∏™Á±ªÊã•Êúâ get Âíå set ÂáΩÊï∞(Ëøô‰∫õÂáΩÊï∞ÈÄöËøáËøêÁÆóÁ¨¶ÈáçËΩΩËΩ¨Êç¢‰∏∫ [] ËøêÁÆóÁ¨¶), Ê≠§Â§ñËøòÊúâ size Â±ûÊÄß, ‰ª•ÂèäÂÖ∂‰ªñ‰∏Ä‰∫õÊúâÁî®ÁöÑÊàêÂëòÂáΩÊï∞„ÄÇ Kotlin ‰∏≠‰πüÊúâ‰∏ìÈó®ÁöÑÁ±ªÊù•Ë°®ËææÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÊï∞ÁªÑ: ByteArray, ShortArray, IntArray Á≠âÁ≠â, Ëøô‰∫õÊï∞ÁªÑÂèØ‰ª•ÈÅøÂÖçÊï∞ÂÄºÂØπË±°Ë£ÖÁÆ±Â∏¶Êù•ÁöÑÊÄßËÉΩÊçüËÄó. Ëøô‰∫õÁ±ª‰∏é Array Á±ª‰πãÈó¥‰∏çÂ≠òÂú®ÁªßÊâøÂÖ≥Á≥ª, ‰ΩÜÂÆÉ‰ª¨ÁöÑÊñπÊ≥ïÂíåÂ±ûÊÄßÊòØ‰∏ÄËá¥ÁöÑ. ÂêÑ‰∏™Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÊï∞ÁªÑÁ±ªÈÉΩÊúâÂØπÂ∫îÁöÑÂ∑•ÂéÇÂáΩÊï∞„ÄÇ 1234567891011121314151617181920// ÂàùÂßãÂåñ‰∏Ä‰∏™ Arrayval array1 = arrayOf(1, 2, 4)// ÂàùÂßãÂåñ‰∏Ä‰∏™ÂÖ®‰∏∫ null ÁöÑ Arrayval array2 = arrayOfNulls&lt;Int&gt;(10)// IntArrayÁ±ªÂûãval array3 = intArrayOf(1, 2, 3)// ShortArrayÁ±ªÂûãval array4 = shortArrayOf(1, 2, 3)// ‰ΩøÁî®Â∑•ÂéÇÂáΩÊï∞ÂàùÂßãÂåñval array5 = Array(10, &#123; i -&gt; i * i&#125;)// Êé®Ëçê‰∏ãÊ†áËÆøÈóÆlogError(array5[0])logError(array5.get(0))logError(array5.size) Â≠óÁ¨¶‰∏≤Á±ªÂûã‰ΩøÁî®ÂèåÂºïÂè∑ &quot;abc&quot; Ë°®Á§∫ËΩ¨ÁßªÂ≠óÁ¨¶‰∏≤ÔºåÊîØÊåÅËΩ¨‰πâÂ≠óÁ¨¶„ÄÇ‰ΩøÁî®‰∏â‰∏™ÂèåÂºïÂè∑ &quot;&quot;&quot;abc&quot;&quot;&quot; Ë°®Á§∫ÂéüÁîüÂ≠óÁ¨¶‰∏≤ÔºåÂéüÁîüÂ≠óÁ¨¶‰∏≤‰∏çÊîØÊåÅËΩ¨‰πâÔºåÂèØ‰ª•ÂåÖÂê´‰ªª‰ΩïËΩ¨‰πâÂ≠óÁ¨¶„ÄÇ 1234567891011121314// ÈªòËÆ§‰ΩøÁî® | ÂàÜÂâ≤val text = """ |Tell me and I forget\n. |Teach me and I remember\t. |Involve me and I learn. |(Benjamin Franklin) """.trimMargin()logError(text)// ËæìÂá∫Tell me and I forget\n.Teach me and I remember\t.Involve me and I learn.(Benjamin Franklin) Â≠óÁ¨¶‰∏≤Ê®°ÊùøÔºåËΩ¨‰πâÂ≠óÁ¨¶‰∏≤ÂíåÂéüÁîüÂ≠óÁ¨¶‰∏≤ÈÉΩÊîØÊåÅÂ≠óÁ¨¶‰∏≤Ê®°ÊùøÔºå‰ΩøÁî® ${Ë°®ËææÂºè} ÁöÑÊñπÂºèÂèØ‰ª•Âú®Â≠óÁ¨¶‰∏≤‰∏≠Èó¥ÊèíÂÖ•Êï∞ÊçÆ„ÄÇÂè™Êúâ‰∏Ä‰∏™ÁÆÄÂçïÂÄºÊó∂ÂèØ‰ª•ÁúÅÁï• {} ,ÂêåÊó∂‰πüÊîØÊåÅÂ§çÊùÇË°®ËææÂºèÁöÑËÆ°ÁÆó„ÄÇËΩ¨‰πâÂ≠óÁ¨¶‰∏≤‰∏≠‰Ω†ÂèØ‰ª•‰ΩøÁî® \$ Êù•ÂÜôÂÖ• $ Â≠óÁ¨¶ÔºåÂéüÁîüÂ≠óÁ¨¶‰∏≤‰∏≠Áî±‰∫é‰∏çÊîØÊåÅËΩ¨‰πâÂ≠óÁ¨¶Ôºå‰Ω†ÂèØ‰ª•‰ΩøÁî® ${&quot;$&quot;} ÁöÑÊñπÂºèÂÜôÂÖ• $ Â≠óÁ¨¶„ÄÇ 12345val user = User()val param = 100var str = "test str template like $param"str = "test str template like $&#123;user.name&#125; "str = "test str template like $&#123;if (user.age &lt;= 0) 100 else user.age&#125;" ÊéßÂà∂ÊµÅÊéßÂà∂ÊµÅ‰∏ªË¶ÅÂåÖÊã¨Âà§Êñ≠ÁªìÊûÑÔºåÂàÜÊîØÁªìÊûÑÔºåÂæ™ÁéØÁªìÊûÑ if Âà§Êñ≠ÁªìÊûÑ123456789101112131415var a = 0if (a == 0) a = 100if (a == 0) a = 100 else a = 1000// ‰Ωú‰∏∫Ë°®ËææÂºèÊó∂ÂøÖÈ°ªÊúâelseÂàÜÊîØval rst1 = if (a == 0) 100 else 1000// ÂÖ∑ÊúâÂ§öË°åËØ≠Âè•ÂøÖÈ°ª‰ΩøÁî®&#123;&#125;val rst2 = if (a == 0) &#123; logError(100) 100&#125; else &#123; logError(1000) 1000&#125; when ÂàÜÊîØÁªìÊûÑKotlin ‰ΩøÁî® when ÂÖ≥ÈîÆÂ≠óÂÆûÁé∞ÂàÜÊîØÁªìÊûÑ„ÄÇ ÂΩì when ‰Ωú‰∏∫Ë°®ËææÂºèÂá∫Áé∞Êó∂ÔºåÂøÖÈ°ªÂÖ∑Êúâ else ÂàÜÊîØÔºåÈô§Èùû‰Ω†ÁöÑÂàÜÊîØÂ∑≤ÁªèÂåÖÂê´‰∫ÜÊâÄÊúâÁöÑÊÉÖÂÜµÔºåËøôÊòØÂõ†‰∏∫‰Ωú‰∏∫Ë°®ËææÂºèÊó∂‰ªñÂøÖÈ°ªÊúâ‰∏Ä‰∏™ËøîÂõûÂÄºÔºåËÄå else ÂàÜÊîØÂ∞Ü‰ºöÂú®ÊâÄÊúâÊù°‰ª∂ÈÉΩ‰∏çÊª°Ë∂≥Êó∂ÊâßË°å„ÄÇ when ‰Ωú‰∏∫Ë°®ËææÂºè 12345678910111213fun testFun3(param: Int): Int = when (param) &#123; // ‰∏ÄËà¨Áî®Ê≥ï 0 -&gt; 0 // ‰ΩøÁî® in Êìç‰ΩúÁ¨¶ÂåπÈÖçËåÉÂõ¥ in 1..5 -&gt; 1 !in 100..105 -&gt; -1 // ‰ΩøÁî®Â§ö‰∏™ÂåπÈÖç 5, 6, 7 -&gt; 2 // Á±ªÂûãÂà§Êñ≠ is Int -&gt; 3 // ‰Ωú‰∏∫Ë°®ËææÂºèÂøÖÈ°ªÊúâelseÂàÜÊîØ else -&gt; 100&#125; Âú®ÂáΩÊï∞‰∏≠‰ΩøÁî® when 12345678// ‰Ωú‰∏∫ÂáΩÊï∞Êó∂‰∏çÈúÄË¶ÅÂøÖÈ°ªÊúâ else ÂàÜÊîØfun testFun5() &#123; val param: Any? = 100 when (param) &#123; // Ëá™Âä®ÁöÑÁ±ªÂûãÊé®Êñ≠ÔºåÊ≠§Êó∂param ÊòØ String Á±ªÂûã is String -&gt; param.startsWith("") &#125;&#125; for Âæ™ÁéØÁªìÊûÑ‰ªª‰ΩïÂÄº, Âè™Ë¶ÅËÉΩÂ§ü‰∫ßÁîü‰∏Ä‰∏™Ëø≠‰ª£Âô®( iterator), Â∞±ÂèØ‰ª•‰ΩøÁî® for Âæ™ÁéØËøõË°åÈÅçÂéÜ„ÄÇ ËÉΩÂ§ü‰∫ßÁîü‰∏Ä‰∏™Ëø≠‰ª£Âô®ÊòØÊåáÔºö Â≠òÂú®‰∏Ä‰∏™ÊàêÂëòÂáΩÊï∞- ÊàñÊâ©Â±ïÂáΩÊï∞ iterator(), ÂÆÉÁöÑËøîÂõûÁ±ªÂûãÂ∫îËØ• Â≠òÂú®‰∏Ä‰∏™ÊàêÂëòÂáΩÊï∞- ÊàñÊâ©Â±ïÂáΩÊï∞ next(), Âπ∂‰∏î Â≠òÂú®‰∏Ä‰∏™ÊàêÂëòÂáΩÊï∞- ÊàñÊâ©Â±ïÂáΩÊï∞ hasNext(), ÂÆÉÁöÑËøîÂõûÁ±ªÂûã‰∏∫ Boolean Á±ªÂûã„ÄÇ ÈÅçÂéÜÊï∞ÁªÑÂíå List 12345678910111213141516171819202122232425262728// ÈÅçÂéÜ‰∏¥Êó∂Êï∞ÁªÑfor (item in (1..4)) &#123; logError(item)&#125;// ÈÅçÂéÜlistval lists = mutableListOf(1, 2, 4)// ÈÅçÂéÜitemfor (item in lists) &#123; logError(item)&#125;// ‰ΩøÁî®‰∏ãÊ†áÈÅçÂéÜfor (i in lists.indices) &#123; logError(lists.get(i))&#125;// Ëé∑Âèñ‰∏ãÊ†áÂíåÂÄºfor((i,item) in lists.withIndex())&#123; logError("$i = $item")&#125;// ÈÅçÂéÜÊï∞ÁªÑ‰πüÊòØ‰∏ÄÊ†∑ÁöÑval arrays = arrayOf(1,2,3)for (item in arrays)&#123; logError(item)&#125;for (i in arrays.indices)&#123; logError(arrays[i])&#125; ÈÅçÂéÜ map 12345// ÈÅçÂéÜmapval maps = mapOf(Pair("a", "b"), Pair("a1", "b1"))for ((key, value) in maps) &#123; logError("map($key-&gt;$value)")&#125; ÈÅçÂéÜÂ≠óÁ¨¶‰∏≤ 12345// ÈÅçÂéÜÂ≠óÁ¨¶‰∏≤val str = "test"for (s in str)&#123; logError("$s in str")&#125; while Âæ™ÁéØÁªìÊûÑÁî®Ê≥ï‰∏éÂÖ∂‰ªñËØ≠Ë®ÄÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ 12345678910var a = 0while (a &gt; 100) &#123; logError("a is $a") a++&#125;do &#123; logError("a is $a") a++&#125; while (a &gt; 100) ËøîÂõû‰∏éË∑≥ËΩ¨Kotlin ‰∏≠Êúâ‰∏âÁßçÊ†áÁ≠æÂèØ‰ª•Ë∑≥Âá∫Á®ãÂ∫èÊµÅÁ®ã return. ÈªòËÆ§Ë°å‰∏∫ÊòØ, ‰ªéÊúÄÂÜÖÂ±ÇÁöÑÂáΩÊï∞Êàñ ÂåøÂêçÂáΩÊï∞ ‰∏≠ËøîÂõû„ÄÇbreak. ÁªìÊùüÊúÄÂÜÖÂ±ÇÁöÑÂæ™ÁéØ„ÄÇcontinue. Âú®ÊúÄÂÜÖÂ±ÇÁöÑÂæ™ÁéØ‰∏≠, Ë∑≥ËΩ¨Âà∞‰∏ã‰∏ÄÊ¨°Âæ™ÁéØ„ÄÇ Kotlin ‰∏≠ÁöÑ‰ªª‰ΩïË°®ËææÂºèÈÉΩÂèØ‰ª•Áî® label Ê†áÁ≠æÊù•Ê†áËÆ∞„ÄÇÊ†áÁ≠æÁöÑÂΩ¢Âºè‰∏éÊ†áËØÜÁ¨¶Áõ∏Âêå, ÂêéÈù¢ÈôÑÂä†‰∏Ä‰∏™ @ Á¨¶Âè∑,Â¶Ç loopOut@,‰ΩøÁî®Ê†áÁ≠æÊ†áËÆ∞‰ΩçÁΩÆÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®Á®ãÂ∫èË∑≥Âá∫Êìç‰ΩúÁ¨¶Ë∑≥Âá∫ÊåáÂÆö‰ΩçÁΩÆÔºåÂ¶Ç break@loopOut,continue@loopOut,return@loopOut„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ‰∏≠Èó¥‰∏çÈúÄË¶ÅÊúâÁ©∫Ê†ºÔºå‰ªñ‰ª¨ÊòØ‰∏Ä‰ΩìÁöÑ„ÄÇÂ¶ÇÊûúÊúâÊ†áÁ≠æÁöÑÂêåÊó∂ÂèàÊúâËøîÂõûÂÄºÔºå‰ΩøÁî® return@loopOut 100 ËøôÊ†∑ÁöÑÂΩ¢ÂºèÔºåÊÑè‰∏∫Ë∑≥Âá∫Âà∞ loopOut Ê†áÁ≠æ‰ΩçÁΩÆÔºåËøîÂõûÂÄºÊòØ 100 „ÄÇ 12345678910111213fun testFun6() &#123; loopOut@ for (i in 1..10) &#123; loopIn@ for (j in 10..100) &#123; if (i * j == 100) break@loopOut if (i * j &lt; 10) continue@loopIn if (i * j == 101) break@loopIn logError("result = $&#123;i * j&#125;") &#125; &#125;&#125; Âú® Kotlin ‰∏≠, ÈÄöËøá‰ΩøÁî®Â≠óÈù¢ÂÄºÂáΩÊï∞(function literal), Â±ÄÈÉ®ÂáΩÊï∞(local function), ‰ª•ÂèäÂØπË±°Ë°®ËææÂºè(object expression), ÂÖÅËÆ∏ÂÆûÁé∞ÂáΩÊï∞ÁöÑÂµåÂ•ó„ÄÇÈÄöËøáÊ†áÁ≠æÈôêÂÆöÁöÑ return ËØ≠Âè•, ÂèØ‰ª•‰ªé‰∏Ä‰∏™Â§ñÂ±ÇÂáΩÊï∞‰∏≠ËøîÂõû. ÊúÄÈáçË¶ÅÁöÑ‰ΩøÁî®Âú∫ÊôØÊòØ‰ªé Lambda Ë°®ËææÂºè‰∏≠ËøîÂõû„ÄÇ Â¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÈªòËÆ§‰ºö‰ªéÂáΩÊï∞ testFun61() ‰∏≠ËøîÂõûÔºåËøîÂõûÂÄº‰∏∫9ÔºåËÄå‰∏î‰Ω†ÂÜô return ËØ≠Âè•Êó∂ÔºåÁºñËØëÂô®‰ºöÊèêÁ§∫‰Ω†ÂøÖÈ°ªËøîÂõû‰∏Ä‰∏™ Int Á±ªÂûã„ÄÇËøôÁßçÈùûÂ±ÄÈÉ®ÁöÑËøîÂõû(non-local return), ‰ªÖÂØπ‰º†ÈÄíÁªô ÂÜÖËÅîÂáΩÊï∞(inline function) ÁöÑ Lambda Ë°®ËææÂºèÊúâÊïà„ÄÇ 123456789// ÂáΩÊï∞‰ºöËøîÂõû 9fun testFun61(): Int &#123; val arrays = Array(10, &#123; i -&gt; i * i &#125;) arrays.forEach &#123; if (it == 9) return it &#125; return 0&#125; Â¶ÇÊûúÈúÄË¶Å‰ªéÂÜÖÈÉ® Lambda Ë°®ËææÂºèË∑≥Âá∫ËÄå‰∏çÊòØ‰ªéÂáΩÊï∞‰∏≠ËøîÂõûÔºåÂèØ‰ª•‰ΩøÁî®Ê†áÁ≠æÊåáÂÆöË∑≥Âá∫ÁõÆÊ†á„ÄÇ‰ΩøÁî®ÈöêÂê´Ê†áÁ≠æ‰ºöÊõ¥Êñπ‰æø‰∏Ä‰∫õ, ÈöêÂê´Ê†áÁ≠æÁöÑÂêçÁß∞‰∏é Lambda Ë°®ËææÂºèË¢´‰º†ÈÄíÂéªÁöÑÂáΩÊï∞ÂêçÁß∞Áõ∏Âêå„ÄÇÂ¶Ç‰∏ãÈù¢ÁöÑÈöêÂê´Ê†áÁ≠æ‰∏∫ forEach@„ÄÇ 12345678910111213141516171819// Ê≠§Êó∂ËøîÂõû 0fun testFun62():Int&#123; val arrays = Array(10, &#123; i -&gt; i * i &#125;) arrays.forEach signal@&#123; if (it == 9) return@signal &#125; return 0&#125;// ‰ΩøÁî®ÈöêÂê´Ê†áÁ≠æfun testFun63():Int&#123; val arrays = Array(10, &#123; i -&gt; i * i &#125;) arrays.forEach &#123; if (it == 9) return@forEach &#125; return 0&#125;]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AS ÂçáÁ∫ß gradle Âà∞2.3.1ÂºÇÂ∏∏]]></title>
    <url>%2Farticle%2F2758264870%2F</url>
    <content type="text"><![CDATA[AndroidStudioÂçáÁ∫ßgradleÊèí‰ª∂ÁâàÊú¨Âà∞2.3.1‰πãÂêé‰∏çËÉΩËøêË°å‰∫ÜÔºåÊèêÁ§∫MultiDexÊâæ‰∏çÂà∞ÔºåÁî±Ê≠§ÂºïÂèë‰∫ÜÂæàÂ§öÈóÆÈ¢ò„ÄÇ ÂºÄÂßãÂçáÁ∫ßÊèí‰ª∂ÁâàÊú¨ÂçáÁ∫ßÂà∞2.3.1ÔºåÈÖçÁΩÆproject / build.gradle 1classpath "com.android.tools.build:gradle:2.3.1" gradleÁâàÊú¨ÂçáÁ∫ßÂà∞3.3ÔºåÈÖçÁΩÆproject / gradle / gradle-wrapper.properties 123456#Sun Mar 05 00:36:45 CST 2017distributionBase=GRADLE_USER_HOMEdistributionPath=wrapper/distszipStoreBase=GRADLE_USER_HOMEzipStorePath=wrapper/distsdistributionUrl=https\://services.gradle.org/distributions/gradle-3.3-all.zip ÂàÜÂåÖÂºïËµ∑ÁöÑÈóÆÈ¢òÈÖçÁΩÆÂàÜÂåÖ123456defaultConfig &#123; multiDexEnabled true &#125; ‰æùËµñÊ∑ªÂä†compile 'com.android.support:multidex:1.0.1' Â∞èÁ±≥ÁöÑÈóÆÈ¢ò‰∏ÄÂàáÈÉΩok‰πãÂêéÂá∫Áé∞‰∫ÜÊñ∞ÁöÑÈóÆÈ¢òÔºåFailed to establish sessionÁÑ∂ÂêéÊó†Ê≥ïÂÆâË£ÖÂ∫îÁî®ÔºåÂú®github‰∏äÈù¢ÊâæÂà∞‰∫ÜÂõûÁ≠îÔºåÁûª‰ª∞‰∏Ä‰∏ã„ÄÇ ÊúÄÂêéÊÄªÁªìÂ∞±ÊòØË¶ÅÊääÂºÄÂèëËÄÖÊ®°ÂºèÁöÑMIUI‰ºòÂåñÈÄâÈ°πÁªôÂÖ≥Èó≠ÊéâÔºå‰∏çÁÑ∂ÂÆâË£Ö‰∏ç‰∫Ü„ÄÇ‰πãÂâçËøòÊúâ‰∏Ä‰∏™ÂºÄÂêØÂÖÅËÆ∏UsbÂÆâË£ÖÁöÑÈÄâÈ°πÔºå‰∏çÊâìÂºÄÁöÑËØù‰πüÊó†Ê≥ïÂÆâË£ÖÂ∫îÁî®ÔºåÊÄª‰πãÂ∞èÁ±≥ÊâãÊú∫ÁâπÂà´‰∏ÄÁÇπ„ÄÇ 123456789101112Works !for those who suffer from this:enable developer mode - In your phone, go to Settings, About phone and click on MIUI version 7 times. You‚Äôll see a pop up which says you are a developer now. Go back to Settings, Additional settings, Developer options and enable USB Debugging. Connect your phone to your PC/Mac and on the phone authorize your computergo back to Developer options, scroll down to find Turn on MIUI optimization and disable it. Your phone will be rebootedTry it now :)]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁºñËØëFFmpeg‰πãHelloWorld]]></title>
    <url>%2Farticle%2F3809198562%2F</url>
    <content type="text"><![CDATA[ÁºñËØëFFmpeg3.3.1ÁöÑsoÊñá‰ª∂ÔºåÂπ∂Âú®AndroidÂ∑•Á®ã‰∏≠‰ΩøÁî®„ÄÇ FFmpegÁâàÊú¨Ôºö3.3.1 Ôºè OSÔºöMac OSX Êú¨ÊñáÂçöÂÆ¢ÈìæÊé• GitHubÔºåÊú¨Êñá‰ªãÁªçÂÜÖÂÆπËØ∑Êü•Áúãhello_worldÂàÜÊîØ ps: ÂºÄÂßãÁöÑÊó∂ÂÄôÊàëÂè™ÁºñËØëÂá∫‰∫Ü6‰∏™soÊñá‰ª∂ÔºåÁº∫Â∞ëlibavdevice.soÂíålibpostproc.soÔºå‰∏ªË¶ÅÊòØÂõ†‰∏∫build_andorid.shÁöÑÈÖçÁΩÆ‰∏çÂêåÔºåÁé∞Âú®ÂèØ‰ª•ÁºñËØëÂá∫8‰∏™soÊñá‰ª∂ÔºåÂú®ÊñáÁ´†‰∏≠ÁöÑÂõæÁâáÂá∫Áé∞ÁöÑÈÉΩÊòØ6‰∏™soÊñá‰ª∂ÔºåÁâπÊ≠§Â£∞Êòé„ÄÇ Ê∫ê‰ª£Á†Å GitHub - FFmpegAndroidSupport(Ê≥®ÊÑèÂú® hello_world ÂàÜÊîØ) ÈÖçÁΩÆ NDK ÁéØÂ¢ÉÊâìÂºÄ~/.bash_profileÊñá‰ª∂ÔºåÊ∑ªÂä†ndkÁöÑÁéØÂ¢ÉÂèòÈáèÔºåÊúÄÂêéÂà´Âøò‰∫Üsource .bash_profileÊõ¥Êñ∞ÈÖçÁΩÆÔºåÂÆåÊàê‰πãÂêéËøêË°å ndk-build -vÊü•ÁúãÁâàÊú¨ÔºåÊ≤°ÊúâÊèêÁ§∫Êâæ‰∏çÂà∞ÂëΩ‰ª§Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ 12# ndk export PATH=$&#123;PATH&#125;:/Users/march/AndroidRes/sdk/ndk-bundle ‰øÆÊîπ configure‰øÆÊîπffmpeg-3.3.1/configureÊñá‰ª∂ÔºåËøô‰∏™‰∏ªË¶ÅÊòØÁîüÊàêÁöÑlibÂåÖÁöÑÂåÖÂêçËßÑËåÉÊàê‰ª•libxxx.soÁöÑÂΩ¢Âºè„ÄÇ Âê¶ÂàôÁîüÊàêÁöÑsoÊñá‰ª∂Âú®android‰∏ãÊòØÊó†Ê≥ïÂä†ËΩΩÁöÑÔºåÊõøÊç¢ËøáÁ®ã‰∏ÄÂÆöË¶ÅË∞®ÊÖéÔºåÈúÄË¶ÅÂÖ®ÈÉ®ÊõøÊç¢Êéâ„ÄÇËøôÈáåÊàëÊèê‰æõ‰∏Ä‰∏™ÊõøÊç¢Â•ΩÁöÑconfigureÊñá‰ª∂‰æõÂèÇËÄÉ:thumbsup: 1234567891011# ÊâæÂà∞‰∏ãÈù¢Âá†Ë°åÊõøÊç¢‰∏Ä‰∏ãSLIBNAME_WITH_MAJOR='$(SLIBNAME).$(LIBMAJOR)' LIB_INSTALL_EXTRA_CMD='$$(RANLIB)"$(LIBDIR)/$(LIBNAME)"' SLIB_INSTALL_NAME='$(SLIBNAME_WITH_VERSION)' SLIB_INSTALL_LINKS='$(SLIBNAME_WITH_MAJOR)$(SLIBNAME)'# ÊõøÊç¢ÂêéÁöÑÁªìÊûúSLIBNAME_WITH_MAJOR='$(SLIBPREF)$(FULLNAME)-$(LIBMAJOR)$(SLIBSUF)' LIB_INSTALL_EXTRA_CMD='$$(RANLIB)"$(LIBDIR)/$(LIBNAME)"' SLIB_INSTALL_NAME='$(SLIBNAME_WITH_MAJOR)' SLIB_INSTALL_LINKS='$(SLIBNAME)' ÁºñÂÜô build_android.sh ËÑöÊú¨ÁºñÂÜôffmpeg-3.3.1/build_android.shËÑöÊú¨Ê≥®ÊÑè,NDKÂêéÈù¢ÁöÑË∑ØÂæÑÊç¢ÊàêËá™Â∑±ÁöÑË∑ØÂæÑÔºåÂèØ‰ª•ÂèÇËÄÉÁºñÂÜôÂ•ΩÁöÑÊñá‰ª∂:smile: ÂÖ≥Ê≥®‰∏ãÈù¢ÁöÑÈÖçÁΩÆÔºå‰∏çË¶ÅÁõ¥Êé•Êã∑Ë¥ù--disable-avdeviceÂä†‰∏ä‰πãÂêéÂ∞Ü‰∏ç‰ºöÁîüÊàêavdevice.soÊñá‰ª∂--enable-gplÂä†‰∏ä‰πãÂêéÂ∞Ü‰ºöÁîüÊàêpostproc.soÊñá‰ª∂ 123456789101112131415161718192021222324252627282930313233343536373839#!/bin/shNDK=/Users/march/AndroidRes/sdk/ndk-bundleSYSROOT=$NDK/platforms/android-23/arch-armTOOLCHAIN=$NDK/toolchains/arm-linux-androideabi-4.9/prebuilt/darwin-x86_64function build_one&#123;./configure \--target-os=linux \--prefix=$PREFIX \--arch=arm \--disable-doc \--enable-shared \--disable-static \--disable-yasm \--disable-symver \--enable-gpl \--disable-ffmpeg \--disable-ffplay \--disable-ffprobe \--disable-ffserver \--disable-doc \--disable-symver \--cross-prefix=$TOOLCHAIN/bin/arm-linux-androideabi- \--enable-cross-compile \--sysroot=$SYSROOT \--extra-cflags="-Os -fpic $ADDI_CFLAGS" \--extra-ldflags="$ADDI_LDFLAGS" \$ADDITIONAL_CONFIGURE_FLAGmake cleanmakemake install&#125;make cleanCPU=armPREFIX=$(pwd)/android/$CPUADDI_CFLAGS="-marm"build_one ÁºñËØëÁîüÊàê ffmpeg so Â∫ìÊâßË°åbuild_android.shËÑöÊú¨Â¶ÇÊûúÊ≤°ÊúâÊùÉÈôêÂèØ‰ª•‰ΩøÁî®chomd +xÂ¢ûÂä†ÊâßË°åÊùÉÈôêÁÑ∂ÂêéÁ≠â‰∏ÄÊÆµÊó∂Èó¥ÔºåüòØ‰∏çÔºåÊòØÂæàÈïøÊó∂Èó¥ÔºåÊâÄ‰ª•ÂâçÈù¢ÁöÑÈÖçÁΩÆË¶ÅË∞®ÊÖéÔºå‰∏çÁÑ∂ÁºñËØëÂÆå‰∫Ü‰πãÂêéÂèëÁé∞ÊúâÈóÆÈ¢òÔºåÂ∞±‰ºöÂæàüíîÔºå‰Ω†‰ºöÂèëÁé∞Âú®FFmpeg‰∏≠Âá∫Áé∞‰∫Ü‰∏Ä‰∏™Âêç‰∏∫androidÁöÑÊñá‰ª∂Â§π„ÄÇÁõÆÂΩïÂ¶Ç‰∏ã Â∞ÜÁºñËØëÁîüÊàêÁöÑÊñá‰ª∂ copy Âà∞ AS ‰∏≠ÁõÆÂΩïÂ¶Ç‰∏ãÔºåjniLibsÈáåÈù¢ÊòØÊúÄÂêéÊàë‰ª¨ÁºñËØëÁîüÊàêÂ•Ω‰πãÂêéÊã∑Ë¥ùËøõÂéªÁöÑÔºåÁé∞Âú®Â∫îËØ•ÊòØÁ©∫ÁöÑÔºåÁºñËØëÁîüÊàêÁöÑsoÊñá‰ª∂‰ºöÁîüÊàêÂú®src/main/libsÁõÆÂΩïÈáåÈù¢ÔºåÁîüÊàêÂ•Ω‰πãÂêéÔºåÂ¶ÇÊûú‰Ω†‰ΩøÁî®jniLibsÁõÆÂΩïÂä†ËΩΩso,Â∞±Êã∑Ë¥ùÂà∞ËøôÈáå„ÄÇÂõæÁâá‰∏≠ÁöÑÊèèËø∞Áï•ÊúâÊ≠ß‰πâ„ÄÇ ÁºñÂÜô C ËØ≠Ë®ÄÁöÑ JNI Êé•Âè£ËøôÈáåÊòØÊã∑Ë¥ù‰∫ÜÂà´‰∫∫ÂÜôÂ•ΩÁöÑ‰ª£Á†ÅÔºåËøôÁØáÊñáÁ´†‰∏ªË¶ÅËøòÊòØÊääÊï¥‰∏™ÁºñËØëÊµÅÁ®ãÂÆåÊàêÔºåÂõ†Ê≠§Áõ¥Êé•Áî®‰∫ÜÂà´‰∫∫Â∑≤ÁªèÂÜôÂ•ΩÁöÑÔºåÂêéÈù¢ÁöÑÊñáÁ´†‰ºöÂØπËøô‰∏ÄÂùóËØ¶ÁªÜ‰ªãÁªç„ÄÇ ÁºñÂÜôÊñá‰ª∂Âêç‰∏∫ffmpeg_support.cÁöÑcÊñá‰ª∂ÔºåÂ£∞ÊòéjavaË∞ÉÁî®Êé•Âè£ÔºåÂáΩÊï∞ÂëΩÂêçÈúÄË¶ÅÊåâÁÖßJava_ÂåÖÂêç_Á±ªÂêç_ÊñπÊ≥ïÂêçÁöÑÂΩ¢ÂºèÊù•ÁºñÂÜôÔºåÂå∫ÂàÜÂ§ßÂ∞èÂÜô„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;stdio.h&gt;#include "libavcodec/avcodec.h"#include "libavformat/avformat.h"#include "libavfilter/avfilter.h"#ifdef ANDROID#include &lt;jni.h&gt;#include &lt;android/log.h&gt;#define LOGE(format,...) __android_log_print(ANDROID_LOG_ERROR,"myndk",format,##__VA_ARGS__)#else#define LOGE(format,...) printf("(&gt;_&lt;)"format "\n",##__VA_ARGS__)#endifJNIEXPORT jstring Java_com_march_fas_FFmpegSupport_ffmpegHello(JNIEnv *env,jobject obj)&#123; char info[40000] =&#123;0&#125;; av_register_all(); AVCodec *c_temp = av_codec_next(NULL); while(c_temp != NULL)&#123; if(c_temp-&gt;decode!=NULL)&#123; sprintf(info,"%s[Dec]",info); &#125;else&#123; sprintf(info,"%s[Enc]",info); &#125; switch(c_temp-&gt;type)&#123; case AVMEDIA_TYPE_VIDEO: sprintf(info,"%s[Video]",info); break; case AVMEDIA_TYPE_AUDIO: sprintf(info,"%s[AUDIO]",info); break; default: sprintf(info,"%s[Other]",info); break; &#125; sprintf(info,"%s[%10s]\n",info,c_temp-&gt;name); c_temp=c_temp-&gt;next; LOGE("chendong"); &#125; return (*env)-&gt;NewStringUTF(env,info);&#125; ÁºñÂÜô Android.mk12345678910111213141516171819202122232425262728293031323334353637383940LOCAL_PATH :=$(call my-dir)include $(CLEAR_VARS)LOCAL_MODULE := avcodecLOCAL_SRC_FILES := libavcodec-57.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE := avfilterLOCAL_SRC_FILES := libavfilter-6.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE := avformatLOCAL_SRC_FILES := libavformat-57.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE := avutilLOCAL_SRC_FILES := libavutil-55.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE := swresampleLOCAL_SRC_FILES := libswresample-2.soinclude $(PREBUILT_SHARED_LIBRARY)include $(CLEAR_VARS)LOCAL_MODULE := swscaleLOCAL_SRC_FILES := libswscale-4.soinclude $(PREBUILT_SHARED_LIBRARY)#Programinclude $(CLEAR_VARS)LOCAL_MODULE :=sffhelloworldLOCAL_SRC_FILES := simplest_ffmpeg_helloworld.cLOCAL_C_INCLUDES += $(LOCAL_PATH)/includeLOCAL_LDLIBS := -llog -lzLOCAL_SHARED_LIBRARIES := avcodec avfilter avformat avutil swresample swscaleinclude $(BUILD_SHARED_LIBRARY) ÁºñÂÜô Application.mkÂÖ≥‰∫éApplication.mkÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÂèØ‰ª•Êü•ÁúãÂÆòÊñπÊñáÊ°£‰∏ãÈù¢android-14ÊåáÁöÑÊòØÊúÄÂ∞èÊîØÊåÅÁöÑAndroidApiÂú®4.0‰ª•‰∏äÔºåÂÖ∑‰ΩìÁúãÂèØ‰ª•Êü•ÁúãÂÆòÊñπÊñáÊ°£APP_PLATFORMËøôÂùóÁöÑÂÜÖÂÆπ„ÄÇËøô‰∏™Ë∑ü‰Ω†Âú®manifestÊñá‰ª∂ÈáåÈù¢ÈÖçÁΩÆÁöÑmin-sdk‰πüÊúâ‰∫õÂÖ≥ËÅîÔºå‰∏çÊãºÈÖç‰ºöÊúâË≠¶ÂëäÔºå‰∏çËøáÁé∞Âú®ÈÉΩ‰ºöÂú®gradleÊñá‰ª∂‰∏≠ÈÖçÁΩÆminSdkÔºå‰∏çÁî®Âú®ÊÑè‰πüÂèØ‰ª•ÔºåÂÆûÂú®Âº∫Ëø´ÁóáÂ∞±Âú®manifestÈáåÈù¢ÂÜçÂ£∞Êòé‰∏ÄÊ¨°„ÄÇ 12APP_ABI := armeabi armeabi-v7aAPP_PLATFORM := android-14 ÁºñËØëÁîüÊàêÂèØÁî®ÁöÑ so Êñá‰ª∂local.properties Â¶Ç‰∏ãÈÖçÁΩÆndkÁõÆÂΩï,ÈÄöÂ∏∏ÊòØÈªòËÆ§ÈÖçÁΩÆÂ•ΩÁöÑ„ÄÇ 12ndk.dir=/Users/march/AndroidRes/sdk/ndk-bundlesdk.dir=/Users/march/AndroidRes/sdk ÁÑ∂ÂêéËøõÂÖ•Âà∞terminalÔºåcdÂà∞jniÁõÆÂΩïÔºåÊâßË°å ndk-build ÂëΩ‰ª§Á≠âÂæÖ‰∏ÄÊÆµÊó∂Èó¥ÁºñËØëÂÆåÊàêÁöÑÁªìÊûúÂ∫îËØ•ÊòØËøôÊ†∑ÁöÑÔºåÂ¶ÇÊûú‰Ω†‰ΩøÁî®jniLibsÁõÆÂΩï‰Ωú‰∏∫Âä†ËΩΩsoÁöÑÁõÆÂΩïÔºåÂ∞ÜsoÊñá‰ª∂Êã∑Ë¥ùÂà∞jniLibs‰∏≠„ÄÇ Âú® app/build.gradle ÈÖçÁΩÆ‰ª•‰∏ã‰ª£Á†ÅÔºåÂèØ‰ª•Â∞Ü jniLibs ÁõÆÂΩïÊåáÂêë libsÔºåËøôÊ†∑Â∞±‰∏çÈúÄË¶ÅÊØèÊ¨°Êã∑Ë¥ù so Êñá‰ª∂Âà∞ jniLibs ‰∫Ü 12345678sourceSets &#123; //ÂÆö‰πâÁºñËØëÊó∂ÁºñËØëÊñá‰ª∂ÁöÑË∑ØÂæÑ main &#123; res.srcDirs = ['src/main/res'] jniLibs.srcDirs = ['src/main/libs'] jni.srcDirs = [] &#125; &#125; Ë∞ÉÁî® JNIÂä†ËΩΩsoÊñá‰ª∂‰ª•ÂèäjavaÂ±ÇÁöÑË∞ÉÁî®Êé•Âè£ 123456789101112131415161718192021222324252627282930public class FFmpegSupport &#123; static &#123; try &#123; System.loadLibrary("avutil-55"); System.loadLibrary("swresample-2"); System.loadLibrary("avcodec-57"); System.loadLibrary("avformat-57"); System.loadLibrary("swscale-4"); System.loadLibrary("avfilter-6"); System.loadLibrary("ffmpeg_support"); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; public static native String ffmpegHello();&#125;// ÊµãËØïpublic class MainActivity extends AppCompatActivity &#123; @Override protected void onCreate(@Nullable Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); FFmpegSupport.ffmpegHello(); &#125;&#125; ËøêË°åÈ°πÁõÆÁºñËæëapp/build.gradleÈÖçÁΩÆÂ•ΩsoÂä†ËΩΩË∑ØÂæÑÔºåÂ∞ÜsoÊñá‰ª∂Êã∑Ë¥ùËøõjniLibsÁõÆÂΩïÔºåÂΩìÁÑ∂‰Ω†Â¶ÇÊûúÂñúÊ¨¢ÊîæÂú®libsÁõÆÂΩïÈáåÈù¢‰πüÊòØÂèØ‰ª•ÁöÑÔºå‰∏ÄÂÆöË¶ÅËÆ∞Âæóarmeabi/xxx.soÔºåabiÁõÆÂΩï‰∏çË¶ÅÂøòËÆ∞Ôºå‰∏çÁÑ∂‰ºöÊèêÁ§∫Êâæ‰∏çÂà∞Ôºå‰∏çË¶ÅÈóÆÊàë‰∏∫‰ªÄ‰πàÁâπÂà´ÊèêÈÜí :smile: 1234567sourceSets &#123; //ÂÆö‰πâÁºñËØëÊó∂ÁºñËØëÊñá‰ª∂ÁöÑË∑ØÂæÑ main &#123; res.srcDirs = [&apos;src/main/res&apos;] jniLibs.srcDirs = [&apos;src/main/jniLibs&apos;] &#125; &#125; ÁÇπÂáªËøêË°åÔºåÂá∫Áé∞‰∫Ü‰ª•‰∏ãÈîôËØØÔºöYour project contains C++ files but it is not using a supported native build system„ÄÇ‰∏ãÈù¢ÁöÑÈÖçÁΩÆÂèØ‰ª•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ 123456789101112// Âú®gradle.propertiesÊ∑ªÂä†Android.useDeprecatedNdk=true// Âú®app/build.gradle Ê∑ªÂä†jni.srcDirs = []Ëøô‰∏ÄË°åsourceSets &#123; //ÂÆö‰πâÁºñËØëÊó∂ÁºñËØëÊñá‰ª∂ÁöÑË∑ØÂæÑ main &#123; res.srcDirs = [&apos;src/main/res&apos;] jniLibs.srcDirs = [&apos;src/main/jniLibs&apos;] jni.srcDirs = [] &#125; &#125;]]></content>
      <categories>
        <category>Android</category>
        <category>Ndk</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>FFmpeg</tag>
        <tag>Ndk</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KotlinÂºÄÂèë-1-Êñ∞ÁâπÊÄßÁØá]]></title>
    <url>%2Farticle%2F3395269050%2F</url>
    <content type="text"><![CDATA[Google 2017 IOÂ§ß‰ºöÂÆ£Â∏É Kotlin‰Ωú‰∏∫ Android ‰∏ÄÁ∫ßÂºÄÂèëËØ≠Ë®ÄÔºå‰∏ÄÊó∂Èó¥ÂêÑÂ§ßÊäÄÊúØÂçöÂÆ¢ÁΩëÁ´ôÔºåÂæÆ‰ø°ËÆ¢ÈòÖÂè∑ÔºåÊúãÂèãÂúàÈÉΩË¢´ Kotlin Âà∑Â±è‰∫ÜÔºåÂÖ®ÈÉΩÊòØÂØπ Kotlin ÁöÑÁÆÄË¶Å‰ªãÁªçÔºåÁé∞Âú®Ëøá‰∫ÜÂ§ßÁ∫¶‰∏ÄÂë®ÊÑüËßâÂ§ßÂÆ∂ÊÖ¢ÊÖ¢Âπ≥Èùô‰∏ãÊù•‰∫ÜÔºåÂèëÂ∏ÉÁöÑÊñáÁ´†ÁöÑË¥®Èáè‰πüÊõ¥È´òÔºåÊõ¥ÊúâÈíàÂØπÊÄßÔºåÁõ∏‰ø°‰∏ç‰πÖÁöÑÂ∞ÜÊù•ÂÜçÂπøÂ§ßÂºÄÂèëËÄÖÁöÑÊé®Âä®‰∏ãÔºåKotlin ‰ºöÂèëÂ±ïÁöÑË∂äÊù•Ë∂äÂ•Ω„ÄÇ Â∞±ÂÉè Google ÂèëÂ∏É Android ‰∏ìÁî®ÁöÑÂºÄÂèëÂ∑•ÂÖ∑ AndroidStudio ‰∏ÄÊ†∑Ôºå‰ªÖ‰ªÖ‰∏ÄÂπ¥Â§öÁöÑÊó∂Èó¥ÔºåEclipse Âíå Idea Âú® Android ÂºÄÂèëÈ¢ÜÂüüÂ∞±Ë¢´ÂÆåÂÖ®Âèñ‰ª£‰∫ÜÔºåGoogle ÁöÑÂÜ≥ÂøÉÊòØÁúãÂæóËßÅÁöÑ„ÄÇKotlin ËÉΩÂ§ü‰∏é Java Êó†ÁºùÂÖºÂÆπÔºåÊÄßËÉΩÊõ¥Â•ΩÔºåËØ≠Ê≥ïÊõ¥‰ºòÈõÖÔºåÂèàÊúâÁ±ªÂûãÊé®Êñ≠ÔºåÂáΩÊï∞ÂºèÁºñÁ®ãÁ≠âÊñ∞ÁâπÊÄßÊîØÊåÅÔºåÁõ∏‰ø°Âú® Android ÂºÄÂèëÈ¢ÜÂüüÔºåÂèñ‰ª£Java Âè™ÊòØÊó∂Èó¥ÈóÆÈ¢òÔºåÊØïÁ´üÊòØÂÆòÁΩëÊîØÊåÅÁöÑ„ÄÇ Êú¨ÊñáÊòØÂØπ Kotlin ÁöÑÁ¨¨‰∏ÄÊ¨°Êé•Ëß¶ÔºåÈáçÁÇπÊîæÂú®È°πÁõÆÊê≠Âª∫ÂíåÊñ∞ÁâπÊÄßÁöÑ‰ΩìÈ™å‰∏äÔºåÊõ¥Ê∑±ÁöÑÁªÜËäÇÂ∞Ü‰ºöÊîæÂú®ÂêéÈù¢ÁöÑÊñáÁ´†‰∏≠Á†îÁ©∂Ôºågo ~ Êé®ËçêÊñáÁ´†Kotlin ÂÆòÁΩëÂíåÂØπÂ∫î‰∏≠ÊñáÁâàÔºåËøô‰∏™‰∏≠ÊñáÁâàÊñáÊ°£ÁöÑÈ£éÊ†ºÂíåÂÆòÁΩëÈ£éÊ†º‰∏ÄÊ†∑ÔºåÂØπÊØîÁúãËµ∑Êù•ËàíÊúç‰∏ÄÁÇπÔºåÊé®Ëçê„ÄÇ kotlinÂÆòÁΩëÊñáÊ°£ Ôºè http://kotlinlang.org KotlinÂÆòÊñπÊñáÊ°£‰∏≠ÊñáÁøªËØëÁâàÊú¨ Ôºè http://www.liying-cn.net/kotlin/ Kotlin ÁöÑ‰∏§ÁØáÊé®ËçêÊñáÁ´†ÔºåÂæàÊó©Â∞±Âú®Êé®Ëçê‰ΩøÁî®‰∫Ü ÂæÆ‰ø°ÊñáÁ´†-‰Ω†‰∏∫‰ªÄ‰πàÈúÄË¶Åkotlin Segmentfault‰∏äËÖæËÆØbuglyÁöÑ‰∏ÄÁØáÊñáÁ´†Ôºå‰ªãÁªç‰∫ÜkotlinÁöÑÂü∫Êú¨ÁâπÊÄß Âè¶Â§ñÂ§áÊ≥®Âá†‰ªΩÂèÇËÄÉÊñáÊ°£ÔºåÂêÑÊúâ‰ºòÂäøÔºå‰ΩúË°•ÂÖÖÁî® kotlinÂÆòÁΩëÊñáÊ°£‰∏≠ÊñáÁâà Ôºè https://hltj.gitbooks.io &lt; kotlin for andriod developer&gt; ‰∏≠ÊñáÁøªËØëÁâà Ôºè https://wangjiegulu.gitbooks.io https://huanglizhuo.gitbooks.io Âü∫Êú¨ÈÖçÁΩÆAS 3.0 Â∑≤ÁªèËá™Â∏¶‰∫ÜKotlinÁöÑÈÖçÁΩÆÔºåÊú¨ÊñáÂú® AS 2.3 Âü∫Á°Ä‰∏äËøõË°åÈÖçÁΩÆ„ÄÇ ÊâìÂºÄSetting -&gt; plugin‰∏ãËΩΩÊèí‰ª∂ÔºåÈáçÂêØASÔºåÂàõÂª∫È°πÁõÆ -&gt; new File -&gt; Kotlin ActivityÔºå‰ºöÊèêÁ§∫ÈÖçÁΩÆÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÁÇπÂáªÈÖçÁΩÆÂç≥ÂèØÔºåÊèí‰ª∂‰ºöÂú®Â∑•Á®ã‰∏≠‰Ωú‰∏ãÈù¢ÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÔºå‰ª•‰∏äÂèØ‰ª•‰ΩøÁî®IDEÂæàÂø´ÂÆåÊàêÔºåÊï¥‰ΩìÈ°πÁõÆÊ≤°ÊúâÂæàÂ§ßÂèòÂåñ„ÄÇ project/build.gradleÊñá‰ª∂ 123456buildscript &#123; ext.kotlin_version = '1.0.6' dependencies &#123; classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version" &#125;&#125; app/build.gradle Êñá‰ª∂ 1234567891011121314151617181920212223242526272829apply plugin: 'com.android.application'apply plugin: 'kotlin-android'// Âü∫‰∫éAndroidÁöÑÊâ©Â±ïÂ¢ûÂº∫apply plugin: 'kotlin-android-extensions'android &#123; compileSdkVersion 25 buildToolsVersion "25.0.1" defaultConfig &#123; ... &#125; buildTypes &#123; ... &#125; // ËµÑÊ∫êË∑ØÂæÑ sourceSets &#123; main.java.srcDirs += 'src/main/kotlin' &#125;&#125;dependencies &#123; // kotlin compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"&#125;// ÈúÄË¶ÅÂä†ÂÖ•Ëøô‰∏™repositories &#123; mavenCentral()&#125; Ê±áÊÄª‰∏Ä‰∫õÁªÜËäÇ Kotlin ‰∏çÂº∫Âà∂Âú®ÊØèÂè•‰ª£Á†ÅÂêéÈù¢Âä† ;„ÄÇ Kotlin ‰∏çÊîØÊåÅ‰∏âÁõÆËøêÁÆóÁ¨¶‰∫ÜÔºåÂèØ‰ª•‰ΩøÁî® if(condition) Ë°®ËææÂºè1 else Ë°®ËææÂºè2 ÁöÑÊñπÂºè‰ª£ÊõøÔºåÊØîÂ¶Ç val a = if(b&gt;0) 100 else 0 ‰∏çÂÜç‰ΩøÁî® new ÂÖ≥ÈîÆÂ≠óÂàõÂª∫ÂØπË±°ÔºåËÄåÊòØÊõ¥ÁÆÄÂçïÁöÑ val user = User() ‰∏é Java Áõ∏ÂèçÔºåKotlin ‰∏≠ÊâÄÊúâÁ±ªÂíåÊñπÊ≥ïÈÉΩÈªòËÆ§ÊòØ‰∏çÂÖÅËÆ∏ÁªßÊâøÁöÑÔºå‰πüÂ∞±ÊòØ final ÁöÑÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÁªßÊâøÁ±ªÊàñÈáçÂÜôÊñπÊ≥ïÂèØ‰ª•‰ΩøÁî® open ÂÖ≥ÈîÆÂ≠ó„ÄÇ Kotlin ‰∏≠Á±ªÂêç‰∏çÂøÖ‰∏éÊñá‰ª∂ÂêåÂêçÔºåÂáΩÊï∞‰πü‰∏çÊòØÂøÖÈ°ªÂ£∞ÊòéÂú®Á±ª‰∏≠ÊâçÂèØ‰ª•ÔºåÂèØ‰ª•Áõ¥Êé•Â£∞ÊòéÂú®Êñá‰ª∂‰∏≠„ÄÇ Kotlin ‰∏≠Ê≥®ÈáäÂÖÅËÆ∏ÂµåÂ•ó„ÄÇ ‰ΩøÁî® is ‰ª£Êõø instanceof ÔºåÂ¶Ç if(str is String){...} ÂºïÁî®xml‰∏≠ÁöÑÊéß‰ª∂ÂÜç‰πü‰∏çÁî® findViewById() ‰πü‰∏çÁî® ButterKnife Ê≥®Ëß£Âï¶. ËøôÁßçÊâ©Â±ïÂú®ÊÄßËÉΩ‰∏äÂíå findViewById() ÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂè¶Â§ñÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºå‰ΩøÁî®ËøôÁßçÊâ©Â±ïÂøÖÈ°ªË¶ÅÂú® layout Ë¢´ËÆæÁΩÆÂ•Ω‰∫ÜÊâçËÉΩ‰ΩøÁî®, Âú® fragment ÈáåÈù¢, Ë¶ÅÁ≠âÂà∞ onViewCreated() ‰πãÂêéÊâçËÉΩ‰ΩøÁî®. 12345678910111213141516&lt;!--Âú®xmlÂÆö‰πâÔºåid‰∏∫ mTestTv --&gt;&lt;TextView android:id="@+id/mTestTv" android:layout_width="match_parent" android:layout_height="match_parent" android:background="#fff" android:gravity="center" android:text="test" android:textColor="#000" android:textSize="18sp"/&gt;// app/build.gradle‰∏≠Êâ©Â±ïÂ¢ûÂº∫Êèí‰ª∂apply plugin: 'kotlin-android-extensions' import kotlinx.android.synthetic.main.main_activity.*mTestTv.text = "test it" Á©∫ÂÄºÂÆâÂÖ®(Null Safety)Kotlin ÊòØ‰∏ÄÁßçÁ©∫ÂÄºÂÆâÂÖ®ÁöÑËØ≠Ë®ÄÔºå‰ªñÂü∫Êú¨ËÉΩÂ∏ÆÂä©‰Ω†ÂëäÂà´ NPEÔºåÂπ∂‰∏îÊèê‰æõ‰∫ÜÂ§ßÈáèÁöÑÊìç‰ΩúÁ¨¶ÁÆÄÂåñÂà§Á©∫Êìç‰ΩúÔºåÊõ¥Â§öÂÜÖÂÆπÂ∞ÜÂú®‰∏ã‰∏ÄÁØáÊñáÁ´†&lt;Â∏∏ÈáèÂèòÈáèÁØá&gt;‰∏≠ËØ¶ÁªÜ‰ªãÁªç„ÄÇ ‰∏Ä‰∏™‰ΩøÁî® safe calls ÁÆÄÂåñË∞ÉÁî®ÁöÑÂÆû‰æã 123456789val myParam1:Student? = null// java ‰∏≠ÔºåÂú®‰ΩøÁî®‰πãÂâçÔºåÊàë‰ª¨ÈÄöÂ∏∏‰ºöÂÅö‰∏ÄÁ≥ªÂàóÂà§Á©∫Êìç‰Ωúif(myParam1!=null &amp;&amp; myParam1.myCls!=null)&#123; Log.e(TAG,"$&#123;myParam1.myCls.length&#125;")&#125;// Kotlin safe callsLog.e(TAG,"$&#123;myParam1?.myCls?.length&#125;") Â≠óÁ¨¶‰∏≤Ê®°ÁâàÂÜç‰πü‰∏çÁî® + ÊàñËÄÖ StringBuilder Êù•ÂõûÊãºÊé•ÂíåËÆ°ÁÆóÂ≠óÁ¨¶‰∏≤ÔºåkotlinÊèê‰æõ‰∫ÜÊõ¥Âä†‰ºòÈõÖÁöÑÂÆûÁé∞ÊñπÂºè„ÄÇ ‰ΩøÁî® ${Ë°®ËææÂºè} ÁöÑÊñπÂºèÂèØ‰ª•Âú®Â≠óÁ¨¶‰∏≤‰∏≠Èó¥ÊèíÂÖ•Êï∞ÊçÆ„ÄÇÂè™Êúâ‰∏Ä‰∏™ÁÆÄÂçïÂÄºÊó∂ÂèØ‰ª•ÁúÅÁï• {} ,ÂêåÊó∂‰πüÊîØÊåÅÂ§çÊùÇË°®ËææÂºèÁöÑËÆ°ÁÆó„ÄÇ 12345val user = User()val param = 100var str = "test str template like $param"str = "test str template like $&#123;user.name&#125; "str = "test str template like $&#123;if (user.age &lt;= 0) 100 else user.age&#125;" Êâ©Â±ïÂáΩÊï∞ÂíåÂ±ûÊÄßKotlin Êèê‰æõ‰∫ÜÂêë‰∏Ä‰∏™Á±ªÊâ©Â±ïÊñ∞ÂäüËÉΩÁöÑËÉΩÂäõÔºåËÄå‰∏î‰∏çÂøÖ‰ªéËøô‰∏™Á±ªÁªßÊâø, ‰πü‰∏çÂøÖ‰ΩøÁî®‰ªª‰ΩïËÆæËÆ°Ê®°Âºè, ÊØîÂ¶Ç Decorator Ê®°Âºè‰πãÁ±ª„ÄÇ ËøôÁßçÂäüËÉΩÊòØÈÄöËøá‰∏ÄÁßçÁâπÊÆäÁöÑÂ£∞ÊòéÊù•ÂÆûÁé∞ÁöÑ, Kotlin ‰∏≠Áß∞‰∏∫ Êâ©Â±ï(extension)„ÄÇ Kotlin ÊîØÊåÅ Êâ©Â±ïÂáΩÊï∞(extension function) Âíå Êâ©Â±ïÂ±ûÊÄß(extension property)„ÄÇ Âè¶Â§ñÊàëÂàöÂºÄÂßãÁúãËøô‰∏™Âú∞ÊñπÁöÑÊó∂ÂÄôÔºåÊòØÂ∞ÜÊâ©Â±ïÂáΩÊï∞Â£∞ÊòéÂú®‰ΩøÁî®ÂÆÉÁöÑÁ±ª‰∏≠ÔºåÂú®Âè¶‰∏Ä‰∏™Á±ª‰∏≠Ë¶Å‰ΩøÁî®Â∞±Êó†Ê≥ïÂºïÁî®‰∫ÜÔºåÈöæÈÅìÊØèÊ¨°ÈÉΩË¶ÅÈáçÊñ∞ÂÜôÔºüÈÇ£‰∏çÊòØÂæàÈ∏°ËÇã„ÄÇÂÖ∂ÂÆûÁî±‰∫é java ÁöÑÊÉØÊÄßÔºåÊàëËßâÂæóÊâÄÊúâÁöÑÊñπÊ≥ïÂøÖÈ°ªÂ£∞ÊòéÂú®Á±ª‰∏≠Ôºåjava ‰∏≠Á°ÆÂÆûÊòØËøôÊ†∑ÁöÑÔºå ‰ΩÜÊòØ Kotlin ‰∏çÂøÖËøôÊ†∑ÂÅöÔºå‰Ω†ÁöÑÁ±ªÊñá‰ª∂ÁöÑÂêçÂ≠óÂèØ‰ª•‰∏çÂíåÊñá‰ª∂ÂêçÁõ∏ÂêåÔºåÂáΩÊï∞‰πüÂèØ‰ª•Áõ¥Êé•Â£∞ÊòéÂú®Êñá‰ª∂‰∏≠ÔºåËÄå‰∏çÊòØÊüê‰∏™Á±ª‰∏≠„ÄÇ Ê≥®ÊÑèÔºö‰∏çÈúÄË¶ÅÂ£∞Êòé classÔºåÊâ©Â±ïÊñπÊ≥ïÂíåÂ±ûÊÄßÊòØÈùôÊÄÅÂä†ËΩΩÁöÑÔºå Áõ¥Êé•ÂÜôÂú® .kt Êñá‰ª∂‰∏≠Âç≥ÂèØ„ÄÇ Ê≥®ÊÑèÔºöÂú®Êâ©Â±ïÂ±ûÊÄßÁöÑ get() ÊñπÊ≥ï‰∏≠‰∏çË¶ÅËÆøÈóÆËØ•Â±ûÊÄßÔºåÂõ†‰∏∫‰Ω†‰∏ÄÊó¶ËÆøÈóÆËØ•Â±ûÊÄßÔºåÂ∞±‰ºöË∞ÉÁî® get() ÊñπÊ≥ïÔºå‰ªéËÄåÈÄ†ÊàêÂ†ÜÊ†àÊ∫¢Âá∫„ÄÇ Êñ∞Âª∫ ContextExtensions.kt Êñá‰ª∂ÔºåÂú®ÈáåÈù¢Â£∞ÊòéËØ•Êâ©Â±ïÂáΩÊï∞ÂíåÊâ©Â±ïÂ±ûÊÄß 12345678910111213// Êâ©Â±ïÂáΩÊï∞fun Context.logError(msg: String) &#123; Log.e(this.javaClass.simpleName, msg)&#125;// Êâ©Â±ïÂ±ûÊÄßvar Context.extensionProperty: String get() &#123; return javaClass.simpleName &#125; set(value) &#123; extensionProperty = value &#125; Êé•‰∏ãÊù•Â∞±ÂèØ‰ª•Âú®‰ªª‰Ωï Context ÁöÑÂÆûÁé∞Á±ªÔºåÊØîÂ¶Ç Activity ‰∏≠‰ΩøÁî® logError() ÂáΩÊï∞Âíå extensionProperty Â±ûÊÄß 1234// Êâ©Â±ïÂáΩÊï∞logError("ÊñπÊ≥ïÊâ©Â±ï")// Êâ©Â±ïÂ±ûÊÄßlogError(extensionProperty) Ëá™Âä®Á±ªÂûãÊé®Êñ≠KotlinÊîØÊåÅËá™Âä®ÁöÑÁ±ªÂûãÊé®Êñ≠ÔºåÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•Â¶Ç‰∏ãÂ£∞Êòé‰∏Ä‰∏™Â∏∏ÈáèÔºåÈÇ£‰πàÂ∏∏Èáè myStr ÁöÑÁ±ªÂûãË¢´Êé®Êñ≠‰∏∫ String Á±ªÂûã„ÄÇÂèØ‰ª•‰ΩøÁî® String ÁöÑAPI„ÄÇ 12val myStr = ""Log.e(tag,"str length = $&#123;myStr.length&#125;") ÂΩìËøõË°åÊòæÁ§∫Á±ªÂûãËΩ¨Êç¢Êó∂ÔºåËá™Âä®ËøõË°åÁ±ªÂûãÊé®Êñ≠Ôºå‰∏ãÈù¢Â£∞Êòé‰∫Ü‰∏§‰∏™Á±ªÔºåStudent ÁªßÊâøËá™ User ,Âú® stuUser is Student ÁöÑÂà§Êñ≠‰πãÂêéÔºåstuUser ÁöÑÁ±ªÂûãË¢´Êé®Êñ≠‰∏∫ Student ÔºåÂõ†Ê≠§ÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆ myClass Â±ûÊÄß„ÄÇ 123456789101112open class User(val name: String, val age: Int) &#123; // ‰∫åÁ∫ßÊûÑÈÄ†ÂáΩÊï∞ constructor() : this("", 0)&#125;class Student(name: String, age: Int,val myCls: String) : User(name, age)// Ëá™Âä®Á±ªÂûãÊé®Êñ≠val stuUser = User()if (stuUser is Student) &#123; // ËøôÈáåstuUserÂ∑≤ÁªèÊòØStudentÁ±ªÂûãÔºå‰∏çÈúÄË¶ÅËøõË°åÂº∫Âà∂ËΩ¨Êç¢„ÄÇ Log.e(tag, stuUser.myCls)&#125; ÊîØÊåÅ lambda Ë°®ËææÂºè‰ΩøÁî® lambda Ë°®ËææÂºèÂèØ‰ª•‰Ωø‰ª£Á†ÅÊõ¥Âä†Ê∏ÖÊô∞ÔºåÂéüÊù•‰∏ÄÂ±Ç‰∏ÄÂ±ÇÁöÑ {} ÈÉΩË¢´ÁúÅÁï•Êéâ‰∫ÜÔºå‰∏çÂèØÂê¶ËÆ§ÁöÑÊòØÂèØËØªÊÄßË¶ÅÊØîÂéüÊù•Â∑Æ‰∏ÄÁÇπÔºå‰∏çËøá‰π†ÊÉØ‰∫ÜÂ∞±Â•ΩÂ§ö‰∫Ü„ÄÇ Âè¶Â§ñ Kotlin ‰πü‰∏∫ lambda Ë°®ËææÂºèÊèê‰æõ‰∫ÜÂæàÂ§öÊâ©Â±ïÊîØÊåÅÔºåÊù•Âº∫Âåñ lambda Ë°®ËææÂºèÁöÑ‰ΩøÁî®ÔºåÂú®kotlin‰∏≠,Â¶ÇÊûúÂáΩÊï∞ÁöÑÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂáΩÊï∞ÔºåÈÇ£‰πàËøô‰∏™ÂèÇÊï∞ÂèØ‰ª•Áõ¥Êé•ÂÜôÂú®ÂúÜÊã¨Âè∑Â§ñÈù¢ÔºàË¶ÅÁî®Ëä±Êã¨Âè∑ÔºâÔºåÂ¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™ÂáΩÊï∞ÂèÇÊï∞ÔºåÂèØ‰ª•Áõ¥Êé•ÁúÅÁï•ÂúÜÊã¨Âè∑ÔºÅËÄå‰∏îÂΩìÂèÇÊï∞Âè™Êúâ‰∏Ä‰∏™Êó∂ÂèØ‰ª•ÁúÅÁï•ÂèÇÊï∞ËÄå‰ΩøÁî® it Êù•‰ª£Êõø„ÄÇ 12345678910111213141516171819mTestTv.setOnClickListener &#123; v -&gt; run &#123; logError("test" + v.id) &#125;&#125;mTestTv.setOnClickListener &#123; v -&gt; if (v.id == 0) &#123; logError("test$&#123;v.id&#125;)") &#125; else &#123; logError( "test$&#123;v.id&#125;)") &#125;&#125;mTestTv.setOnClickListener &#123; logError("test$&#123;it.id&#125;)")&#125; ÂáΩÊï∞ÊòØ‰∏ÄÁ≠âÂÖ¨Ê∞ëÂáΩÊï∞ÊòØ‰∏ÄÁ≠âÂÖ¨Ê∞ëÊåáÁöÑÊòØÂáΩÊï∞ÂíåÂØπË±°ÔºåÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûã‰∏ÄÊ†∑ÔºåÂèØ‰ª•‰Ωú‰∏∫ÂèòÈáèÔºåÂèØ‰ª•‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÔºåÂèØ‰ª•‰Ωú‰∏∫ËøîÂõûÂÄº„ÄÇ ÂáΩÊï∞‰∏ç‰æùËµñ‰∫éÁ±ªÔºåÂèØ‰ª•Áã¨Á´ãÂ≠òÂú®„ÄÇ KotlinÊîØÊåÅÂáΩÊï∞ÂºèÁºñÁ®ã„ÄÇÂáΩÊï∞Â£∞ÊòéÁöÑÊñπÂºè‰∏∫ (ÂèÇÊï∞Âêç:ÂèÇÊï∞Á±ªÂûã...)-&gt; ËøîÂõûÂÄºÁ±ªÂûã ÔºåÊØîÂ¶Ç (param:String)-&gt;Int ÔºåÊåáÁöÑÊòØ‰∏Ä‰∏™ÂèÇÊï∞‰∏∫ String Á±ªÂûãÔºåËøîÂõûÂÄºÊòØ Int Á±ªÂûãÁöÑÂáΩÊï∞ÔºåÂ¶ÇÊûúÊ≤°ÊúâËøîÂõûÂÄºÂàô‰ΩøÁî® Unit ÂÖ≥ÈîÆÂ≠ó„ÄÇ ÂàöÂºÄÂßãÂ∞ùËØïÂÉè‰ΩøÁî®ÂèòÈáè‰∏ÄÊ†∑‰ΩøÁî®ÂáΩÊï∞ÔºåÊúâ‰∫õ‰∏çÂ§™ÈÄÇÂ∫îÔºåÂΩì‰Ω†ÈúÄË¶ÅÂ∞ÜÂáΩÊï∞ËøõË°å‰º†ÈÄíËµãÂÄºÊó∂ÔºåÂÖàÂÜô‰∏Ä‰∏™ {}ÔºåÂ∞ÜÂáΩÊï∞Â£∞ÊòéÂú® {} ‰∏≠Âç≥ÂèØÔºõ Â∞ùËØïÁÆÄÂçïÂ£∞ÊòéÂáΩÊï∞ 12345678fun myFun(param: String): Int &#123; logError("ÂáΩÊï∞") return param.hashCode()&#125;fun myFunReturnVoid(param: String): Unit &#123; logError("Â£∞ÊòéÂáΩÊï∞ËøîÂõûÁ©∫")&#125; ÂáΩÊï∞‰Ωú‰∏∫ÂèòÈáè 12345678// ÂáΩÊï∞‰Ωú‰∏∫ÂèòÈáèval funVal: (param: String) -&gt; Int = &#123; // ÂèÇÊï∞param param: String -&gt; // ËøîÂõûhashcode param.hashCode()&#125;funVal("ÊµãËØïÂáΩÊï∞‰Ωú‰∏∫ÂèòÈáèË∞ÉÁî®") ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞Ôºå‰∏ãÈù¢ÁöÑÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÂèÇÊï∞‰∏∫ String ËøîÂõûÂÄº‰∏∫ Int ÁöÑÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂Ë∞ÉÁî®‰ªñ„ÄÇlis ÊòØÂΩ¢ÂèÇÔºå(String) -&gt; Int)ÊòØÂáΩÊï∞Á±ªÂûã„ÄÇ‰∏ãÈù¢ÁöÑ‰∏§‰∏™ÈáçËΩΩÂáΩÊï∞ÁöÑ‰æãÂ≠êÔºåÊòØ‰∏∫‰∫ÜÂ±ïÁ§∫Âè™Êúâ‰∏Ä‰∏™ÂáΩÊï∞ÂèÇÊï∞Êó∂ÁöÑÁÆÄÂåñÂÜôÊ≥ïÔºåÂ§ö‰∏™ÂèÇÊï∞Êó∂‰ΩøÁî®Â∏∏ËßÑÂÜôÊ≥ï„ÄÇÁªìÂêà‰∏äÈù¢ lambda Ë°®ËææÂºèÁöÑÁõ∏ÂÖ≥Áî®Ê≥ï„ÄÇ 12345678910111213141516171819// Âè™Êúâ‰∏Ä‰∏™ÂáΩÊï∞ÂÅöÂèÇÊï∞ÔºåÂπ∂‰∏îÂè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞fun testFunOneFunParam(lis: (String) -&gt; Int): Int &#123; return lis("ÊµãËØïÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄí,Âè™Êúâ‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞")&#125;// ÊúâÂ§ö‰∏™ÂèÇÊï∞ÔºåÂπ∂‰∏îÂáΩÊï∞‰∏çÊòØÊúÄÂêé‰∏Ä‰∏™fun testFunMultiParam(lis: (String) -&gt; Int, param: String): Int &#123; return lis("ÊµãËØïÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄí,Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂáΩÊï∞")&#125;// Ë∞ÉÁî®testFunOneFunParam &#123; param -&gt; param.hashCode()&#125;testFunMultiParam(&#123; param -&gt; param.hashCode()&#125;, "ÊµãËØïÂáΩÊï∞‰∏çÊòØ‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÊÉÖÂÜµ") ÂáΩÊï∞‰Ωú‰∏∫ËøîÂõûÂÄº 12345678910// ÂáΩÊï∞‰Ωú‰∏∫ËøîÂõûÂÄºfun returnFun(param: String): ((intParam: Int) -&gt; String) &#123; return &#123; intParam -&gt; "int param is $intParam param is $param" &#125;&#125;// Ë∞ÉÁî®returnFun("ÊâßË°åÂÆåËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞")(100) ÂçïË°®ËææÂºèÂáΩÊï∞ÔºåÂΩìÂáΩÊï∞ÁöÑËøîÂõûÂÄºÂè™Êúâ‰∏Ä‰∏™ÁÆÄÂçïË°®ËææÂºèÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®ÂçïË°®ËææÂºèÂáΩÊï∞ÔºåÁÆÄÂåñ‰ª£Á†Å 123456789// ÂçïË°®ËææÂºèÂáΩÊï∞fun testFun2() = 100// ÂçïË°®ËææÂºèÂáΩÊï∞ÁªìÂêàwhenfun testFun3(param: Int) = when (param) &#123; 0 -&gt; 0 in 1..5 -&gt; 1 5, 6, 7 -&gt; 2 else -&gt; 100&#125; Êï∞ÊçÆÁ±ªÊàë‰ª¨ÁªèÂ∏∏‰ºöÂàõÂª∫‰∏Ä‰∫õÊï∞ÊçÆÁ±ª, ‰ªÄ‰πàÂäüËÉΩ‰πüÊ≤°Êúâ, ËÄå‰ªÖ‰ªÖÁî®Êù•‰øùÂ≠òÊï∞ÊçÆ. Âú®Ëøô‰∫õÁ±ª‰∏≠, Êüê‰∫õÂ∏∏ËßÅÁöÑÂäüËÉΩÁªèÂ∏∏ÂèØ‰ª•Áî±Á±ª‰∏≠‰øùÂ≠òÁöÑÊï∞ÊçÆÂÜÖÂÆπÂç≥ÂèØËá™Âä®Êé®Êñ≠ÂæóÂà∞. Âú® Kotlin ‰∏≠, Êàë‰ª¨Â∞ÜËøôÊ†∑ÁöÑÁ±ªÁß∞‰∏∫ Êï∞ÊçÆÁ±ª, ÈÄöËøá data ÂÖ≥ÈîÆÂ≠óÊ†áËÆ∞Ôºõ ÂÆö‰πâ‰∏Ä‰∏™Êï∞ÊçÆÁ±ªÔºåÂè™ÈúÄË¶Å‰∏ÄË°å‰ª£Á†ÅÂç≥ÂèØÔºå{} ÂèØ‰ª•ÁúÅÁï•ÊéâÔºåÊï∞ÊçÆÁ±ª‰ºöÈªòËÆ§ÁîüÊàê equals() ÔºåtoString() Ôºå copy() Á≠âÊñπÊ≥ïÔºåËøôÈáåÁâπÂà´Êèê‰∏Ä‰∏ã copy() ÔºåÂèØ‰ª•ÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÊçÆÔºåËøô‰∏™ÁâπÊÄßÊòØÁõ∏ÂΩì‰∏çÈîôÁöÑ„ÄÇ ÂΩìÁÑ∂Êï∞ÊçÆÁ±ª‰πüÊúâÂæàÂ§öÈôêÂà∂ ‰∏ªÊûÑÈÄ†Âô®Ëá≥Â∞ëË¶ÅÊúâ‰∏Ä‰∏™ÂèÇÊï∞;‰∏ªÊûÑÈÄ†Âô®ÁöÑÊâÄÊúâÂèÇÊï∞ÂøÖÈ°ªÊ†áËÆ∞‰∏∫ val Êàñ var;Êï∞ÊçÆÁ±ª‰∏çËÉΩÊòØabstractÁ±ª, open Á±ª, Â∞ÅÈó≠(sealed)Á±ª, ÊàñÂÜÖÈÉ®(inner)Á±ª;Êï∞ÊçÆÁ±ª‰∏çËÉΩÁªßÊâøËá™‰ªª‰ΩïÂÖ∂‰ªñÁ±ª(‰ΩÜÂèØ‰ª•ÂÆûÁé∞Êé•Âè£). 1234data class DataModel(val param1: String, val param2: Int)// ‰ΩøÁî®val dataModel = DataModel("p1",100)dataModel.copy("p2",99) Êï∞ÊçÆÁ±ªÊ∑ªÂä†ÊàêÂëòÊñπÊ≥ï 123456data class DataModel(val param1: String, val param2: Int) &#123; fun speak(msg: String) &#123; Log.e("DataModel", "speak$msg") &#125;&#125;dataModel.speak("haha")]]></content>
      <categories>
        <category>Kotlin</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SQL]]></title>
    <url>%2Farticle%2F1299261529%2F</url>
    <content type="text"><![CDATA[1. ÂâçË®Ä SQLÔºåÊåáÁªìÊûÑÂåñÊü•ËØ¢ËØ≠Ë®ÄÔºåÂÖ®Áß∞ÊòØ(Structured Query Language)ÔºåSQL ËØ≠Âè•ÊòØÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑüÁöÑ„ÄÇËØ¥ÊòéÔºö‰ΩøÁî®db_name‰Ωú‰∏∫Êï∞ÊçÆÂ∫ìÂêçÔºå‰ΩøÁî®tb_name‰Ωú‰∏∫Ë°®Âêç„ÄÇ‰ΩøÁî®col_name‰Ωú‰∏∫ÂàóÂêçÔºå‰ΩøÁî®row_name‰Ωú‰∏∫Ë°åÂêç„ÄÇ‰ΩøÁî®alias_name‰Ωú‰∏∫Âà´Âêç„ÄÇ[xxx]Ë°®Á§∫ÂèØÈÄâ‰ΩøÁî®ÁöÑÂ±ûÊÄß„ÄÇ(a‚Ä¶|b‚Ä¶|c‚Ä¶)Ë°®Á§∫‰∏âÁßçÊÉÖÂÜµ‰ªªÈÄâ‰∏ÄÁßç‰ΩøÁî®„ÄÇ 2. Êï∞ÊçÆÂ∫ìÈÖçÁΩÆ123456789ÁºñËæë ./bash_profile Êñá‰ª∂ÔºåÂä†ÂÖ•Âà´Âêçopen ~/.bash_profile# mysqlalias mysql=/usr/local/mysql/bin/mysqlËøûÊé•Âà∞mysqlÊúçÂä°mysql -u root -p 3. Â∫ìÊìç‰ΩúËØ≠Âè•1234567891011121314ÊòæÁ§∫Êï∞ÊçÆÂ∫ìÂàóË°®SHOW databases;ÂàõÂª∫Êï∞ÊçÆÂ∫ìCREATE DATABASE db_name; ‰ΩøÁî®Êï∞ÊçÆÂ∫ìUSE db_name; Âà†Èô§Êï∞ÊçÆÂ∫ìDROP database db_name;‰ΩøÁî®Â≠óÁ¨¶ÈõÜSET names utf8; 4. Ë°®Êìç‰ΩúËØ≠Âè•ÂÖ≥‰∫éË°®Â≠óÊÆµÁ∫¶ÊùüÁöÑËÆ≤Ëß£ËßÅÈôÑ2 123456789101112131415161718192021222324252627282930313233343536373839404142434445ÂàõÂª∫Ë°®CREATE TABLE table_name(col_name1 data_type(size) [Á∫¶Êùü],col_name2 data_type(size) [Á∫¶Êùü],col_name3 data_type(size) [Á∫¶Êùü],....);eg:CREATE TABLE Persons(PersonID int,LastName varchar(255),FirstName varchar(255),Address varchar(255),City varchar(255));Âà†Èô§Ë°®DROP TABLE tb_name;Âà†Èô§Ë°®Êï∞ÊçÆÔºå‰ΩÜÊòØ‰øùÁïôË°®ÁªìÊûÑTRUNCATE TABLE tb_nameÂ¢ûÂä†‰∏ÄÂàóALTER TABLE tb_name ADD col_name Êï∞ÊçÆÁ±ªÂûã [Á∫¶Êùü]Âà†Èô§‰∏ÄÂàóALTER TABLE tb_name DROP COLUMN col_name;‰øÆÊîπ‰∏ÄÂàóALTER TABLE tb_name ALTER old_col_name new_col_name Êï∞ÊçÆÁ±ªÂûã [Á∫¶Êùü]‰øÆÊîπ‰∏ÄÂàóÁöÑÊï∞ÊçÆÁ±ªÂûã/* SQL Server / MS Access */ALTER TABLE tb_nameMODIFY COLUMN col_name Êï∞ÊçÆÁ±ªÂûã/* My SQL / Oracle */ALTER TABLE tb_nameALTER COLUMN col_name Êï∞ÊçÆÁ±ªÂûãÊ∑ªÂä†‰∏ªÈîÆALTER TABLE tb_name ADD PRIMARY KEY(col_name);Âà†Èô§‰∏ªÈîÆALTER TABLE tb_name DROP PRIMARY KEY(col_name); 5. Â¢ûÂà†ÊîπÊü•ËØ≠Âè•5.1 SELECT ËØ≠Âè•123456Âü∫Êú¨Êü•ËØ¢ËØ≠Âè•[DISTINCT] ÂèØÈÄâÔºåÁî®‰∫éËøîÂõûÂîØ‰∏Ä‰∏çÂêåÁöÑÂÄº„ÄÇSELECT [DISTINCT] * FROM tb_name;SELECT [DISTINCT] col_name1,col_name2 FROM tb_name;eg:SELECT name,country FROM Websites; 5.2 SELECT INTO ËØ≠Âè•‰ΩøÁî®SELECT INTOÂíå INSERT INTO SELECT ËØ≠Âè•ÔºåÂ§çÂà∂Ë°®Êï∞ÊçÆ„ÄÇMySQL Êï∞ÊçÆÂ∫ì‰∏çÊîØÊåÅ SELECT INTO ËØ≠Âè•Ôºå‰ΩÜÊîØÊåÅ INSERT INTO SELECT„ÄÇÊñ∞Ë°®Â∞Ü‰ºö‰ΩøÁî® SELECT ËØ≠Âè•‰∏≠ÂÆö‰πâÁöÑÂàóÂêçÁß∞ÂíåÁ±ªÂûãËøõË°åÂàõÂª∫„ÄÇÊÇ®ÂèØ‰ª•‰ΩøÁî® AS ÂÖ≥ÈîÆÂ≠óÊù•Â∫îÁî®Êñ∞ÂêçÁß∞„ÄÇ 12345678910111213141516171819Â§çÂà∂ÂÖ®ÈÉ®Êï∞ÊçÆÊàñËÄÖ‰ΩøÁî®WHEREÂ≠êÂè•Á≠õÈÄâSELECT *INTO new_tb_name [IN db_name]FROM old_tb_name;orÂ§çÂà∂ÊåáÂÆöÂàóÊï∞ÊçÆÊàñËÄÖ‰ΩøÁî®WHEREÂ≠êÂè•Á≠õÈÄâSELECT col_name...INTO new_tb_name [IN db_name]FROM old_tb_name;Â§çÂà∂ÂÖ®ÈÉ®Êï∞ÊçÆÊàñËÄÖ‰ΩøÁî®WHEREÂ≠êÂè•Á≠õÈÄâINSERT INTO new_tb_nameSELECT * FROM old_tb_name;orÂ§çÂà∂ÊåáÂÆöÂàóÊï∞ÊçÆÊàñËÄÖ‰ΩøÁî®WHEREÂ≠êÂè•Á≠õÈÄâINSERT INTO new_tb_name(col_name...)SELECT col_name...FROM old_tb_name; 5.3 INSERT INTO ËØ≠Âè•1234567891011// ‰∏çÊåáÂÆöÂàóÂêçÊèíÂÖ•INSERT INTO tb_nameVALUES (value1,value2,value3,...);// ÊåáÂÆöÂàóÂêçÊèíÂÖ•INSERT INTO tb_name (col_name1,col_name2,col_name3,...)VALUES (value1,value2,value3,...);eg:INSERT INTO Websites (name, url, country)VALUES ('stackoverflow', 'http://stackoverflow.com/', 'IND'); 5.4 UPDATE ËØ≠Âè•12345678910‰ΩøÁî®UPDATEËØ≠Âè•Êó∂Ôºå‰∏ÄÂÆöË¶ÅÊ∑ªÂä†WHEREÊù°‰ª∂ÔºåÂê¶Âàô‰ºöÊõ¥Êñ∞ÊâÄÊúâÁöÑÊï∞ÊçÆ„ÄÇUPDATE tb_nameSET col_name1=value1,col_name2=value2,...WHERE (ËøôÈáåÂèÇÁÖßWHEREÂ≠êÂè•ÔºåÂåπÈÖçÊåáÂÆöÊï∞ÊçÆ);eg:UPDATE Websites SET alexa='5000', country='USA' WHERE name='aasdfghjkl'; 5.5 DELETE ËØ≠Âè•123456789DELETE FROM tb_nameWHERE (ËøôÈáåÂèÇÁÖßWHEREÂ≠êÂè•ÔºåÂåπÈÖçÊåáÂÆöÊï∞ÊçÆ);DELETE * FROM tb_nameWHERE (ËøôÈáåÂèÇÁÖßWHEREÂ≠êÂè•ÔºåÂåπÈÖçÊåáÂÆöÊï∞ÊçÆ);eg:DELETE FROM WebsitesWHERE name='ÁôæÂ∫¶' AND country='CN'; 6. WHERE Â≠êÂè•1234SELECT col_name1,col_name2FROM tb_nameWHERE col_name1 operator value1 [ÈÄªËæëËøêÁÆóÁ¨¶ col_name2 operator value2...]; 6.1 ÈÄªËæëËøêÁÆóÁ¨¶1234567891011ÈÄªËæëËøêÁÆóÁ¨¶NOT ÈùûÊìç‰ΩúAND ‰∏éÊìç‰ΩúÔºåË°®ËææÂºèÂâçÂêéÊù°‰ª∂ÂøÖÈ°ªÈÉΩÊàêÁ´ãÊâç‰∏∫trueOR ÊàñÊìç‰ΩúÔºåË°®ËææÂºèÂâçÂêéÊìç‰ΩúÊúâ‰∏Ä‰∏™ÊàêÁ´ãÂç≥‰∏∫trueÈÄªËæëËøêÁÆóÁöÑ‰ºòÂÖàÁ∫ßÔºö() NOT AND OReg:SELECT * FROM WebsitesWHERE alexa &gt; 15AND (country='CN' OR country='USA'); 6.2 ÊØîËæÉËøêÁÆóÁ¨¶123456789101112131415161718192021222324252627282930313233343536373839/*ÊØîËæÉËøêÁÆóÁ¨¶=,&gt;,&lt;,&gt;=,&lt;=,&lt;&gt;(‰∏çÁ≠â‰∫éÔºå‰∏Ä‰∫õÁâàÊú¨‰∏≠ÂÜô‰Ωú!=),BETWEEN...AND(Âú®ËåÉÂõ¥ÂÜÖ),LIKE(Ê®°Á≥äÊü•ËØ¢),IN(ÊåáÂÆöÊâÄÊúâÂèØËÉΩÂÄºËøõË°åÂåπÈÖç),IS NULL(Á©∫ÂÄºÂà§Êñ≠)*/eg:Á©∫ÂÄºÊü•ËØ¢ IS NULLSELECT * FROM tb)nae WHERE col_name IS NULL;Â≠òÂú®Êü•ËØ¢ INSELECT * FROM tb_name WHERE col_name IN (5000,3000,1500);SELECT * FROM tb_name WHERE col_name IN ('abc','tyu','test');Âå∫Èó¥Êü•ËØ¢ BETWEEN...AND...Âå∫Èó¥Êü•ËØ¢‰∏§ËæπÈÉΩÊòØÈó≠Âå∫Èó¥ÔºåÁ±ª‰ºº[1,100]SELECT * FROM tb_name WHERE col_name BETWEEN 100 AND 200;Ê®°Á≥äÊü•ËØ¢ LIKESELECT * FROM tb_name WHERE col_name LIKE 'M%';todo Ê®°Á≥äÊü•ËØ¢ÈÄöÈÖçÁ¨¶% Ë°®Á§∫Â§ö‰∏™Â≠óÂÄºÔºå_ ‰∏ãÂàíÁ∫øË°®Á§∫‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ M% : ‰∏∫ËÉΩÈÖçÁ¨¶ÔºåÊ≠£ÂàôË°®ËææÂºèÔºåË°®Á§∫ÁöÑÊÑèÊÄù‰∏∫Ê®°Á≥äÊü•ËØ¢‰ø°ÊÅØ‰∏∫ M ÂºÄÂ§¥ÁöÑ„ÄÇ %M% : ÂèåÁôæÂàÜÂè∑Ë°®Á§∫Êü•ËØ¢ÁöÑ‰ø°ÊÅØÂú®ÂÜÖÂÆπ‰∏≠Èó¥„ÄÇ %M_% : Ë°®Á§∫Êü•ËØ¢ÁöÑÂ≠óÊØçÂú®ÂÜÖÂÆπÁöÑÂÄíÊï∞Á¨¨‰∫å‰Ωç„ÄÇ 7. JOIN Â≠êÂè•(Ë°®ËøûÊé•)JOIN Â≠êÂè•Áî®‰∫éÂü∫‰∫éËøô‰∫õË°®‰πãÈó¥ÁöÑÂÖ±ÂêåÂ≠óÊÆµÊääÊù•Ëá™‰∏§‰∏™ÊàñÂ§ö‰∏™Ë°®ÁöÑË°åÁªìÂêàËµ∑Êù•„ÄÇ ËøûÊé•ÊñπÂºè ÊèèËø∞ INNER JOIN Â¶ÇÊûúË°®‰∏≠ÊúâËá≥Â∞ë‰∏Ä‰∏™ÂåπÈÖçÔºåÂàôËøîÂõûË°å LEFT JOIN Âç≥‰ΩøÂè≥Ë°®‰∏≠Ê≤°ÊúâÂåπÈÖçÔºå‰πü‰ªéÂ∑¶Ë°®ËøîÂõûÊâÄÊúâÁöÑË°å RIGHT JOIN Âç≥‰ΩøÂ∑¶Ë°®‰∏≠Ê≤°ÊúâÂåπÈÖçÔºå‰πü‰ªéÂè≥Ë°®ËøîÂõûÊâÄÊúâÁöÑË°å FULL JOIN Âè™Ë¶ÅÂÖ∂‰∏≠‰∏Ä‰∏™Ë°®‰∏≠Â≠òÂú®ÂåπÈÖçÔºåÂàôËøîÂõûË°å 7.1 INNER JOIN ÂÜÖËøûÊé•INNER JOIN ‰πüÂèØ‰ª•ÁÆÄÂÜô‰∏∫ JOININNER JOINÂÖ≥ÈîÆÂ≠óÂú®Ë°®‰∏≠Â≠òÂú®Ëá≥Â∞ë‰∏Ä‰∏™ÂåπÈÖçÊó∂ËøîÂõûË°å„ÄÇ1234SELECT col_nameFROM tb_name1INNER JOIN tb_name2ON tb_name1.col_name=tb_name2.col_name; 7.2 LEFT OUTER JOIN Â∑¶Â§ñËøûÊé•LEFT OUTER JOIN‰πüÂèØ‰ª•ÁÆÄÂÜô‰∏∫ LEFT JOINLEFT JOIN ÂÖ≥ÈîÆÂ≠ó‰ªéÂ∑¶Ë°®ËøîÂõûÊâÄÊúâÁöÑË°åÔºåÂç≥‰ΩøÂè≥Ë°®‰∏≠Ê≤°ÊúâÂåπÈÖçÔºåÂ¶ÇÊûúÂè≥Ë°®‰∏≠Ê≤°ÊúâÂåπÈÖçÔºåÂàôÁªìÊûú‰∏∫ NULL„ÄÇ1234SELECT col_nameFROM tb_name1LEFT OUTER JOIN tb_name2ON tb_name1.col_name=tb_name2.col_name; 7.3 RIGHT OUTER JOIN Âè≥Â§ñËøûÊé•RIGHT OUTER JOIN ‰πüÂèØ‰ª•ÁÆÄÂÜô‰∏∫ RIGHT JOINRIGHT JOIN ÂÖ≥ÈîÆÂ≠ó‰ªéÂè≥Ë°®ËøîÂõûÊâÄÊúâÁöÑË°åÔºåÂç≥‰ΩøÂ∑¶Ë°®‰∏≠Ê≤°ÊúâÂåπÈÖçÔºåÂ¶ÇÊûúÂ∑¶Ë°®‰∏≠Ê≤°ÊúâÂåπÈÖçÔºåÂàôÁªìÊûú‰∏∫NULL„ÄÇ1234SELECT col_nameFROM tb_name1RIGHT OUTER JOIN tb_name2ON tb_name1.col_name=tb_name2.col_name; 7.4 FULL OUTER JOIN ÂÖ®Â§ñËøûÊé•FULL OUTER JOIN ÂÖ≥ÈîÆÂ≠óÂè™Ë¶ÅÂ∑¶Ë°® ÂíåÂè≥Ë°® ÂÖ∂‰∏≠‰∏Ä‰∏™Ë°®‰∏≠Â≠òÂú®ÂåπÈÖçÔºåÂàôËøîÂõûË°å.FULL OUTER JOIN ÂÖ≥ÈîÆÂ≠óÁªìÂêà‰∫Ü LEFT JOIN Âíå RIGHT JOIN ÁöÑÁªìÊûú„ÄÇ1234SELECT col_nameFROM tb_name1FULL OUTER JOIN tb_name2ON tb_name1.col_name=tb_name2.col_name; 8. ÂÖ≥ÈîÆÂ≠ó8.1 AS ÂÖ≥ÈîÆÂ≠ó,‰ΩøÁî®Âà´Âêç‰ΩøÁî®ASÂÖ≥ÈîÆÂ≠óÔºåÂèØ‰ª•‰∏∫Ë°®ÂêçÁß∞ÊàñÂàóÂêçÁß∞ÊåáÂÆöÂà´ÂêçÔºåÂü∫Êú¨‰∏äÔºåÂàõÂª∫Âà´ÂêçÊòØ‰∏∫‰∫ÜËÆ©ÂàóÂêçÁß∞ÁöÑÂèØËØªÊÄßÊõ¥Âº∫Ôºå‰ª•‰∏ãÊÉÖÂÜµ‰ΩøÁî®Âà´ÂêçÂæàÊúâÁî®„ÄÇ Âú®Êü•ËØ¢‰∏≠Ê∂âÂèäË∂ÖËøá‰∏Ä‰∏™Ë°® Âú®Êü•ËØ¢‰∏≠‰ΩøÁî®‰∫ÜÂáΩÊï∞ ÂàóÂêçÁß∞ÂæàÈïøÊàñËÄÖÂèØËØªÊÄßÂ∑Æ ÈúÄË¶ÅÊää‰∏§‰∏™ÂàóÊàñËÄÖÂ§ö‰∏™ÂàóÁªìÂêàÂú®‰∏ÄËµ∑ ps:Âà´ÂêçÂ¶ÇÊûúÂåÖÂê´Á©∫Ê†ºÔºåË¶ÅÊ±Ç‰ΩøÁî®ÂèåÂºïÂè∑ÊàñÊñπÊã¨Âè∑„ÄÇ 12345678910111213141516ÂàóÂà´ÂêçÁî®Ê≥ï‰ΩøÁî®ÂàóÂà´ÂêçÊü•ËØ¢‰πãÂêéÁöÑÂ±ïÁ§∫Êï∞ÊçÆÂ∞Ü‰ΩøÁî®Âà´ÂêçÊù•Â±ïÁ§∫SELECT col_name AS alias_nameFROM tb_name;eg:SELECT name AS n, country AS cFROM Websites;Ë°®Âà´ÂêçÁî®Ê≥ïSELECT col_nameFROM tb_name AS alias_name;eg:SELECT w.name, w.url, a.count, a.date FROM Websites AS w, access_log AS a WHERE a.site_id=w.id and w.name="ÁôæÂ∫¶"; 8.2 ORDER BY ÂÖ≥ÈîÆÂ≠ó12345678910ORDER BY ÂÖ≥ÈîÆÂ≠óÈªòËÆ§ÊåâÁÖßÂçáÂ∫èÂØπËÆ∞ÂΩïËøõË°åÊéíÂ∫è„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÊåâÁÖßÈôçÂ∫èÂØπËÆ∞ÂΩïËøõË°åÊéíÂ∫èÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî® DESC ÂÖ≥ÈîÆÂ≠ó„ÄÇSELECT col_name1,col_name2FROM tb_nameORDER BY col_name (ASC|DESC)[,col_name (ASC|DESC)...];eg:SELECT * FROM WebsitesORDER BY alexa DESC; 8.3 LIMIT ÂÖ≥ÈîÆÂ≠ó12345‰ΩøÁî®limitÂÖ≥ÈîÆÂ≠óÔºåÂèØ‰ª•Ë∑≥ËøámÊù°Êï∞ÊçÆÔºåÊü•ËØ¢nÊù°Êï∞ÊçÆÔºåmÂèØ‰ª•ÁúÅÁï•ÔºåË°®Á§∫‰ªéÂ§¥ÂºÄÂßãÊü•ËØ¢„ÄÇSELECT * FROM tb_name LIMIT [m,]n;egÔºöSELECT * FROM Websites LIMIT 3,2; 8.4 UNION ÂÖ≥ÈîÆÂ≠óUNION Êìç‰ΩúÁ¨¶Áî®‰∫éÂêàÂπ∂‰∏§‰∏™ÊàñÂ§ö‰∏™ SELECT ËØ≠Âè•ÁöÑÁªìÊûúÈõÜ„ÄÇUNION ÂÜÖÈÉ®ÁöÑÊØè‰∏™ SELECT ËØ≠Âè•ÂøÖÈ°ªÊã•ÊúâÁõ∏ÂêåÊï∞ÈáèÁöÑÂàó„ÄÇÂàó‰πüÂøÖÈ°ªÊã•ÊúâÁõ∏‰ººÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇÂêåÊó∂ÔºåÊØè‰∏™ SELECT ËØ≠Âè•‰∏≠ÁöÑÂàóÁöÑÈ°∫Â∫èÂøÖÈ°ªÁõ∏Âêå„ÄÇUNION ÁªìÊûúÈõÜ‰∏≠ÁöÑÂàóÂêçÊÄªÊòØÁ≠â‰∫é UNION ‰∏≠Á¨¨‰∏Ä‰∏™ SELECT ËØ≠Âè•‰∏≠ÁöÑÂàóÂêç„ÄÇUNION Âè™‰ºöÈÄâÂèñ‰∏çÂêåÁöÑÂÄº„ÄÇËØ∑‰ΩøÁî® UNION ALL Êù•ÈÄâÂèñÈáçÂ§çÁöÑÂÄºÔºÅ 1234567SELECT col_name FROM tb_name1UNIONSELECT col_name FROM tb_name2;SELECT col_name FROM tb_name1UNION ALLSELECT col_name FROM tb_name2; 9. ÂáΩÊï∞9.1 CONCAT()ËøûÊé•ÂáΩÊï∞ÁªìÊûúÂ∞Ü‰ºöÊãºÊé•CONCAT()ÂáΩÊï∞‰∏≠ÁöÑÂÖ®ÈÉ®ÂÄº 1234‰∏ãÈù¢ÁöÑ‰æãÂ≠êÂ∞Ü‰ºöÊãºÊé•‰∏â‰∏™Â≠óÊÆµÁöÑÂÄº(ÁªìÊûúÔºö'www.baidu.com,100,china')ÔºåÂπ∂‰Ωú‰∏∫‰∏ÄÂàó(site_info)ÊòæÁ§∫SELECT name, CONCAT(url, ', ', alexa, ', ', country) AS site_infoFROM Websites; 10. Á¥¢ÂºïÂú®‰∏çËØªÂèñÊï¥‰∏™Ë°®ÁöÑÊÉÖÂÜµ‰∏ãÔºåÁ¥¢Âºï‰ΩøÊï∞ÊçÆÂ∫ìÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•Êõ¥Âø´Âú∞Êü•ÊâæÊï∞ÊçÆ„ÄÇÂú®Ë°®‰∏≠ÂàõÂª∫Á¥¢ÂºïÔºå‰ª•‰æøÊõ¥Âä†Âø´ÈÄüÈ´òÊïàÂú∞Êü•ËØ¢Êï∞ÊçÆ„ÄÇÁî®Êà∑Êó†Ê≥ïÁúãÂà∞Á¥¢ÂºïÔºåÂÆÉ‰ª¨Âè™ËÉΩË¢´Áî®Êù•Âä†ÈÄüÊêúÁ¥¢/Êü•ËØ¢„ÄÇÊõ¥Êñ∞‰∏Ä‰∏™ÂåÖÂê´Á¥¢ÂºïÁöÑË°®ÈúÄË¶ÅÊØîÊõ¥Êñ∞‰∏Ä‰∏™Ê≤°ÊúâÁ¥¢ÂºïÁöÑË°®Ëä±Ë¥πÊõ¥Â§öÁöÑÊó∂Èó¥ÔºåËøôÊòØÁî±‰∫éÁ¥¢ÂºïÊú¨Ë∫´‰πüÈúÄË¶ÅÊõ¥Êñ∞„ÄÇÂõ†Ê≠§ÔºåÁêÜÊÉ≥ÁöÑÂÅöÊ≥ïÊòØ‰ªÖ‰ªÖÂú®Â∏∏Â∏∏Ë¢´ÊêúÁ¥¢ÁöÑÂàóÔºà‰ª•ÂèäË°®Ôºâ‰∏äÈù¢ÂàõÂª∫Á¥¢Âºï„ÄÇ 10.1 ÂàõÂª∫Á¥¢Âºï12345678910111213141516ÂàõÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁ¥¢Âºï„ÄÇÂÖÅËÆ∏‰ΩøÁî®ÈáçÂ§çÁöÑÂÄºÔºöCREATE INDEX index_nameON table_name (column_name)Âú®Ë°®‰∏äÂàõÂª∫‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÁ¥¢Âºï„ÄÇ‰∏çÂÖÅËÆ∏‰ΩøÁî®ÈáçÂ§çÁöÑÂÄºÔºöÂîØ‰∏ÄÁöÑÁ¥¢ÂºïÊÑèÂë≥ÁùÄ‰∏§‰∏™Ë°å‰∏çËÉΩÊã•ÊúâÁõ∏ÂêåÁöÑÁ¥¢ÂºïÂÄº„ÄÇ CREATE UNIQUE INDEX index_nameON table_name (column_name)Ê≥®ÈáäÔºöÁî®‰∫éÂàõÂª∫Á¥¢ÂºïÁöÑËØ≠Ê≥ïÂú®‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ì‰∏≠‰∏ç‰∏ÄÊ†∑„ÄÇÂõ†Ê≠§ÔºåÊ£ÄÊü•ÊÇ®ÁöÑÊï∞ÊçÆÂ∫ì‰∏≠ÂàõÂª∫Á¥¢ÂºïÁöÑËØ≠Ê≥ï„ÄÇ eg:ÂàõÂª∫Á¥¢ÂºïCREATE INDEX PIndexON Persons (LastName)Âú®Â§ö‰∏™Âàó‰∏äÂàõÂª∫Á¥¢ÂºïCREATE INDEX PIndexON Persons (LastName, FirstName) 10.2 Âà†Èô§Á¥¢Âºï12345678/* MS Access */DROP INDEX index_name ON table_name/* MS SQL Server */DROP INDEX table_name.index_name/* DB2/Oracle */DROP INDEX index_name/* MySQL */ALTER TABLE table_name DROP INDEX index_name ÈôÑ1. Ê®°Á≥äÊü•ËØ¢ÈôÑ1.1. ÈÄöÈÖçÁ¨¶ ÈÄöÈÖçÁ¨¶ ÊèèËø∞ Á§∫‰æã % ‰ª£Êõø0‰∏™ÊàñËÄÖÂ§ö‰∏™Â≠óÁ¨¶ chen%,ÂåπÈÖçchenÂºÄÂ§¥ÁöÑÂÖ®ÈÉ®Êï∞ÊçÆ _ ‰ª£Êõø‰∏Ä‰∏™Â≠óÁ¨¶ ch_n,ÂåπÈÖçÁ±ª‰ººchan,chbn,chcnËøôÁßçÊï∞ÊçÆ [charlist] Â≠óÁ¨¶Â∫èÂàó‰∏≠ÁöÑ‰ªª‰∏Ä‰∏™Âçï‰∏™Â≠óÁ¨¶ [ABC],ÂåπÈÖçA,B,C [^charlist] or [!charlist] ‰∏çÂú®Â≠óÁ¨¶Â∫èÂàó‰∏≠ÁöÑ‰ªª‰∏Ä‰∏™Â≠óÁ¨¶ [!ABC],ÂåπÈÖçÈô§‰∫ÜA,B,C‰ª•Â§ñÁöÑÂÖ∂‰ªñÂ≠óÁ¨¶ 123SELECT col_nameFROM tb_nameWHERE col_name LIKE pattern; ÈôÑ1.2 Ê≠£ÂàôË°®ËææÂºè1todo ÈôÑ2. Ë°®Á∫¶Êùü Á∫¶Êùü ÊèèËø∞ NOT NULL ÊåáÁ§∫ÊüêÂàó‰∏çËÉΩÂ≠òÂÇ® NULL ÂÄº„ÄÇ UNIQUE ‰øùËØÅÊüêÂàóÁöÑÊØèË°åÂøÖÈ°ªÊúâÂîØ‰∏ÄÁöÑÂÄº„ÄÇ PRIMARY KEY NOT NULL Âíå UNIQUE ÁöÑÁªìÂêà„ÄÇÁ°Æ‰øùÊüêÂàóÔºàÊàñ‰∏§‰∏™ÂàóÂ§ö‰∏™ÂàóÁöÑÁªìÂêàÔºâÊúâÂîØ‰∏ÄÊ†áËØÜÔºåÊúâÂä©‰∫éÊõ¥ÂÆπÊòìÊõ¥Âø´ÈÄüÂú∞ÊâæÂà∞Ë°®‰∏≠ÁöÑ‰∏Ä‰∏™ÁâπÂÆöÁöÑËÆ∞ÂΩï„ÄÇ FOREIGN KEY ‰øùËØÅ‰∏Ä‰∏™Ë°®‰∏≠ÁöÑÊï∞ÊçÆÂåπÈÖçÂè¶‰∏Ä‰∏™Ë°®‰∏≠ÁöÑÂÄºÁöÑÂèÇÁÖßÂÆåÊï¥ ÊÄß„ÄÇ CHECK ‰øùËØÅÂàó‰∏≠ÁöÑÂÄºÁ¨¶ÂêàÊåáÂÆöÁöÑÊù°‰ª∂„ÄÇ DEFAULT ËßÑÂÆöÊ≤°ÊúâÁªôÂàóËµãÂÄºÊó∂ÁöÑÈªòËÆ§ÂÄº„ÄÇ ÈôÑ2.1 NOT NULL ÈùûÁ©∫Á∫¶ÊùüNOT NULL Á∫¶ÊùüÂº∫Âà∂Âàó‰∏çÊé•ÂèóNULLÂÄº„ÄÇNOT NULL Á∫¶ÊùüÂº∫Âà∂Â≠óÊÆµÂßãÁªàÂåÖÂê´ÂÄº„ÄÇËøôÊÑèÂë≥ÁùÄÔºåÂ¶ÇÊûú‰∏çÂêëÂ≠óÊÆµÊ∑ªÂä†ÂÄºÔºåÂ∞±Êó†Ê≥ïÊèíÂÖ•Êñ∞ËÆ∞ÂΩïÊàñËÄÖÊõ¥Êñ∞ËÆ∞ÂΩï„ÄÇ 1234567CREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255)); ÈôÑ2.2 UNIQUE ÂîØ‰∏ÄÁ∫¶ÊùüUNIQUE Á∫¶ÊùüÂîØ‰∏ÄÊ†áËØÜÊï∞ÊçÆÂ∫ìË°®‰∏≠ÁöÑÊØèÊù°ËÆ∞ÂΩï„ÄÇUNIQUEÂíå PRIMARY KEY Á∫¶ÊùüÂùá‰∏∫ÂàóÊàñÂàóÈõÜÂêàÊèê‰æõ‰∫ÜÂîØ‰∏ÄÊÄßÁöÑ‰øùËØÅ„ÄÇPRIMARY KEY Á∫¶ÊùüÊã•ÊúâËá™Âä®ÂÆö‰πâÁöÑ UNIQUE Á∫¶Êùü„ÄÇËØ∑Ê≥®ÊÑèÔºåÊØè‰∏™Ë°®ÂèØ‰ª•ÊúâÂ§ö‰∏™ UNIQUE Á∫¶ÊùüÔºå‰ΩÜÊòØÊØè‰∏™Ë°®Âè™ËÉΩÊúâ‰∏Ä‰∏™ PRIMARY KEY Á∫¶Êùü„ÄÇ 1234567891011121314151617181920212223242526272829303132/* MySQL */CREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255),UNIQUE (P_Id))/* SQL Server / Oracle / MS Access */CREATE TABLE Persons(P_Id int NOT NULL UNIQUE,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255))ÂëΩÂêç UNIQUE Á∫¶ÊùüÔºåÂπ∂ÂÆö‰πâÂ§ö‰∏™ÂàóÁöÑ UNIQUE Á∫¶ÊùüCREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255),CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName)) Êõ¥ÊîπUNIQUEÁ∫¶Êùü12345678910111213ALTER TABLE PersonsADD UNIQUE (P_Id)Â¶ÇÈúÄÂëΩÂêç UNIQUE Á∫¶ÊùüÔºåÂπ∂ÂÆö‰πâÂ§ö‰∏™ÂàóÁöÑ UNIQUE Á∫¶ÊùüÔºåËØ∑‰ΩøÁî®‰∏ãÈù¢ÁöÑ SQL ËØ≠Ê≥ïÔºöALTER TABLE PersonsADD CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName)Êí§ÈîÄ UNIQUE Á∫¶Êùü MySQLÔºöALTER TABLE PersonsDROP INDEX uc_PersonIDSQL Server / Oracle / MS AccessÔºöALTER TABLE PersonsDROP CONSTRAINT uc_PersonID ÈôÑ2.3 PRIMARY KEY ‰∏ªÈîÆÁ∫¶ÊùüPRIMARY KEY Á∫¶ÊùüÂîØ‰∏ÄÊ†áËØÜÊï∞ÊçÆÂ∫ìË°®‰∏≠ÁöÑÊØèÊù°ËÆ∞ÂΩï„ÄÇ‰∏ªÈîÆÂøÖÈ°ªÂåÖÂê´ÂîØ‰∏ÄÁöÑÂÄº„ÄÇ‰∏ªÈîÆÂàó‰∏çËÉΩÂåÖÂê´ NULL ÂÄº„ÄÇÊØè‰∏™Ë°®ÈÉΩÂ∫îËØ•Êúâ‰∏Ä‰∏™‰∏ªÈîÆÔºåÂπ∂‰∏îÊØè‰∏™Ë°®Âè™ËÉΩÊúâ‰∏Ä‰∏™‰∏ªÈîÆ„ÄÇ 123456789101112131415161718192021222324252627282930313233/* MySQL */CREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255),PRIMARY KEY (P_Id))/* SQL Server / Oracle / MS Access */CREATE TABLE Persons(P_Id int NOT NULL PRIMARY KEY,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255))ÂëΩÂêç PRIMARY KEY Á∫¶ÊùüÔºåÂπ∂ÂÆö‰πâÂ§ö‰∏™ÂàóÁöÑ PRIMARY KEY Á∫¶Êùü CREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255),CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName))Ê≥®ÈáäÔºöÂú®‰∏äÈù¢ÁöÑÂÆû‰æã‰∏≠ÔºåÂè™Êúâ‰∏Ä‰∏™‰∏ªÈîÆ PRIMARY KEYÔºàpk_PersonIDÔºâ„ÄÇÁÑ∂ËÄåÔºåpk_PersonID ÁöÑÂÄºÊòØÁî±‰∏§‰∏™ÂàóÔºàP_Id Âíå LastNameÔºâÁªÑÊàêÁöÑ„ÄÇ Êõ¥ÊîπPRIMARY KEYÁ∫¶Êùü123456789101112131415ALTER TABLE PersonsADD PRIMARY KEY (P_Id)Â¶ÇÈúÄÂëΩÂêç PRIMARY KEY Á∫¶ÊùüÔºåÂπ∂ÂÆö‰πâÂ§ö‰∏™ÂàóÁöÑ PRIMARY KEY Á∫¶ÊùüÔºåËØ∑‰ΩøÁî®‰∏ãÈù¢ÁöÑ SQL ËØ≠Ê≥ïÔºöALTER TABLE PersonsADD CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName)Ê≥®ÈáäÔºöÂ¶ÇÊûúÊÇ®‰ΩøÁî® ALTER TABLE ËØ≠Âè•Ê∑ªÂä†‰∏ªÈîÆÔºåÂøÖÈ°ªÊää‰∏ªÈîÆÂàóÂ£∞Êòé‰∏∫‰∏çÂåÖÂê´ NULL ÂÄºÔºàÂú®Ë°®È¶ñÊ¨°ÂàõÂª∫Êó∂Ôºâ„ÄÇÊí§ÈîÄ PRIMARY KEY Á∫¶Êùü/* MySQL */ALTER TABLE PersonsDROP PRIMARY KEY/* SQL Server / Oracle / MS Access */ALTER TABLE PersonsDROP CONSTRAINT pk_PersonID ÈôÑ2.4 FOREIGN KEY Â§ñÈîÆÁ∫¶Êùü‰∏Ä‰∏™Ë°®‰∏≠ÁöÑ FOREIGN KEY ÊåáÂêëÂè¶‰∏Ä‰∏™Ë°®‰∏≠ÁöÑ PRIMARY KEY„ÄÇFOREIGN KEY Á∫¶ÊùüÁî®‰∫éÈ¢ÑÈò≤Á†¥ÂùèË°®‰πãÈó¥ËøûÊé•ÁöÑË°å‰∏∫„ÄÇFOREIGN KEY Á∫¶Êùü‰πüËÉΩÈò≤Ê≠¢ÈùûÊ≥ïÊï∞ÊçÆÊèíÂÖ•Â§ñÈîÆÂàóÔºåÂõ†‰∏∫ÂÆÉÂøÖÈ°ªÊòØÂÆÉÊåáÂêëÁöÑÈÇ£‰∏™Ë°®‰∏≠ÁöÑÂÄº‰πã‰∏Ä„ÄÇ ‰æãÂ¶ÇÔºöÊàë‰ª¨Áé∞Âú®ÊúâPersonsË°®Áî®Êù•Â≠òÂÇ®Áî®Êà∑‰ø°ÊÅØÔºåPersonsË°®‰∏ªÈîÆP_IdË°®Á§∫Áî®Êà∑idÔºåOrdersË°®Áî®Êù•Â≠òÂÇ®Áî®Êà∑ËÆ¢ÂçïÔºåOrdersË°®Â§ñÈîÆP_IdÊåáÂêë PersonsË°®ÁöÑ‰∏ªÈîÆP_IdÔºåÊù•Á∫¶ÊùüOrdersË°®‰∏≠ÊâÄÊúâËÆ¢ÂçïÁöÑÁî®Êà∑idÂøÖÈ°ªÊòØÂú®Áî®Êà∑Ë°®‰∏≠Âá∫Áé∞ÁöÑ„ÄÇ Orders Ë°®‰∏≠ÁöÑ P_Id ÂàóÊåáÂêë Persons Ë°®‰∏≠ÁöÑ P_Id Âàó„ÄÇ Persons Ë°®‰∏≠ÁöÑ P_Id ÂàóÊòØ Persons Ë°®‰∏≠ÁöÑ PRIMARY KEY„ÄÇ Orders Ë°®‰∏≠ÁöÑ P_Id ÂàóÊòØ Orders Ë°®‰∏≠ÁöÑ FOREIGN KEY„ÄÇ 1234567891011121314151617181920212223242526272829/* MySQL */CREATE TABLE Orders(O_Id int NOT NULL,OrderNo int NOT NULL,P_Id int,PRIMARY KEY (O_Id),FOREIGN KEY (P_Id) REFERENCES Persons(P_Id))/* SQL Server / Oracle / MS Access */CREATE TABLE Orders(O_Id int NOT NULL PRIMARY KEY,OrderNo int NOT NULL,P_Id int FOREIGN KEY REFERENCES Persons(P_Id))ÂëΩÂêç FOREIGN KEY Á∫¶ÊùüÔºåÂπ∂ÂÆö‰πâÂ§ö‰∏™ÂàóÁöÑ FOREIGN KEY Á∫¶ÊùüCREATE TABLE Orders(O_Id int NOT NULL,OrderNo int NOT NULL,P_Id int,PRIMARY KEY (O_Id),CONSTRAINT fk_PerOrders FOREIGN KEY (P_Id)REFERENCES Persons(P_Id)) Êõ¥ÊîπÂ§ñÈîÆÁ∫¶Êùü 1234567891011121314151617ALTER TABLE OrdersADD FOREIGN KEY (P_Id)REFERENCES Persons(P_Id)Â¶ÇÈúÄÂëΩÂêç FOREIGN KEY Á∫¶ÊùüÔºåÂπ∂ÂÆö‰πâÂ§ö‰∏™ÂàóÁöÑ FOREIGN KEY Á∫¶ÊùüÔºåËØ∑‰ΩøÁî®‰∏ãÈù¢ÁöÑ SQL ËØ≠Ê≥ïÔºöALTER TABLE OrdersADD CONSTRAINT fk_PerOrdersFOREIGN KEY (P_Id)REFERENCES Persons(P_Id)Êí§ÈîÄ FOREIGN KEY Á∫¶Êùü /* MySQL */ALTER TABLE OrdersDROP FOREIGN KEY fk_PerOrders/* SQL Server / Oracle / MS Access */ALTER TABLE OrdersDROP CONSTRAINT fk_PerOrders ÈôÑ2.5 CHECK Á∫¶ÊùüCHECK Á∫¶ÊùüÁî®‰∫éÈôêÂà∂Âàó‰∏≠ÁöÑÂÄºÁöÑËåÉÂõ¥„ÄÇÂ¶ÇÊûúÂØπÂçï‰∏™ÂàóÂÆö‰πâ CHECK Á∫¶ÊùüÔºåÈÇ£‰πàËØ•ÂàóÂè™ÂÖÅËÆ∏ÁâπÂÆöÁöÑÂÄº„ÄÇÂ¶ÇÊûúÂØπ‰∏Ä‰∏™Ë°®ÂÆö‰πâ CHECK Á∫¶ÊùüÔºåÈÇ£‰πàÊ≠§Á∫¶Êùü‰ºöÂü∫‰∫éË°å‰∏≠ÂÖ∂‰ªñÂàóÁöÑÂÄºÂú®ÁâπÂÆöÁöÑÂàó‰∏≠ÂØπÂÄºËøõË°åÈôêÂà∂„ÄÇ1234567891011121314151617181920212223242526272829303132/* MySQL */CREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255),CHECK (P_Id&gt;0))/* SQL Server / Oracle / MS Access */CREATE TABLE Persons(P_Id int NOT NULL CHECK (P_Id&gt;0),LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255))Â¶ÇÈúÄÂëΩÂêç CHECK Á∫¶ÊùüÔºåÂπ∂ÂÆö‰πâÂ§ö‰∏™ÂàóÁöÑ CHECK Á∫¶Êùü CREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255),CONSTRAINT chk_Person CHECK (P_Id&gt;0 AND City='Sandnes')) Êõ¥ÊîπCHECKÁ∫¶Êùü1234567891011121314ALTER TABLE PersonsADD CHECK (P_Id&gt;0)Â¶ÇÈúÄÂëΩÂêç CHECK Á∫¶ÊùüÔºåÂπ∂ÂÆö‰πâÂ§ö‰∏™ÂàóÁöÑ CHECK Á∫¶ÊùüALTER TABLE PersonsADD CONSTRAINT chk_Person CHECK (P_Id&gt;0 AND City='Sandnes')Êí§ÈîÄ CHECK Á∫¶Êùü /* MySQL */ALTER TABLE PersonsDROP CHECK chk_Person/* SQL Server / Oracle / MS Access */ALTER TABLE PersonsDROP CONSTRAINT chk_Person ÈôÑ2.6 DEFAULT Á∫¶ÊùüDEFAULT Á∫¶ÊùüÁî®‰∫éÂêëÂàó‰∏≠ÊèíÂÖ•ÈªòËÆ§ÂÄº„ÄÇÂ¶ÇÊûúÊ≤°ÊúâËßÑÂÆöÂÖ∂‰ªñÁöÑÂÄºÔºåÈÇ£‰πà‰ºöÂ∞ÜÈªòËÆ§ÂÄºÊ∑ªÂä†Âà∞ÊâÄÊúâÁöÑÊñ∞ËÆ∞ÂΩï„ÄÇ1234567891011121314151617CREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255) DEFAULT 'Sandnes')ÈÄöËøá‰ΩøÁî®Á±ª‰ºº GETDATE() ËøôÊ†∑ÁöÑÂáΩÊï∞ÔºåDEFAULT Á∫¶Êùü‰πüÂèØ‰ª•Áî®‰∫éÊèíÂÖ•Á≥ªÁªüÂÄºCREATE TABLE Orders(O_Id int NOT NULL,OrderNo int NOT NULL,P_Id int,OrderDate date DEFAULT GETDATE()) Êõ¥ÊîπDEFAULTÁ∫¶Êùü1234567891011121314151617181920Ê∑ªÂä† DEFAULT Á∫¶Êùü/* MySQL */ÔºöALTER TABLE PersonsALTER City SET DEFAULT 'SANDNES'/* SQL Server / MS Access */ALTER TABLE PersonsALTER COLUMN City SET DEFAULT 'SANDNES'/* Oracle */ALTER TABLE PersonsMODIFY City DEFAULT 'SANDNES'Êí§ÈîÄ DEFAULT Á∫¶Êùü /* MySQL */ALTER TABLE PersonsALTER City DROP DEFAULT/* SQL Server / Oracle / MS Access */ALTER TABLE PersonsALTER COLUMN City DROP DEFAULT ÈôÑ2.7 AUTO INCREMENT]]></content>
      <categories>
        <category>Db</category>
      </categories>
      <tags>
        <tag>Database</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FragmentÊáíÂä†ËΩΩ]]></title>
    <url>%2Farticle%2F2799403346%2F</url>
    <content type="text"><![CDATA[ViewPager ÁªìÂêà Fragment ‰ΩøÁî®Êó∂ÔºåÁî±‰∫é ViewPager ÁöÑÁâπÊÄßÔºå‰ºöÈ¢ÑÂÖàÂä†ËΩΩÂΩìÂâçÊòæÁ§∫È°µÈù¢Â∑¶Âè≥‰∏§ËæπÁöÑÈ°µÈù¢Ôºå‰πüÂ∞±ÊòØËØ¥ÈªòËÆ§‰ºöÁºìÂ≠ò3‰∏™È°µÈù¢ÔºåÔºà‰πüÂèØ‰ª•‰ΩøÁî® mViewPager.setOffscreenPageLimit(3); Ëøô‰∏™ÊñπÊ≥ïÊù•ÊîπÂèòËøô‰∏™ËÆæÁΩÆ„ÄÇÔºâ]]></content>
      <categories>
        <category>Android</category>
        <category>todo</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HexoÂä†ÂØÜÊñáÁ´†Á§∫‰æã]]></title>
    <url>%2Farticle%2F684233485%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰ΩøÁî®HexoÂä†ÂØÜ]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Extensions</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo]]></title>
    <url>%2Farticle%2F185805107%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªçÂ¶Ç‰Ωï‰ΩøÁî® Hexo+NexT Êê≠Âª∫Ëá™Â∑±ÁöÑÂçöÂÆ¢‰πãÂêéÔºåÂíåÂú®Âª∫Á´ôÊúüÈó¥ÈÅáÂà∞ÁöÑ‰∏Ä‰∫õÈóÆÈ¢ò‰ª•Âèä‰ºòÂåñÊñπÂºè„ÄÇ Êé®ËçêÈòÖËØªHexo+Next‰∏ªÈ¢ò‰ºòÂåñ ÂºÑÊáÇ NexTpost.md ‰∏≠ bool Â±ûÊÄßÈªòËÆ§ÂÄºÊòØ false BugFixÈîôËØØ Cannot set property &#39;lastIndex&#39; of undefinedÔºå‰øÆÊîπ hexo/config.yml ËÆæÁΩÆ auto_detect: false 12345highlight: enable: true line_number: true auto_detect: false tab_replace: ÂºÇÂ∏∏ Cannot find module &#39;./build/Release/DTraceProviderBindings&#39; ‰∏çÂΩ±Âìç‰ΩøÁî®Ôºå‰ΩÜÊòØÁúãÁùÄÈöæÂèóÔºåÂ∞ùËØï 1234npm install hexo --no-optional// Â¶ÇÊûú‰∏äÈù¢ÁöÑÂëΩ‰ª§ÊúâÊïàÔºåÂèØ‰ª•‰∏çÊâßË°å‰ª•‰∏ã‰∏§Êù°npm uninstall hexo-cli -gnpm install hexo-cli -g SEO‰ºòÂåñ Hexo NexT‰∏ªÈ¢òSEO‰ºòÂåñ SEO‰ºòÂåñÔºåGoogleÊî∂ÂΩï Âä†Âø´ËÆøÈóÆÈÄüÂ∫¶Âõ†‰∏∫ÊòØÊîæÂú® GitHub ‰∏äÈù¢ÁöÑÔºåÊâÄ‰ª•ËÆøÈóÆÈöæÂÖç‰ºöÊÖ¢„ÄÇ ÂèØ‰ª•ÂèëÂ∏É‰ª•ÂêéÊ£ÄÊü•‰∏Ä‰∏ãÁΩëÈ°µÂä†ËΩΩÁöÑÁì∂È¢àÂú®Âì™ÈáåÔºåÁÑ∂ÂêéÂÅöÁõ∏Â∫îÁöÑ‰ºòÂåñ„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊîæÂú®Êú¨Âú∞ÁöÑÂõæÁâáËÆøÈóÆ‰ºöÂèòÁöÑÂæàÊÖ¢ÔºåÂõ†‰∏∫ËµÑÊ∫êÂú® GitHub ‰∏äÈù¢ÔºåÊâÄ‰ª•Â∞ΩÈáèÁî®‰∏ÉÁâõÁ≠âÁöÑ‰∫ëÂ≠òÂÇ®ÔºåÊñáÁ´†‰∏≠‰ΩøÁî® url„ÄÇ fontawsome ËÆøÈóÆÊÖ¢ÔºåÊõøÊç¢ _config.yml ‰∏≠ÁöÑÊ∫êÔºåÊïàÊûú‰ºöÂ•ΩÂæàÂ§ö 12345678910111213141516171819202122vendors: # Internal path prefix. Please do not edit it. _internal: vendors # Internal version: 2.1.3 jquery: //cdn.bootcss.com/jquery/2.1.3/jquery.min.js # Internal version: 2.1.5 # Fancybox: http://fancyapps.com/fancybox/ fancybox: //cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js fancybox_css: //cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css # Internal version: 1.0.6 fastclick: //cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js # Internal version: 1.9.7 lazyload: //cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.min.js # Internal version: 1.2.1 velocity: //cdn.bootcss.com/velocity/1.3.1/velocity.min.js # Internal version: 1.2.1 velocity_ui: //cdn.bootcss.com/velocity/1.3.1/velocity.ui.min.js # Internal version: 0.7.9 ua_parser: //cdn.bootcss.com/UAParser.js/0.7.12/ua-parser.min.js # Internal version: 4.4.0 # http://fontawesome.io/ fontawesome: //cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css È°µÈù¢ÁÆÄÂçïÂä†ÂØÜËÆøÈóÆÊâæÂà∞Êñá‰ª∂themes-&gt;next-&gt;layout-&gt;_partials-&gt;head.swigÂú®&lt;meta&gt;Ê†áÁ≠æ‰πãÂêéÊ∑ªÂä†Â¶Ç‰∏ãjs‰ª£Á†Å 12345678910&lt;script&gt; (function()&#123; if('&#123;&#123; page.password &#125;&#125;')&#123; if (prompt('ËØ∑ËæìÂÖ•ÊñáÁ´†ÂØÜÁ†Å') !== '&#123;&#123; page.password &#125;&#125;')&#123; alert('ÂØÜÁ†ÅÈîôËØØÔºÅ'); history.back(); &#125; &#125; &#125;)();&lt;/script&gt; Âú®ÊñáÁ´†ÁöÑFront-matterÂÆö‰πâpassword 123456789---layout: posttitle: HexoÂä†ÂØÜÊñáÁ´†Á§∫‰æãdate: 2017-03-02category: tags: keywords:password: 123456--- Ê∑ªÂä†ÁïôË®ÄÁïåÈù¢Ê∑ªÂä†pageÔºåÂú®ÂçöÂÆ¢Ê†πÁõÆÂΩï‰∏ãÊâßË°åÂ¶Ç‰∏ãÂëΩ‰ª§Ôºå‰ºöÂú®sourceÁõÆÂΩï‰∏ãÈù¢ÂàõÂª∫msg/index.mdÊñá‰ª∂„ÄÇ 1hexo new page msg ÈÖçÁΩÆÊñáÂ≠óÂíåÂõæÊ†áÔºåÊâìÂºÄthemes/next/_config.ymlÊñá‰ª∂ÔºåËøõË°åÂ¶Ç‰∏ãÈÖçÁΩÆÔºåÊâçËÉΩ‰ΩøÁïôË®ÄÁöÑÁïåÈù¢ÊòæÁ§∫ 1234567menu: home: / #about: /about archives: /archives tags: /tags categories: /categories guestbook: /guestbook ÈÖçÁΩÆÂõæÊ†áÔºåÊâìÂºÄthemes/next/_config.ymlÊñá‰ª∂ÔºåËøõË°åÂ¶Ç‰∏ãÈÖçÁΩÆÔºåÂèØ‰ª•Ëá™ÂÆö‰πâÊòæÁ§∫Âú®‰æßËæπÊ†èÁöÑÁïôË®ÄÁöÑÂõæÊ†áÔºåÂõæÊ†áÁöÑÈÖçÁΩÆ‰ΩøÁî®key-valueÁöÑÂΩ¢ÂºèÔºå‰∏ãÈù¢‰ª£Á†Å‰∏≠home``calendarÁ≠âÈÉΩÊòØkeyÔºå‰ΩøÁî®Ëøô‰∏™keyÂèØ‰ª•‰ªéËøô‰∏™ÁΩëÁ´ô-FontAwesomeËé∑ÂèñÂõæÊ†áÔºåÂ¶ÇÊûúÊÉ≥Êõ¥Êç¢ÂõæÊ†áÔºåÂè™ÈúÄË¶ÅÂéªÈÇ£‰∏™ÁΩëÁ´ôËé∑ÂèñÂõæÊ†áÁöÑÂêçÂ≠óÂéªÊéâÂ§¥ÈÉ®ÁöÑicon‰Ωú‰∏∫keyÊ∑ªÂä†Âà∞‰∏ãÈù¢‰ª£Á†Å‰∏≠Âç≥ÂèØ„ÄÇ 12345678910menu_icons: enable: true home: home about: user categories: th schedule: calendar tags: tags guestbook : comments archives: archive commonweal: heartbeat ÊâìÂºÄthemes/next/language/zh-CN.ymlÊñá‰ª∂ÔºåËøõË°åÂ¶Ç‰∏ãÈÖçÁΩÆÔºåÊâçËÉΩÊòæÁ§∫‰∏∫ ÁïôË®Ä Â≠óÊ†∑ 123456789menu: home: È¶ñÈ°µ archives: ÂΩíÊ°£ categories: ÂàÜÁ±ª tags: Ê†áÁ≠æ about: ÂÖ≥‰∫é search: ÊêúÁ¥¢ commonweal: ÂÖ¨Áõä404 guestbook: ÁïôË®Ä ËøáÊª§Êñá‰ª∂‰∏çËøõË°åÊ∏≤ÊüìÂú®ÁªôÁ´ôÁÇπÊ∑ªÂä† README.md Âíå GoogleÔºåÁôæÂ∫¶Áõ∏ÂÖ≥ÁöÑÈ™åËØÅÊñá‰ª∂Êó∂ÔºåÊàë‰ª¨Â∏åÊúõËøô‰∏™Êñá‰ª∂‰∏çË¶ÅË¢´‰∏ªÈ¢òÊ∏≤ÊüìÔºåËÄåÊòØÊ∫êÊñá‰ª∂Áõ¥Êé•Êã∑Ë¥ùÂà∞ public Êñá‰ª∂Â§π‰∏≠ÔºåÂè™ÈúÄË¶ÅÂú® hexo/_config.yml ‰∏≠ËøõË°åÂ¶Ç‰∏ãÈÖçÁΩÆ„ÄÇ 1234skip_render: - 'README.*' - 'google26933bad87c2b3ba.*' - 'baidu_verify_HnYctWkkrH.*' category ÂàÜÁ∫ßÂú®Â§¥ÈÉ®Â¶Ç‰∏ãÂÜôÂÖ• categories Ê†áÁ≠æ 123categories: - Extensions - Hexo ÈìæÊé•ÂîØ‰∏ÄÂåñÂÆâË£Ö hexo-abbrlink Êèí‰ª∂ 1npm install hexo-abbrlink --save ÈÖçÁΩÆ hexo/_config.ymlÔºåÊ∑ªÂä†Â¶Ç‰∏ãÔºåÂÆåÊàêÂêéÊâìÂºÄÊñá‰ª∂Ôºå‰øùÂ≠òÂá†Ê¨°Ôºå‰ºöËá™Âä®Ê∑ªÂä† abbrlink Â±ûÊÄßÔºåÂ¶ÇÊûúÂ∑≤ÁªèÊúâÂÄº‰∫ÜÂàô‰∏ç‰ºöÊõ¥Êîπ„ÄÇ 123456permalink: article/:abbrlink/ # article/ ÂèØËá™Ë°åÊõ¥Êç¢# abbrlink configabbrlink: alg: crc32 # ÁÆóÊ≥ïÔºöcrc16(default) and crc32 rep: hex # ËøõÂà∂Ôºödec(default) and hex ÊñáÁ´†ÂéãÁº©ÂÆâË£ÖÊèí‰ª∂ hexo-all-minifier 1npm install hexo-all-minifier ÈÖçÁΩÆ hexo/_config.ymlÔºåÊ∑ªÂä†Â¶Ç‰∏ã 1234567891011121314151617181920212223242526# ÊñáÁ´†ÂéãÁº©html_minifier: enable: true ignore_error: false exclude:css_minifier: enable: true exclude: - &apos;*.min.css&apos;js_minifier: enable: true mangle: true output: compress: exclude: - &apos;*.min.js&apos;image_minifier: enable: true interlaced: false multipass: false optimizationLevel: 2 pngquant: false progressive: false Ê∑ªÂä† fork me on github‰øÆÊîπ hexoBlog/themes/next/layout/_layout.swig Êñá‰ª∂ÔºåÂú® headerÊ†áÁ≠æ‰πãÂâçÊ∑ªÂä†ÂõæÁâáÔºåÂõæÁâáÊ†∑ÂºèÂèØ‰ª•Âà∞‰∏ùÂ∏¶Áä∂ÁöÑFork ÊàñËÄÖÊòØ ‰∏âËßíÂΩ¢ÁöÑÁöÑForkÈÄâÊã©È¢úËâ≤Âíå‰ΩçÁΩÆÁ≠â„ÄÇhref ‰∏≠ÈúÄË¶Å‰øÆÊîπ‰Ω†‰∏∫ÁöÑ github Âú∞ÂùÄ12345678910&lt;div class=&quot;&#123;&#123; container_class &#125;&#125; &#123;% block page_class %&#125;&#123;% endblock %&#125; &quot;&gt; &lt;div class=&quot;headband&quot;&gt;&lt;/div&gt; &lt;!--- add Fork me on Github --&gt; &lt;div class=&quot;forkme&quot;&gt; &lt;a target=&quot;_blank&quot; href=&quot;https://github.com/chendongMarch&quot;&gt;&lt;img style=&quot;position: absolute; top: 0; left: 0; border: 0;&quot; src=&quot;https://camo.githubusercontent.com/567c3a48d796e2fc06ea80409cc9dd82bf714434/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f6461726b626c75655f3132313632312e706e67&quot; alt=&quot;Fork me on GitHub&quot; data-canonical-src=&quot;https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png&quot;&gt;&lt;/a&gt; &lt;/div&gt; &lt;!--- add Fork me on Github --&gt; &lt;header id=&quot;header&quot; class=&quot;header&quot; itemscope itemtype=&quot;//schema.org/WPHeader&quot;&gt; Âú® head Ê†áÁ≠æÂÜÖÊ∑ªÂä† style ‰ΩøÂ∞èÂ±èÂπïËÆøÈóÆÊó∂‰∏çÊòæÁ§∫Ëøô‰∏™ÂõæÁâá 123456789101112131415&lt;head&gt; &#123;% include '_partials/head.swig' %&#125; &lt;title&gt;&#123;% block title %&#125;&#123;% endblock %&#125;&lt;/title&gt;&lt;style&gt; .forkme&#123; display: none; &#125;@media (min-width: 768px) &#123; .forkme&#123; display: inline; &#125;&#125; &lt;/style&gt; &#123;% include '_third-party/analytics/index.swig' %&#125;&lt;/head&gt; ‰ª£Á†ÅÈ£éÊ†ºÂ§ÑÁêÜÊü•Áúã hexoBlog/themes/next/source/css/_common/components/highlight/highlight.styl Êñá‰ª∂ÔºåÊòØÂØπÈ´ò‰∫Æ‰ª£Á†ÅÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆ„ÄÇÊâæÂà∞Ê†áÁ≠æ‰øÆÊîπÊó¢ÂèØ„ÄÇ 1234567// Ë°åÂÜÖ‰ª£Á†Åcode&#123; // ÂàÜË°åÊó∂ÊòØ‰∏çÊòØÊ†πÊçÆÂçïËØçÂàíÂàÜ word-wrap: break-all/break-word; // ‰ª£Á†ÅÈ¢úËâ≤ color:#fff;&#125; Ê∑ªÂä†Êú¨Âú∞ÊêúÁ¥¢ÂÆâË£ÖÊèí‰ª∂ hexo-generator-searchdb 1npm install hexo-generator-searchdb --save ÈÖçÁΩÆ hexo/_config.yml 12345search: path: search.xml field: post format: html limit: 10000 ÈÖçÁΩÆ next/_config.yml 123# Local searchlocal_search: enable: true Ê∑ªÂä†Âä†ËΩΩËøõÂ∫¶Âú® Next ‰∏ªÈ¢ò‰∏ãÊâìÂºÄ /next/layout/_partials/head.swig Êñá‰ª∂ÔºåÂú®ÊúÄÂêéËøΩÂä†ËøõÂ∫¶Êù° ‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂè™Âú®ÊµèËßàÂô®ÊòæÁ§∫ÔºåÊâãÊú∫‰∏ä‰∏çÊòæÁ§∫ËøõÂ∫¶Êù° 1234567891011121314151617181920212223242526272829303132&#123;# Ê∑ªÂä†ËøõÂ∫¶Êù° #&#125;&lt;script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"&gt;&lt;/script&gt;&lt;link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet"&gt;&lt;style&gt; .pace .pace-progress &#123; background: #0000; /*ËøõÂ∫¶Êù°È¢úËâ≤*/ height: 0px; &#125; .pace .pace-progress-inner &#123; box-shadow: 0 0 0px #0000, 0 0 0px #0000; /*Èò¥ÂΩ±È¢úËâ≤*/ &#125; .pace .pace-activity &#123; display: none; border-top-color: #00d9cf; /*‰∏äËæπÊ°ÜÈ¢úËâ≤*/ border-left-color: #00d9cf; /*Â∑¶ËæπÊ°ÜÈ¢úËâ≤*/ &#125; @media screen and (min-width: 800px) &#123; .pace .pace-progress &#123; background: #00d9cf; /*ËøõÂ∫¶Êù°È¢úËâ≤*/ height: 2px; &#125; .pace .pace-progress-inner &#123; box-shadow: 0 0 10px #00d9cf, 0 0 5px #00d9cf; /*Èò¥ÂΩ±È¢úËâ≤*/ &#125; .pace .pace-activity &#123; border-top-color: #00d9cf; /*‰∏äËæπÊ°ÜÈ¢úËâ≤*/ border-left-color: #00d9cf; /*Â∑¶ËæπÊ°ÜÈ¢úËâ≤*/ &#125; &#125; &lt;/style&gt; Ëß£ÂÜ≥Ë°®Ê†ºË¢´Á≠âÂàÜÊñá‰ª∂ themes/next/source/css/_common/scaffolding/tables.styl 1table-layout: auto; Ê∑ªÂä† Leancloud ÁªüËÆ°‰ªäÂ§©ÂèëÁé∞ÁΩëÈ°µËÆøÈóÆÂæàÊÖ¢ÔºåÊü•‰∫Ü‰πãÂêéÂèëÁé∞‰∏çËíúÂ≠êÁªüËÆ°ËÆøÈóÆÂ§™ÊÖ¢ÔºåÊç¢Êàêleancloud,‰ΩÜÊòØÂè™ÊúâpvÁªüËÆ°„ÄÇ ÂèÇËÄÉÊñáÁ´† ÊåáÂÆöÊñáÁ´†‰∏çÂú®È¶ñÈ°µÊòæÁ§∫Êñá‰ª∂ /Users/march/Documents/hexoBlog/themes/next/layout/index.swig ‰øÆÊîπ„ÄÇ 123456789101112&lt;section id=&quot;posts&quot; class=&quot;posts-expand&quot;&gt; &#123;% for post in page.posts %&#125; &#123;%if !post.hide %&#125; &#123;&#123; post_template.render(post, true) &#125;&#125; &#123;% endif %&#125; &#123;% endfor %&#125;&lt;/section&gt;// render ‰πãÂâçÂà§Êñ≠&#123;%if !post.hide %&#125; &#123;&#123; post_template.render(post, true) &#125;&#125;&#123;% endif %&#125; ÁÑ∂ÂêéÂú®ÊñáÁ´†Êñá‰ª∂Â§¥ÈÉ®ÔºåÂ¢ûÂä† 1234---...hide: true--- ÁΩëÁ´ôËÉåÊôØ/Users/march/Documents/hexoBlog/themes/next/source/css/_custom/custom.styl 123body&#123; background-image: url(/images/background.png);&#125; Â§¥ÈÉ®ÊòæÁ§∫/Users/march/Documents/hexoBlog/themes/next/source/css/_schemes/Mist/_header.styl 1.header &#123; background: $whitesmoke; &#125; Êõ¥ÊîπÂÖ®Â±ÄÂ≠ó‰Ωì/Users/march/Documents/hexoBlog/themes/next/source/css/_variables/custom.styl 1234$font-size-base = 15.5px; // ÈªòËÆ§ÊòØ 16px Â§ßÂ∞è$font-family-headings = Georgia, sans // Ê†áÈ¢òÔºå‰øÆÊîπÊàê‰Ω†ÊúüÊúõÁöÑÂ≠ó‰ΩìÊóè$font-family-base = &quot;Microsoft YaHei&quot;, Verdana, sans-serif // ‰øÆÊîπÊàê‰Ω†ÊúüÊúõÁöÑÂ≠ó‰ΩìÊóè ÊñáÁ´†‰∏≠Âä†ÂõæÁâáÔºåÈ¶ñÈ°µ‰∏çÊòæÁ§∫ÂõæÁâá/Users/march/Documents/hexoBlog/themes/next/layout/_macro/post.swig ‰∏äÈù¢Êúâ‰∏™ gallery supportÔºåÂä†‰∏ä not is_index Â∞±ÂèØ‰ª•‰∏çÂÜçÈ¶ñÈ°µÊòæÁ§∫ÔºåÁÑ∂Âêé md Êñá‰ª∂È°∂ÈÉ®‰ΩøÁî® photos Â£∞ÊòéÂõæÁâáÈìæÊé• photos: ‚Äò./img.png‚ÄôÔºåÂèØ‰ª•Â§öÂº† 123456789101112131415&#123;% if not is_index and post.photos and post.photos.length %&#125; &lt;div class=&quot;post-gallery&quot; itemscope itemtype=&quot;http://schema.org/ImageGallery&quot;&gt; &#123;% set COLUMN_NUMBER = 3 %&#125; &#123;% for photo in post.photos %&#125; &#123;% if loop.index0 % COLUMN_NUMBER === 0 %&#125;&lt;div class=&quot;post-gallery-row&quot;&gt;&#123;% endif %&#125; &lt;a class=&quot;post-gallery-img fancybox&quot; href=&quot;&#123;&#123; url_for(photo) &#125;&#125;&quot; rel=&quot;gallery_&#123;&#123; post._id &#125;&#125;&quot; itemscope itemtype=&quot;http://schema.org/ImageObject&quot; itemprop=&quot;url&quot;&gt; &lt;img src=&quot;&#123;&#123; url_for(photo) &#125;&#125;&quot; itemprop=&quot;contentUrl&quot;/&gt; &lt;/a&gt; &#123;% if loop.index0 % COLUMN_NUMBER === 2 %&#125;&lt;/div&gt;&#123;% endif %&#125; &#123;% endfor %&#125; &#123;# Append end tag for `post-gallery-row` when (photos size mod COLUMN_NUMBER) is less than COLUMN_NUMBER #&#125; &#123;% if post.photos.length % COLUMN_NUMBER &gt; 0 %&#125;&lt;/div&gt;&#123;% endif %&#125; &lt;/div&gt; &#123;% endif %&#125; Â§¥ÂÉè‰∏∫ÂúÜÂΩ¢ÔºåÂèØÁßªÂä®themes/next/source/css/_common/components/sidebar/sidebar-author.syl 123456789101112131415161718192021222324.site-author-image &#123; display: block; margin: 0 auto; padding: $site-author-image-padding; max-width: $site-author-image-width; height: $site-author-image-height; border: $site-author-image-border-width solid $site-author-image-border-color; // ‰øÆÊîπÂ§¥ÂÉèËæπÊ°Ü border-radius: 50%; -webkit-border-radius: 50%; -moz-border-radius: 50%; // ËÆæÁΩÆÊóãËΩ¨ transition: 1.4s all;&#125;// ÂèØÊóãËΩ¨ÁöÑÂúÜÂΩ¢Â§¥ÂÉè,`hover`Âä®‰Ωú.site-author-image:hover &#123; -webkit-transform: rotate(360deg); -moz-transform: rotate(360deg); -ms-transform: rotate(360deg); -transform: rotate(360deg);&#125; ‰∏ªÈ°µÊñáÁ´†Ê∑ªÂä†Âç°ÁâáËÉåÊôØthemes/next/source/css/_custom/custom.styl 12345678// ‰∏ªÈ°µÊñáÁ´†Ê∑ªÂä†Èò¥ÂΩ±ÊïàÊûú.post&#123; margin-top: 0px; margin-bottom: 60px; padding: 25px; -webkit-box-shadow: 0 0 5px rgba(180, 180, 180, .5); -moz-box-shadow: 0 0 5px rgba(180, 180, 180, .5);&#125; copyright/Users/march/Documents/hexoBlog/themes/next/layout/_macro/post-copyright.swig 123&#123;&#123; __(&apos;post.copyright.license_content&apos;, theme.post_copyright.license_url, theme.post_copyright.license) &#125;&#125; ÊñáÁ´†ÂÜÖÈìæÊé•themes/next/source/css/_custom/custom.styl 123456789101112131415// ÊñáÁ´†ÂÜÖÈìæÊé•ÊñáÊú¨Ê†∑Âºè.post-body p a&#123; color: #0593d3; border-bottom: none; border-bottom: 1px solid #0593d3; padding-left:5px; padding-right:5px; &amp;:hover &#123; color: #fc6423; border-bottom: none; border-bottom: 1px solid #fc6423; text-decoration: none; border-radius:0; &#125;&#125; Áªü‰∏ÄÊ∑ªÂä†‚ÄúÊú¨ÊñáÁªìÊùü‚ÄùÊ†áËÆ∞Âú®Ë∑ØÂæÑ /themes/next/layout/_macro ‰∏≠Êñ∞Âª∫ passage-end-tag.swig Êñá‰ª∂,Âπ∂Ê∑ªÂä†‰ª•‰∏ãÂÜÖÂÆπÔºö 12345&lt;div&gt; &#123;% if not is_index %&#125; &lt;div style=&quot;text-align:center;color: #aaa;font-size:14px;margin-top:2rem;&quot;&gt;------ Êú¨ÊñáÁªìÊùü üéâüéâ Ë∞¢Ë∞¢ËßÇÁúã ------&lt;/div&gt; &#123;% endif %&#125;&lt;/div&gt; ÊâìÂºÄ themes/next/layout/_macro/post.swig Êñá‰ª∂,Ê∑ªÂä†Ôºö 12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include &apos;passage-end-tag.swig&apos; %&#125; &#123;% endif %&#125; &lt;/div&gt; ÁÑ∂ÂêéÊâìÂºÄ‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂ _config.yml,Âú®Êú´Â∞æÊ∑ªÂä†Ôºö 123# ÊñáÁ´†Êú´Â∞æÊ∑ªÂä†‚ÄúÊú¨ÊñáÁªìÊùü‚ÄùÊ†áËÆ∞passage_end_tag:enabled: true ÈîÆÁõòËß¶Âèë‰æßÊ†è/Users/march/Documents/hexoBlog/themes/next/source/js/src/motion.js 123456789$(document).ready(function () &#123; NexT.motion = &#123;&#125;; window.onkeydown=function()&#123; if(13 == event.keyCode)&#123; NexT.utils.displaySidebar(); &#125; &#125;;&#125;]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SSH ÂëΩ‰ª§]]></title>
    <url>%2Farticle%2Ff225b262%2F</url>
    <content type="text"><![CDATA[ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ SSH ÂëΩ‰ª§ËÆ∞ÂΩï Êú¨Âú∞ÁîüÊàê ssh ÂØÜÈí•ÂØπÔºå‰ΩøÁî®Êó∂Êú¨Êú∫Â≠òÊîæ id_rsaÔºåËøúÁ´ØÂ≠òÊîæ id_rsa.pub ÂÖ¨Èí• 1ssh-keygen -t rsa -b 4096 -C 'email' Êú¨Âú∞ÂëΩ‰ª§Ë°å‰ø°‰ªª sshÔºå‰∏çÁî®ÊØèÊ¨°ÈÉΩËæìÂÖ•ÂØÜÁ†Å 123ssh-agent bashssh-add id_rsa ËøûÊé•ËøúÁ®ãÊúçÂä° 1ssh root@ip]]></content>
      <categories>
        <category>bash</category>
      </categories>
      <tags>
        <tag>ssh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âø´ÈÄüÂÆûÁé∞FragmentÂàáÊç¢ÂäüËÉΩ]]></title>
    <url>%2Farticle%2F4099568815%2F</url>
    <content type="text"><![CDATA[‰∏Ä‰∏™appÈ¶ñÈ°µÈÄöÂ∏∏ÊòØ‰ΩøÁî®Activity + FragmentÁöÑÂΩ¢ÂºèÂ±ïÁ§∫ÔºåÊéßÂà∂FragmentÁöÑÊòæÁ§∫ÂíåÈöêËóèÂü∫Êú¨Êúâ‰∏§ÁßçÂÆûÁé∞ÊñπÊ≥ï:&emsp;&emsp;1. ViewPager , ÊØîÂ¶ÇÂæÆ‰ø° , ‰ºòÂäøÊòØÊâãÂäøÊìç‰ΩúÊõ¥Âä†Êñπ‰æøÔºåÂÆòÊñπÊèê‰æõ‰∫ÜFragmentPagerAdapterÂèØ‰ª•ÂæàÊñπ‰æøÂ∏ÆÂä©Êàë‰ª¨ÂÆûÁé∞Êï∞ÊçÆÂä†ËΩΩÔºàFragmentË¶Å‰ΩøÁî®ÊáíÂä†ËΩΩÁöÑÊñπÂºèÔºåÈÅøÂÖçÊµ™Ë¥πËµÑÊ∫êÔºâÔºåÂä£ÂäøÂ∞±ÊòØÂΩì‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™Fragment‰∏≠Â∑≤Áªè‰ΩøÁî®‰∫ÜViewPagerÔºå‰∏§Â±ÇÂ•ó‰∏ÄËµ∑‰∫ã‰ª∂‰ºöÂÜ≤Á™ÅÔºåËÄå‰∏îÊìç‰Ωú‰πü‰∏çÂèãÂ•ΩÂï¶„ÄÇ&emsp;&emsp;2. FragmentManager , ÊØîÂ¶ÇÂ§¥Êù°ÔºåÈíàÂØπ‰ΩøÁî®ViewPagerÁªÑÂêàFragmentÁöÑÈóÆÈ¢òÔºå‰ΩøÁî®FragmentManagerÊéßÂà∂FragmentÁöÑÊòæÁ§∫ÂíåÈöêËóèÔºå‰∏çÈúÄË¶ÅËÄÉËôëÊáíÂä†ËΩΩÁöÑÈóÆÈ¢òÔºå‰∏çËøá‰∏çËÉΩÊîØÊåÅÊªëÂä®Âï¶„ÄÇ&emsp;&emsp;3. Êú¨Êñá‰∏ªË¶ÅÊòØÂ∞ÅË£ÖFragmentManagerÂàáÊç¢È°µÈù¢ÁöÑÁõ∏ÂÖ≥Êìç‰Ωú„ÄÇ ËÆæËÆ°ÊÄùË∑ØËÆæËÆ°‰∏Ä‰∏™ÁÆ°ÁêÜÁ±ªÔºåË¥üË¥£ Fragment ÁöÑÂàõÂª∫ÔºåÊòæÁ§∫ÔºåÈöêËóèÔºåÂõûÊî∂Á≠âÈÄªËæëÔºåÊÉ≥Ë¶ÅËøõË°å Framgnet ÂàáÊç¢ÁöÑÁïåÈù¢ÔºåÂè™ÈúÄË¶ÅÂàõÂª∫Ëøô‰∏™ÁÆ°ÁêÜÁ±ªÂÆûÁé∞ÁõëÂê¨Âç≥ÂèØÔºå‰ªéËÄåÂ∞ÜËøô‰∫õÈÄªËæëÂàÜÁ¶ªÂá∫Êù•ÔºåËææÂà∞Â§çÁî®ÁöÑÁõÆÁöÑ„ÄÇ ÂÆö‰πâÊé•Âè£È¶ñÂÖàÂÆö‰πâ FragmentOperator Êé•Âè£ÔºåËøô‰∏™Êé•Âè£ÁöÑÁõÆÁöÑÊòØÂú®ÂÆåÊàê Framgent ÂàáÊç¢‰πãÂêéËÉΩÂ§üÂëäÁü•ÊâÄÂú®ÁöÑ Activity ‰ΩúÂá∫Áõ∏Â∫îÂìçÂ∫îÊìç‰Ωú„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061interface FragmentOperator &#123; /** * Ëé∑ÂèñÊîæÁΩÆfragmentÁöÑÊéß‰ª∂id * * @return id */ int getFragmentContainerId(); /** * ÊûÑÂª∫fragment * * @param showItem Â∞ÜË¶ÅÂ±ïÁ§∫ÁöÑfragment pos * @return fragment */ Fragment makeFragment(int showItem); /** * ËøõË°åËΩ¨Êç¢‰πãÂâçÂÅöÊìç‰Ωú,ÂÆûÁé∞ËØ•ÊñπÊ≥ïÂèØ‰ª•Ëá™ÂÆö‰πâfragmentÂàáÊç¢ÁöÑÂä®ÁîªÊïàÊûúÁ≠â * * @param transaction transaction */ void beginTransaction(FragmentTransaction transaction); /** * ÂàáÊç¢ÊàêÂäü‰πãÂêé‰ºöÂõûË∞ÉËøô‰∏™ÊñπÊ≥ïÔºåÂêåÊ≠•ÈÄâ‰∏≠‰πãÂêéÁöÑÊòæÁ§∫Áä∂ÊÄÅ * ÊØîÂ¶ÇÊîπÂèòÊåâÈíÆÁöÑÈ¢úËâ≤Á≠âÊìç‰Ωú * * @param selectImage Ë¢´ÈÄâ‰∏≠ÁöÑitem */ void syncSelectState(int showItem); /** * ÂΩìÁÇπÂáªÊòæÁ§∫Âêå‰∏Ä‰∏™ÔºåÂΩì‰∏§Ê¨°ÂàáÊç¢Âà∞‰∫ÜÂêå‰∏Ä‰∏™fragmentÔºåËøîÂõûtrueÊó∂‰ºöËøõË°åÊ≠§Ê¨°ÂàáÊç¢ * * @param showItem ÊòæÁ§∫ÁöÑitem * @return ËøîÂõûfalseË°®Á§∫ÂøΩÁï•Ê≠§Ê¨°ÁÇπÂáªÁöÑÂàáÊç¢ */ boolean whenShowSameFragment(int showItem); /** * ÂΩìÁÇπÂáªÊòæÁ§∫ÁöÑ‰∏çÊòØÂêå‰∏Ä‰∏™ÔºåÁî®‰∫éÈúÄË¶ÅÈíàÂØπÂàáÊç¢Âà∞Êüê‰∏™fragmentÊó∂ÁöÑÂú∫ÊôØ * * @param showItem ÊòæÁ§∫ÁöÑitem * @return ËøîÂõûfalseË°®Á§∫ÂøΩÁï•Ê≠§Ê¨°ÁÇπÂáªÁöÑÂàáÊç¢ */ boolean whenShowNotSameFragment(int showItem);&#125;// ‰∏äÈù¢ÁöÑÊé•Âè£‰∏≠‰∏çÊòØÊâÄÊúâÁöÑÊñπÊ≥ïÈÉΩÊòØÂøÖÈ°ªÁöÑÔºå‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂÆûÁé∞public static abstract class SimpleFragmentOperator implements FragmentOper @Override public boolean whenShowNotSameFragment(int showItem) &#123; return true; &#125; @Override public boolean whenShowSameFragment(int showItem) &#123; return false; &#125; @Override public void syncSelectState(int showItem) &#123; &#125; @Override public void beginTransaction(FragmentTransaction transaction) &#123; &#125;&#125; Ê†∏ÂøÉÊñπÊ≥ï‰ΩøÁî® tag ‰Ωú‰∏∫Ê†áËÆ∞Ê∑ªÂä† fragment ,ÈÅøÂÖçÈáçÂ§çÂàõÂª∫ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465private static final String FRAGMENT_ATG = "FragmentHelper";private static final String ITEM_HIDE = "mHideItem";private static final String ITEM_SHOW = "mShowItem";private FragmentOperator operator;private Fragment mCurrentFragment;private FragmentManager mFragmentManager;private int mShowItem, mHideItem;private int mExactlyItem = 0; /** * ÈöêËóèÂΩìÂâçÊòæÁ§∫ÁöÑfragment,ÊòæÁ§∫Â∞ÜË¶ÅÊòæÁ§∫ÁöÑfragment * * @param hideItem ÈúÄË¶ÅÈöêËóèÁöÑfragment * @param showItem ÈúÄË¶ÅÊòæÁ§∫ÁöÑfragment * @param isOnCreate ÊòØÂê¶ÊòØÁ¨¨‰∏ÄÊ¨°‰ªéOnCreate‰∏≠ÂêØÂä®,ÁÇπÂáªÈÉΩÊòØfalse */private void performSelectItem(int hideItem, int showItem, boolean isOnCreate) &#123; // Ëé∑ÂæóÂ∞ÜË¶ÅÊòæÁ§∫È°µÁöÑtag String currentTag = getFragmentTag(hideItem); // ÈöêËóèÂΩìÂâçÁöÑÁöÑfragment FragmentTransaction transaction = mFragmentManager.beginTransaction(); operator.beginTransaction(transaction); // Á¨¨‰∏ÄÊ¨°ÂàõÂª∫Ôºå‰∏Ä‰∏™ÈÉΩÊ≤°ÊúâÔºå‰∏çÈúÄË¶ÅÈöêËóèÔºåÁõ¥Êé•ÊòæÁ§∫ if (mFragmentManager.getFragments() == null) &#123; mShowItem = showItem; mExactlyItem = showItem; mCurrentFragment = operator.makeFragment(showItem); transaction.add(operator.getFragmentContainerId(), mCurrentFragment, getFragmentTag( .show(mCurrentFragment); &#125; else &#123; // ‰ºòÂåñÔºåÂ¶ÇÊûúË¢´ÊùÄÂêéÂÜçËøõÊù•ÔºåÂÖ®ÈÉ®ÁöÑfragmentÈÉΩ‰ºöË¢´ÂëàÁé∞ÊòæÁ§∫Áä∂ÊÄÅÔºåÊâÄ‰ª•ÈÉΩÈöêËóè‰∏ÄÈÅç if (isOnCreate &amp;&amp; mFragmentManager.getFragments() != null) &#123; for (Fragment fragment : mFragmentManager.getFragments()) &#123; transaction.hide(fragment); &#125; &#125; else &#123; // Ê≠£Â∏∏ÊåâÈíÆÁÇπÂáªËøõÂÖ•ÔºåÈöêËóè‰∏ä‰∏Ä‰∏™Âç≥ÂèØ Fragment lastFragment = mFragmentManager.findFragmentByTag(currentTag); if (lastFragment != null) &#123; transaction.hide(lastFragment); &#125; &#125; // Ëé∑ÂæóÂ∞ÜË¶ÅÊòæÁ§∫È°µÁöÑtag String toTag = getFragmentTag(showItem); // findË¶ÅÊòæÁ§∫ÁöÑFragment mCurrentFragment = mFragmentManager.findFragmentByTag(toTag); if (mCurrentFragment != null) &#123; // Â∑≤ÁªèÂ≠òÂú®ÂàôÊòæÁ§∫ transaction.show(mCurrentFragment); &#125; else &#123; // ‰∏çÂ≠òÂú®ÂàôÊ∑ªÂä†Êñ∞ÁöÑfragment mCurrentFragment = operator.makeFragment(showItem); if (mCurrentFragment != null) &#123; transaction.add(operator.getFragmentContainerId(), mCurrentFragment, toTag); &#125; &#125; &#125; // ÂêåÊ≠•Áä∂ÊÄÅ operator.syncSelectState(showItem); // ‰øùÂ≠òÂΩìÂâçÊòæÁ§∫fragmentÁöÑitem mHideItem = hideItem; mShowItem = showItem; transaction.commitAllowingStateLoss();&#125; ÊòæÁ§∫ FragmentÂú® Activity ‰∏≠‰ΩøÁî®Êó∂Âè™ÈúÄË¶ÅË∞ÉÁî® showFragment() ÊñπÊ≥ïÂç≥ÂèØ 123456789101112131415161718/** * ÊòæÁ§∫Êüê‰∏™fragment * * @param showItem ÊòæÁ§∫ÁöÑitem */public void showFragment(int showItem) &#123; if (showItem == mShowItem) &#123; if (operator.whenShowSameFragment(showItem)) &#123; performSelectItem(mExactlyItem, showItem, false); mExactlyItem = showItem; &#125; &#125; else &#123; if (operator.whenShowNotSameFragment(showItem)) &#123; performSelectItem(mExactlyItem, showItem, false); mExactlyItem = showItem; &#125; &#125;&#125; ‰ºòÂåñÂΩì Activity Ë¢´ÂõûÊî∂Êó∂ÔºåËÆ∞ÂΩï‰∏äÊ¨°ÁöÑÁä∂ÊÄÅ 123456789101112131415161718192021222324252627282930313233343536// ‰øùÂ≠òÊï∞ÊçÆ// FragmentHelperpublic void onCreate(Bundle save) &#123; if (save != null) &#123; mHideItem = save.getInt(ITEM_HIDE, 0); mShowItem = save.getInt(ITEM_SHOW, 0); performSelectItem(mHideItem, mShowItem, true); &#125;&#125;// Âú®ActivityÈîÄÊØÅÊó∂Ë∞ÉÁî®@Overrideprotected void onSaveInstanceState(Bundle outState) &#123; super.onSaveInstanceState(outState); if (mFragmentHelper != null) &#123; mFragmentHelper.onSaveInstanceState(outState); &#125;&#125;// ÈáçÊñ∞Âä†ËΩΩ// FragmentHelperpublic void onCreate(Bundle save) &#123; if (save != null) &#123; mHideItem = save.getInt(ITEM_HIDE, 0); mShowItem = save.getInt(ITEM_SHOW, 0); performSelectItem(mHideItem, mShowItem, true); &#125;&#125;// Âú®ActivityÂàõÂª∫Êó∂Ë∞ÉÁî®@Overridepublic void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); mFragmentHelper = new FragmentHelper(getSupportFragmentManager(), mSimpleOperator); mFragmentHelper.onCreate(savedInstanceState);&#125; ‰ΩøÁî®123456789101112131415161718192021222324252627282930313233343536373839404142public class TestMultiFragmentActivity2 extends BaseActivity &#123; private FragmentHelper mFragmentHelper; private FragmentHelper.SimpleFragmentOperator mSimpleOperator; @Override public void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); mSimpleOperator = new FragmentHelper.SimpleFragmentOperator() &#123; @Override public int getFragmentContainerId() &#123; return 0; &#125; @Override public Fragment makeFragment(int showItem) &#123; return null; &#125; @Override public void syncSelectState(int showItem) &#123; &#125; &#125;; mFragmentHelper = new FragmentHelper(getSupportFragmentManager(), mSimpleOperator); // Âè™ÊúâÈîÄÊØÅÂêéÂõûÊù•Êâç‰ºöË∞ÉËµ∑ÂàáÊç¢Êìç‰ΩúÂê¶ÂàôÊ≤°ÂèçÂ∫î mFragmentHelper.onCreate(savedInstanceState); &#125; @Override protected void onSaveInstanceState(Bundle outState) &#123; super.onSaveInstanceState(outState); if (mFragmentHelper != null) &#123; mFragmentHelper.onSaveInstanceState(outState); &#125; &#125; @Override protected int getLayoutId() &#123; return 0; &#125;&#125; Ê∫ê‰ª£Á†Å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206/** * CreateAt : 2016/11/5 * Describe : ÂÆûÁé∞FragmentÂàáÊç¢ * * @author chendong */public class FragmentHelper &#123; private static final String FRAGMENT_ATG = "FragmentHelper"; private static final String ITEM_HIDE = "mHideItem"; private static final String ITEM_SHOW = "mShowItem"; private FragmentOperator operator; private Fragment mCurrentFragment; private FragmentManager mFragmentManager; private int mShowItem, mHideItem; private int mExactlyItem = 0; public void onCreate(Bundle save) &#123; if (save != null) &#123; mHideItem = save.getInt(ITEM_HIDE, 0); mShowItem = save.getInt(ITEM_SHOW, 0); performSelectItem(mHideItem, mShowItem, true); &#125; &#125; public void onSaveInstanceState(Bundle outState) &#123; outState.putInt(ITEM_HIDE, mHideItem); outState.putInt(ITEM_SHOW, mShowItem); &#125; public FragmentHelper(FragmentManager mFragmentManager, FragmentOperator operator) &#123; this.mFragmentManager = mFragmentManager; this.mFragmentManager = mFragmentManager; this.operator = operator; &#125; /** * ÊòæÁ§∫Êüê‰∏™fragment * * @param showItem ÊòæÁ§∫ÁöÑitem */ public void showFragment(int showItem) &#123; if (showItem == mShowItem) &#123; if (operator.whenShowSameFragment(showItem)) &#123; performSelectItem(mExactlyItem, showItem, false); mExactlyItem = showItem; &#125; &#125; else &#123; if (operator.whenShowNotSameFragment(showItem)) &#123; performSelectItem(mExactlyItem, showItem, false); mExactlyItem = showItem; &#125; &#125; &#125; /** * Ëé∑ÂèñÂΩìÂâçÂ§Ñ‰∫éÊ¥ªÂä®Áä∂ÊÄÅÁöÑfragment' * * @return fragment */ public Fragment getCurrentFragment() &#123; return mCurrentFragment; &#125; /** * ÈöêËóèÂΩìÂâçÊòæÁ§∫ÁöÑfragment,ÊòæÁ§∫Â∞ÜË¶ÅÊòæÁ§∫ÁöÑfragment * * @param hideItem ÈúÄË¶ÅÈöêËóèÁöÑfragment * @param showItem ÈúÄË¶ÅÊòæÁ§∫ÁöÑfragment * @param isOnCreate ÊòØÂê¶ÊòØÁ¨¨‰∏ÄÊ¨°‰ªéOnCreate‰∏≠ÂêØÂä®,ÁÇπÂáªÈÉΩÊòØfalse */ private void performSelectItem(int hideItem, int showItem, boolean isOnCreate) &#123; // Ëé∑ÂæóÂ∞ÜË¶ÅÊòæÁ§∫È°µÁöÑtag String currentTag = getFragmentTag(hideItem); // ÈöêËóèÂΩìÂâçÁöÑÁöÑfragment FragmentTransaction transaction = mFragmentManager.beginTransaction(); operator.beginTransaction(transaction); // Á¨¨‰∏ÄÊ¨°ÂàõÂª∫Ôºå‰∏Ä‰∏™ÈÉΩÊ≤°ÊúâÔºå‰∏çÈúÄË¶ÅÈöêËóèÔºåÁõ¥Êé•ÊòæÁ§∫ if (mFragmentManager.getFragments() == null) &#123; mShowItem = showItem; mExactlyItem = showItem; mCurrentFragment = operator.makeFragment(showItem); transaction.add(operator.getFragmentContainerId(), mCurrentFragment, getFragmentTag(showItem)) .show(mCurrentFragment); &#125; else &#123; // ‰ºòÂåñÔºåÂ¶ÇÊûúË¢´ÊùÄÂêéÂÜçËøõÊù•ÔºåÂÖ®ÈÉ®ÁöÑfragmentÈÉΩ‰ºöË¢´ÂëàÁé∞ÊòæÁ§∫Áä∂ÊÄÅÔºåÊâÄ‰ª•ÈÉΩÈöêËóè‰∏ÄÈÅç if (isOnCreate &amp;&amp; mFragmentManager.getFragments() != null) &#123; for (Fragment fragment : mFragmentManager.getFragments()) &#123; transaction.hide(fragment); &#125; &#125; else &#123; // Ê≠£Â∏∏ÊåâÈíÆÁÇπÂáªËøõÂÖ•ÔºåÈöêËóè‰∏ä‰∏Ä‰∏™Âç≥ÂèØ Fragment lastFragment = mFragmentManager.findFragmentByTag(currentTag); if (lastFragment != null) &#123; transaction.hide(lastFragment); &#125; &#125; // Ëé∑ÂæóÂ∞ÜË¶ÅÊòæÁ§∫È°µÁöÑtag String toTag = getFragmentTag(showItem); // findË¶ÅÊòæÁ§∫ÁöÑFragment mCurrentFragment = mFragmentManager.findFragmentByTag(toTag); if (mCurrentFragment != null) &#123; // Â∑≤ÁªèÂ≠òÂú®ÂàôÊòæÁ§∫ transaction.show(mCurrentFragment); &#125; else &#123; // ‰∏çÂ≠òÂú®ÂàôÊ∑ªÂä†Êñ∞ÁöÑfragment mCurrentFragment = operator.makeFragment(showItem); if (mCurrentFragment != null) &#123; transaction.add(operator.getFragmentContainerId(), mCurrentFragment, toTag); &#125; &#125; &#125; // ÂêåÊ≠•Áä∂ÊÄÅ operator.syncSelectState(showItem); // ‰øùÂ≠òÂΩìÂâçÊòæÁ§∫fragmentÁöÑitem mHideItem = hideItem; mShowItem = showItem; transaction.commitAllowingStateLoss(); &#125; private String getFragmentTag(int item) &#123; return FRAGMENT_ATG + item; &#125; interface FragmentOperator &#123; /** * Ëé∑ÂèñÊîæÁΩÆfragmentÁöÑÊéß‰ª∂id * * @return id */ int getFragmentContainerId(); /** * ÊûÑÂª∫fragment * * @param showItem Â∞ÜË¶ÅÂ±ïÁ§∫ÁöÑfragment pos * @return fragment */ Fragment makeFragment(int showItem); /** * ËøõË°åËΩ¨Êç¢‰πãÂâçÂÅöÊìç‰Ωú,ÂÆûÁé∞ËØ•ÊñπÊ≥ïÂèØ‰ª•Ëá™ÂÆö‰πâfragmentÂàáÊç¢ÁöÑÂä®ÁîªÊïàÊûúÁ≠â * * @param transaction transaction */ void beginTransaction(FragmentTransaction transaction); /** * ÂàáÊç¢ÊàêÂäü‰πãÂêé‰ºöÂõûË∞ÉËøô‰∏™ÊñπÊ≥ïÔºåÂêåÊ≠•ÈÄâ‰∏≠‰πãÂêéÁöÑÊòæÁ§∫Áä∂ÊÄÅ * ÊØîÂ¶ÇÊîπÂèòÊåâÈíÆÁöÑÈ¢úËâ≤Á≠âÊìç‰Ωú * * @param showItem Ë¢´ÈÄâ‰∏≠ÁöÑitem */ void syncSelectState(int showItem); /** * ÂΩìÁÇπÂáªÊòæÁ§∫Âêå‰∏Ä‰∏™ÔºåÂΩì‰∏§Ê¨°ÂàáÊç¢Âà∞‰∫ÜÂêå‰∏Ä‰∏™fragmentÔºåËøîÂõûtrueÊó∂‰ºöËøõË°åÊ≠§Ê¨°ÂàáÊç¢ * * @param showItem ÊòæÁ§∫ÁöÑitem * @return ËøîÂõûfalseË°®Á§∫ÂøΩÁï•Ê≠§Ê¨°ÁÇπÂáªÁöÑÂàáÊç¢ */ boolean whenShowSameFragment(int showItem); /** * ÂΩìÁÇπÂáªÊòæÁ§∫ÁöÑ‰∏çÊòØÂêå‰∏Ä‰∏™ÔºåÁî®‰∫éÈúÄË¶ÅÈíàÂØπÂàáÊç¢Âà∞Êüê‰∏™fragmentÊó∂ÁöÑÂú∫ÊôØ * * @param showItem ÊòæÁ§∫ÁöÑitem * @return ËøîÂõûfalseË°®Á§∫ÂøΩÁï•Ê≠§Ê¨°ÁÇπÂáªÁöÑÂàáÊç¢ */ boolean whenShowNotSameFragment(int showItem); &#125; // ‰∏äÈù¢ÁöÑÊé•Âè£‰∏≠‰∏çÊòØÊâÄÊúâÁöÑÊñπÊ≥ïÈÉΩÊòØÂøÖÈ°ªÁöÑÔºå‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂÆûÁé∞ public static abstract class SimpleFragmentOperator implements FragmentOperator &#123; @Override public boolean whenShowNotSameFragment(int showItem) &#123; return true; &#125; @Override public boolean whenShowSameFragment(int showItem) &#123; return false; &#125; @Override public void syncSelectState(int showItem) &#123; &#125; @Override public void beginTransaction(FragmentTransaction transaction) &#123; &#125; &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[EditText]]></title>
    <url>%2Farticle%2F2515477621%2F</url>
    <content type="text"><![CDATA[EditText ÊòØ TextView ÁöÑÂ≠êÁ±ªÔºåÁî®‰∫éËøõË°åÊñáÂ≠óËæìÂÖ•Á≠âÊìç‰ΩúÔºåÊòØÂºÄÂèë‰∏≠ÁâπÂà´Â∏∏Áî®ÁöÑ‰∏Ä‰∏™Êéß‰ª∂‰∫ÜÔºåÊú¨Êñá‰∏ªË¶Å‰ªãÁªçÔºö Êõ¥ÊîπEditTextÁöÑËÉåÊôØ ËÆæÁΩÆÁõëÂê¨‰∫ã‰ª∂ ÁªôEditTextËÆæÁΩÆÂÖ∑ÊúâÂ∏¶ÂõæÁâáÁöÑHint ÁõëÂê¨‰∫ã‰ª∂ÁõëÂê¨ÁÑ¶ÁÇπÂèòÂåñ 123456etInput.setOnFocusChangeListener(new OnFocusChangeListener() &#123; @Override public void onFocusChange(View v, boolean hasFocus) &#123; // hasFocus ÂΩìÂâçÊòØÂê¶Ëé∑ÂæóÁÑ¶ÁÇπ &#125;&#125;); ÊñáÊú¨ËæìÂÖ•ÁõëÂê¨‰∫ã‰ª∂ 1234567891011121314etInput.addTextChangedListener(new TextWatcher() &#123; @Override public void beforeTextChanged(CharSequence s, int start, int count, int after) &#123; // ÊñáÊú¨ËæìÂÖ•‰πãÂâçÂõûË∞É &#125; @Override public void onTextChanged(CharSequence s, int start, int before, int count) &#123; // ËæìÂÖ•ËøáÁ®ã‰∏≠‰ºöÈ¢ëÁπÅÂõûË∞É &#125; @Override public void afterTextChanged(Editable s) &#123; // ËæìÂÖ•ÁªìÊùüÂõûË∞É &#125;&#125;); Ëá™ÂÆö‰πâEditTextËÉåÊôØÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåÂΩìÁ¶ªÂºÄÂΩìÂâçEditTextÊó∂ÔºåÊ£ÄÊü•ËæìÂÖ•ÊòØÂê¶ÊúâÈóÆÈ¢òÔºåËæìÂÖ•ÈîôËØØ‰ºöÊòæÁ§∫Á∫¢Ëâ≤ ÂÆö‰πâËÉåÊôØdrawableÊñá‰ª∂ ÂÖ∂‰ªñÂΩ¢ÊÄÅÁöÑËÉåÊôØ‰πüÁõ∏ÂØπÁÆÄÂçïÔºåÂè™Êúâ‰∏ÄÊù°Á∫øÁöÑËøôÁßçËÉåÊôØdrawableÂÜôËµ∑Êù•ËøòÊòØÈúÄË¶ÅÁ†îÁ©∂‰∏Ä‰∏ãÁöÑÔºåÁõ¥Êé•‰∏ä‰ª£Á†ÅÂï¶,‰∏ªË¶ÅÊòØÁî®‰∫Ü‰∏Ä‰∏™selector -&gt; layer-list -&gt; shape,Âú®selectÂ±ûÊÄßÊîπÂèòÊó∂ÔºåÊîπÂèòÁ∫øÊù°ÁöÑÈ¢úËâ≤„ÄÇÂéüÊú¨ÊòØ‰∏Ä‰∏™Áü©ÂΩ¢ÔºåÁÑ∂ÂêéÂ∞ÜÂè¶Â§ñ‰∏â‰∏™ËæπÂÅèÁßª‰∏Ä‰∏ãÔºåÂè™Áïô‰∏ãÂ∫ïËæπÔºåËææÂà∞Á∫øÊù°ÊòæÁ§∫ÁöÑÊïàÊûú„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;item android:state_selected="true"&gt; &lt;layer-list xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;item&gt; &lt;shape android:shape="rectangle"&gt; &lt;solid android:color="@android:color/transparent" /&gt; &lt;/shape&gt; &lt;/item&gt; &lt;item android:left="-2dip" android:right="-2dip" android:top="-2dip"&gt; &lt;shape&gt; &lt;solid android:color="@android:color/transparent" /&gt; &lt;stroke android:width="1dip" android:color="@color/red" android:dashGap="0dp" android:dashWidth="0dip" /&gt; &lt;/shape&gt; &lt;/item&gt; &lt;/layer-list&gt; &lt;/item&gt; &lt;item&gt; &lt;layer-list xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;item&gt; &lt;shape android:shape="rectangle"&gt; &lt;solid android:color="@android:color/transparent" /&gt; &lt;/shape&gt; &lt;/item&gt; &lt;item android:left="-2dip" android:right="-2dip" android:top="-2dip"&gt; &lt;shape&gt; &lt;solid android:color="@android:color/transparent" /&gt; &lt;stroke android:width="1dip" android:color="@color/colorPrimary" android:dashGap="0dp" android:dashWidth="0dip" /&gt; &lt;/shape&gt; &lt;/item&gt; &lt;/layer-list&gt; &lt;/item&gt;&lt;/selector&gt; Â∏¶ÂõæÁâáÁöÑHintÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåÂÆûÁé∞Â∏¶ÊúâÂõæÁâáÁöÑhintÔºå‰ΩøÁî® SpannableStringÂÆûÁé∞ Ôºå‰ΩÜÊòØÂºÄÂßãÁöÑÊïàÊûú‰∏çÊòØÂæàÁêÜÊÉ≥ÔºåÂõæÁâá‰∏çËÉΩÂæàÂ•ΩÁöÑÂ±Ö‰∏≠Ôºå‰ΩøÁî®ÈáçÂÜôImageSpanÁöÑÊñπÊ≥ïËß£ÂÜ≥‰∫ÜËøô‰∏™ÈóÆÈ¢ò ÂõæÁâáÂûÇÁõ¥Â±Ö‰∏≠ÁöÑspan1234567891011121314151617181920212223242526272829303132333435class VerticalCenterImageSpan extends ImageSpan &#123; VerticalCenterImageSpan(Drawable drawable) &#123; super(drawable); &#125; public int getSize(Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fontMetricsInt) &#123; Drawable drawable = getDrawable(); Rect rect = drawable.getBounds(); if (fontMetricsInt != null) &#123; Paint.FontMetricsInt fmPaint = paint.getFontMetricsInt(); int fontHeight = fmPaint.bottom - fmPaint.top;// ËÆ°ÁÆóÊñáÂ≠óÁöÑÈ´òÂ∫¶ int drHeight = rect.bottom - rect.top;// ËÆ°ÁÆóÂõæÁâáÁöÑÈ´òÂ∫¶ int top = drHeight / 2 - fontHeight / 4; int bottom = drHeight / 2 + fontHeight / 4; fontMetricsInt.ascent = -bottom; fontMetricsInt.top = -bottom; fontMetricsInt.bottom = top; fontMetricsInt.descent = top; &#125; return rect.right; &#125; @Override public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint) &#123; Drawable drawable = getDrawable(); canvas.save(); int transY; transY = ((bottom - top) - drawable.getBounds().bottom) / 2 + top; canvas.translate(x, transY); drawable.draw(canvas); canvas.restore(); &#125; &#125; ËÆæÁΩÆhint123456789// ËÆæÁΩÆÂõæÊñáhint private void initEditText(EditText editText) &#123; SpannableString msp = new SpannableString("ÂõæÁâá ÂÜôÁÇπ‰ªÄ‰πàÂêß..."); Drawable drawable = ContextCompat.getDrawable(getContext(), R.drawable.icon_hint_edit); drawable.setBounds(0, 0, drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight()); // ËøôÈáå‰ªéstart = 0ÂºÄÂßãÔºåend = 2ÁªìÊùüÔºåÂõæÁâáÂèñ‰ª£‰∫Ü‰∏§‰∏™Â≠óÁöÑ‰ΩçÁΩÆÔºå‰∏äÈù¢ÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠ÂõΩÂπ¥ÁöÑÂõæÁâá‰∏§‰∏™Â≠ó‰ºöË¢´Êõø‰ª£ msp.setSpan(new VerticalCenterImageSpan(drawable), 0, 2, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE); editText.setHint(msp); &#125; ‰øÆÊîπÈîÆÁõòÁöÑÂõûËΩ¶ÈîÆÂú®xmlÈÖçÁΩÆ 12android:imeOptions="actionSearch"android:inputType="text" ÊàñÂú®java‰ª£Á†Å‰∏≠ÈÖçÁΩÆ 12editText.setImeOptions(EditorInfo.IME_ACTION_SEARCH);editText.setInputType(EditorInfo.TYPE_CLASS_TEXT); ÂÆûÁé∞ÁõëÂê¨ÔºåËøõË°åÁõ∏ÂÖ≥Êìç‰Ωú 12345678910editText.setOnEditorActionListener(new TextView.OnEditorActionListener() &#123; public boolean onEditorAction(TextView v, int actionId, KeyEvent event) &#123; if (actionId == EditorInfo.IME_ACTION_SEND || (event != null &amp;&amp; event.getKeyCode() == KeyEvent.KEYCODE_ENTER)) &#123; //do something; return true; &#125; return false; &#125;&#125;);]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁßªÂä®Á´Ø‰∏éÊúçÂä°Âô®tokenÊú∫Âà∂]]></title>
    <url>%2Farticle%2F1482489498%2F</url>
    <content type="text"><![CDATA[ÁßªÂä®Á´Ø‰∏éÊúçÂä°Âô®tokenÊú∫Âà∂]]></content>
      <categories>
        <category>Android</category>
        <category>todo</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÂÆö‰πâÊéß‰ª∂-‰ªøQQÁõ∏ÂÜåÊªëÂä®ÈÄâ‰∏≠]]></title>
    <url>%2Farticle%2F3936083469%2F</url>
    <content type="text"><![CDATA[ÊòæÁ§∫Áõ∏ÂÜåÂú®app‰∏≠ÊòØ‰∏Ä‰∏™ÊØîËæÉÂ∏∏ËßÅÁöÑÊìç‰ΩúÔºåÂ§ßËá¥ÁöÑÊìç‰ΩúÂ∞±ÊòØÈÄöËøáContentProviderËé∑ÂèñÂ§öÂ™í‰ΩìËµÑÊ∫êËøõË°åÂ±ïÁ§∫ÔºåÊàëÁªºÂêà‰∫Ü‰∏Ä‰∏ãQQ ÁöÑÂíåÂæÆ‰ø°ÁöÑÊòæÁ§∫ÊïàÊûúÔºåÂÆûÁé∞‰∫Ü‰∏Ä‰∏ã,‰ªøÂæÆ‰ø°QQÊòæÁ§∫ÊâãÊú∫Áõ∏ÂÜåÔºåÂú®QQÁöÑÁõ∏ÂÜåÈÄâÊã©Êó∂ÊòØÊîØÊåÅÊªëÂä®ÈÄâ‰∏≠ÁöÑÔºåÂç≥ÊâãÊåáÁ¢∞Âà∞Âì™‰∏™Â∞±ÈÄâ‰∏≠Âì™Âº†ÁÖßÁâáÔºåÊ≠£Â•ΩÂÖ¨Âè∏ÁöÑÈ°πÁõÆ‰∏≠Áî®Âà∞‰∫ÜËøô‰∏™ÂäüËÉΩÔºåÂú®ÁΩë‰∏äÊâæ‰∫ÜÊâæÊ≤°ÊúâÂæàÂ•ΩÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÊâÄ‰ª•ÈÄöËøáËá™ÂÆö‰πâÊéß‰ª∂Â§ÑÁêÜ‰∫ã‰ª∂ÔºåËøôÁØáÊñáÁ´†‰∏ªË¶Å‰ªãÁªçËøô‰∏™ÂäüËÉΩÁöÑÂÆûÁé∞„ÄÇ Ëá™ÂÆö‰πâÊéß‰ª∂SlidingSelectLayoutÁöÑÊ∫ê‰ª£Á†ÅÁÇπÂáªËøôÈáåËé∑Âèñ Â§ß‰ΩìÊÄùË∑ØËá™ÂÆö‰πâÊéß‰ª∂Â∞Ü‰ºö‰Ωú‰∏∫ RecyclerView ÁöÑÁà∂Êéß‰ª∂ÔºåËøôÊ†∑‰Ωø‰ªñÂèØ‰ª•‰ºòÂÖà‰∫éRecyclerView ÊçïÊçâ‰∫ã‰ª∂ ÂΩìÊâãÊåáÁ´ñÂêëÊªëÂä®Êó∂ÔºåÁà∂Êéß‰ª∂‰∏ç‰ΩúÂ§ÑÁêÜÔºåRecyclerViewÂ§ÑÁêÜ‰∫ã‰ª∂ÔºåËøõË°åÊªëÂä®„ÄÇÂΩìÊâãÊåáÊ®™ÂêëÊªëÂä®ËææÂà∞ÈòàÂÄºÊó∂Ëá™ÂÆö‰πâÁà∂Êéß‰ª∂‰ºöÊà™Êñ≠‰∫ã‰ª∂Ëá™Â∑±ËøõË°åËøõË°åÂ§ÑÁêÜ„ÄÇ Ê†πÊçÆÊâãÊåáÁöÑÊªëÂä®MotionEventËé∑Âèñx,yÂùêÊ†áÔºå‰ΩøÁî®RecycelrViewÁöÑfindViewUnder(float x,float y) ÁöÑÊñπÊ≥ïÔºåÂèØ‰ª•Áõ¥Êé•Ëé∑ÂèñÂà∂ÂÆö‰ΩçÁΩÆÁöÑViewÔºåÂÜç‰ΩøÁî®tag‰ªéview‰∏≠ÊãøÂà∞‰πãÂâç‰ΩøÁî®mScl.markView()ÊñπÊ≥ïÁªëÂÆöÁöÑposÂíådataÊï∞ÊçÆ ‰ΩøÁî®ËØ•ÊñπÊ≥ïÂ∞±‰∏ç‰ºöÂõ†‰∏∫Âä®ÊÄÅËÆ°ÁÆóË∑ùÁ¶ªËÄåÂ±ÄÈôê‰∫éRecyclerViewÁöÑÂ∏ÉÂ±ÄÔºå‰πùÂÆ´Ê†ºÊ®°Âºè‰∏ã‰ªçÁÑ∂ÂèØ‰ª•ÂæàÂ•ΩÁöÑÊîØÊåÅ„ÄÇ ÂàùÂßãÂåñÂèÇÊï∞Âú®Â§ÑÁêÜ‰∫ã‰ª∂Ëé∑ÂèñÊâãÊåáÊªëÂä®ÁöÑ‰ΩçÁΩÆÊó∂ÔºåÈúÄË¶Å‰ΩøÁî®RecyclerViewÁöÑLayoutManagerÁ≠âÔºå‰∏∫‰∫ÜÂ∞ΩÈáèÂØπÂ§ñÁÆÄÂåñ‰ΩøÁî®ÁöÑÊµÅÁ®ãÔºåÂú®Êéß‰ª∂ÂÜÖÈÉ®‰ΩøÁî®ÈÅçÂéÜÂ≠êÊéß‰ª∂ÁöÑÊñπÂºèÊù•Ëé∑ÂèñRecyclerViewÂíåGridLayoutManagerÁöÑÂàóÊï∞Á≠âÂèÇÊï∞ÔºåÂàùÂßãÂåñ‰∏Ä‰∫õÂÄº„ÄÇ Ëé∑Âèñ RecyclerView 1234567891011121314151617181920212223242526/** * Ëé∑ÂèñRecyclerView */private void ensureTarget() &#123; if (mTargetRv != null) return; View findView = searchInViewGroup(this); if (findView == null) &#123; Logger.e(TAG, "can not find RecyclerView"); &#125; else &#123; mTargetRv = (RecyclerView) findView; &#125;&#125;private View searchInViewGroup(ViewGroup viewGroup) &#123; View rstView = null; for (int i = 0; i &lt; viewGroup.getChildCount(); i++) &#123; View childAt = viewGroup.getChildAt(i); if (childAt instanceof RecyclerView) &#123; rstView = childAt; &#125; else if (childAt instanceof ViewGroup) &#123; rstView = searchInViewGroup((ViewGroup) childAt); &#125; &#125; return rstView;&#125; Â§ÑÁêÜLayoutManagerÔºåÂàùÂßãÂåñxTouchSlopÔºåËøô‰∏™ÂÄºÊòØÊªëÂä®Â§öÂ§ßË∑ùÁ¶ªËß¶ÂèëÊ∞¥Âπ≥ÊªëÂä®ÔºåÊ†πÊçÆGridLayoutManagerÁöÑÂàóÊï∞Êù•Âä®ÊÄÅËÆæÁΩÆ„ÄÇ 12345678910111213141516private void ensureLayoutManager() &#123; if (mTargetRv == null || itemSpanCount != INVALID_PARAM) return; RecyclerView.LayoutManager lm = mTargetRv.getLayoutManager(); if (lm == null) return; if (lm instanceof GridLayoutManager) &#123; GridLayoutManager glm = (GridLayoutManager) lm; itemSpanCount = glm.getSpanCount(); &#125; else &#123; Logger.e(TAG,"ÊöÇÊó∂‰∏çÊîØÊåÅÂÖ∂‰ªñÂ∏ÉÂ±ÄÁ±ªÂûãÔºåËØ∑‰ΩøÁî®GridLayoutManager"); itemSpanCount = 4; &#125; int size = (int) (getResources().getDisplayMetrics().widthPixels / (itemSpanCount * 1.0f)); xTouchSlop = yTouchSlop = size * TOUCH_SLOP_RATE;&#125; Êã¶Êà™‰∫ã‰ª∂12345678910111213141516171819202122232425262728293031323334353637383940414243444546// Â¶ÇÊûúRecyclerViewÊ≤°ÊúâËé∑ÂèñÂà∞Ôºå‰∏çËøõË°å‰∫ã‰ª∂ÁöÑÊã¶Êà™private boolean isReadyToIntercept() &#123; return mTargetRv != null &amp;&amp; mTargetRv.getAdapter() != null &amp;&amp; itemSpanCount != INVALID_PARAM;&#125;@Overridepublic boolean onInterceptTouchEvent(MotionEvent ev) &#123; if (!isEnabled()) return super.onInterceptTouchEvent(ev); // ‰∏çÊîØÊåÅÂ§öÁÇπËß¶Êë∏ int pointerCount = ev.getPointerCount(); if (pointerCount &gt; 1) &#123; return super.onInterceptTouchEvent(ev); &#125; // Ëé∑ÂèñRecyclerView ensureTarget(); // ÂàùÂßãÂåñÂèÇÊï∞ ensureLayoutManager(); if (!isReadyToIntercept()) return super.onInterceptTouchEvent(ev); int action = MotionEventCompat.getActionMasked(ev); switch (action) &#123; case MotionEvent.ACTION_DOWN: // init mInitialDownX = ev.getX(); mInitialDownY = ev.getY(); break; case MotionEvent.ACTION_UP: // stop isBeingSlide = false; break; case MotionEvent.ACTION_MOVE: // handle float xDiff = Math.abs(ev.getX() - mInitialDownX); float yDiff = Math.abs(ev.getY() - mInitialDownY); if (yDiff &lt; yTouchSlop &amp;&amp; xDiff &gt; xTouchSlop) &#123; isBeingSlide = true; &#125; break; &#125; return isBeingSlide;&#125; Ëß¶Êë∏‰∫ã‰ª∂Â§ÑÁêÜTouch‰∫ã‰ª∂123456789101112131415161718@Overridepublic boolean onTouchEvent(MotionEvent ev) &#123; int action = MotionEventCompat.getActionMasked(ev); switch (action) &#123; case MotionEvent.ACTION_DOWN: break; case MotionEvent.ACTION_UP: // re init ÊâãÊåáÊä¨Ëµ∑Êó∂ÈáçÁΩÆ isBeingSlide = false; preViewPos = INVALID_PARAM; break; case MotionEvent.ACTION_MOVE: // ÊªëÂä®ËøáÁ®ã‰∏≠ÔºåËß¶ÂèëÁõëÂê¨‰∫ã‰ª∂ publishSlidingCheck(ev); break; &#125; return isBeingSlide;&#125; Ëé∑ÂèñÊï∞ÊçÆ123456789101112131415// ‰ªéView‰∏≠‰ΩøÁî®getTag(int key)Ëé∑ÂèñtagÔºå‰πüÂ∞±ÊòØ‰πãÂâçÂú®onBindViewHolder‰∏≠ËÆæÁΩÆÁöÑÊï∞ÊçÆ// ‰ªéTag‰∏≠Ëé∑Âèñposprivate int getPos(View parentView) &#123; int pos = INVALID_PARAM; Object tag = parentView.getTag(tagPosKey); if (tag != null) pos = (int) tag; return pos; &#125; // ‰ªétag‰∏≠Ëé∑Âèñdataprivate Object getData(View parentView) &#123; return parentView.getTag(tagDataKey);&#125; Ëß¶ÂèëÁõëÂê¨‰ΩøÁî®ÁõëÂê¨ÂêëÂ§ñÂèëÂ∏É‰∫ã‰ª∂,Â∞ÜËé∑ÂèñÁöÑposÂíådataÈÄöËøáÁõëÂê¨ÂèëÂ∏É 12345678910111213141516171819202122232425/** * ÂèëÂ∏ÉÁªìÊûú * * @param event ‰∫ã‰ª∂ */private void publishSlidingCheck(MotionEvent event) &#123; float x = generateX(event.getX()); float y = generateY(event.getY()); View childViewUnder = mTargetRv.findChildViewUnder(x, y); // fast stop if (onSlidingSelectListener == null || childViewUnder == null) return; int pos = getPos(childViewUnder); Object data = getData(childViewUnder); // fast stop ÂΩìÂâçËß¶Êë∏ÁöÑÁÇπ‰∏é‰∏ä‰∏ÄÊ¨°Ëß¶Êë∏ÁöÑÁÇπÁõ∏Âêå || Ê≤°Êúâpos || Ê≤°ÊúâÊï∞ÊçÆ if (preViewPos == pos || pos == INVALID_PARAM || data == null) return; try &#123; // ËøôÈáå‰ΩøÁî®ËåÉÂûãÂº∫Âà∂ËΩ¨Êç¢ onSlidingSelectListener.onSlidingSelect(pos, childViewUnder, data); preViewPos = pos; &#125; catch (ClassCastException e) &#123; Log.e("SlidingSelect", "ClassCastException:Â°´ÂÜôÁöÑËåÉÂûãÊúâËØØÔºåÊó†Ê≥ïËΩ¨Êç¢"); &#125;&#125; ÊïàÊûúÊºîÁ§∫ÊôÆÈÄöÊ®°ÂºèÊºîÁ§∫ËßÜÈ¢ë ‰πùÂÆ´Ê†ºÊ®°ÂºèÊºîÁ§∫ËßÜÈ¢ë ‰ΩøÁî®xml ‰∏≠‰ΩøÁî®1234567891011&lt;com.march.slidingselect.SlidingSelectLayout android:id="@+id/scl" android:layout_width="match_parent" android:layout_height="match_parent"&gt; &lt;android.support.v7.widget.RecyclerView android:id="@+id/recyclerview" android:layout_width="match_parent" android:layout_height="match_parent" /&gt; &lt;/com.march.slidingselect.SlidingSelectLayout&gt; java ‰ª£Á†Å‰∏≠ÈÖçÁΩÆÂú®AdapterÁöÑonBindViewHolderÊñπÊ≥ï‰∏≠Â∞ÜposÂíådata‰∏éviewËøõË°åÁªëÂÆöÔºå‰πãÊâÄ‰ª•ËøôÊ†∑ÂÅöÊòØ‰∏∫‰∫ÜÂèØ‰ª•Âú®ÊâãÊåáÂàíËøáItemÊó∂Â∞ÜÂØπÂ∫îÁöÑÊï∞ÊçÆÂíå‰ΩçÁΩÆÈÄöËøáÁõëÂê¨ÂèëÈÄÅÂõûÊù•„ÄÇ 123456789private SlidingSelectLayout mScl;mScl = getView(R.id.scl);class MyAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;&#123; @Override public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) &#123; mScl.markView(holder.itemView,position,demos.get(position)); &#125;&#125; ÁõëÂê¨ÂõûË∞É‰ΩøÁî®ËåÉÂûãËé∑ÂæóÊâãÊåáËß¶Êë∏Âà∞ÁöÑ‰ΩçÁΩÆÂíåÂΩìÂâç‰ΩçÁΩÆÂØπÂ∫îÁöÑÊï∞ÊçÆËøõË°åÊõ¥Êñ∞adapter 1234567mScl.setOnSlidingSelectListener(new SlidingSelectLayout.OnSlidingSelectListener&lt;Demo&gt;() &#123; @Override public void onSlidingSelect(int pos, View parentView, Demo data) &#123; demos.get(pos).isChanged = !demos.get(pos).isChanged; adapter.notifyItemChanged(pos); &#125; &#125;); Ê∫ê‰ª£Á†Å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251package com.march.dev.widget;import android.content.Context;import android.support.v4.view.MotionEventCompat;import android.support.v7.widget.GridLayoutManager;import android.support.v7.widget.RecyclerView;import android.util.AttributeSet;import android.util.Log;import android.view.MotionEvent;import android.view.View;import android.view.ViewGroup;import android.widget.FrameLayout;import com.march.dev.R;import com.march.dev.helper.Logger;/** * Project : CommonLib * Package : com.march.lib.view * CreateAt : 2016/9/12 * Describe : ÊªëÂä®ÈÄâ‰∏≠ * * @author chendong */public class SlidingSelectLayout extends FrameLayout &#123; public static final String TAG = SlidingSelectLayout.class.getSimpleName(); private static final float TOUCH_SLOP_RATE = 0.15f;// ÂàùÂßãÂåñÂÄº private static final int INVALID_PARAM = -1; public SlidingSelectLayout(Context context) &#123; this(context, null); &#125; public SlidingSelectLayout(Context context, AttributeSet attrs) &#123; super(context, attrs); setTagKey(R.id.sliding_pos, R.id.sliding_data); itemSpanCount = INVALID_PARAM; preViewPos = INVALID_PARAM; &#125; private RecyclerView mTargetRv;// ÂÜÖÈÉ®ÁöÑrv private int offsetTop; private float xTouchSlop;// Ê®™ËΩ¥ÊªëÂä®ÈòàÂÄºÔºåË∂ÖËøáÈòàÂÄºË°®Á§∫Ëß¶ÂèëÊ®™ËΩ¥ÊªëÂä® private float yTouchSlop;// Á∫µËΩ¥ÊªëÂä®ÈòàÂÄºÔºåË∂ÖËøáÈòàÂÄºË°®Á§∫Ëß¶ÂèëÁ∫µËΩ¥ÊªëÂä® private int itemSpanCount;// Ê®™ÂêëÁöÑitemÊï∞Èáè private float mInitialDownX;// down ‰∫ã‰ª∂ÂàùÂßãÂÄº private float mInitialDownY;// down ‰∫ã‰ª∂ÂàùÂßãÂÄº private boolean isBeingSlide;// ÊòØÂê¶Ê≠£Âú®ÊªëÂä® private int tagPosKey; private int tagDataKey; private int preViewPos; private OnSlidingSelectListener onSlidingSelectListener;// ÊªëÂä®ÈÄâ‰∏≠ÁõëÂê¨ @Override public boolean onInterceptTouchEvent(MotionEvent ev) &#123; if (!isEnabled()) return super.onInterceptTouchEvent(ev); // ‰∏çÊîØÊåÅÂ§öÁÇπËß¶Êë∏ int pointerCount = ev.getPointerCount(); if (pointerCount &gt; 1) &#123; return super.onInterceptTouchEvent(ev); &#125; // Ëé∑ÂèñRecyclerView ensureTarget(); // ÂàùÂßãÂåñÂèÇÊï∞ ensureLayoutManager(); if (!isReadyToIntercept()) return super.onInterceptTouchEvent(ev); int action = MotionEventCompat.getActionMasked(ev); switch (action) &#123; case MotionEvent.ACTION_DOWN: // init mInitialDownX = ev.getX(); mInitialDownY = ev.getY(); break; case MotionEvent.ACTION_UP: // stop isBeingSlide = false; break; case MotionEvent.ACTION_MOVE: // handle float xDiff = Math.abs(ev.getX() - mInitialDownX); float yDiff = Math.abs(ev.getY() - mInitialDownY); if (yDiff &lt; yTouchSlop &amp;&amp; xDiff &gt; xTouchSlop) &#123; isBeingSlide = true; &#125; break; &#125; return isBeingSlide; &#125; private float generateX(float x) &#123; return x; &#125; private float generateY(float y) &#123; return y - offsetTop; &#125; private void setTargetRv(RecyclerView mTargetRv) &#123; this.mTargetRv = mTargetRv; &#125; @Override public boolean onTouchEvent(MotionEvent ev) &#123; int action = MotionEventCompat.getActionMasked(ev); switch (action) &#123; case MotionEvent.ACTION_DOWN: break; case MotionEvent.ACTION_UP: // re init ÊâãÊåáÊä¨Ëµ∑Êó∂ÈáçÁΩÆ isBeingSlide = false; preViewPos = INVALID_PARAM; break; case MotionEvent.ACTION_MOVE: // ÊªëÂä®ËøáÁ®ã‰∏≠ÔºåËß¶ÂèëÁõëÂê¨‰∫ã‰ª∂ publishSlidingCheck(ev); break; &#125; return isBeingSlide; &#125; /** * ÂàùÂßãÂåñÂèÇÊï∞ */ private void ensureLayoutManager() &#123; if (mTargetRv == null || itemSpanCount != INVALID_PARAM) return; RecyclerView.LayoutManager lm = mTargetRv.getLayoutManager(); if (lm == null) return; if (lm instanceof GridLayoutManager) &#123; GridLayoutManager glm = (GridLayoutManager) lm; itemSpanCount = glm.getSpanCount(); &#125; else &#123; Logger.e(TAG, "ÊöÇÊó∂‰∏çÊîØÊåÅÂÖ∂‰ªñÂ∏ÉÂ±ÄÁ±ªÂûãÔºåËØ∑‰ΩøÁî®GridLayoutManager"); itemSpanCount = 4; &#125; int size = (int) (getResources().getDisplayMetrics().widthPixels / (itemSpanCount * 1.0f)); xTouchSlop = yTouchSlop = size * TOUCH_SLOP_RATE; &#125; /** * ÂèëÂ∏ÉÁªìÊûú * * @param event ‰∫ã‰ª∂ */ private void publishSlidingCheck(MotionEvent event) &#123; float x = generateX(event.getX()); float y = generateY(event.getY()); View childViewUnder = mTargetRv.findChildViewUnder(x, y); // fast stop if (onSlidingSelectListener == null || childViewUnder == null) return; int pos = getPos(childViewUnder); Object data = getData(childViewUnder); // fast stop ÂΩìÂâçËß¶Êë∏ÁöÑÁÇπ‰∏é‰∏ä‰∏ÄÊ¨°Ëß¶Êë∏ÁöÑÁÇπÁõ∏Âêå || Ê≤°Êúâpos || Ê≤°ÊúâÊï∞ÊçÆ if (preViewPos == pos || pos == INVALID_PARAM || data == null) return; try &#123; // ËøôÈáå‰ΩøÁî®ËåÉÂûãÂº∫Âà∂ËΩ¨Êç¢ onSlidingSelectListener.onSlidingSelect(pos, childViewUnder, data); preViewPos = pos; &#125; catch (ClassCastException e) &#123; Log.e("SlidingSelect", "ClassCastException:Â°´ÂÜôÁöÑËåÉÂûãÊúâËØØÔºåÊó†Ê≥ïËΩ¨Êç¢"); &#125; &#125; private void setTagKey(int tagPosKey, int tagDataKey) &#123; this.tagPosKey = tagPosKey; this.tagDataKey = tagDataKey; &#125; /** * ËÆæÁΩÆposÂíådata‰Ωú‰∏∫ViewÁöÑtag * @param parentView * @param pos * @param data */ public void markView(View parentView, int pos, Object data) &#123; parentView.setTag(tagPosKey, pos); parentView.setTag(tagDataKey, data); &#125; private int getPos(View parentView) &#123; int pos = INVALID_PARAM; Object tag = parentView.getTag(tagPosKey); if (tag != null) pos = (int) tag; return pos; &#125; private Object getData(View parentView) &#123; return parentView.getTag(tagDataKey); &#125; /** * ÊòØÂê¶ÂèØ‰ª•ÂºÄÂßãÊã¶Êà™Â§ÑÁêÜ‰∫ã‰ª∂ÔºåÂΩìrecyclerViewÊï∞ÊçÆÂÆåÂÖ®ok‰πãÂêéÂºÄÂßã * * @return ÊòØÂê¶ÂèØ‰ª•ÂºÄÂßãÊã¶Êà™Â§ÑÁêÜ‰∫ã‰ª∂ */ private boolean isReadyToIntercept() &#123; return mTargetRv != null &amp;&amp; mTargetRv.getAdapter() != null &amp;&amp; itemSpanCount != INVALID_PARAM; &#125; /** * Ëé∑ÂèñRecyclerView */ private void ensureTarget() &#123; if (mTargetRv != null) return; View findView = searchInViewGroup(this); if (findView == null) &#123; Logger.e(TAG, "can not find RecyclerView"); &#125; else &#123; mTargetRv = (RecyclerView) findView; &#125; &#125; private View searchInViewGroup(ViewGroup viewGroup) &#123; View rstView = null; for (int i = 0; i &lt; viewGroup.getChildCount(); i++) &#123; View childAt = viewGroup.getChildAt(i); if (childAt instanceof RecyclerView) &#123; rstView = childAt; &#125; else if (childAt instanceof ViewGroup) &#123; rstView = searchInViewGroup((ViewGroup) childAt); &#125; &#125; return rstView; &#125; public void setOffsetTop(int offsetTop) &#123; this.offsetTop = offsetTop; &#125; public &lt;D&gt; void setOnSlidingSelectListener(OnSlidingSelectListener&lt;D&gt; onSlidingCheckListener) &#123; this.onSlidingSelectListener = onSlidingCheckListener; &#125; public interface OnSlidingSelectListener&lt;D&gt; &#123; void onSlidingSelect(int pos, View parentView, D data); &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android‰∫ã‰ª∂‰∫§‰∫í]]></title>
    <url>%2Farticle%2F3766638624%2F</url>
    <content type="text"><![CDATA[Android‰∫ã‰ª∂‰∫§‰∫í,ÂΩìÁî®Êà∑ÊâãÊåáËß¶Á¢∞Â±èÂπïÊó∂‰ºöËß¶ÂèëonTouchEvent(MotionEven event)ÊñπÊ≥ï„ÄÇ Êé®ËçêÈòÖËØªÁÆÄ‰π¶ÔºçMotionEventËØ¶Ëß£ ‰∫ã‰ª∂ÂàÜÂèë‰∫ã‰ª∂ÂàÜÂèëÁöÑ U ÂûãÁªìÊûÑÔºå‰∫ã‰ª∂ÂÖà‰ªé‰∏äÂæÄ‰∏ãÂàÜÂèëÔºåÂà∞ËææÊúÄÂ∫ïÂ±ÇÂêéÔºå‰ªé‰∏ãÂêë‰∏äÂ§ÑÁêÜÔºåÂΩìÁÑ∂‰∏≠Èó¥ËøòÊúâÊà™Êñ≠‰∫ã‰ª∂Á≠âÊµÅÁ®ã„ÄÇ Âá†‰∏™ÁÇπÔºö Âè™Êúâ ViewGroup ÂÖ∑Êúâ onInterceptTOuchEvent() ÊñπÊ≥ïÔºåÁî®Êù•Êà™Êñ≠‰∫ã‰ª∂ÁöÑ‰º†ÈÄíÔºåÂΩì‰∫ã‰ª∂ÁöÑ‰º†ÈÄíË¢´Êà™Êñ≠Êó∂ÔºåÂΩìÂâç ViewGroup Â§ÑÁêÜ‰∫ã‰ª∂„ÄÇ Activity Âíå ViewGroup ÂÖ∑Êúâ dispatchTouchEvent() ÊñπÊ≥ïÔºåÁî®Êù•ÂàÜÂèë‰∫ã‰ª∂ÔºåÂ¶ÇÊûúËøîÂõû falseÔºåÊÑè‰∏∫‰∏çÂàÜÂèëÔºå‰∏äÂ±ÇÂ∞Ü‰ºöÂ§ÑÁêÜ‰∫ã‰ª∂„ÄÇ onTouchEvent() ËøîÂõû true Ë°®Á§∫ÂΩìÂâçÊéß‰ª∂Â§ÑÁêÜ‰∫ã‰ª∂Ôºå‰∫ã‰ª∂Â∞Ü‰∏ç‰ºöÁªßÁª≠Âêë‰∏ä‰º†ÈÄíÔºåÂê¶ÂàôÁªßÁª≠ÂæÄ‰∏äËµ∞„ÄÇ Â¶ÇÊûúÂΩì ACTION_DOWN Êó∂ËøîÂõû falseÔºåÂ∞±‰∏çËÉΩÊé•Êî∂Âà∞ÂÖ∂‰ªñ‰∫ã‰ª∂„ÄÇ Â∏∏Áî®‰∫ã‰ª∂1234567MotionEvent.ACTION_DOWN: 0MotionEvent.ACTION_UP: 1MotionEvent.ACTION_MOVE: 2MotionEvent.ACTION_CANCEL: 3MotionEvent.ACTION_OUTSIDE: 4MotionEvent.ACTION_POINTER_DOWN: 5MotionEvent.ACTION_POINTER_UP: 6 Ëé∑Âèñ‰∫ã‰ª∂ event.getAction()Âíåevent.getActionMasked()ÂíåMotionEventCompat.getActionMasked(event)ÈÉΩÂèØ‰ª•Ëé∑Âèñ‰∫ã‰ª∂Á±ªÂûã„ÄÇÂ∏¶ÊúâMaskÊ†áÂøóÁöÑÊñπÊ≥ïÊòØÈíàÂØπÂ§öÁÇπËß¶ÊéßÁöÑÊÉÖÂÜµÊãøÂà∞ÁöÑÊé©Á†Å„ÄÇÂ§öÁÇπËß¶ÊéßÊó∂ÔºåËé∑ÂèñAction‰ºöËøîÂõûÊØè‰∏™Ëß¶Êë∏ÁÇπÁöÑ‰∫ã‰ª∂ÔºåÂÖ∂‰∏≠‰ΩøÁî®pointerIndexÂå∫ÂàÜÊØè‰∏™Ëß¶Êë∏ÁÇπ„ÄÇ ‰∏∫‰∫ÜËÉΩË°®Á§∫ÊØè‰∏™pointerIndexÂØπÂ∫îÁöÑ‰∫ã‰ª∂Ôºå‰ª•ÂèäÊõ¥Êñπ‰æøËΩ¨ÂåñÔºåÊØè‰∏™Ëé∑ÂèñÁöÑactionÂÆûÈôÖ‰∏äÊòØpointerIndexÂíåeventÊãºÊé•ÊàêÁöÑ16ËøõÂà∂Ë°®Á§∫ÔºåÊØîÂ¶ÇÁ¨¨‰∫å‰∏™ÁÇπÁöÑMove‰∫ã‰ª∂ÔºåËøîÂõûÁöÑÂÄºÊòØ0x0100,01Ë°®Á§∫pointerIndex,00Ë°®Á§∫Down‰∫ã‰ª∂ÔºåÊâÄ‰ª•ËøîÂõûÁöÑactionÁöÑÂÄº‰∏∫256. ÂçïÁÇπËß¶Êë∏Êó∂Âè™Êúâ‰∏Ä‰∏™pointerIndex = 0,ÊâÄ‰ª•Ëé∑ÂèñÁöÑÂà∞ÁöÑactionÂÆûÈôÖ‰∏äÊòØ0x0000(Down‰∫ã‰ª∂)Ôºå0x0001(UP‰∫ã‰ª∂)„ÄÇ„ÄÇ„ÄÇÊâÄ‰ª•ÁªìÊûúÂíå‰∫ã‰ª∂ÁöÑÂÄºÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ ÂΩìÂ§öÁÇπËß¶Êë∏Êó∂ÔºåÁ¨¨‰∏Ä‰∏™ÁÇπÁöÑDown‰∫ã‰ª∂0x0000,Á¨¨‰∫å‰∏™ÁÇπÁöÑDown‰∫ã‰ª∂0x0100,Ê≠§Êó∂ÁÆÄÂçïÁöÑgetAction()ÊñπÊ≥ïÂπ∂‰∏çËÉΩËé∑ÂèñÊ≠£Á°ÆÁöÑ‰∫ã‰ª∂ÂÄº„ÄÇ getActionMasked()ÊñπÊ≥ïÊòØÂ∞ÜgetAction()ÁöÑÂÄº‰∏éACTION_MASKÂÅö‚Äò‰∏é‚ÄôËøêÁÆóÔºå‰æãÂ¶ÇÂΩìÊúâ‰∏Ä‰∏™‰∫ã‰ª∂ÊòØ0x0102,Ëé∑ÂèñÊé©Á†ÅÊó∂ÂèØ‰ª•ËøáÊª§ÊéâpointerIndexÁöÑÂÄºËé∑ÂèñeventÁöÑÂÄºÔºåevent.getActionMasked()ÂéüÁêÜÂ§ßËá¥Áõ∏Âêå„ÄÇ ÊèèËø∞ ÂÄº getAction()ÂçÅÂÖ≠ËøõÂà∂Ë°®Á§∫ 0x0101 ACTION_MASKÂçÅÂÖ≠ËøõÂà∂Ë°®Á§∫ 0x00ff getAction()‰∫åËøõÂà∂Ë°®Á§∫ 000001 000001 ACTION_MASK‰∫åËøõÂà∂Ë°®Á§∫ 000000 011111 getActionMasked()‰∫åËøõÂà∂Ë°®Á§∫ 000000 000001 getActionMasked()ÂçÅÂÖ≠ËøõÂà∂Ë°®Á§∫ 0x0001(Move‰∫ã‰ª∂) 1234public static final int ACTION_MASK = 0xff;public static int getActionMasked(MotionEvent event) &#123; return event.getAction() &amp; ACTION_MASK;&#125; MotionEventCompat.getActionMasked()ÊòØÂØπÁâàÊú¨ÂÖºÂÆπÁöÑÊñπÊ≥ï„ÄÇÊé®Ëçê‰ΩøÁî®Ëøô‰∏™Á±ªËøõË°åÁõ∏ÂÖ≥Êìç‰ΩúËææÂà∞ÂÖºÂÆπÁâàÊú¨ÁöÑÁõÆÁöÑ„ÄÇ Pointer pointer , pointerIndex , event , action , poiterId pointer‰ª£Ë°®‰∏Ä‰∏™Ëß¶Êë∏ÁÇπ pointerIndexÊòØpointerÂú®MotionEvent‰∏≠ÁöÑÁ¥¢Âºï event‰ª£Ë°®‰∫ã‰ª∂ÔºåÊØîÂ¶Ç0(Down),1(UP)‚Ä¶ actionÊòØpointerIndexÂíåeventÊãºÊé•ÁöÑÂçÅÂÖ≠ËøõÂà∂ÂΩ¢Âºè pointerIdÊòØ‰∏Ä‰∏™pointerÁöÑÂîØ‰∏ÄÊ†áÁ§∫Ôºå‰ªñÂú®Êï¥‰∏™‰∫ã‰ª∂ÊµÅ‰∏≠ÊòØ‰∏ç‰ºöÊîπÂèòÁöÑÔºå‰ΩÜÊòØpointerIndexÁöÑÂÄº‰ºöÊîπÂèòÔºåÊØîÂ¶ÇÔºåÂÖàÂêéÊîæÁΩÆ‰∏â‰∏™ÊåáÂ§¥Âú®Â±èÂπï‰∏ä‰ºöÊé•Êî∂Âà∞0x0000(Á¨¨‰∏Ä‰∏™ÊåáÂ§¥Down‰∫ã‰ª∂),0x0105(Á¨¨‰∫å‰∏™ÊåáÂ§¥Pointer_Down‰∫ã‰ª∂),0x0205(Á¨¨‰∏â‰∏™ÊåáÂ§¥Pointer_Down‰∫ã‰ª∂),Êä¨Ëµ∑Á¨¨‰∫å‰∏™ÊåáÂ§¥Êó∂‰ºöËß¶Âèë0x0106(Pointer_Up),ÂÜçÊä¨Ëµ∑Á¨¨‰∏â‰∏™ÊåáÂ§¥‰πü‰ºöËß¶Âèë0x0106(Pointer_Up),‰πüÂ∞±ÊòØËØ¥Êä¨Ëµ∑Á¨¨‰∫å‰∏™ÊåáÂ§¥‰πãÂêéÁ¨¨‰∏â‰∏™ÊåáÂ§¥ÁöÑindexÁî±02ÂèòÊàê‰∫Ü01,ÊâÄ‰ª•indexÂè™ÊòØMotionEvnet‰∏≠ÊØè‰∏™‰∫ã‰ª∂ÁöÑ‰∏ãÊ†áÔºå‰∏é‰∫ã‰ª∂‰∏çËÉΩÂΩ¢ÊàêÊ†áÂøóÊÄßÁöÑÂÖ≥Á≥ª„ÄÇ MotionEventCompat MotionEventCompatÊòØ‰∏Ä‰∏™ÈíàÂØπ‰∫ã‰ª∂Â§ÑÁêÜÊèê‰æõÁöÑËæÖÂä©Á±ªÔºåÂÜÖÈÉ®ÂÅö‰∫ÜÁâàÊú¨ÂÖºÂÆπ„ÄÇ getActionIndex(MotionEvent event)Ëé∑ÂèñËØ•‰∫ã‰ª∂ÁöÑÁ¥¢ÂºïÔºåÊúâÁÇπÁ±ª‰ºº‰∫éMotionEventCompat.getActionMasked(),ÈÉΩ‰ΩøÁî®‚Äò‰∏é‚ÄôËøêÁÆóÔºåÂè™‰∏çËøá‰∏Ä‰∏™ÂèñÁöÑÊòØÈ´ò‰ΩçÁöÑpointerIndex,ÂêéËÄÖÂèñÂæóÊòØ‰Ωé‰ΩçÁöÑevent‰∫ã‰ª∂„ÄÇ 1234public static int getActionIndex(MotionEvent event) &#123; return (event.getAction() &amp; ACTION_POINTER_INDEX_MASK) &gt;&gt; ACTION_POINTER_INDEX_SHIFT; &#125; getPointerId(MotionEvent event, int pointerIndex)Âú®‰∏Ä‰∏™MotionEvent‰∏≠Ê†πÊçÆËß¶Êë∏ÁÇπpointerIndexÁöÑÂÄºËé∑ÂèñpointerId 123public static int getPointerId(MotionEvent event, int pointerIndex) &#123; return IMPL.getPointerId(event, pointerIndex);&#125; findPointerIndex(MotionEvent event, int pointerId)Âú®‰∏Ä‰∏™MotionEvent‰∏≠Ê†πÊçÆpointerIdËé∑ÂèñpointerIndex 123public static int findPointerIndex(MotionEvent event, int pointerId) &#123; return IMPL.findPointerIndex(event, pointerId);&#125; ‰ªé‰∏Ä‰∏™MotionEvent‰∏≠Ê†πÊçÆpointerIndexËé∑ÂèñÂØπÂ∫îËß¶Êë∏ÁÇπÁöÑXYÂùêÊ†á 123456public static float getX(MotionEvent event, int pointerIndex) &#123; return IMPL.getX(event, pointerIndex);&#125;public static float getY(MotionEvent event, int pointerIndex) &#123; return IMPL.getY(event, pointerIndex);&#125;]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NestedScrolling‰∫§‰∫í]]></title>
    <url>%2Farticle%2F2940188893%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä‰∫§‰∫í Ëß¶ÂèëÊó∂Êú∫ NestedScrollChild NestedScrollParent Down startNestScroll onStartNestScroll onNestScrollAccept Move dispatchNestPreScroll onNestPreScroll dispatchNestScroll onNestScroll Up stopNest]]></content>
      <categories>
        <category>Android</category>
        <category>todo</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂàÜÊûêSwipeRefreshLayoutÂÆûÁé∞Ëá™ÂÆö‰πâÂà∑Êñ∞]]></title>
    <url>%2Farticle%2F308486771%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä ÂàÜÊûêSwipeRefreshLayoutÁöÑÊ∫ê‰ª£Á†ÅÊù•Ê∑±ÂÖ•ÁöÑÁêÜËß£‰∏Ä‰∏ãÂÖ≥‰∫éÂà∑Êñ∞ÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÂíåNestedScrollingÊú∫Âà∂ÁöÑ‰ΩøÁî®„ÄÇAndroid5.0‰πãÂêéÂÆòÊñπÊé®Âá∫‰∫ÜSwipeRefreshLayoutÊù•ÂÆûÁé∞‰∏ãÊãâÂà∑Êñ∞ÔºåÂΩìÁÑ∂ËøòÊúâÂæàÂ§öÂÖ∂‰ªñÊéß‰ª∂ÔºåÂõ†‰∏∫ÂÉè‰∏ãÊãâÂà∑Êñ∞ÔºåÊäΩÂ±âÊïàÊûúÔºåtabLayoutÊïàÊûúÂá†‰πéÊòØÊØè‰∏™AppÈÉΩÈúÄË¶ÅÁöÑÔºåÂú®‰πãÂâçÁöÑÁâàÊú¨‰∏≠AndroidÊ≤°ÊúâÂÆö‰πâËøô‰∫õÊéß‰ª∂ÔºåÂõ†Ê≠§GitHub‰∏ä‰πüÊ∂åÁé∞‰∫ÜÂ§ßÈáèÁöÑËá™ÂÆöÊéß‰ª∂ÁöÑÂ∫ìÔºåÂ§ßÂÆ∂ÂèØ‰ª•ÂæàÊñπ‰æøÁöÑÂºïÁî®Ëøô‰∫õÂ∫ìÂÆûÁé∞ÊïàÊûúÔºåÊØîÂ¶ÇÂæàÁÅ´ÁöÑpull-to-refresh‰ª•ÂèäÂêéÊù•ÁöÑultra-pull-to-refresh„ÄÇAndroidÂú®Êé®Âá∫SwipeRefreshLayout‰πãÂêéÂπ∂Ê≤°ÊúâÂú®ÂõΩÂÜÖÂæóÂà∞ÂæàÂ•ΩÁöÑ‰ΩøÁî®ÔºåÂ§ßÂÆ∂ËøòÊòØÂú®Áî®Ëá™Â∑±ÁöÑÂà∑Êñ∞ÂíåÂºÄÊ∫êÂ∫ìÊù•ÂÆûÁé∞„ÄÇÂèØËÉΩÊòØÂõ†‰∏∫Ôºö SwipeRefreshLayoutÁöÑÊïàÊûúË∑ü‰ª•ÂâçÁöÑÂà∑Êñ∞ÊïàÊûúÊúâ‰∫õÂá∫ÂÖ•ÔºåÂ§ßÂÆ∂Êé•Âèó‰∫Ü‰ª•ÂâçÁöÑÊïàÊûúÂØπÊñ∞ÁöÑÊïàÊûú‰∏çÂ§™Êª°ÊÑè„ÄÇ SwipeRefreshLayoutËá™ÂÆö‰πâÂ∫¶‰∏çÂº∫ÔºåÊØè‰∏™AppÈÉΩÊÉ≥ÊúâËá™Â∑±ÁöÑÁâπËâ≤ÔºåËá™ÁÑ∂‰∏çÊÑøÊÑèÈááÁî®Â§ß‰ºóÁöÑÂÅöÊ≥ï„ÄÇ ËøôÁØáÊñáÁ´†ÁöÑÁõÆÁöÑÂ∞±ÊòØÔºåÁêÜËß£SwipeRefreshLayout ÁöÑÂÆûÁé∞ÔºåÂü∫‰∫éSwipeRefreshLayoutÂÆûÁé∞Á±ª‰ºº‰º†ÁªüÁöÑÂà∑Êñ∞ÊïàÊûúÂπ∂ÊîØÊåÅËá™ÂÆö‰πâ„ÄÇ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>SourceCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NestedScrollingParentÂàÜÊûê]]></title>
    <url>%2Farticle%2F1655050953%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä ÂØπNestedScrollingParentÊé•Âè£ËøõË°åÂàÜÊûêÔºå‰∏ªË¶ÅÊòØÊñáÊ°£ÁöÑÁøªËØëÂíå‰∏Ä‰∫õÁêÜËß£Ôºå‰ª•ÂèäÊØè‰∏™ÊñπÊ≥ïËß¶ÂèëÁöÑÊó∂Êú∫„ÄÇ NestedScrollingParentÊé•Âè£ This interface should be implemented by {@link android.view.ViewGroup ViewGroup} subclassesthat wish to support scrolling operations delegated by a nested child view. ÁøªËØëÔºöËøô‰∏™Êé•Âè£Ë¢´ViewGroupÁöÑÂ≠êÁ±ªÂÆûÁé∞Êù•ÊîØÊåÅÂ§ÑÁêÜnestÂ≠êËßÜÂõæÁöÑÊªëÂä®Êìç‰Ωú„ÄÇ Classes implementing this interface should create a final instance of a {@link NestedScrollingParentHelper} as a field and delegate any View or ViewGroup methodsto the NestedScrollingParentHelper methods of the same signature. ÁøªËØëÔºöÂÆûÁé∞Ëøô‰∏™Êé•Âè£ÁöÑÁ±ªÂ∫îËØ•ÂàõÂª∫‰∏Ä‰∏™finalÁ±ªÂûãÁöÑNestedScrollingParentHelperÂÆû‰æã‰Ωú‰∏∫‰∏Ä‰∏™Â±ûÊÄßÔºåÊù•‰ª£ÁêÜNestedScrollingParent‰∏≠‰∏éNestedScrollingParentHelperÂÖ∑ÊúâÁõ∏ÂêåÊñπÊ≥ïÂêçÂ≠óÁöÑÊìç‰Ωú„ÄÇ Views invoking nested scrolling functionality should always do so from the relevant {@link ViewCompat}, {@link ViewGroupCompat} or {@link ViewParentCompat} compatibility shim static methods. This ensures interoperability with nested scrolling views on Android 5.0 Lollipop and newer. ÁøªËØëÔºöViewË∞ÉÁî®ÂµåÂ•óÊªëÂä®ÁöÑÁõ∏ÂÖ≥ÂäüËÉΩÊó∂Â∫îËØ•‰ªéÁõ∏ÂÖ≥ÁöÑViewCompatÔºåViewGroupCompatÔºåViewParentCompatË∞ÉÁî®ÂÖºÂÆπÁöÑÈùôÊÄÅÊñπÊ≥ïÔºåËøô‰øùËØÅ‰∫ÜÂú®5.0ÊàñËÄÖÊõ¥Êñ∞ÁâàÊú¨‰∏≠‰∏éÂµåÂ•óÊªëÂä®ÁöÑ‰∫íÁî®ÊÄß„ÄÇ onStartNestedScrollÊñπÊ≥ï1public boolean onStartNestedScroll(View child, View target, int nestedScrollAxes); ÂèÇÊï∞ÂíåËøîÂõûÂÄº 12345678//ViewParentÂåÖÊ∂µÁöÑÁõ¥Êé•ÁöÑÂ≠êView@param child Direct child of this ViewParent containing target //ÂêØÂä®ÂµåÂ•óÊªëÂä®Êìç‰ΩúÁöÑView@param target View that initiated the nested scroll //flagÂûÇÁõ¥ÊªëÂä®ËøòÊòØÊ∞¥Âπ≥ÊªëÂä®@param nestedScrollAxes Flags consisting of &#123;@link ViewCompat#SCROLL_AXIS_HORIZONTAL&#125;, &#123;@link ViewCompat#SCROLL_AXIS_VERTICAL&#125; or both //Â¶ÇÊûúËøîÂõûtrue‰ª£Ë°®Áà∂ViewÊé•ÂèóÊ∂àËÄóËøô‰∏™ÊªëÂä®Êìç‰Ωú„ÄÇ@return true if this ViewParent accepts the nested scroll operation React to a descendant view initiating a nestable scroll operation, claiming the nested scroll operation if appropriate. ÁøªËØëÔºöÂØπ‰∏Ä‰∏™Ê¥æÁîüViewÁöÑÂµåÂ•óÊªëÂä®Êìç‰Ωú‰ΩúÂá∫ÂèçÂ∫îÔºåÂ¶ÇÊûúÈúÄË¶ÅÁöÑËØùÂ∞Ü‰ºöÊã¶Êà™ÔºàÊ∂àËÄóÔºâËøô‰∏™ÊªëÂä®Êìç‰Ωú„ÄÇ This method will be called in response to a descendant view invoking ink ViewCompat#startNestedScroll(View, int)}. Each parent up the view hierarchy will be given an opportunity to respond and claim the nested scrolling operation by returning true. ÁøªËØëÔºöËøô‰∏™ÊñπÊ≥ïÂ∞Ü‰ºöË¢´‰Ωú‰∏∫Ê¥æÁîüViewË∞ÉÁî®ViewCompat.startNestedScroll(View, int)Êó∂ÁöÑÂõûÂ§çÂìçÂ∫îÔºåÊØè‰∏™‰∏äÂ±ÇÁöÑÁà∂ËßÜÂõæÂ¶ÇÊûúËøô‰∏™ÊñπÊ≥ïËøîÂõûtrue,ÈÉΩÂ∞ÜÊúâÊú∫‰ºöÂìçÂ∫îÂíåÊã¶Êà™ÔºàÊ∂àËÄóÔºâËøô‰∏™ÂµåÂ•óÊªëÂä®Êìç‰Ωú. onNestedScrollAcceptedÊñπÊ≥ï1public void onNestedScrollAccepted(View child, View target, int nestedScrollAxes); React to the successful claiming of a nested scroll operation. ÁøªËØëÔºöÂØπÂµåÂ•óÊªëÂä®Êìç‰ΩúÁöÑÊàêÂäüÂ£∞Êòé‰ΩúÂá∫ÂìçÂ∫îÔºå This method will be called after {@link #onStartNestedScroll(View, View, int) onStartNestedScroll} returns true. It offers an opportunity for the view and its superclasses to perform initial configuration for the nested scroll. Implementations of this method should always call their superclass‚Äôs implementation of this method if one is present. ÁøªËØëÔºöËøô‰∏™ÊñπÊ≥ïÂ∞Ü‰ºöÂú® onStartNestedScrollÊñπÊ≥ïËøîÂõûtrueÊó∂Ë¢´Ë∞ÉÁî®„ÄÇËøô‰∏™ÊñπÊ≥ïÊèê‰æõÁªôViewÂíå‰ªñÁöÑÁà∂Á±ª‰∏Ä‰∏™ÂØπÂµåÂ•óÊªëÂä®Êìç‰ΩúËøõË°åÂàùÂßãÂåñÈÖçÁΩÆÁöÑÊú∫‰ºö„ÄÇÂ¶ÇÊûúÁà∂Á±ªÂØπËØ•ÊñπÊ≥ïÊúâÊìç‰ΩúÔºåÂÆûÁé∞Ê≠§ÊñπÊ≥ïÂ∫îËØ•Ë∞ÉÁî®Áà∂Á±ªÁöÑÂÆûÁé∞„ÄÇ onStopNestedScrollÊñπÊ≥ï1public void onStopNestedScroll(View target); ÂèÇÊï∞ÂíåËøîÂõûÂÄº 12//Ëß¶ÂèëÂµåÂ•óÊªëÂä®ÁöÑView@param target View that initiated the nested scroll React to a nested scroll operation ending. ÁøªËØëÔºöÂØπÂµåÂ•óÊªëÂä®ÁªìÊùüÂÅöÂá∫ÂìçÂ∫î Perform cleanup after a nested scrolling operation.This method will be called when a nested scroll stops, for example when a nested touch scroll ends with a {@link MotionEvent#ACTION_UP} or {@link MotionEvent#ACTION_CANCEL} event. Implementations of this method should always call their superclass‚Äôs implementation of this method if one is present. ÁøªËØëÔºöÁ°ÆËÆ§Âú®ÂµåÂ•óÊªëÂä®Êìç‰ΩúÁªìÊùü‰πãÂêéÁöÑÊ∏ÖÁêÜÊìç‰ΩúÔºåÊØîÂ¶Ç‰∏Ä‰∫õÂèÇÊï∞ÁöÑÈáçÊñ∞ÂàùÂßãÂåñÔºåËøô‰∏™ÊñπÊ≥ïÂ∞Ü‰ºöÂú®ÂµåÂ•óÊªëÂä®Êìç‰ΩúÁªìÊùüÂêéË∞ÉÁî®ÔºåÊØîÂ¶ÇÂµåÂ•óÊªëÂä®Êìç‰ΩúÂõ†‰∏∫ACTION_UPÔºåACTION_CANCEL‰∫ã‰ª∂Ë¢´ÁªàÊ≠¢„ÄÇÂ¶ÇÊûúÁà∂Á±ªÂØπËØ•ÊñπÊ≥ïÊúâÊìç‰ΩúÔºåÂÆûÁé∞Ê≠§ÊñπÊ≥ïÂ∫îËØ•Ë∞ÉÁî®Áà∂Á±ªÁöÑÂÆûÁé∞„ÄÇ onNestedScrollÊñπÊ≥ï1public void onNestedScroll(View target, int dxConsumed, int dyConsumed, int dxUnconsumed, int dyUnconsumed); ÂèÇÊï∞ÂíåËøîÂõûÂÄº 12345678910// ÊéßÂà∂ÂµåÂ•óÊªëÂä®ÁöÑÂ≠êView@param target The descendent view controlling the nested scroll// Â≠êViewÊ∞¥Âπ≥ÊªëÂä®Ê∂àËÄóÁöÑË∑ùÁ¶ª@param dxConsumed Horizontal scroll distance in pixels already consumed by target// Â≠êViewÂûÇÁõ¥ÊªëÂä®Ê∂àËÄóÁöÑË∑ùÁ¶ª@param dyConsumed Vertical scroll distance in pixels already consumed by target// Â≠êViewÊ∞¥Âπ≥ÊªëÂä®Ê≤°ÊúâÊ∂àËÄóÁöÑË∑ùÁ¶ª@param dxUnconsumed Horizontal scroll distance in pixels not consumed by target// Â≠êViewÊ∞¥Âπ≥ÊªëÂä®Ê≤°ÊúâÊ∂àËÄóÁöÑË∑ùÁ¶ª@param dyUnconsumed Vertical scroll distance in pixels not consumed by target React to a nested scroll in progress. ÁøªËØëÔºöÂØπÊªëÂä®ËøáÁ®ã‰ΩúÂá∫ÂìçÂ∫î This method will be called when the ViewParent‚Äôs current nested scrolling child view dispatches a nested scroll event. To receive calls to this method the ViewParent must have previously returned true for a call to {@link #onStartNestedScroll(View, View, int)}. ÁøªËØëÔºöËøô‰∏™ÊñπÊ≥ïÂ∞Ü‰ºöÂú®ViewParent‰∏≠ÂΩìÂâçÊ≠£Âú®ÂµåÂ•óÊªëÂä®ÁöÑÂ≠êViewÂàÜÂèëÂµåÂ•óÊªëÂä®‰∫ã‰ª∂Êó∂Ë¢´Ë∞ÉÁî®„ÄÇ‰∏∫‰∫ÜËÉΩÂ§üÊé•ÂèóÂà∞Ë∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ïÔºåViewParentÂøÖÈ°ª‰∫ãÂÖàÂú®onStartNestedScrollËøîÂõûtrue„ÄÇ Both the consumed and unconsumed portions of the scroll distance are reported to the ViewParent. An implementation may choose to use the consumed portion to match or chase scroll position of multiple child elements, for example. The unconsumed portion may be used to allow continuous dragging of multiple scrolling or draggable elements, such as scrolling a list within a vertical drawer where the drawer begins dragging once the edge of inner scrolling content is reached. ÁøªËØëÔºöÊ∂àËÄóÈÉ®ÂàÜÂíåÊ≤°ÊúâÊ∂àËÄóÈÉ®ÂàÜÁöÑÂµåÂ•óÊªëÂä®ÁöÑË∑ùÁ¶ªÈÉΩË¢´‰∏äÊä•ÁªôViewParent„ÄÇ‰∏Ä‰∏™ÂÆûÁé∞ÂèØ‰ª•ÈÄâÊã©‰ΩøÁî®Ê∂àËÄóÁöÑÈÉ®ÂàÜÊù•ÂåπÈÖçÊàñËøΩÈÄêÂ§ö‰∏™Â≠êÂÖÉÁ¥†ÁöÑÊªöÂä®‰ΩçÁΩÆÔºå‰æãÂ¶Ç„ÄÇÊú™‰ΩøÁî®ÁöÑÈÉ®ÂàÜÂèØ‰ª•Áî®Êù•ÂÖÅËÆ∏ËøûÁª≠ÊªöÂä®ÊàñÊãñÂä®ÊãñÂä®Â§öÂÖÉÁ¥†ÔºåÂ¶ÇÂú®‰∏Ä‰∏™ÂûÇÁõ¥ÁöÑÊäΩÂ±âÂÜÖÊªöÂä®‰∏Ä‰∏™ÂàóË°®ÔºåÊäΩÂ±âÂºÄÂßãÊãñÂä®ÊªöÂä®ËææÂà∞ÂÜÖÂÆπÁöÑËæπÁºò„ÄÇ onNestedPreScrollÊñπÊ≥ï1public void onNestedPreScroll(View target, int dx, int dy, int[] consumed); ÂèÇÊï∞ÂíåËøîÂõûÂÄº 12345678// ÂèëËµ∑ÂµåÂ•óÊªëÂä®ÁöÑÂ≠êView@param target View that initiated the nested scroll// Ê∞¥Âπ≥ÊªëÂä®ÁöÑË∑ùÁ¶ª@param dx Horizontal scroll distance in pixels// ÂûÇÁõ¥ÊªëÂä®ÁöÑË∑ùÁ¶ª@param dy Vertical scroll distance in pixels// ËæìÂá∫,Ê∞¥Âπ≥ÊªëÂä®ÂíåÂûÇÁõ¥ÊªëÂä®Ë¢´Áà∂ViewÊ∂àËÄóÁöÑË∑ùÁ¶ª@param consumed Output. The horizontal and vertical scroll distance consumed by this parent React to a nested scroll in progress before the target view consumes a portion of the scroll. ÊªëÂä®ËøáÁ®ã‰∏≠Âú®ÂèëËµ∑ÂµåÂ•óÊªëÂä®ÁöÑÂ≠êViewÊ∂àËÄóÊªëÂä®Ë∑ùÁ¶ª‰πãÂâç‰ΩúÂá∫ÂèçÂ∫î When working with nested scrolling often the parent view may want an opportunity to consume the scroll before the nested scrolling child does. An example of this is a drawer that contains a scrollable list. The user will want to be able to scroll the list fully into view before the list itself begins scrolling. Âú®ËøõË°åÂµåÂ•óÊªëÂä®Êó∂ÔºåÈÄöÂ∏∏Áà∂ViewÂ∏åÊúõËé∑ÂæóÊú∫‰ºöÂú®Â≠êView‰πãÂâçÊ∂àËÄóÊªëÂä®Ë∑ùÁ¶ª„ÄÇ‰æãÂ¶ÇÔºåÊäΩÂ±âÈáåÈù¢ÂåÖÂê´‰∏Ä‰∏™ÂèØ‰ª•ÊªëÂä®ÁöÑlist,Áî®Êà∑Â∞ÜÂ∏åÊúõËÉΩÂ§üÂú®ÂàóË°®Êú¨Ë∫´ÂºÄÂßãÊªöÂä®‰πãÂâçÂ∞ÜÂàóË°®ÂÆåÂÖ®ÊªöÂä®Âà∞ËßÜÂõæ‰∏≠„ÄÇ onNestedPreScroll is called when a nested scrolling child invokes {@link View#dispatchNestedPreScroll(int, int, int[], int[])}. The implementation should report how any pixels of the scroll reported by dx, dy were consumed in the consumed array. Index 0 corresponds to dx and index 1 corresponds to dy. This parameter will never be null. Initial values for consumed[0] and consumed[1] will always be 0. onNestedPreScroll ÊñπÊ≥ïÂú®Â≠êViewË∞ÉÁî®dispatchNestedPreScrollÊñπÊ≥ïÊó∂Ë¢´Ë∞ÉÁî®„ÄÇËøô‰∏™ÊñπÊ≥ïÁöÑÂÆûÁé∞Â∫îËØ•Êä•ÂëäÂØπdxÂíådyËøõË°å‰∫ÜÂ§öÂ∞ëÊ∂àËÄó„ÄÇconsumed[0]‰ª£Ë°®Ê∂àËÄóÁöÑdx,consumed[1]‰ª£Ë°®Ê∂àËÄóÁöÑdy,Ëøô‰∏™ÂèÇÊï∞‰∏ç‰ºö‰∏∫Á©∫Ôºåconsumed[0]Âíåconsumed[1]ÂàùÂßãÂÄº‰∏∫0„ÄÇ onNestedFlingÊñπÊ≥ï1public boolean onNestedFling(View target, float velocityX, float velocityY, boolean consumed); ÂèÇÊï∞ÂíåËøîÂõûÂÄº 12345678910// ÂèëËµ∑ÂµåÂ•óÊªëÂä®ÁöÑÂ≠êView@param target View that initiated the nested scroll// Ê®™ÂêëÊªëÂä®ÁöÑÈÄüÂ∫¶@param velocityX Horizontal velocity in pixels per second// Á´ñÂêëÊªëÂä®ÁöÑÈÄüÂ∫¶@param velocityY Vertical velocity in pixels per second// Â¶ÇÊûúÊòØtrueË°®Á§∫Ëøô‰∏™Â≠êViewÊ∂àËÄó‰∫ÜËøô‰∏™ÊªëÂä®@param consumed true if the child consumed the fling, false otherwise// ËøîÂõûtrueË°®Á§∫ÔºåÁà∂ViewÊ∂àËÄóÊªëÂä®ÊàñÂÖ∂‰ªñÊÉÖÂÜµ@return true if this parent consumed or otherwise reacted to the fling Request a fling from a nested scroll. ÈúÄË¶ÅÂµåÂ•óÊªëÂä®ÂèëÁîüfling‰∫ã‰ª∂ This method signifies that a nested scrolling child has detected suitable conditions for a fling. Generally this means that a touch scroll has ended with a {@link VelocityTracker velocity} in the direction of scrolling that meets or exceeds the {@link ViewConfiguration#getScaledMinimumFlingVelocity() minimum fling velocity} along a scrollable axis. Ëøô‰∏™ÊñπÊ≥ïÊÑèÂë≥ÁùÄÂµåÂ•óÊªëÂä®ÁöÑÂ≠êViewÁõëÊµãÂà∞‰∏Ä‰∏™ÈÄÇÂêàflingÁöÑÊÉÖÂÜµ„ÄÇÈÄöÂ∏∏ÊÑèÂë≥ÁùÄËß¶Êë∏‰∫ã‰ª∂Âú®‰∏Ä‰∏™ÂèØÊªëÂä®ÁöÑËΩ¥‰∏äÂú®‰∏Ä‰∏™ÊñπÂêë‰∏ä‰ª•‰∏ÄÂÆöÈÄüÂ∫¶ÁªìÊùüÔºåËøô‰∏™ÈÄüÂ∫¶Ë∂ÖËøá‰∫ÜViewConfiguration#getScaledMinimumFlingVelocity()ÁöÑÂÄº„ÄÇ If a nested scrolling child view would normally fling but it is at the edge of its own content, it can use this method to delegate the fling to its nested scrolling parent instead. The parent may optionally consume the fling or observe a child fling. Â¶ÇÊûú‰∏Ä‰∏™Â≠êViewÂú®ÂµåÂ•óÊªëÂä®‰ΩÜÊòØÂà∞Ëææ‰∫Ü‰ªñÁöÑÂÜÖÂÆπËæπÁºòÔºåÂÆÉÂèØ‰ª•‰ΩøÁî®Ëøô‰∏™ÊñπÊ≥ïÂ∞ÜÂ§ÑÁêÜfling‰∫ã‰ª∂‰ª£ÁêÜÁªôÁà∂View,Áà∂ViewÂèØ‰ª•ÈÄâÊã©ÊÄßÁöÑÊ∂àËÄófling‰∫ã‰ª∂ÊàñËÄÖËßÇÂØüÂ≠êViewÁöÑfling‰∫ã‰ª∂„ÄÇ onNestedPreFlingÊñπÊ≥ï1public boolean onNestedPreFling(View target, float velocityX, float velocityY); ÂèÇÊï∞ÂíåËøîÂõûÂÄº 12345678// Ëß¶ÂèëÂµåÂ•óÊªëÂä®ÁöÑÂ≠êView@param target View that initiated the nested scroll// Ê∞¥Âπ≥ÊñπÂêëÊªëÂä®ÈÄüÂ∫¶@param velocityX Horizontal velocity in pixels per second// ÂûÇÁõ¥ÊñπÂêëÊªëÂä®ÈÄüÂ∫¶@param velocityY Vertical velocity in pixels per second// Â¶ÇÊûúÁà∂ViewË¶ÅÂ§ÑÁêÜËøô‰∏™fling‰∫ã‰ª∂ËøîÂõûtrue@return true if this parent consumed the fling ahead of the target view React to a nested fling before the target view consumes it. Âú®Â≠êViewÂØπÂµåÂ•ófling‰∫ã‰ª∂Ê∂àËÄó‰πãÂâç‰ΩúÂá∫ÂìçÂ∫î This method siginfies that a nested scrolling child has detected a fling with the given velocity along each axis. Generally this means that a touch scroll has ended with a {@link VelocityTracker velocity} in the direction of scrolling that meets or exceeds the {@link ViewConfiguration#getScaledMinimumFlingVelocity() minimum fling velocity} along a scrollable axis. Ëøô‰∏™ÊñπÊ≥ïÊÑèÂë≥ÁùÄÂµåÂ•óÊªëÂä®ÁöÑÂ≠êViewÂú®ÊØè‰∏™ËΩ¥‰∏äÁªôÂÆöÁöÑÈÄüÂ∫¶‰∏äÂèëÁîü‰∫Üfling‰∫ã‰ª∂ÔºåÈÄöÂ∏∏ÊÑèÂë≥ÁùÄËß¶Êë∏‰∫ã‰ª∂Âú®‰∏Ä‰∏™ÂèØÊªëÂä®ÁöÑËΩ¥‰∏äÂú®‰∏Ä‰∏™ÊñπÂêë‰∏ä‰ª•‰∏ÄÂÆöÈÄüÂ∫¶ÁªìÊùüÔºåËøô‰∏™ÈÄüÂ∫¶Ë∂ÖËøá‰∫ÜViewConfiguration#getScaledMinimumFlingVelocity()ÁöÑÂÄº„ÄÇ If a nested scrolling parent is consuming motion as part of a {@link #onNestedPreScroll(View, int, int, int[]) pre-scroll}, it may be appropriate for it to also consume the pre-fling to complete that same motion. By returning true from this method, the parent indicates that the child should not fling its own internal content as well. Â¶ÇÊûúÁà∂ViewÂú®onNestedPreScrollÊñπÊ≥ï‰∏≠Ê∂àËÄó‰∫ÜÂµåÂ•óÊªëÂä®ÔºåÈÇ£‰πà‰ªñÂèØËÉΩÂêåÊ†∑‰πüÊÉ≥Âú®fling‰∫ã‰ª∂‰∏≠ËøõË°åÊ∂àËÄóÊìç‰ΩúÔºåÊù•ÂÆåÊàêÂ§ÑÁêÜÂµåÂ•óÊªëÂä®ÁöÑËØ∑Ê±Ç„ÄÇËøô‰∏™ÊñπÊ≥ïËøîÂõûtrueË°®ÊòéÂ≠êViewÂ∫îËØ•Âè™Âú®ÂÆÉËá™Â∑±ÁöÑÂå∫ÂüüÂÜÖÊªëÂä®„ÄÇ getNestedScrollAxes()ÊñπÊ≥ï1public int getNestedScrollAxes(); ÂèÇÊï∞ÂíåËøîÂõûÂÄº 12345// Ë°®ÊòéÊªëÂä®ËΩ¥ÊñπÂêëÁöÑflag@return Flags indicating the current axes of nested scrolling@see ViewCompat#SCROLL_AXIS_HORIZONTAL@see ViewCompat#SCROLL_AXIS_VERTICAL@see ViewCompat#SCROLL_AXIS_NONE A NestedScrollingParent returning something other than {@link ViewCompat#SCROLL_AXIS_NONE}ÔºΩis currently acting as a nested scrolling parent for one or more descendant views in the hierarchy. Â¶ÇÊûúÊ≤°ÊúâËøîÂõûViewCompat#SCROLL_AXIS_NONEÔºåË°®ÊòéÊúâÂ≠êViewÂú®ËøõË°åÂµåÂ•óÊªëÂä®„ÄÇ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>SourceCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android 6.0 ÊùÉÈôêÂä®ÊÄÅÁî≥ËØ∑]]></title>
    <url>%2Farticle%2F2939773101%2F</url>
    <content type="text"><![CDATA[minSdkVersion minSdkVersionÊåáÁöÑÊòØ‰Ω†ÁöÑÂ∫îÁî®ÂèØ‰ª•ÂÖºÂÆπÂà∞ÁöÑÊúÄ‰ΩéÁâàÊú¨ÔºåÊØîÂ¶Ç‰Ω†Âè™‰ΩøÁî®‰∫Ü2.XÁöÑAPIÔºåÈÇ£minSdkVersionÂ∞±ÂèØ‰ª•Â∞ΩÈáèÂ∞èÔºå‰ª•ÈÄÇÈÖçÊõ¥Â§öÊú∫ÂûãÔºåÂ∞è‰∫éminSdkVersionÁöÑÊú∫ÂûãÂ∞ÜÊó†Ê≥ïÂÆâË£Ö„ÄÇ maxSdkVersion maxSdkVersionÊåáÁöÑÊòØ‰Ω†ÁöÑÂ∫îÁî®ÂèØ‰ª•ÊîØÊåÅÂà∞ÁöÑÊúÄÈ´òÁâàÊú¨ÔºåÈ´ò‰∫éËøô‰∏™ÁâàÊú¨ÁöÑÊú∫ÂûãÂ∞Ü‰∏çËÉΩÂÆâË£ÖÂ∫îÁî®Ôºå‰ΩÜÊòØËøô‰∏™‰∏çÈúÄË¶ÅÊàë‰ª¨Ëá™Â∑±ÂéªÂÜôÔºåAndroidÁ≥ªÁªüÈªòËÆ§Âêë‰∏ãÂÖºÂÆπÁöÑ„ÄÇ targetSdkVersion targetSdkVersionÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜÊ≠§Â±ûÊÄßÔºåÈÇ£‰πàÂú®Á®ãÂ∫èÊâßË°åÊó∂ÔºåÂ¶ÇÊûúÁõÆÊ†áËÆæÂ§áÁöÑAPIÁâàÊú¨Ê≠£Â•ΩÁ≠â‰∫éÊ≠§Êï∞ÂÄºÔºå‰ªñ‰ºöÂëäËØâAndroidÂπ≥Âè∞ÔºöÊ≠§Á®ãÂ∫èÂú®Ê≠§ÁâàÊú¨Â∑≤ÁªèÁªèËøáÂÖÖÂàÜÊµãÔºåÊ≤°ÊúâÈóÆÈ¢ò„ÄÇ‰∏çÂøÖ‰∏∫Ê≠§Á®ãÂ∫èÂºÄÂêØÂÖºÂÆπÊÄßÊ£ÄÊü•Âà§Êñ≠ÁöÑÂ∑•‰Ωú‰∫Ü„ÄÇ ‰ªãÁªç Áî±‰∫éAndroid MÂØπÈöêÁßÅÊùÉÈôêÂøÖÈ°ªÂä®ÊÄÅÁî≥ËØ∑ÔºåÂΩì‰Ω†ÁöÑtargetSdkVersion&gt;=23Êó∂Â∞±ÈúÄË¶ÅËøõË°åÊùÉÈôêÁî≥ËØ∑‰∫ÜÔºåÂê¶ÂàôÂ∞ÜËé∑Âæó‰∏ç‰∫ÜÊùÉÈôê„ÄÇ‰∏çËøáÂΩìtargetSdkVersion&lt;23Êó∂ÔºåÁî±‰∫éAndroidÁâàÊú¨Âêë‰∏ãÂÖºÂÆπÊÄßÔºå‰Ω†ÁöÑÂ∫îÁî®Â∞ÜËøêË°åÂú®&lt;23ÁöÑÁéØÂ¢É‰∏≠Ôºå‰∏ç‰ºöÂá∫Áé∞ÈóÆÈ¢ò„ÄÇ Git‰∏äÂ∑≤ÁªèÊúâÂæàÂ§öÂºÄÊ∫êÂ∫ì‰æõÂ§ßÂÆ∂‰ΩøÁî®‰∫ÜÔºåÁ°ÆÂÆûÊñπ‰æøÁÆÄÂçïÔºåPermissionGenËøô‰∏™Â∫ìÂ•ΩËØÑÁéáËøòÊòØËõÆÈ´òÁöÑÔºå‰ΩøÁî®Ê≥®Ëß£ÁÆÄÂåñ‰∫ÜÂæàÂ§öÊìç‰ΩúÔºåÁΩë‰∏äÂæàÂ§öÂçöÂÆ¢ÈÉΩÊé®ËçêÂÆÉÔºå‰∏çËøáÔºåÊàëËßâÂæó‰∏çËÉΩÈÅáÂà∞Âï•ÈóÆÈ¢òÂ∞±Âºï‰∏™Âà´‰∫∫ÁöÑÂ∫ìËøõÊù•Ôºå ‰∏ÄÊñπÈù¢Â¶ÇÊûúÂ∫ìÁöÑÂÆöÂà∂ÊÄß‰∏çÈ´òÔºåËá™ÂÆö‰πâËµ∑Êù•‰πüÊòØÈ∫ªÁÉ¶ÔºåÂè¶‰∏ÄÊñπÈù¢ÔºåÂÉèËøôÁßçÊØîËæÉÁÆÄÂçïÁöÑÈóÆÈ¢òÔºåËøòÊòØËá™Â∑±ÂÜôÊØîËæÉÂ•ΩÔºåÂèØ‰ª•‰∫ÜËß£‰∏Ä‰∏ãÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºåÂØπËá™Â∑±ÁöÑÂ≠¶‰π†‰πüÊúâÂ•ΩÂ§Ñ„ÄÇÂà´‰∫∫Â∞ÅË£ÖÁöÑÂÜçÂ•Ω‰πü‰∏çÊòØËá™Â∑±ÁöÑÔºå‰ª•ÂêéÂè™ËÉΩËØ¥Êàë‰ºö‰ΩøÁî®XX,XXX‚Ä¶Á±ªÂ∫ì.ÈÇ£Â∞±Â∞¥Â∞¨‰∫Ü„ÄÇÊâØËøú‰∫ÜÔΩû AndroidÊùÉÈôê Android M‰πãÂêéÂ∞ÜÊùÉÈôêÂàÜ‰∏∫‰∫Ü‰∏§Á±ªÔºåNormalÂíåDangerous Permission,Dangerous PermissionÂ§ßÈÉΩÊòØË∑üÁî®Êà∑ÈöêÁßÅÁõ∏ÂÖ≥ÁöÑÊùÉÈôêÔºåÂ¶Ç‰∏ãË°®ÔºåÊõ¥ËØ¶ÁªÜËßÅAndroidÊñáÊ°£ÔºçPermissions Permission Group Permissions CALENDAR READ _ CALENDAR WRITE _ CALENDAR CAMERA CAMERA CONTACTS READ _ CONTACTS WRITE _ CONTACTS GET _ ACCOUNTS LOCATION ACCESS FINE LOCATION ACCESS COARSE LOCATION MICROPHONE RECORD _ AUDIO PHONE READ PHONE STATE CALL _ PHONE READ CALL LOG WRITE CALL LOG ADD _ VOICEMAIL USE _ SIP PROCESS OUTGOING CALLS SENSORS BODY _ SENSORS SMS SEND _ SMS RECEIVE _ SMS READ _ SMS RECEIVE WAP PUSH RECEIVE _ MMS STORAGE READ EXTERNAL STORAGE WRITE EXTERNAL STORAGE ÊÄùË∑ØÂíåAPI Ê∂âÂèäÂà∞ÁöÑÊ†∏ÂøÉÊñπÊ≥ïcontext.requestPermissions(String[] permissions,int reqCode);ËØ•ÊñπÊ≥ïÂøÖÈ°ªÂú®Android M‰ª•‰∏äÂèØ‰ª•‰ΩøÁî®„ÄÇÂ§ß‰ΩìÁöÑÊÄùË∑ØÂ∞±ÊòØÔºö ÂΩìÂâçÊâãÊú∫ÁâàÊú¨ÊòØ‰∏çÊòØÂ§ß‰∫éAndroid M Ôºü ÊòØÂê¶ÊúâÁßÅÊúâÊùÉÈôêÈúÄË¶ÅÁî≥ËØ∑Ôºü ËØ•ÊùÉÈôêÊòØ‰∏çÊòØÂ∑≤ÁªèÂêåÊÑè‰∫Ü Âºπ‰∏™dialogÂëäËØâÁî®Êà∑Êàë‰ª¨Â∞ÜË¶ÅÁî≥ËØ∑Âì™‰∫õÊùÉÈôêÔºåÁé∞Âú®Â∏ÇÈù¢‰∏äappÂ§ßÈÉΩÊòØËøô‰πàÂÅöÁöÑ ÂºÄÂßãÁî≥ËØ∑ Â§ÑÁêÜÁî≥ËØ∑ÁªìÊûú PermissionHelper ‰∏∫‰∫ÜÊñπ‰æøÊìç‰ΩúÔºåÊàëÂ∞ÜÈÉ®ÂàÜÊ†∏ÂøÉÊñπÊ≥ïÊäΩË±°Âá∫Êù•‰∫ÜÔºåË∞ÉÁî®checkPermission()Áî≥ËØ∑ÊùÉÈôêÔºåËøîÂõûÂÄº‰ºöÂëäËØâ‰Ω†ÊòØ‰∏çÊòØÈúÄË¶ÅÁî≥ËØ∑ÔºåË∞ÉÁî®onRequestPermissionsResult()‰ºöÊ†ºÂºèÂåñÂ§ÑÁêÜËøîÂõûÁöÑÊï∞ÊçÆ„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172/** * com.march.baselib.helper * CommonLib * Created by chendong on 16/8/17. * Copyright ¬© 2016Âπ¥ chendong. All rights reserved. * Desc : */public class PermissionHelper &#123; public static final int REQ_PERMISSION_CODE = 0x12; /** * Âä®ÊÄÅÁî≥ËØ∑ÊùÉÈôê * @param context ‰∏ä‰∏ãÊñá * @param permissions ÈúÄË¶ÅÁî≥ËØ∑ÁöÑÊùÉÈôê * @return ÊòØ‰∏çÊòØÈúÄË¶ÅÁî≥ËØ∑ */ public static boolean checkPermission(Activity context, String[] permissions) &#123; //6.0‰ª•‰∏ä if (AppHelper.isOverMarshmallow()) &#123; //Ê≤°ÊúâÊùÉÈôêÈúÄË¶ÅÁî≥ËØ∑Êó∂ if (permissions == null || permissions.length &lt;= 0) return true; //Ê£ÄÊü•ÊùÉÈôêÊòØ‰∏çÊòØÂ∑≤ÁªèÊéà‰∫à List&lt;String&gt; noOkPermissions = new ArrayList&lt;&gt;(); for (String permission : permissions) &#123; if (context.checkSelfPermission(permission) == PackageManager.PERMISSION_DENIED) &#123; noOkPermissions.add(permission); &#125; &#125; //ËØ•ÊùÉÈôêÂ∑≤ÁªèÊéà‰∫àÔºå‰∏çÂÜçÁî≥ËØ∑ if (noOkPermissions.size() &lt;= 0) return true; //6.0‰ª•‰∏äÈúÄË¶ÅÁî≥ËØ∑ÊùÉÈôê context.requestPermissions(noOkPermissions.toArray(new String[noOkPermissions.size()]), REQ_PERMISSION_CODE); return false; &#125; //6.0‰ª•‰∏ã‰∏ã‰∏çÈúÄË¶ÅÁî≥ËØ∑ return true; &#125; /** * Â§ÑÁêÜÊùÉÈôêÁî≥ËØ∑ÁöÑÁªìÊûúÔºåËøîÂõûÁªìÊûÑÂåñÁöÑÊï∞ÊçÆ * @param requestCode ËØ∑Ê±ÇÁ†Å * @param permissions Ë¢´ËØ∑Ê±ÇÁöÑÊùÉÈôê * @param grantResults ËØ∑Ê±ÇÁªìÊûú * @param listener ÁõëÂê¨ */ public static void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults, OnPermissionHandleOverListener listener) &#123; if (requestCode != REQ_PERMISSION_CODE) return; Map&lt;String, Integer&gt; result = new HashMap&lt;&gt;(); boolean isHavePermissionNotOk = false; for (int i = 0; i &lt; Math.min(permissions.length, grantResults.length); i++) &#123; result.put(permissions[i], grantResults[i]); //ÊúâÊùÉÈôêÊ≤°ÊúâÂêåÊÑè if (grantResults[i] == PackageManager.PERMISSION_DENIED) &#123; isHavePermissionNotOk = true; &#125; &#125; //Â¶ÇÊûúÊùÉÈôêÂÖ®ÈÉ®ÂêåÊÑèÔºåÁªßÁª≠ÊâßË°å if (listener != null) listener.onHandleOver(!isHavePermissionNotOk, result); &#125; public interface OnPermissionHandleOverListener &#123; void onHandleOver(boolean isOkExactly, Map&lt;String, Integer&gt; result); &#125;&#125; BaseActivity ‰∏ÄËà¨ÊùÉÈôêÁõëÊµãÊòØÂú®ActivityËøõË°åÔºåÂú®Âü∫Á±ª‰∏≠ÁõëÊµãË¶ÅÁÆÄÂçïÊñπ‰æø 1234567891011121314151617181920212223242526272829303132333435@Overridepublic void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); mSaveBundle = savedInstanceState; mActivity = this; mContext = getApplicationContext(); createViewShow(); //Â¶ÇÊûú‰∏çÈúÄË¶ÅÁõëÊµãÔºå‰ºöÁ´ãÂàªÊâßË°åinvokeCommonMethod()ÂºÄÂßãActivityÊìç‰ΩúÔºåÂ¶ÇÊûúÈúÄË¶ÅÂ∞±‰ºöÂèëËµ∑Áî≥ËØ∑ if (PermissionHelper.checkPermission(mActivity, getPermission2Check())) invokeCommonMethod(mSaveBundle); &#125; //ÊäΩË±°ÊñπÊ≥ïÔºåÁî±Â≠êÁ±ªÊù•ÂÜ≥ÂÆöÂì™‰∫õÊùÉÈôêÈúÄË¶ÅÁî≥ËØ∑protected abstract String[] getPermission2Check();//Â≠êÁ±ªÂÆûÁé∞ÂÜ≥ÂÆöÂ§ÑÁêÜÁªìÊûúprotected boolean handlePermissionResult(Map&lt;String, Integer&gt; resultNotOk) &#123; return true;&#125;//Â§ÑÁêÜËøîÂõûÁªìÊûú@Overridepublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) &#123; super.onRequestPermissionsResult(requestCode, permissions, grantResults); PermissionHelper.onRequestPermissionsResult(requestCode, permissions, grantResults, new PermissionHelper.OnPermissionHandleOverListener() &#123; @Override public void onHandleOver(boolean isOkExactly, Map&lt;String, Integer&gt; result) &#123; //ÊùÉÈôêokÊàñËÄÖÂ≠êÁ±ªË¶ÅÊ±ÇÁõ¥Êé•ÊâßË°å if (isOkExactly || handlePermissionResult(result)) invokeCommonMethod(mSaveBundle); &#125; &#125;); &#125; Â≠êÁ±ª12345678910111213141516//Âì™‰∫õÊùÉÈôêÈúÄË¶ÅÁî≥ËØ∑@TargetApi(Build.VERSION_CODES.JELLY_BEAN)@Overrideprotected String[] getPermission2Check() &#123; return new String[]&#123;Manifest.permission.READ_EXTERNAL_STORAGE&#125;;&#125;//Â¶ÇÊûúÊùÉÈôêÊ≤°ÊúâËé∑ÂæóÂ¶Ç‰ΩïÂ§ÑÁêÜ@Overrideprotected boolean handlePermissionResult(Map&lt;String, Integer&gt; resultNoOk) &#123; if (resultNoOk.get(Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED) &#123; Toaster.get().show("ÊÇ®Ê≤°ÊúâÂÖÅËÆ∏ËØªÂèñÂ≠òÂÇ®Âç°Ôºå‰∏çËÉΩÁªßÁª≠Êìç‰Ωú"); return false; &#125; return true;&#125; ‰ª•‰∏ä]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PythonÊôÆÈÄöÊñπÊ≥ï„ÄÅÈùôÊÄÅÊñπÊ≥ï„ÄÅÁ±ªÊñπÊ≥ï]]></title>
    <url>%2Farticle%2F1727896955%2F</url>
    <content type="text"><![CDATA[ÂºÄÂßã123456789101112131415161718192021222324# -*-coding:utf-8-*-# ÊôÆÈÄöÊñπÊ≥ï,Á±ªÊñπÊ≥ï,ÈùôÊÄÅÊñπÊ≥ïÁöÑÂå∫Âà´__metaclass__ = typeclass Tst: name = 'tst' data = 'this is data' # ÊôÆÈÄöÊñπÊ≥ï def normalMethod(self, name): print self.data, name # Á±ªÊñπÊ≥ï,ÂèØ‰ª•ËÆøÈóÆÁ±ªÂ±ûÊÄß @classmethod def classMethod(cls, name): print cls.data, name # ÈùôÊÄÅÊñπÊ≥ï,‰∏çÂèØ‰ª•ËÆøÈóÆÁ±ªÂ±ûÊÄß @staticmethod def staticMethod(name): print name ÊµãËØï ‰∏âÁßçÊñπÊ≥ïÈÉΩÂèØ‰ª•ÈÄöËøáÂÆû‰æãÊù•Ë∞ÉÁî®Ôºå‰ΩÜÊòØÈùôÊÄÅÊñπÊ≥ïÂíåÁ±ªÊñπÊ≥ïÊó†Ê≥ïËÆøÈóÆÂÆû‰æãÂ±ûÊÄßÔºåÊâÄ‰ª•Êõ¥Êîπ‰∫Ütst.data‰ªÖÂØπÊôÆÈÄöÊñπÊ≥ïËµ∑‰∫Ü‰ΩúÁî® 12345678910tst = Tst()tst.data = 'this is new'tst.normalMethod('name')tst.staticMethod('name')tst.classMethod('name')#ÁªìÊûúthis is new namenamethis is data name Âå∫Âà´ ÊôÆÈÄöÊñπÊ≥ï‰∏çËÉΩÈÄöËøáÁ±ªÂêçË∞ÉÁî®Ôºå‰ΩÜÊòØÈùôÊÄÅÊñπÊ≥ïÂíåÁ±ªÊñπÊ≥ïÊòØÂèØ‰ª•ÁöÑ 12345678# errorÊôÆÈÄöÊñπÊ≥ïÂøÖÈ°ªÈÄöËøáÂÆû‰æãË∞ÉÁî®# Tst.normalMethod(&apos;name&apos;)Tst.classMethod(&apos;name&apos;)Tst.staticMethod(&apos;name&apos;)#ÁªìÊûúthis is data namename ÊÄªÁªì ÊôÆÈÄöÊñπÊ≥ï,ÂèØ‰ª•ÈÄöËøáselfËÆøÈóÆÂÆû‰æãÂ±ûÊÄß 1def normalMethod(self,data) Á±ªÊñπÊ≥ï,ÂèØ‰ª•ÈÄöËøáclsËÆøÈóÆÁ±ªÂ±ûÊÄß 12@classmethoddef classMethod(cls,data) ÈùôÊÄÅÊñπÊ≥ï,‰∏çÂèØ‰ª•ËÆøÈóÆ,ÈÄöËøá‰º†ÂÄºÁöÑÊñπÂºè 12@staticmethoddef staticMethod(data)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PythonÂÆûÁé∞Âçï‰æã]]></title>
    <url>%2Farticle%2F3789624758%2F</url>
    <content type="text"><![CDATA[Âçï‰æãË£ÖÈ•∞Âô® Âú®ÁΩë‰∏äÊü•Âà∞ÂæàÂ§öÊñπÂºèÔºåÈÄâÊã©‰∏ÄÁßçÊØîËæÉpythonicÁöÑÊñπÂºè 123456789def singleton(cls, *args, **kwargs): instances = &#123;&#125; def _singleton(): if cls not in instances: instances[cls] = cls(*args, **kwargs) return instances[cls] return _singleton ‰ΩøÁî®12345678@singletonclass HttpHelper: def __init__(self): pass name = 'http helper' ...... ....]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python Json]]></title>
    <url>%2Farticle%2F2150468451%2F</url>
    <content type="text"><![CDATA[ÂºÄÂßã12345678910111213141516171819202122232425# -*-coding:utf-8-*-import jsonfrom httptst.Singleton import singleton@singletonclass JsonHelper(object): name = 'json helper' def convert_to_builtin_type(obj): print 'default(', repr(obj), ')' dict = &#123;&#125; dict.update(obj.__dict__) return dict # obj ËΩ¨ json def getJson(self, obj): data = json.dumps(obj, sort_keys=True, default=self.convert_to_builtin_type) return data # json str ËΩ¨dict def parse(self, jsonStr): jsonDict = json.loads(jsonStr) return jsonDict]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÊ∑ªÂä†Âø´Êç∑ÊñπÂºè]]></title>
    <url>%2Farticle%2F3591670187%2F</url>
    <content type="text"><![CDATA[ÊùÉÈôê12&lt;uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT"/&gt;&lt;uses-permission android:name="com.android.launcher.permission.UNINSTALL_SHORTCUT"/&gt; ÈÖçÁΩÆ Âø´Êç∑ÊñπÂºèË¶ÅÊâìÂºÄ‰∏Ä‰∏™ÁïåÈù¢ÔºåÈúÄË¶Å‰∏Ä‰∏™IntentÈÖçÁΩÆËøô‰∫õ‰ø°ÊÅØ 1234567891011121314/*** Ëé∑ÂèñIntent** @param thisActivity ÂΩìÂâçactivity* @param goActivity ÁÇπÂáªÊâìÂºÄÁöÑactivity* @return ÂàõÂª∫ÁöÑIntent*/private static Intent getShortCutIntent(Activity thisActivity, Class goActivity) &#123; // ‰ΩøÁî®MAINÔºåÂèØ‰ª•ÈÅøÂÖçÈÉ®ÂàÜÊâãÊú∫(ÊØîÂ¶ÇÂçé‰∏∫„ÄÅHTCÈÉ®ÂàÜÊú∫Âûã)Âà†Èô§Â∫îÁî®Êó∂Êó†Ê≥ïÂà†Èô§Âø´Êç∑ÊñπÂºèÁöÑÈóÆÈ¢ò Intent intent = new Intent(Intent.ACTION_MAIN); intent.addCategory(Intent.CATEGORY_DEFAULT); intent.setClass(thisActivity, goActivity); return intent;&#125; Action1234// Action Ê∑ªÂä†Shortcutpublic static final String ACTION_ADD_SHORTCUT = "com.android.launcher.action.INSTALL_SHORTCUT";// Action ÁßªÈô§Shortcutpublic static final String ACTION_REMOVE_SHORTCUT = "com.android.launcher.action.UNINSTALL_SHORTCUT"; Ê∑ªÂä†Âø´Êç∑ÊñπÂºè123456789101112131415161718192021222324252627282930/*** Ê∑ªÂä†Âø´Êç∑ÊñπÂºè** @param activity context* @param name name* @param goActivity Ë¶ÅÂêØÂä®ÁöÑÁïåÈù¢* @param allowRepeat ÊòØÂê¶ÂÖÅËÆ∏ÈáçÂ§ç,Âª∫ËÆÆfalse* @param iconBitmap Âø´Êç∑ÊñπÂºèÂõæÊ†á*/public static void addShortcut(Activity activity, Class goActivity, String name,boolean allowRepeat, Bitmap iconBitmap) &#123; Intent addShortcutIntent = new Intent(ACTION_ADD_SHORTCUT); // ÊòØÂê¶ÂÖÅËÆ∏ÈáçÂ§çÂàõÂª∫ addShortcutIntent.putExtra("duplicate", allowRepeat); // Âø´Êç∑ÊñπÂºèÁöÑÊ†áÈ¢ò addShortcutIntent.putExtra(Intent.EXTRA_SHORTCUT_NAME, name); // Âø´Êç∑ÊñπÂºèÁöÑÂõæÊ†á addShortcutIntent.putExtra(Intent.EXTRA_SHORTCUT_ICON, iconBitmap); // Âø´Êç∑ÊñπÂºèÁöÑÂä®‰Ωú Intent shortCutIntent = getShortCutIntent(activity, goActivity); addShortcutIntent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortCutIntent); activity.sendBroadcast(addShortcutIntent);&#125;public static void addShortcut(Activity activity, Class goActivity, String name, boolean allowRepeat, int res) &#123; BitmapFactory.Options options = new BitmapFactory.Options(); Bitmap bitmap = BitmapFactory.decodeResource(activity.getResources(), res); addShortcut(activity, goActivity, name, allowRepeat, bitmap);&#125; ÁßªÈô§Âø´Êç∑ÊñπÂºè12345678910111213141516/** * ÁßªÈô§Âø´Êç∑ÊñπÂºè * * @param activity context * @param goActivity Ë¶ÅÂêØÂä®ÁöÑActivity * @param name name */public static void removeShortcut(Activity activity, Class goActivity, String name) &#123; Intent intent = new Intent(ACTION_REMOVE_SHORTCUT); intent.putExtra(Intent.EXTRA_SHORTCUT_NAME, name); //intent.addCategory(Intent.CATEGORY_LAUNCHER); intent.putExtra("duplicate", false); Intent shortCutIntent = getShortCutIntent(activity, goActivity); intent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortCutIntent); activity.sendBroadcast(intent);&#125; ÈôÑÂÖ®ÈÉ®‰ª£Á†ÅÔºå‰∫≤ÊµãÂèØÁî®12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879/** * com.march.libs.helper * CdLibsTest * Created by chendong on 16/7/29. * Copyright ¬© 2016Âπ¥ chendong. All rights reserved. * Desc : */public class ShortCutHelper &#123; // Action Ê∑ªÂä†Shortcut public static final String ACTION_ADD_SHORTCUT = "com.android.launcher.action.INSTALL_SHORTCUT"; // Action ÁßªÈô§Shortcut public static final String ACTION_REMOVE_SHORTCUT = "com.android.launcher.action.UNINSTALL_SHORTCUT"; /** * Ëé∑ÂèñIntent * * @param thisActivity ÂΩìÂâçactivity * @param goActivity ÁÇπÂáªÊâìÂºÄÁöÑactivity * @return ÂàõÂª∫ÁöÑIntent */ private static Intent getShortCutIntent(Activity thisActivity, Class goActivity) &#123; // ‰ΩøÁî®MAINÔºåÂèØ‰ª•ÈÅøÂÖçÈÉ®ÂàÜÊâãÊú∫(ÊØîÂ¶ÇÂçé‰∏∫„ÄÅHTCÈÉ®ÂàÜÊú∫Âûã)Âà†Èô§Â∫îÁî®Êó∂Êó†Ê≥ïÂà†Èô§Âø´Êç∑ÊñπÂºèÁöÑÈóÆÈ¢ò Intent intent = new Intent(Intent.ACTION_MAIN); intent.addCategory(Intent.CATEGORY_DEFAULT); intent.setClass(thisActivity, goActivity); return intent; &#125; /** * Ê∑ªÂä†Âø´Êç∑ÊñπÂºè * * @param activity context * @param name name * @param goActivity Ë¶ÅÂêØÂä®ÁöÑÁïåÈù¢ * @param allowRepeat ÊòØÂê¶ÂÖÅËÆ∏ÈáçÂ§ç * @param iconBitmap Âø´Êç∑ÊñπÂºèÂõæÊ†á */ public static void addShortcut(Activity activity, Class goActivity, String name, boolean allowRepeat, Bitmap iconBitmap) &#123; Intent addShortcutIntent = new Intent(ACTION_ADD_SHORTCUT); // ÊòØÂê¶ÂÖÅËÆ∏ÈáçÂ§çÂàõÂª∫ addShortcutIntent.putExtra("duplicate", allowRepeat); // Âø´Êç∑ÊñπÂºèÁöÑÊ†áÈ¢ò addShortcutIntent.putExtra(Intent.EXTRA_SHORTCUT_NAME, name); // Âø´Êç∑ÊñπÂºèÁöÑÂõæÊ†á addShortcutIntent.putExtra(Intent.EXTRA_SHORTCUT_ICON, iconBitmap); // Âø´Êç∑ÊñπÂºèÁöÑÂä®‰Ωú Intent shortCutIntent = getShortCutIntent(activity, goActivity); addShortcutIntent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortCutIntent); activity.sendBroadcast(addShortcutIntent); &#125; public static void addShortcut(Activity activity, Class goActivity, String name, boolean allowRepeat, int res) &#123; BitmapFactory.Options options = new BitmapFactory.Options(); Bitmap bitmap = BitmapFactory.decodeResource(activity.getResources(), res); addShortcut(activity, goActivity, name, allowRepeat, bitmap); &#125; /** * ÁßªÈô§Âø´Êç∑ÊñπÂºè * * @param activity context * @param goActivity Ë¶ÅÂêØÂä®ÁöÑActivity * @param name name */ public static void removeShortcut(Activity activity, Class goActivity, String name) &#123; Intent intent = new Intent(ACTION_REMOVE_SHORTCUT); intent.putExtra(Intent.EXTRA_SHORTCUT_NAME, name); //intent.addCategory(Intent.CATEGORY_LAUNCHER); intent.putExtra("duplicate", false); Intent shortCutIntent = getShortCutIntent(activity, goActivity); intent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortCutIntent); activity.sendBroadcast(intent); &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java ËåÉÂûã]]></title>
    <url>%2Farticle%2F2053934834%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éÂ¶Ç‰ΩïÁªßÊâøÂ∏¶ÊúâËåÉÂûãÁöÑÂü∫Á±ª ÁªßÊâøÁà∂Á±ªÁöÑËåÉÂûã12345678910111213141516171819202122232425262728293031public class GenericityTst &#123; public class Temp &#123; &#125; //ÂÖ∑ÊúâÊ≥õÂûãÁöÑClassA public class ClassA&lt;T&gt;&#123; T t; &#125; //ÁªßÊâøÊ≥õÂûã public class ClassB&lt;T&gt; extends ClassA&lt;T&gt;&#123; T t; &#125; //Áº©Â∞èÊ≥õÂûãÁöÑËåÉÂõ¥ÔºåÊòØÂáÜËÆ∏ÁöÑÔºå‰ΩÜÊòØ‰∏çÂÖÅËÆ∏Êâ©Â§ßÊ≥õÂûãÁöÑËåÉÂõ¥ public class ClassC&lt;T extends Temp&gt; extends ClassA&lt;T&gt;&#123; T t; &#125; //ÂÖ∑ÊúâÊ≥õÂûãÁöÑÁ±ªClassD,Ê≥õÂûãÂÖ∑ÊúâÁà∂Á±ªÁ∫¶Êùü public class ClassD&lt;T extends Temp&gt; &#123; T t; &#125; //ÁªßÊâøClassD,Â£∞ÊòéÊ≥õÂûãÊó∂Ëá≥Â∞ëÂÖ∑ÊúâÁà∂Á±ªÂêåÊ†∑ÁöÑÁ∫¶Êùü public class ClassE&lt;T extends Temp&gt; extends ClassD&lt;T&gt;&#123; T t; &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú® AS ‰∏≠‰ΩøÁî® Lambda Ë°®ËææÂºè]]></title>
    <url>%2Farticle%2F4229621729%2F</url>
    <content type="text"><![CDATA[ÈÖçÁΩÆ AndroidStudio ÊîØÊåÅ Lambda Ë°®ËææÂºè 2017.9.30 ÂçáÁ∫ßÂà∞ 3.7.0 Âπ∂‰∏é freeline ÁºñËØë‰ΩøÁî® Ê†πÁõÆÂΩï‰∏ãgradleÊñá‰ª∂ÈÖçÁΩÆÂú® project / build.gradle ‰∏≠ÈÖçÁΩÆ 123456789buildscript &#123; repositories &#123; jcenter() &#125; dependencies &#123; classpath &apos;com.android.tools.build:gradle:2.3.3&apos; classpath &apos;me.tatarka:gradle-retrolambda:3.7.0&apos; &#125;&#125; app‰∏ãgradleÊñá‰ª∂ÈÖçÁΩÆÂú® project / app / build.gradle È°∂ÈÉ®ÈÖçÁΩÆÊèí‰ª∂ 1apply plugin: &apos;me.tatarka.retrolambda&apos; Âú®android{‚Ä¶}‰∏≠ÈÖçÁΩÆ123456789101112131415android &#123; retrolambda &#123; javaVersion JavaVersion.VERSION_1_7 jvmArgs &apos;-noverify&apos; defaultMethods false incremental true &#125; // ‰ΩøÁî®Java1.8 compileOptions &#123; sourceCompatibility JavaVersion.VERSION_1_8 targetCompatibility JavaVersion.VERSION_1_8 &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>DevEnvironment</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ORMÊ°ÜÊû∂ÔºçGreenDao2.0]]></title>
    <url>%2Farticle%2F3564593419%2F</url>
    <content type="text"><![CDATA[GreenDaoÂÆòÁΩëÂÆòÁΩë -&gt; http://greendao-orm.com GitHubGitHub -&gt; https://github.com/greenrobot/greenDAO ÊÄßËÉΩÂØπÊØî ‰ªãÁªç GreenDaoÈááÁî®ÁöÑÊòØÁî®java‰ª£Á†ÅÁõ¥Êé•ÁîüÊàêBeanÔºàÂÆû‰ΩìÔºâÂíåDaoÔºàData Access ObjectÊï∞ÊçÆËÆøÈóÆÂØπË±°ÔºâÁöÑÊñπÂºèÔºåÈÉΩ‰∏çÁî®Ëá™Â∑±ÂÜôÂÆû‰Ωì‰∫ÜÔºå‰πüÊòØ‰∏ÄÂ§ßÂ•ΩÂ§ÑÔºå‰∏çËøáËøô‰πüÈÄ†Êàê‰∫ÜÁêÜËß£‰∏äÁöÑÈöæÂ∫¶ÔºåÊàëÂàöÂºÄÂßãÁî®ÁöÑÊó∂ÂÄôÂ∞±ÊúâÁÇπËíô„ÄÇ È¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™JavaÁöÑLibrary,‰∏ÄÂÆöÊòØJavaÁöÑÔºåÂëΩÂêç‰∏∫daogeneratorÔºàÂèØ‰ª•Ëµ∑Âà´ÁöÑÂêçÂ≠óÔºå‰∏∫‰∫ÜÂêéÈù¢ÂèôËø∞Êñπ‰æøÔºâ„ÄÇÂú®app‰∏ãÈù¢Âíå‚Äôjava‚ÄôÁõÆÂΩïÂêåÁ∫ßÂàõÂª∫‚Äôjava-gen‚ÄôÁõÆÂΩïÔºåÂ∞Ü‰ºöÁî®Êù•ÊîæÁΩÆÁîüÊàêÁöÑBeanÂíåDao„ÄÇDao‰πüÂ∞±ÊòØÊï∞ÊçÆËÆøÈóÆÂØπË±°ÔºåÂÆû‰ΩìÁ±ªÂè™ËÉΩÊèèËø∞‰∏Ä‰∏™ÂØπË±°ÁöÑÂ±ûÊÄßÂíåË°å‰∏∫ÔºåÊÉ≥‰∏éÊï∞ÊçÆÂ∫ì‰∫§ÊµÅÂ∞±ÈúÄË¶ÅDaoÂØπË±°ÔºåÂÆÉÂåÖÂê´ÂØπÂ∫îÁöÑÊï∞ÊçÆÂ∫ìÂ≠óÊÆµÂíåÂ¢ûÂà†ÊîπÊü•ÊñπÊ≥ï„ÄÇ ÁîüÊàêÊñá‰ª∂ Âú®daogeneratorÂ∫ìÈáåÂàõÂª∫‚ÄôExampleDaoGenerator.java‚ÄôÊñá‰ª∂,ÂåÖÂê´mainÊñπÊ≥ïÔºåÊûÑÂª∫schemaÔºåÁîüÊàêÁõÆÂΩïÂíåÊñá‰ª∂ 123456789101112131415161718192021public static void main(String[] args) throws Exception&#123; operate();&#125;private static void operate() throws Exception &#123; // SchemaÂØπË±°ÔºåÂèØ‰ª•Áî®Êù•ÁîüÊàêÂÆû‰ΩìÂíådao // ‰∏§‰∏™ÂèÇÊï∞ÂàÜÂà´‰ª£Ë°®ÔºöÊï∞ÊçÆÂ∫ìÁâàÊú¨Âè∑‰∏éËá™Âä®ÁîüÊàêbean‰ª£Á†ÅÁöÑÂåÖË∑ØÂæÑ„ÄÇ Schema schema = new Schema(2, "com.march.bean"); // ÈªòËÆ§ÁöÑdaoÁõÆÂΩï schema.setDefaultJavaPackageDao("com.march.dao"); // Ê®°ÂºèÔºàSchemaÔºâÂêåÊó∂‰πüÊã•Êúâ‰∏§‰∏™ÈªòËÆ§ÁöÑ flagsÔºåÂàÜÂà´Áî®Êù•Ê†áÁ§∫ entity ÊòØÂê¶ÊòØ activie ‰ª•ÂèäÊòØÂê¶‰ΩøÁî® keep sections„ÄÇ // ÂèØ‰ª•ÊøÄÊ¥ªÈ¢ÑÁÉ≠ÂÆû‰ΩìÔºå‰ΩøËØªÂÜôÊõ¥ËøÖÈÄü schema.enableActiveEntitiesByDefault(); // Ëøô‰∏™ÊòØ‰∏∫‰∫Ü‰Ω†ÂèØ‰ª•Âú®Ëá™Âä®ÁîüÊàêÁöÑÂÆû‰ΩìÁ±ª‰∏≠Ê∑ªÂä†Ëá™Â∑±ÁöÑcustom‰ª£Á†Å schema.enableKeepSectionsByDefault(); // ‰∏ÄÊó¶‰Ω†Êã•Êúâ‰∫Ü‰∏Ä‰∏™ Schema ÂØπË±°ÂêéÔºå‰Ω†‰æøÂèØ‰ª•‰ΩøÁî®ÂÆÉÊ∑ªÂä†ÂÆû‰ΩìÔºàEntitiesÔºâ‰∫Ü„ÄÇËøôÈáåÂè™ÊòØ‰∏Ä‰∏™ÂÅáÁöÑÊñπÊ≥ïË°®Á§∫‰∏Ä‰∏ãÔºåÁîüÊàêÂÆû‰ΩìÂú®‰∏ã‰∏ÄËäÇ generateBean(schema); // ÊúÄÂêéÊàë‰ª¨Â∞Ü‰ΩøÁî® DAOGenerator Á±ªÁöÑ generateAll() ÊñπÊ≥ïËá™Âä®ÁîüÊàê‰ª£Á†ÅÔºåÊ≠§Â§Ñ‰Ω†ÈúÄË¶ÅÊ†πÊçÆËá™Â∑±ÁöÑÊÉÖÂÜµÊõ¥ÊîπËæìÂá∫ÁõÆÂΩïÔºàÊó¢‰πãÂâçÂàõÂª∫ÁöÑ java-gen)„ÄÇ // ÂÖ∂ÂÆûÔºåËæìÂá∫ÁõÆÂΩïÁöÑË∑ØÂæÑÂèØ‰ª•Âú® build.gradle ‰∏≠ËÆæÁΩÆÔºåÊúâÂÖ¥Ë∂£ÁöÑÊúãÂèãÂèØ‰ª•Ëá™Ë°åÊêúÁ¥¢ÔºåËøôÈáåÂ∞±‰∏çÂÜçËØ¶Ëß£„ÄÇ new DaoGenerator().generateAll(schema, "/Users/march/AndroidPro/Reaper/app/src/main/java-gen");&#125; Â¶Ç‰ΩïÁîüÊàêÂÆû‰Ωì12345678910111213private static void addNote(Schema schema) &#123; // ‰∏Ä‰∏™ÂÆû‰ΩìÔºàÁ±ªÔºâÂ∞±ÂÖ≥ËÅîÂà∞Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑ‰∏ÄÂº†Ë°®ÔºåÊ≠§Â§ÑË°®Âêç‰∏∫„ÄåNote„ÄçÔºàÊó¢Á±ªÂêçÔºâ Entity note = schema.addEntity("Note"); // greenDAO ‰ºöËá™Âä®Ê†πÊçÆÂÆû‰ΩìÁ±ªÁöÑÂ±ûÊÄßÂÄºÊù•ÂàõÂª∫Ë°®Â≠óÊÆµÔºåÂπ∂Ëµã‰∫àÈªòËÆ§ÂÄº // Êé•‰∏ãÊù•‰Ω†‰æøÂèØ‰ª•ËÆæÁΩÆË°®‰∏≠ÁöÑÂ≠óÊÆµ,ÂèàÂæàÂ§öÈìæÂºèÁºñÁ®ãÁöÑÊñπÊ≥ïÔºåÁªìÂêàÊï∞ÊçÆÂ∫ìÁöÑcreate tableÊìç‰ΩúÂèØ‰ª•ËÆæÁΩÆÁõ∏ÂÖ≥ÁöÑÂ≠óÊÆµÂèäÁ∫¶Êùü note.addIdProperty().autoincrement(); note.addBooleanProperty("isYes").primaryKey().unique(); note.addStringProperty("text").notNull(); // ‰∏éÂú® Java ‰∏≠‰ΩøÁî®È©ºÂ≥∞ÂëΩÂêçÊ≥ï‰∏çÂêåÔºåÈªòËÆ§Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂëΩÂêçÊòØ‰ΩøÁî®Â§ßÂÜôÂíå‰∏ãÂàíÁ∫øÊù•ÂàÜÂâ≤ÂçïËØçÁöÑ„ÄÇ // For example, a property called ‚ÄúcreationDate‚Äù will become a database column ‚ÄúCREATION_DATE‚Äù. note.addStringProperty("comment"); note.addDateProperty("date");&#125; Ëá™ÂÆö‰πâÁîüÊàêÁöÑ‰ª£Á†Å ÂΩìÈáçÊñ∞ÊâßË°åjava‰ª£Á†ÅÊó∂‰ºöË¶ÜÁõñÁîüÊàêÊñ∞ÁöÑÊñá‰ª∂ÔºåÂ¶ÇÊûú‰Ω†‰øÆÊîπ‰∫ÜÁîüÊàêÁöÑÁ±ªÔºåÂ∞±‰ºöË¢´ÈáçÊñ∞Ë¶ÜÁõñÔºåËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåËÆæÁΩÆnote.setHasKeepSections(true);‰ºöÂú®Êñá‰ª∂‰∏≠ÁîüÊàê‰∏Ä‰∫õÊ≥®ÈáäÔºåÂú®Ê≥®Èáä‰∏≠Èó¥ÁöÑ‰ª£Á†ÅÂ∞Ü‰∏ç‰ºöË¢´Ë¶ÜÁõñÔºå‰πüÂèØ‰ª•ËÆæÁΩÆÁªßÊâøÔºåÂÆûÁé∞Á≠â„ÄÇ„ÄÇ„ÄÇËøôÊ†∑Â∞±‰∏çÈúÄË¶ÅÊØèÊ¨°ÈÉΩ‰øÆÊîπ‰ª£Á†Å‰∫Ü 1234567891011121314151617181920// KEEP INCLUDES - put your custom includes hereimport com.march.quickrvlibs.inter.RvQuickInterface;// KEEP INCLUDES END// KEEP FIELDS - put your custom fields herepublic static final int TYPE_SHU = 0;public static final int TYPE_HENG = 1;// KEEP FIELDS END// KEEP METHODS - put your custom methods here@Overridepublic int getRvType() &#123; if (height &gt; width) return 0; else return 1;&#125;// KEEP METHODS END 12345678//ËÆæÁΩÆÊîØÊåÅËá™ÂÆö‰πâ‰ª£Á†ÅÔºàÊàñschema.enableKeepSectionsByDefault();Ôºânote.setHasKeepSections(true);//ËÆæÁΩÆÂÆûÁé∞ÁöÑÊé•Âè£note.implementsInterface("RvQuickInterface", "java.io.Serializable");//ËÆæÁΩÆÁªßÊâøÁöÑÁà∂Á±ªnote.setSuperclass("Album");//‰Ω†‰πüÂèØ‰ª•ÈáçÊñ∞ÁªôË°®ÂëΩÂêçnote.setTableName("NODE"); ÂàùÂßãÂåñÊï∞ÊçÆÂ∫ì123456789101112131415private DaoSession mDaoSession;public void setupDatabase(Context context) &#123; // ÈÄöËøá DaoMaster ÁöÑÂÜÖÈÉ®Á±ª DevOpenHelperÔºå‰Ω†ÂèØ‰ª•ÂæóÂà∞‰∏Ä‰∏™‰æøÂà©ÁöÑ SQLiteOpenHelper ÂØπË±°„ÄÇ // ÂèØËÉΩ‰Ω†Â∑≤ÁªèÊ≥®ÊÑèÂà∞‰∫ÜÔºå‰Ω†Âπ∂‰∏çÈúÄË¶ÅÂéªÁºñÂÜô„ÄåCREATE TABLE„ÄçËøôÊ†∑ÁöÑ SQL ËØ≠Âè•ÔºåÂõ†‰∏∫ greenDAO Â∑≤ÁªèÂ∏Æ‰Ω†ÂÅö‰∫Ü„ÄÇ // Ê≥®ÊÑèÔºöÈªòËÆ§ÁöÑ DaoMaster.DevOpenHelper ‰ºöÂú®Êï∞ÊçÆÂ∫ìÂçáÁ∫ßÊó∂ÔºåÂà†Èô§ÊâÄÊúâÁöÑË°®ÔºåÊÑèÂë≥ÁùÄËøôÂ∞ÜÂØºËá¥Êï∞ÊçÆÁöÑ‰∏¢Â§±„ÄÇ // ÊâÄ‰ª•ÔºåÂú®Ê≠£ÂºèÁöÑÈ°πÁõÆ‰∏≠Ôºå‰Ω†ËøòÂ∫îËØ•ÂÅö‰∏ÄÂ±ÇÂ∞ÅË£ÖÔºåÊù•ÂÆûÁé∞Êï∞ÊçÆÂ∫ìÁöÑÂÆâÂÖ®ÂçáÁ∫ß„ÄÇ DaoMaster.DevOpenHelper helper = new DaoMaster.DevOpenHelper(context, "notes-db", null); SQLiteDatabase db = helper.getWritableDatabase(); // Ê≥®ÊÑèÔºöËØ•Êï∞ÊçÆÂ∫ìËøûÊé•Â±û‰∫é DaoMasterÔºåÊâÄ‰ª•Â§ö‰∏™ Session ÊåáÁöÑÊòØÁõ∏ÂêåÁöÑÊï∞ÊçÆÂ∫ìËøûÊé•„ÄÇ DaoMaster daoMaster = new DaoMaster(db); mDaoSession = daoMaster.newSession(); // Âú® QueryBuilder Á±ª‰∏≠ÂÜÖÁΩÆ‰∏§‰∏™ Flag Áî®‰∫éÊñπ‰æøËæìÂá∫ÊâßË°åÁöÑ SQL ËØ≠Âè•‰∏é‰º†ÈÄíÂèÇÊï∞ÁöÑÂÄº QueryBuilder.LOG_SQL = true; QueryBuilder.LOG_VALUES = true;&#125; Ëé∑ÂèñDao123public WholeAlbumItemDao getWholeAlbumItemDao() &#123; return mDaoSession.getWholeAlbumItemDao();&#125; Â¢û12345678910//Ëøô‰∏§‰∏™ÊñπÊ≥ïÊèê‰æõÁÆÄÂçïÁöÑÊèíÂÖ•Âíå‰∏çÂ≠òÂú®ÂàôÊèíÂÖ•Â≠òÂú®ÂàôÊõ¥Êñ∞ÁöÑÊìç‰ΩúDaoHelper.get().getAlbumDetailDao().insert();DaoHelper.get().getAlbumDetailDao().insertOrReplace();//Ëøô‰∏§‰∏™ÊñπÊ≥ïÊòØ‰∏äÈù¢‰∏§‰∏™ÊñπÊ≥ïÁöÑÂä†Âº∫ÁâàÔºåÊîØÊåÅiterableÁ±ªÂûãÂ§ö‰∏™ÂØπË±°ÁöÑÊèíÂÖ•ÂíåÊõ¥Êñ∞ÔºåÂêåÊó∂ÊòØÂü∫‰∫é‰∫ãÂä°ÁöÑ„ÄÇDaoHelper.get().getAlbumDetailDao().insertInTx();DaoHelper.get().getAlbumDetailDao().insertOrReplaceInTx();//ÂÆòÊñπËß£Èáä:Insert an entity into the table associated with a concrete DAO &lt;b&gt;without&lt;/b&gt; setting key property.//Warning: This may be faster, but the entity should not be used anymore. The entity also won't be attached to identity scope.//Â§ßÊ¶ÇÊÑèÊÄùÂ∞±ÊòØÂ∞èÂøÉÁÇπÁî®ÔºåËôΩÁÑ∂ÈÄüÂ∫¶Âø´Ôºå‰ΩÜÊòØÊèíËøõÂéªÂèØËÉΩÂ∞±Êãø‰∏çÂá∫Êù•‰∫ÜDaoHelper.get().getAlbumDetailDao().insertWithoutSettingPk() Âà†1234567891011//‰∏éinsertÊñπÊ≥ïÂ§ßÂêåÂ∞èÂºÇDaoHelper.get().getAlbumDetailDao().delete();DaoHelper.get().getAlbumDetailDao().deleteInTx();//Ê†πÊçÆ‰∏ªÈîÆÂà†Èô§ÂÖÉÁ¥†DaoHelper.get().getAlbumDetailDao().deleteByKey();DaoHelper.get().getAlbumDetailDao().deleteByKeyInTx();//Âà†Èô§ÂÖ®ÈÉ®DaoHelper.get().getAlbumDetailDao().deleteAll();//‰πüÊòØÂà†Èô§ÔºåÂÖ∑‰ΩìÁöÑÂå∫Âà´ËøòÊ≤°ÂºÑÊòéÁôΩDaoHelper.get().getAlbumDetailDao().detach()DaoHelper.get().getAlbumDetailDao().detachAll(); Êîπ12DaoHelper.get().getAlbumDetailDao().update();DaoHelper.get().getAlbumDetailDao().updateInTx(); Êü• ÂÖ≥‰∫éQueryÁöÑÊìç‰ΩúÁõ∏ÂØπÂ§çÊùÇÔºå ‰∏ãÈù¢Âè™ÊòØÊØîËæÉÂü∫Êú¨ÁöÑÔºåÊõ¥Â§öÁöÑ‰ΩøÁî®ÊñπÊ≥ïÂèØ‰ª•ÂèÇÁÖßQueryÊñáÊ°£ 12345678910111213141516171819// Ëé∑ÂèñquerybuilderQueryBuilder&lt;RecommendAlbumItem&gt; queryBuilder = DaoHelper.get().getRecommendAlbumItemDao().queryBuilder();// Êü•ËØ¢Êù°‰ª∂ÔºåÂ§ß‰∫éÂ∞è‰∫éÔºåand,orqueryBuilder.where( RecommendAlbumItemDao.Properties.Album_type.eq(""), queryBuilder.or(RecommendAlbumItemDao.Properties.Album_cover.gt(""), queryBuilder.and(RecommendAlbumItemDao.Properties.Album_cover.ge("") ,RecommendAlbumItemDao.Properties.Album_cover.eq(""))));// offset limmit queryBuilder.offset(10).limit(10);//ÊéíÂ∫èqueryBuilder.orderAsc();queryBuilder.orderCustom(null,null);queryBuilder.orderDesc();queryBuilder.build();//Êü•ËØ¢Êï∞ÈáèqueryBuilder.count();//ËøîÂõûlistqueryBuilder.list();]]></content>
      <categories>
        <category>Android</category>
        <category>Library</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Library</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mac ÂÆâË£Ö Mongdb]]></title>
    <url>%2Farticle%2F3372882306%2F</url>
    <content type="text"><![CDATA[MongoDB ÊòØÁî±C++ËØ≠Ë®ÄÁºñÂÜôÁöÑÔºåÊòØ‰∏Ä‰∏™Âü∫‰∫éÂàÜÂ∏ÉÂºèÊñá‰ª∂Â≠òÂÇ®ÁöÑÂºÄÊ∫êÊï∞ÊçÆÂ∫ìÁ≥ªÁªü„ÄÇ Âú®È´òË¥üËΩΩÁöÑÊÉÖÂÜµ‰∏ãÔºåÊ∑ªÂä†Êõ¥Â§öÁöÑËäÇÁÇπÔºåÂèØ‰ª•‰øùËØÅÊúçÂä°Âô®ÊÄßËÉΩ„ÄÇMongoDB Êó®Âú®‰∏∫WEBÂ∫îÁî®Êèê‰æõÂèØÊâ©Â±ïÁöÑÈ´òÊÄßËÉΩÊï∞ÊçÆÂ≠òÂÇ®Ëß£ÂÜ≥ÊñπÊ°à„ÄÇ MongoDB Â∞ÜÊï∞ÊçÆÂ≠òÂÇ®‰∏∫‰∏Ä‰∏™ÊñáÊ°£ÔºåÊï∞ÊçÆÁªìÊûÑÁî±ÈîÆÂÄº(key=&gt;value)ÂØπÁªÑÊàê„ÄÇMongoDB ÊñáÊ°£Á±ª‰ºº‰∫é JSON ÂØπË±°„ÄÇÂ≠óÊÆµÂÄºÂèØ‰ª•ÂåÖÂê´ÂÖ∂‰ªñÊñáÊ°£ÔºåÊï∞ÁªÑÂèäÊñáÊ°£Êï∞ÁªÑ„ÄÇ ÁâπÁÇπ:È´òÊÄßËÉΩ„ÄÅÊòìÈÉ®ÁΩ≤„ÄÅÊòì‰ΩøÁî®ÔºåÂ≠òÂÇ®Êï∞ÊçÆÈùûÂ∏∏Êñπ‰æø„ÄÇ ÂÆâË£Ö MongoDbÂÆâË£Öhomebrew 1$ /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" Êõ¥Êñ∞homebrew 1$ brew update ÂÆâË£Ömongodb 1$ brew install mongodb ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè1234$ open ~/.bash_profile # ÂÜôÂÖ•‰ª•‰∏ãË∑ØÂæÑ# mongodbexport PATH=$&#123;PATH&#125;:/usr/local/Cellar/mongodb/3.2.6/bin Ê†πÊçÆÈÖçÁΩÆÂêØÂä®mongodb‰ΩøÁî®ËØ•ÂëΩ‰ª§Â∞Ü‰ºö‰ΩøÁî®mongod.confÊñá‰ª∂ÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÊù•ÂêØÂä®mongodb Êñá‰ª∂ÁöÑË∑ØÂæÑÂú® /usr/local/etc/mongod.confÔºàMacÔºâ ‰ªéÈÖçÁΩÆÊñá‰ª∂ÂèØ‰ª•ÁúãÂà∞Êï∞ÊçÆÂ∫ìÁöÑË∑ØÂæÑ‰ª•ÂèälogÁöÑË∑ØÂæÑÁ≠â„ÄÇ 1234567891011$ mongod --config /usr/local/etc/mongod.conf# mongod.conf Êñá‰ª∂ÂÜÖÂÆπsystemLog: destination: file path: /usr/local/var/log/mongodb/mongo.log logAppend: truestorage: dbPath: /usr/local/var/mongodbnet: bindIp: 127.0.0.1 Áõ¥Êé•ÂêØÂä®Áõ¥Êé•ÂêØÂä®Âø´Êç∑ÁÆÄÂçïÔºåÊï∞ÊçÆÂ∞Ü‰ºöÂ≠òÂÇ®Âú®/data/db‰∏ã,ÂÖ∂‰∏≠/dataË∑ØÂæÑ‰∏é/usrË∑ØÂæÑÊòØÂêåÁ∫ßÁöÑ„ÄÇ 123456789Êï∞ÊçÆ‰ºöÂ≠òÊîæÂú®/data/db ÁõÆÂΩï‰∏ãÔºåÈúÄË¶ÅÈ¶ñÂÖàÂàõÂª∫ÁõÆÂΩïÔºåÂπ∂Êõ¥ÊîπÁõÆÂΩïÊùÉÈôê$ mkdir -p /data/db $ sudo chown -R march /dataÂêØÂä®mongodbÊúçÂä°$ mongodËæìÂÖ• mongo ÔºåËøûÊé•Âà∞mongoÊúçÂä°ÔºåÂç≥ÂèØËøõÂÖ•ÂëΩ‰ª§Ë°åÊìç‰Ωú$ mongo]]></content>
      <categories>
        <category>Db</category>
      </categories>
      <tags>
        <tag>Database</tag>
        <tag>MongoDb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NodeÂºÄÂèë-1-Âü∫Á°Ä]]></title>
    <url>%2Farticle%2F3697016025%2F</url>
    <content type="text"><![CDATA[Âü∫Êú¨Â∑•ÂÖ∑ÁöÑÈÖçÁΩÆÊ£ÄÊµãxcodeÊòØÂê¶ÂÆâË£Ö12$ xcode-select -p/Applications/Xcode.app/Contents/Developer Ê£ÄÊµãpythonÂíårubyÁâàÊú¨12$ python -v$ ruby -v ÂÆâË£Öhomebrew1$ /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" ÂÆâË£Önode.js1$ brew install node Á¨¨‰∏Ä‰∏™webÂ∫îÁî®ÂàõÂª∫ËøûÊé•12345678910111213141516//Êñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂Ôºå‰∏∫server.js,ÂÜÖÂÆπÂ¶Ç‰∏ãconst http = require('http');const hostname = '127.0.0.1';const port = 3000;const server = http.createServer((req, res) =&gt; &#123; res.statusCode = 200; res.setHeader('Content-Type', 'text/plain'); res.end('Hello World\n');&#125;);server.listen(port, hostname, () =&gt; &#123; console.log(`Server running at http://$&#123;hostname&#125;:$&#123;port&#125;/`);&#125;); ÂêØÂä®ÊúçÂä° Âà∞Áõ∏Â∫îÁõÆÂΩï‰∏ãËøêË°åÂëΩ‰ª§,ÊâìÂºÄÊµèËßàÂô®ËæìÂÖ•http://127.0.0.1:3000/ÂèØ‰ª•ÁúãÂà∞ÊúçÂä°Â∑≤ÁªèËµ∑Êù•‰∫ÜÔºå‰ΩøÁî®ctrl+cÂÅúÊ≠¢ÊúçÂä° 1$ node server.js]]></content>
      <categories>
        <category>Node</category>
      </categories>
      <tags>
        <tag>Node</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python DjangoÊúçÂä°Âô®Êê≠Âª∫]]></title>
    <url>%2Farticle%2F1002618664%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä ÂÆâË£ÖÁöÑÈÉ®ÂàÜÂ∑•ÂÖ∑ÔºåÊàëÊòØÂú®Mac‰∏ã‰ΩøÁî®ÔºåÂÖ∂‰ªñÁöÑÂπ≥Âè∞Ëá™Â∑±ÊêúÁ¥¢‰∏Ä‰∏ãÂ¶Ç‰ΩïÂÆâË£Ö„ÄÇÁé∞Âú®ÈªòËÆ§‰Ω†Â∑≤ÁªèÂÆâË£Ö‰∫ÜPythonÁéØÂ¢ÉÔºåÊàëÁöÑÊòØPython2.7 ÂÆâË£ÖpipÂåÖÁÆ°ÁêÜÂô® pipÂåÖÁÆ°ÁêÜÂô®ÊòØpython‰∏ãÂÆâË£ÖÊ®°ÂùóÁöÑÂ∑•ÂÖ∑ 1234567$ curl -O https://raw.github.com/pypa/pip/master/contrib/get-pip.py$ [sudo] python get-pip.py# ÂÆâË£ÖÂåÖ$ pip install django# Âç∏ËΩΩÂåÖ$ pip uninstall django ÂÆâË£Öipython ipythonÊòØ‰∏Ä‰∏™Â¢ûÂº∫ÂºèÁöÑpython‰∫§‰∫íÂºèÊìç‰ΩúÂëΩ‰ª§Â∑•ÂÖ∑ÔºåÊúâËá™Âä®ÊèêÁ§∫ÂíåË°•ÂÖ®ÁöÑÂäüËÉΩ 1$ pip install ipython ÂÆâË£Ödjango1$ pip install django ÁÆÄÂçïÂ∞ùËØï12345678910111213141516171819# ÂàõÂª∫‰∏Ä‰∏™È°πÁõÆ$ django -admin startproject mysite# ÂºÄÂêØÊúçÂä°$ python manage.py runserver# Âá∫Áé∞Â¶Ç‰∏ãÂ≠óÊ†∑May 14, 2016 - 00:00:21Django version 1.9.6, using settings 'mysite.settings'Starting development server at http://127.0.0.1:8000/Quit the server with CONTROL-C.Not Found: /[14/May/2016 00:00:32] "GET / HTTP/1.1" 200 1767Not Found: /favicon.ico[14/May/2016 00:00:32] "GET /favicon.ico HTTP/1.1" 404 1936# ÊâìÂºÄÊµèËßàÂô®ËæìÂÖ•`http://127.0.0.1:8000/`Â∞±ÂèØ‰ª•ÁúãÂà∞It workedÂ≠óÊ†∑Ôºå‰∏Ä‰∏™ÁÆÄÂçïÁöÑwebÊúçÂä°Â∞±Â•Ω‰∫Ü# ‰Ω†ÂèØ‰ª•‰ΩøÁî®`python manage.py`Êü•ÁúãÊõ¥Â§öÁöÑÂëΩ‰ª§ ÂêÑ‰∏™Êñá‰ª∂ÁöÑÁÆÄÂçï‰ªãÁªç12345678910$ cd mysite/$ lsmanage.py mysite# manage.pyÊòØ‰∏Ä‰∏™ÁÆ°ÁêÜÂ∑•ÂÖ∑Ôºå‰ΩøÁî®ÂÆÉÂèØ‰ª•ÁÆ°ÁêÜÊúçÂä°Âô®ÔºåÊØîÂ¶ÇÂºÄÂêØÊúçÂä°Á≠â# mysiteÊòØ‰Ω†ÁöÑÂ∑•Á®ãÁõÆÂΩï$ cd mysite/__init__.py settings.py urls.py wsgi.py__init__.pyc settings.pyc urls.pyc wsgi.pyc# settings.py ÊòØ‰∏Ä‰∫õÈÖçÁΩÆ‰ø°ÊÅØ# urls.py ÊòØurlÁöÑÊò†Â∞ÑÔºå‰ªñË°®Á§∫‰∏çÂêåÁöÑurl‰ºöÊò†Â∞ÑÂà∞‰∏çÂêåÁöÑÁΩëÈ°µ Âª∫Á´ãapp djangoÊòØ‰ΩøÁî®appÁöÑÂΩ¢ÂºèÊù•ÈÖçÁΩÆÊ®°ÂùóÔºå‰Ω†ÂèØ‰ª•Âª∫Á´ãÊñ∞ÁöÑÊ®°Âùó 12345678910111213$ python manage.py startapp blog# ÂèØ‰ª•ÂèëÁé∞Âú®mysiteÁõÆÂΩï‰∏ãÊúâ‰∫ÜblogÂíåmysite‰∏§‰∏™Êñá‰ª∂Â§π# Âú®mysite/mysite/settings.py‰∏≠ÈÖçÁΩÆËøô‰∏™appÊ®°Âùó# Application definitionINSTALLED_APPS = [ 'django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'blog'] ÊûÑÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁΩëÈ°µ123456789101112131415161718192021222324252627$ cd blog/$ ls_init__.py admin.pyc models.py views.py__init__.pyc apps.py models.pyc views.pycadmin.py migrations tests.py# blogÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂ÔºåÊàë‰ª¨Áé∞Âú®Âè™‰ΩøÁî®views.pyÔºå‰ªñÊòØÁî®Êù•ÊûÑÂª∫ËæìÂá∫html È°µÈù¢ÁöÑ‰∏Ä‰∏™Á±ª#Ôºà1ÔºâÊâìÂºÄviews.py ÂÆö‰πâ‰∏Ä‰∏™ÁÆÄÂçïÁöÑhtmlÈ°µÈù¢from django.shortcuts import renderfrom django.http import HttpResponse# Create your views here.def hello(request): return HttpResponse('&lt;html&gt;hello world&lt;/html&gt;') # (2) ÊâìÂºÄmysite/mysite/urls.py ÈÖçÁΩÆurlÊò†Â∞Ñfrom django.conf.urls import urlfrom django.contrib import adminurlpatterns = [ url(r'^admin/', admin.site.urls), url(r'hello','blog.views.hello')]# (3) ÂêØÂä®ÊúçÂä°,Âú®ÊµèËßàÂô®ËæìÂÖ•http://127.0.0.1:8000/hello,ÂèØ‰ª•Ëé∑ÂæóËøîÂõûÁöÑÁΩëÈ°µ$ python manage.py runserver]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SwiftÂü∫Á°Ä2]]></title>
    <url>%2Farticle%2F1243741076%2F</url>
    <content type="text"><![CDATA[ÂèØÈÄâÂûãÁöÑÊ¶ÇÂøµ Êï∞ÊçÆÁ±ªÂûãÔºãÔºüÂ∞Ü‰ºöÊûÑÊàê‰∏ÄÁßçÊñ∞ÁöÑÁ±ªÂûãÔºåÂèØÈÄâÂûãÔºåString?‰∏∫Â≠óÁ¨¶‰∏≤ÂèØÈÄâÂûãÔºåÔºåÂú®swift‰∏≠ÔºåÁ©∫ÁöÑÊ¶ÇÂøµÁï•Êúâ‰∏çÂêåÔºåjava‰∏≠ÔºåÂ¶ÇÊûú‰∏Ä‰∏™ÂØπË±°ÂèòÈáèÔºåÊ≤°ÊúâÊåáÂêëÔºå‰∏∫nullÔºõ‰∏Ä‰∏™intÁ±ªÂûãÁöÑÂèòÈáèÂ¶ÇÊûúÊ≤°ÊúâÂàùÂßãÂåñÔºåÂÄº‰∏∫0ÔºånullÂíå0 ÊÑè‰∏∫Ê≤°ÊúâÔºåÂú®swift‰∏≠ÔºåÁ©∫ÊòØ‰∏ÄÁßçÂÆåÂÖ®Áã¨Á´ãÁöÑÊï∞ÊçÆÁ±ªÂûãÔºånilÁöÑ‰ΩçÁΩÆÂíåIntÔºåStringÁöÑÂú∞‰ΩçÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰ªñ‰∏çÊòØÂØπË±°ÊàñËÄÖÊï∞ÊçÆÁöÑ‰∏ÄÁßçÁâπÊÆäÁä∂ÊÄÅÔºåËÄåÊòØ‰∏ÄÁßçÊñ∞ÁöÑÂØπË±°„ÄÇËøô‰πüÂ∞±ÊÑèÂë≥ÁùÄ‰ª£Á†Å‰∏≠(1)ÁöÑÈÉ®ÂàÜÊòØÁºñËØëÈîôËØØÁöÑÔºå‰ºöÊèêÁ§∫ÔºånilÁ±ªÂûãÊòØ‰∏çËÉΩÂíåStringÁ±ªÂûãËøõË°åÁöÑÊØîËæÉÁöÑÔºåËØ•ËÆæËÆ°ÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫Ü‰ΩøswiftÊõ¥ÂÖ∑ÂÆâÂÖ®ÊÄßÔºåÂõ†‰∏∫‰ªª‰ΩïÂØπË±°ÈÉΩ‰∏çËÉΩËÆæÁΩÆ‰∏∫nil,Â∞±Â¶ÇÂêåStringÁ±ªÂûãÁöÑÊï∞ÊçÆ‰∏çËÉΩËÆæÁΩÆ‰∏∫intÁ±ªÂûãÁöÑÊï∞ÊçÆÔºå‰ªñ‰ª¨ÊòØÂÆåÂÖ®‰∏çÂêåÁöÑÂØπË±°ÔºåÂèØ‰ª•ÈÅøÂÖçÊΩúÂú®Á©∫ÊåáÈíàÁöÑÂèëÁîü„ÄÇ 123456789101112131415161718192021222324//(1)var str = "abc"if(str == nil)&#123;&#125;//String? ‰∏∫StringÂèØÈÄâÂûãÔºå‰ªñÊÑèÂë≥ÁùÄËøôÁßçÁ±ªÂûãÔºåÂèØ‰ª•‰∏∫nil,ËøòÊòØÈÇ£Âè•ËØùÔºåÂèØÈÄâÂûãÂíånil‰∏çÊòØ‰∏Ä‰∏™Á±ªÂûãÁöÑÁâπÊÆäÁä∂ÊÄÅÔºå‰ªñÊòØ‰∏ÄÁßçÊñ∞ÁöÑÁ±ªÂûã„ÄÇ//2var optionalStr:String? = "hello"optionalStr = "world"print(optionalStr == nil) var greet = "hey"if let name = optionalStr&#123; greet = "hello \(name)";&#125;print(greet) if(optionalStr != nil)&#123; print("optional str is not nil")&#125; where‰∏éÊ®°ÂºèÂåπÈÖç1234567891011121314151617181920212223242526272829303132333435//switch‰∏≠‰ΩøÁî®whereËØ≠Âè•let point = (3,3)switch point &#123; case let(x,y) where x == y: print("x == y") case let(x,y) where x == -y: print("x == -y") default: print("rst is \(point.0) , \(point.1)")&#125;//switch‰∏≠‰ΩøÁî®ËøêÁÆóÁ¨¶ let age = 19switch age&#123; case 10 ... 19: print("teenager") default: print("not teenager")&#125; //if‰∏≠‰ΩøÁî®Ê®°Âºè if case 10...19 = age where age &gt; 18&#123; print("teenager and in colldge")&#125; //if‰∏≠‰ΩøÁî®Ê®°ÂºèÂíåwhereËØ≠Âè•let vector = (4,0)if case (let x,0) = vector where x &gt; 2 &amp;&amp; x &lt; 5&#123; print("it is vector")&#125; //if‰∏≠‰ΩøÁî®Ê®°ÂºèÔºãwhere+ËøêÁÆóÁ¨¶ for case let i in 1 ... 100 where i % 3==0&#123; print("i is \(i)")&#125; guardÂÖ≥ÈîÆÂ≠ó12345678910111213//guard else Èò≤Ê≠¢Êï∞ÊçÆÈîôËØØÔºå‰πüÂèØ‰ª•ËÆ§‰∏∫ÊòØÈúÄË¶ÅÊª°Ë∂≥ÁöÑ‰∏ÄÁßçÂÖàÂÜ≥Êù°‰ª∂//‰æãÂ¶Ç‰∏ãÈù¢money&gt;price,capacity &gt; volumeÊòØÂøÖÈ°ªÊª°Ë∂≥ÁöÑÊù°‰ª∂ÔºåÁÆÄÂåñËØ≠Ê≥ïÔºåÈò≤Ê≠¢ÈîôËØØfunc buy(money:Int,price:Int,capacity:Int,volume:Int) -&gt; Bool&#123; guard money &gt; price else &#123; print("not money") return false &#125; guard capacity &gt; volume else&#123; print("not volume") return false &#125; return true&#125; StringÁ±ªÂûã12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273//Â≠óÁ¨¶‰∏≤var originStr = "this is str"originStr = "this is new str"//ÂÆö‰πâ‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤let emptyStr = ""//Âà§Á©∫Êìç‰Ωúprint(emptyStr.isEmpty)//ÂêàÂπ∂Â≠óÁ¨¶‰∏≤var rstStr = originStr + emptyStr//‰ΩøÁî®+=,Ê≠§Êó∂rstStrÂøÖÈ°ªÊòØÂèòÈáèrstStr += originStr//Â≠óÁ¨¶‰∏≤ÊèíÂÄºrstStr = "this is new str and insert \(100)"//ËΩ¨‰πâÂ≠óÁ¨¶ \//ÈÅçÂéÜÂ≠óÁ¨¶‰∏≤for c in originStr.characters&#123; print(c)&#125; //Characterlet cc:Character = "!"originStr.append(cc) //Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶ÔºåÂü∫‰∫éunicodeÁ†ÅÔºå‰πüÂ∞±ÊòØËØ¥‰∏çÁÆ°ÊòØ3‰∏™Ê±âÂ≠óÊàñËÄÖ3‰∏™Â≠óÊØçÔºåÂÆÉÁöÑcountÈÉΩÊòØ3let englishLetter = "abc"let chinseLetter = "ÊÖïËØæÁΩë"let emojiLetter = "üò¢üò¢üò¢"let unicodeLetter = "\u&#123;1f60e&#125;\u&#123;0301&#125;"print(englishLetter.characters.count)print(chinseLetter.characters.count)print(emojiLetter.characters.count)print("enlish is \(englishLetter) chinse is \(chinseLetter) emoji is \(emojiLetter) unicode is \(unicodeLetter)") //Á¥¢ÂºïËÆøÈóÆÂ≠óÁ¨¶‰∏≤ÔºåÈúÄË¶Å‰ΩøÁî®String.IndexÁ±ªÊù•ËÆøÈóÆ//[startIndex,endIndex)let startIndex = originStr.startIndexlet endIndex = originStr.endIndexprint("index is \(startIndex) and content is \(originStr[startIndex])")//ÂêëÂêén‰∏™startIndex.advancedBy(6)//ÂâçÈù¢‰∏Ä‰∏™‰ΩçÁΩÆendIndex.predecessor()//ÂêéÈù¢‰∏Ä‰∏™‰ΩçÁΩÆstartIndex.successor() //StringÁöÑ‰∏Ä‰∫õAPI//Range&lt;Index&gt;Á±ªÂûãlet range = startIndex.advancedBy(3) ..&lt; endIndexoriginStr.replaceRange(range, with: "!!!")originStr.appendContentsOf("xxx")originStr.insert("z", atIndex: originStr.endIndex) originStr.removeAtIndex(originStr.endIndex.predecessor()) originStr.removeRange(originStr.endIndex.advancedBy(-2)..&lt;originStr.endIndex) print("upper \(originStr.uppercaseString) low \(originStr.lowercaseString) First up \(originStr.capitalizedString)")originStr.containsString("")originStr.hasSuffix("")originStr.hasPrefix("") //NSString let s2 = NSString(format: "one third is %.2f",1.0/3.0)print("ËΩ¨Êç¢ \(s2 as String)") let nsStr:NSString = "one third is 0.33"nsStr.substringFromIndex(4)nsStr.substringFromIndex(3)nsStr.substringWithRange(NSMakeRange(4, 5)) let s6 = " --- Hello --- " as NSString//ÂéªÊéâÁ©∫Ê†ºÂíåÔºçprint(s6.stringByTrimmingCharactersInSet(NSCharacterSet(charactersInString:" -"))]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Èò≤Ê≠¢appÈó™ÁôΩÂ±èÊàñÈó™ÈªëÂ±è]]></title>
    <url>%2Farticle%2F3133739946%2F</url>
    <content type="text"><![CDATA[AppÂêØÂä®Êó∂ÈúÄË¶ÅÂä†ËΩΩÂ∫îÁî®ËøõÁ®ãÔºåÂ∞±ÁÆó‰Ω†ÁöÑËΩØ‰ª∂Âú® Appliation ‰∏≠‰ªÄ‰πà‰πüÊ≤°ÂÅö‰ªçÊóß‰ºöÊúâÂª∂Êó∂Ôºå‰ºöÊòæÁ§∫ÁôΩÂ±èÊàñËÄÖÈªëÂ±èÔºåÂæàÈöæÁúã„ÄÇÊú¨Êñá‰∏ªË¶Å‰ªãÁªçÂéªÊéâÈó™Â±èÔºåÁôΩÂ±èÊàñÈªëÂ±èÁöÑÂá†ÁßçÊñπÊ°à„ÄÇ ÈÄèÊòé Theme ‰ΩøÁî®ÈÄèÊòéThemeËß£ÂÜ≥ÔºåÂéüÁêÜÂ∞±ÊòØËôΩÁÑ∂Á®ãÂ∫èÂêØÂä®‰∫ÜÔºå‰ΩÜÊòØÊ≤°ÊúâÊòæÁ§∫Âá∫Êù•Ôºå‰Ω†ÁúãÂà∞ÁöÑËøòÊòØÊ°åÈù¢ÔºåÁõÆÂâç‰∏ªÊµÅÁöÑ‰∫ßÂìÅÈÉΩÊòØÁî®ÁöÑËøôÁßçÊñπÂºèÔºåÊØîÂ¶ÇQQÔºåÂæÆ‰ø°„ÄÇÁº∫ÁÇπÂ∞±ÊòØÁ≠âÂæÖÁöÑÊó∂Èó¥ÈïøÔºåÈÄ†ÊàêÁ®ãÂ∫èÂêØÂä®ÊÖ¢ÁöÑÊÑüËßâ„ÄÇ 1234&lt;style name="Theme.AppStartUseTransparent" parent="Theme.AppCompat.NoActionBar"&gt; &lt;item name="android:windowIsTranslucent"&gt;true&lt;/item&gt; &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;&lt;/style&gt; ÂõæÁâá Theme ‰ΩøÁî®ÂõæÁâáThemeËß£ÂÜ≥ÔºåÂéüÁêÜÂ∞±ÊòØËÆæÁΩÆ‰∏ÄÂº†ËÉåÊôØÂõæÔºåÂú®‰Ω†ÁöÑÁ®ãÂ∫èÊ≤°ÊúâÂä†ËΩΩÂÆåÊàêÁöÑÊó∂ÂÄô‰ºöÊòæÁ§∫ËøôÂº†ËÉåÊôØÂõæÔºå‰Ω†‰πüÂèØ‰ª•Áî®shapeËá™ÂÆö‰πâÊàñËÄÖ‰ΩøÁî®ÂõæÁâáÔºå‰ºòÁÇπÂ∞±ÊòØÂêØÂä®ÂæàÂø´ÔºåÊòæÁ§∫ÁöÑÊïàÊûúÂèñÂÜ≥‰∫é‰Ω†ÁöÑÂõæÁâá„ÄÇ 1234&lt;style name="Theme.AppStartUseDrawable" parent="Theme.AppCompat.NoActionBar"&gt; &lt;item name="android:windowBackground"&gt;@drawable/shape_maincolor&lt;/item&gt; &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;&lt;/style&gt; Âú® manifest.xml ‰ΩøÁî® ÊàëÊòØAppCompatÁöÑÈ£éÊ†ºÔºå‰Ω†ÂèØ‰ª•ÂØπparentÔºù‚Äú‚ÄùÂÅöÈÄÇÂΩì‰øÆÊîπ„ÄÇ 123456789 &lt;activity android:name=".activity.LoadingActivity" android:theme="@style/Theme.AppStartUseTransparent"&gt; &lt;intent-filter&gt; &lt;action android:name="android.intent.action.MAIN" /&gt; &lt;category android:name="android.intent.category.LAUNCHER" /&gt; &lt;/intent-filter&gt;&lt;/activity&gt;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RecyclerViewÊ∑ªÂä†HeaderÂíåFooterÁöÑÂü∫Êú¨ÂéüÁêÜ]]></title>
    <url>%2Farticle%2F4007050602%2F</url>
    <content type="text"><![CDATA[‰ªãÁªç ÈááÁî®ÁöÑÂü∫Êú¨ÂéüÁêÜÂ∞±ÊòØHeaderÂíåFooter‰Ωú‰∏∫RecyclerViewÁöÑ‰∏Ä‰∏™ItemÔºåÂè™ÊòØÊòæÁ§∫ÁöÑÊñπÂºèÁâπÂà´‰∏ÄÁÇπÔºåListViewÂÆûÈôÖ‰πüÊòØËøô‰πàÂÅöÁöÑÊâÄ‰ª•Ê∑ªÂä†‰∫ÜHeader‰πãÂêéÔºåÊï∞ÊçÆÁöÑ‰ΩçÁΩÆ‰ºöÈîô‰π±„ÄÇ Áî±‰∫é‰ΩøÁî®‰∏çÂêåÁöÑLayoutManagerÊó∂ÊòæÁ§∫ÊïàÊûú‰πü‰∏ç‰∏ÄÊ†∑Ôºå ÊâÄ‰ª•ÈíàÂØπ‰∏çÂêåÁöÑLayoutManagerÈúÄË¶ÅÂÅö‰∏çÂêåÁöÑÊìç‰Ωú„ÄÇ ÂàÜÊûê‰∏Ä‰∏ãÔºåLinearLayoutManagerÊØîËæÉÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂ∞ÜHeaderÂíåFooter‰Ωú‰∏∫‰∏ÄÈ°πÂ∞±ÂèØ‰ª•‰∫ÜÔºåGridLayoutManagerÂíåStaggeredGridLayoutManagerÂú®Ëøô‰∏™Âü∫Á°Ä‰∏äËøòÈúÄË¶ÅÂ∞ÜHeaderÂíåFooterÊâÄÂú®ÁöÑItemÂÖÖÊª°‰ªñÊâÄÂú®ÁöÑËøô‰∏ÄË°å„ÄÇ ÂèòÈáèÂíåÊñπÊ≥ï123456789101112131415161718//HeaderÂíåFooter,‰ª•ÂèäÂØπÂ∫îÁöÑTypeprivate View mHeaderView;private View mFooterView;private int TYPE_HEADER = -1;private int TYPE_FOOTER = -2;//‰∏Ä‰∫õËæÖÂä©ÁöÑÊñπÊ≥ïpublic int getHeaderCount() &#123; return isHasHeader() ? 1 : 0;&#125;private boolean isHasHeader() &#123; return mHeaderView != null;&#125;private boolean isHasFooter() &#123; return mFooterView != null;&#125; Ê†πÊçÆÊòØÂê¶ÊúâHeaderÂíåFooterËé∑ÂèñÊï∞ÊçÆSize123456789101112//Ê†πÊçÆÊòØÂê¶ÊúâHeaderÂíåFooterËøîÂõû‰∏çÂêåÁöÑSize@Overridepublic int getItemCount() &#123; int pos = datas.size(); if (isHasHeader()) pos++; if (isHasFooter()) pos++; return pos;&#125; Ê†πÊçÆÊòØÂê¶ÊúâHeaderÂíåFooterËé∑ÂèñType12345678910111213141516171819202122//Ëé∑ÂèñitemÁöÑtypeÔºåÂü∫Êú¨ÈÄªËæëÊòØÂ¶ÇÊûúÊúâheaderÂèàÊòØ‰Ωç‰∫éÁ¨¨‰∏Ä‰∏™ÁöÑÂàôËøîÂõûHeaderType,Â¶ÇÊûúposË∂ÖÂá∫‰∫ÜdataÁöÑsizeÔºåÂèàÊòØÊúÄÂêé‰∏Ä‰∏™ÔºåÂàôËøîÂõûFooterType@Overridepublic int getItemViewType(int position) &#123; //Â¶ÇÊûúÊ≤°ÊúâheaderÊ≤°ÊúâfooterÁõ¥Êé•ËøîÂõû if (!isHasHeader() &amp;&amp; !isHasFooter()) return datas.get(position).getRvType(); //Êúâheader‰∏î‰ΩçÁΩÆ0 if (isHasHeader() &amp;&amp; position == 0) return TYPE_HEADER; //posË∂ÖÂá∫ if (isHasFooter() &amp;&amp; position == getItemCount() - 1) return TYPE_FOOTER; //Â¶ÇÊûúÊúâheader,‰∏ãÊ†áÂáè‰∏Ä‰∏™ if (isHasHeader()) return datas.get(position - 1).getRvType(); else //Ê≤°Êúâheader ÊåâÁÖßÂéüÊù•ÁöÑ return datas.get(position).getRvType();&#125; Ê†πÊçÆÊòØÂê¶ÊúâHeaderÂíåFooterÂàõÂª∫Holder123456789101112//Ê†πÊçÆËøîÂõûÁöÑ‰∏çÂêåÁöÑtype‰ΩøÁî®HeaderViewÂíåFooterViewÂàùÂßãÂåñHolder,Ëá≥Ê≠§Â∑≤ÁªèÂèØ‰ª•ÂØπLinearLayoutManagerÊ∑ªÂä†HeaderÂíåFooter@Overridepublic RvViewHolder onCreateViewHolder(ViewGroup parent, int viewType) &#123; RvViewHolder holder; if (isHasFooter() &amp;&amp; viewType == TYPE_FOOTER) &#123; holder = new RvFooterHolder(mFooterView); &#125; else if (isHasHeader() &amp;&amp; viewType == TYPE_HEADER) &#123; holder = new RvHeaderHolder(mHeaderView); &#125; else &#123; holder = new RvViewHolder(getInflateView(Res4Type.get(viewType).getResId(), return holder;&#125; LinearLayoutManager Áî±‰∫éLinearLayoutManagerÊòØËøûÁª≠ÊéíÂàóÁöÑÔºåÊâÄ‰ª•Âè™ÈúÄË¶ÅÂàõÂª∫‰∏çÂêåÁöÑholderÂ∞±ÂèØ‰ª•ÂÆûÁé∞header+footer GridLayoutManager È¶ñÂÖàÂ¶Ç‰ΩïÁü•ÈÅìÊòØÂê¶ÊòØGridLayoutManager,ÈáçÂÜôonAttachedToRecyclerViewÊñπÊ≥ïËé∑ÂèñManager,Ë∞ÉÁî®gridLayoutManager.setSpanSizeLookupÔºàÔºâÊñπÊ≥ïÔºåËÆæÁΩÆ‰ªñË∑®Ë∂äÁöÑÂÆΩÂ∫¶„ÄÇ 12345678910111213141516171819202122@Overridepublic void onAttachedToRecyclerView(RecyclerView recyclerView) &#123; super.onAttachedToRecyclerView(recyclerView); Log.e("chendong","onAttachedToRecyclerView"); RecyclerView.LayoutManager layoutManager = recyclerView.getLayoutManager(); if (layoutManager instanceof GridLayoutManager) &#123; final GridLayoutManager gridLayoutManager = (GridLayoutManager) layoutManager; gridLayoutManager.setSpanSizeLookup(new GridLayoutManager.SpanSizeLookup() &#123; @Override public int getSpanSize(int position) &#123; return getItemViewType(position) == TYPE_HEADER || getItemViewType(position) == TYPE_FOOTER ? gridLayoutManager.getSpanCount() : 1; &#125; &#125;); return; &#125; //Âà§Êñ≠ÊòØ‰∏çÊòØStaggeredGridLayoutManager if(layoutManager instanceof StaggeredGridLayoutManager)&#123; isStaggeredGridLayoutManager = true; &#125;&#125; StaggeredGridLayoutManager ‰∏ªË¶Å‰ΩøÁî®StaggeredGridLayoutManager.LayoutParamsÁöÑ layoutParams.setFullSpan(true);ÊñπÊ≥ïËÆæÁΩÆ 123456789101112131415161718192021222324252627282930@Overridepublic RvViewHolder onCreateViewHolder(ViewGroup parent, int viewType) &#123; RvViewHolder holder; if (isHasFooter() &amp;&amp; viewType == TYPE_FOOTER) &#123; holder = new RvFooterHolder(mFooterView); &#125; else if (isHasHeader() &amp;&amp; viewType == TYPE_HEADER) &#123; holder = new RvHeaderHolder(mHeaderView); &#125; else &#123; holder = new RvViewHolder(getInflateView(Res4Type.get(viewType).getResId(), parent)); if (clickListener != null) &#123; holder.setOnItemClickListener(clickListener); &#125; if (longClickListenter != null) &#123; holder.setOnItemLongClickListener(longClickListenter); &#125; &#125; //ÂÖ≥ÈîÆ‰ª£Á†Å if (isStaggeredGridLayoutManager &amp;&amp; (holder instanceof RvHeaderHolder || holder instanceof RvFooterHolder)) &#123; Log.e("chendong","ÁÄëÂ∏ÉÊµÅËÆæÁΩÆÊª°Ë°å"); StaggeredGridLayoutManager.LayoutParams layoutParams = new StaggeredGridLayoutManager.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT); layoutParams.setFullSpan(true); holder.getParentView().setLayoutParams(layoutParams); &#125; bindListener4View(holder, viewType); return holder;&#125; QuickAdapter ÊúÄÂêéË¥¥‰∏Ä‰∏ãÊï¥‰∏™QuickAdapterÁöÑÊ∫ê‰ª£Á†ÅÔºåÊ∂âÂèäÁõ∏ÂÖ≥ÂÖ∑‰ΩìÁöÑÁ±ªÂèØ‰ª•ÂéªËøôÈáåÊü•Áúã 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317package com.march.quickrvlibs;import android.content.Context;import android.support.v7.widget.GridLayoutManager;import android.support.v7.widget.RecyclerView;import android.support.v7.widget.StaggeredGridLayoutManager;import android.util.Log;import android.util.SparseArray;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import com.march.quickrvlibs.inter.OnRecyclerItemClickListener;import com.march.quickrvlibs.inter.OnRecyclerItemLongClickListener;import com.march.quickrvlibs.inter.RvQuickInterface;import java.util.Collections;import java.util.List;/** * Created by ÈôàÊ†ã on 15/12/28. * ÂäüËÉΩ: */public abstract class RvQuickAdapter&lt;D extends RvQuickInterface&gt; extends RecyclerView.Adapter&lt;RvViewHolder&gt; &#123; protected List&lt;D&gt; datas; protected LayoutInflater mLayoutInflater; protected Context context; protected SparseArray&lt;RvAdapterConfig&gt; Res4Type; private OnRecyclerItemClickListener&lt;RvViewHolder&gt; clickListener; private OnRecyclerItemLongClickListener&lt;RvViewHolder&gt; longClickListenter; private View mHeaderView; private View mFooterView; private int TYPE_HEADER = -1; private int TYPE_FOOTER = -2; private int adapterId;//‰ΩøÁî®Ê≠§Ê†áÂøóÊù•Âà§Êñ≠ÂΩìÂâçadapterÁöÑÁ±ªÂûã private boolean isStaggeredGridLayoutManager = false; public int getAdapterId() &#123; return adapterId; &#125; /** * ËÆæÁΩÆadapterIdÊ†áÁ§∫ * @param adapterId adapterÊ†áÁ§∫ */ public void setAdapterId(int adapterId) &#123; this.adapterId = adapterId; &#125; /** * ‰ΩøÁî®Ê†áËÆ∞Âà§Êñ≠,ÊòØÂê¶ÊòØËØ•adaper * @param adapter adapter * @return boolean */ public boolean isThisAdapter(RvQuickAdapter adapter) &#123; if (adapter == null) &#123; return false; &#125; else if (adapter.getAdapterId() == adapterId) &#123; return true; &#125; return false; &#125; /** * Â§öÁ±ªÂûãÈÄÇÈÖç,ÈúÄË¶ÅË∞ÉÁî®addType()ÊñπÊ≥ïÈÖçÁΩÆÂèÇÊï∞ * * @param context context * @param datas Êï∞ÊçÆÊ∫ê */ public RvQuickAdapter(Context context, List&lt;D&gt; datas) &#123; this.datas = datas; this.mLayoutInflater = LayoutInflater.from(context); this.context = context; &#125; public RvQuickAdapter(Context context, D[] ds) &#123; Collections.addAll(datas, ds); this.mLayoutInflater = LayoutInflater.from(context); this.context = context; &#125; /** * ÂçïÁ±ªÂûãÈÄÇÈÖç * * @param context context * @param datas Êï∞ÊçÆÊ∫ê * @param res layoutËµÑÊ∫ê */ public RvQuickAdapter(Context context, List&lt;D&gt; datas, int res) &#123; this.datas = datas; this.mLayoutInflater = LayoutInflater.from(context); this.context = context; this.Res4Type = new SparseArray&lt;&gt;(); Res4Type.put(0, new RvAdapterConfig(0, res)); &#125; public RvQuickAdapter(Context context, D[] ds, int res) &#123; Collections.addAll(datas, ds); this.mLayoutInflater = LayoutInflater.from(context); this.context = context; this.Res4Type = new SparseArray&lt;&gt;(); Res4Type.put(0, new RvAdapterConfig(0, res)); &#125; public void setClickListener(OnRecyclerItemClickListener&lt;RvViewHolder&gt; listener) &#123; if (listener != null) &#123; this.clickListener = listener; &#125; &#125; public void setLongClickListener(OnRecyclerItemLongClickListener&lt;RvViewHolder&gt; longClickListenter) &#123; if (longClickListenter != null) &#123; this.longClickListenter = longClickListenter; &#125; &#125; public void addHeader(View mHeaderView) &#123; this.mHeaderView = mHeaderView; &#125; public void addFooter(View mFooterView) &#123; this.mFooterView = mFooterView; &#125; public void addHeader(int mHeaderViewRes) &#123; this.mHeaderView = getInflateView(mHeaderViewRes, null); &#125; public void addFooter(int mFooterViewRes) &#123; this.mFooterView = getInflateView(mFooterViewRes, null); &#125; public View getInflateView(int resId, ViewGroup parent) &#123; return mLayoutInflater.inflate(resId, parent, false); &#125; @Override public RvViewHolder onCreateViewHolder(ViewGroup parent, int viewType) &#123; RvViewHolder holder; if (isHasFooter() &amp;&amp; viewType == TYPE_FOOTER) &#123; holder = new RvFooterHolder(mFooterView); &#125; else if (isHasHeader() &amp;&amp; viewType == TYPE_HEADER) &#123; holder = new RvHeaderHolder(mHeaderView); &#125; else &#123; holder = new RvViewHolder(getInflateView(Res4Type.get(viewType).getResId(), parent)); if (clickListener != null) &#123; holder.setOnItemClickListener(clickListener); &#125; if (longClickListenter != null) &#123; holder.setOnItemLongClickListener(longClickListenter); &#125; &#125; if (isStaggeredGridLayoutManager &amp;&amp; (holder instanceof RvHeaderHolder || holder instanceof RvFooterHolder)) &#123; Log.e("chendong","ÁÄëÂ∏ÉÊµÅËÆæÁΩÆÊª°Ë°å"); StaggeredGridLayoutManager.LayoutParams layoutParams = new StaggeredGridLayoutManager.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT); layoutParams.setFullSpan(true); holder.getParentView().setLayoutParams(layoutParams); &#125; bindListener4View(holder, viewType); return holder; &#125; @Override public void onBindViewHolder(RvViewHolder holder, int position) &#123; if (isHasFooter() &amp;&amp; position == getItemCount() - 1) &#123; bindLisAndData4Footer((RvFooterHolder) holder); &#125; else if (isHasHeader() &amp;&amp; position == 0) &#123; bindLisAndData4Header((RvHeaderHolder) holder); &#125; else &#123; int pos = judgePos(position); bindData4View(holder, datas.get(pos), pos, datas.get(pos).getRvType()); &#125; &#125; @Override public int getItemViewType(int position) &#123; //Â¶ÇÊûúÊ≤°ÊúâheaderÊ≤°ÊúâfooterÁõ¥Êé•ËøîÂõû if (!isHasHeader() &amp;&amp; !isHasFooter()) return datas.get(position).getRvType(); //Êúâheader‰∏î‰ΩçÁΩÆ0 if (isHasHeader() &amp;&amp; position == 0) return TYPE_HEADER; //posË∂ÖÂá∫ if (isHasFooter() &amp;&amp; position == getItemCount() - 1) return TYPE_FOOTER; //Â¶ÇÊûúÊúâheader,‰∏ãÊ†áÂáè‰∏Ä‰∏™ if (isHasHeader()) return datas.get(position - 1).getRvType(); else //Ê≤°Êúâheader ÊåâÁÖßÂéüÊù•ÁöÑ return datas.get(position).getRvType(); &#125; private int judgePos(int pos) &#123; if (isHasHeader()) &#123; return pos - 1; &#125; else &#123; return pos; &#125; &#125; @Override public void onAttachedToRecyclerView(RecyclerView recyclerView) &#123; super.onAttachedToRecyclerView(recyclerView); Log.e("chendong","onAttachedToRecyclerView"); RecyclerView.LayoutManager layoutManager = recyclerView.getLayoutManager(); if (layoutManager instanceof GridLayoutManager) &#123; final GridLayoutManager gridLayoutManager = (GridLayoutManager) layoutManager; gridLayoutManager.setSpanSizeLookup(new GridLayoutManager.SpanSizeLookup() &#123; @Override public int getSpanSize(int position) &#123; return getItemViewType(position) == TYPE_HEADER || getItemViewType(position) == TYPE_FOOTER ? gridLayoutManager.getSpanCount() : 1; &#125; &#125;); return; &#125; if(layoutManager instanceof StaggeredGridLayoutManager)&#123; isStaggeredGridLayoutManager = true; &#125; &#125; /** * ÁªëÂÆöÊï∞ÊçÆ * * @param holder ViewHolderÊï∞ÊçÆÊåÅÊúâËÄÖ * @param data Êï∞ÊçÆÈõÜ * @param pos Êï∞ÊçÆÈõÜ‰∏≠ÁöÑ‰ΩçÁΩÆ * @param type type */ public abstract void bindData4View(RvViewHolder holder, D data, int pos, int type); /** * ÁªëÂÆöÁõëÂê¨Âô® * * @param holder ViewHolderÊï∞ÊçÆÊåÅÊúâËÄÖ * @param type type */ public void bindListener4View(RvViewHolder holder, int type) &#123; &#125; /** * ÁªëÂÆöheaderÁöÑÊï∞ÊçÆ Âíå ÁõëÂê¨ * * @param holder header holder */ public void bindLisAndData4Header(RvHeaderHolder holder) &#123; &#125; /** * ÁªëÂÆöfooterÁöÑÊï∞ÊçÆÂíåÁõëÂê¨ * * @param holder footer holder */ public void bindLisAndData4Footer(RvFooterHolder holder) &#123; &#125; @Override public int getItemCount() &#123; int pos = datas.size(); if (isHasHeader()) pos++; if (isHasFooter()) pos++; return pos; &#125; public int getHeaderCount() &#123; return isHasHeader() ? 1 : 0; &#125; public int getDataPos(int pos) &#123; return pos - getHeaderCount(); &#125; private boolean isHasHeader() &#123; return mHeaderView != null; &#125; private boolean isHasFooter() &#123; return mFooterView != null; &#125; /** * @param type Êï∞ÊçÆÁöÑÁ±ªÂûã(Â¶ÇÊûúÊúânÁßçÁ±ªÂûã,ÈÇ£‰πàtypeÁöÑÂÄºÈúÄË¶ÅÊòØ0 ~ n-1) * @param resId ËØ•Á±ªÂûãÂØπÂ∫îÁöÑËµÑÊ∫êÊñá‰ª∂ÁöÑid * @return QuickTypeAdapter */ public RvQuickAdapter&lt;D&gt; addType(int type, int resId) &#123; if (this.Res4Type == null) this.Res4Type = new SparseArray&lt;&gt;(); this.Res4Type.put(type, new RvAdapterConfig(type, resId)); return this; &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
        <category>Adapter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Adapter</tag>
        <tag>RecyclerView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê±âÂ≠óËΩ¨Êç¢ÊãºÈü≥]]></title>
    <url>%2Farticle%2F1637707051%2F</url>
    <content type="text"><![CDATA[ËøõË°åÊ±âÂ≠óÁöÑÂ≠óÁ¨¶‰∏≤ÊãºÈÖç,ÊØîËæÉ,ÊéíÂ∫èÁöÑÊó∂ÂÄô‰ΩøÁî®Ê±âÂ≠óÂæà‰∏çÊñπ‰æø,ËΩ¨Êç¢ÊàêÊãºÈü≥Â∞±ÂèØ‰ª•ËøõË°åÈ¶ñÂ≠óÊØçÂåπÈÖçÊêúÁ¥¢Á≠âÂ∑•‰Ωú‰∫Ü„ÄÇ ApiË∞ÉÁî®12345PinyinHelper.get().getPinYin("‰Ω†Â•Ω"));PinyinHelper.get().getPinYin("‰Ω†bSfb");PinyinHelper.get().getPinYin("JHHihubbb"); Ê†∏ÂøÉÊñπÊ≥ï123456789101112131415161718192021//Ê†∏ÂøÉÊñπÊ≥ï /** * ÂîØ‰∏ÄÂÖ¨ÂºÄÁöÑÊñπÊ≥ï * * @param input ËæìÂÖ•ÁöÑÊñáÂ≠ó * @return ËøîÂõûÁöÑÊ±âÂ≠óÂ∞Ü‰ºöËΩ¨Âåñ‰∏∫Â§ßÂÜôËã±Êñá, Â¶ÇÊûúÊòØËã±ÊñáÂ∞Ü‰ºöÂéüÊ†∑ËøîÂõû */ public String getPinYin(String input) &#123; ArrayList&lt;Token&gt; tokens = get(input); StringBuilder sb = new StringBuilder(); if (tokens != null &amp;&amp; tokens.size() &gt; 0) &#123; for (Token token : tokens) &#123; if (Token.PINYIN == token.type) &#123; sb.append(token.target); &#125; else &#123; sb.append(token.source); &#125; &#125; &#125; return sb.toString(); &#125; ÈôÑÊ∫êÁ†Å‰∏Ä‰ªΩ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532package com.march.libs.helper;/** * CdLibsTest com.march.libs.helper * Created by ÈôàÊ†ã on 16/3/28. * ÂäüËÉΩ: */import android.text.TextUtils;import android.util.Log;import java.text.Collator;import java.util.ArrayList;import java.util.Locale;public class PinyinHelper &#123; private static final String TAG = "HanziToPinyin"; private static final boolean DEBUG = false; private static final char[] UNIHANS = &#123; '\u963f', '\u54ce', '\u5b89', '\u80ae', '\u51f9', '\u516b', '\u6300', '\u6273', '\u90a6', '\u52f9', '\u9642', '\u5954', '\u4f3b', '\u5c44', '\u8fb9', '\u706c', '\u618b', '\u6c43', '\u51ab', '\u7676', '\u5cec', '\u5693', '\u5072', '\u53c2', '\u4ed3', '\u64a1', '\u518a', '\u5d7e', '\u66fd', '\u66fe', '\u5c64', '\u53c9', '\u8286', '\u8fbf', '\u4f25', '\u6284', '\u8f66', '\u62bb', '\u6c88', '\u6c89', '\u9637', '\u5403', '\u5145', '\u62bd', '\u51fa', '\u6b3b', '\u63e3', '\u5ddb', '\u5205', '\u5439', '\u65fe', '\u9034', '\u5472', '\u5306', '\u51d1', '\u7c97', '\u6c46', '\u5d14', '\u90a8', '\u6413', '\u5491', '\u5446', '\u4e39', '\u5f53', '\u5200', '\u561a', '\u6265', '\u706f', '\u6c10', '\u55f2', '\u7538', '\u5201', '\u7239', '\u4e01', '\u4e1f', '\u4e1c', '\u543a', '\u53be', '\u8011', '\u8968', '\u5428', '\u591a', '\u59b8', '\u8bf6', '\u5940', '\u97a5', '\u513f', '\u53d1', '\u5e06', '\u531a', '\u98de', '\u5206', '\u4e30', '\u8985', '\u4ecf', '\u7d11', '\u4f15', '\u65ee', '\u4f85', '\u7518', '\u5188', '\u768b', '\u6208', '\u7ed9', '\u6839', '\u522f', '\u5de5', '\u52fe', '\u4f30', '\u74dc', '\u4e56', '\u5173', '\u5149', '\u5f52', '\u4e28', '\u5459', '\u54c8', '\u548d', '\u4f44', '\u592f', '\u8320', '\u8bc3', '\u9ed2', '\u62eb', '\u4ea8', '\u5677', '\u53ff', '\u9f41', '\u4e6f', '\u82b1', '\u6000', '\u72bf', '\u5ddf', '\u7070', '\u660f', '\u5419', '\u4e0c', '\u52a0', '\u620b', '\u6c5f', '\u827d', '\u9636', '\u5dfe', '\u5755', '\u5182', '\u4e29', '\u51e5', '\u59e2', '\u5658', '\u519b', '\u5494', '\u5f00', '\u520a', '\u5ffc', '\u5c3b', '\u533c', '\u808e', '\u52a5', '\u7a7a', '\u62a0', '\u625d', '\u5938', '\u84af', '\u5bbd', '\u5321', '\u4e8f', '\u5764', '\u6269', '\u5783', '\u6765', '\u5170', '\u5577', '\u635e', '\u808b', '\u52d2', '\u5d1a', '\u5215', '\u4fe9', '\u5941', '\u826f', '\u64a9', '\u5217', '\u62ce', '\u5222', '\u6e9c', '\u56d6', '\u9f99', '\u779c', '\u565c', '\u5a08', '\u7567', '\u62a1', '\u7f57', '\u5463', '\u5988', '\u57cb', '\u5ada', '\u7264', '\u732b', '\u4e48', '\u5445', '\u95e8', '\u753f', '\u54aa', '\u5b80', '\u55b5', '\u4e5c', '\u6c11', '\u540d', '\u8c2c', '\u6478', '\u54de', '\u6bea', '\u55ef', '\u62cf', '\u8149', '\u56e1', '\u56d4', '\u5b6c', '\u7592', '\u5a1e', '\u6041', '\u80fd', '\u59ae', '\u62c8', '\u5b22', '\u9e1f', '\u634f', '\u56dc', '\u5b81', '\u599e', '\u519c', '\u7fba', '\u5974', '\u597b', '\u759f', '\u9ec1', '\u90cd', '\u5594', '\u8bb4', '\u5991', '\u62cd', '\u7705', '\u4e53', '\u629b', '\u5478', '\u55b7', '\u5309', '\u4e15', '\u56e8', '\u527d', '\u6c15', '\u59d8', '\u4e52', '\u948b', '\u5256', '\u4ec6', '\u4e03', '\u6390', '\u5343', '\u545b', '\u6084', '\u767f', '\u4eb2', '\u72c5', '\u828e', '\u4e18', '\u533a', '\u5cd1', '\u7f3a', '\u590b', '\u5465', '\u7a63', '\u5a06', '\u60f9', '\u4eba', '\u6254', '\u65e5', '\u8338', '\u53b9', '\u909a', '\u633c', '\u5827', '\u5a51', '\u77a4', '\u637c', '\u4ee8', '\u6be2', '\u4e09', '\u6852', '\u63bb', '\u95aa', '\u68ee', '\u50e7', '\u6740', '\u7b5b', '\u5c71', '\u4f24', '\u5f30', '\u5962', '\u7533', '\u8398', '\u6552', '\u5347', '\u5c38', '\u53ce', '\u4e66', '\u5237', '\u8870', '\u95e9', '\u53cc', '\u8c01', '\u542e', '\u8bf4', '\u53b6', '\u5fea', '\u635c', '\u82cf', '\u72fb', '\u590a', '\u5b59', '\u5506', '\u4ed6', '\u56fc', '\u574d', '\u6c64', '\u5932', '\u5fd1', '\u71a5', '\u5254', '\u5929', '\u65eb', '\u5e16', '\u5385', '\u56f2', '\u5077', '\u51f8', '\u6e4d', '\u63a8', '\u541e', '\u4e47', '\u7a75', '\u6b6a', '\u5f2f', '\u5c23', '\u5371', '\u6637', '\u7fc1', '\u631d', '\u4e4c', '\u5915', '\u8672', '\u4eda', '\u4e61', '\u7071', '\u4e9b', '\u5fc3', '\u661f', '\u51f6', '\u4f11', '\u5401', '\u5405', '\u524a', '\u5743', '\u4e2b', '\u6079', '\u592e', '\u5e7a', '\u503b', '\u4e00', '\u56d9', '\u5e94', '\u54df', '\u4f63', '\u4f18', '\u625c', '\u56e6', '\u66f0', '\u6655', '\u7b60', '\u7b7c', '\u5e00', '\u707d', '\u5142', '\u5328', '\u50ae', '\u5219', '\u8d3c', '\u600e', '\u5897', '\u624e', '\u635a', '\u6cbe', '\u5f20', '\u957f', '\u9577', '\u4f4b', '\u8707', '\u8d1e', '\u4e89', '\u4e4b', '\u5cd9', '\u5ea2', '\u4e2d', '\u5dde', '\u6731', '\u6293', '\u62fd', '\u4e13', '\u5986', '\u96b9', '\u5b92', '\u5353', '\u4e72', '\u5b97', '\u90b9', '\u79df', '\u94bb', '\u539c', '\u5c0a', '\u6628', '\u5159', '\u9fc3', '\u9fc4',&#125;; private static final byte[][] PINYINS = &#123; &#123;65, 0, 0, 0, 0, 0&#125;, &#123;65, 73, 0, 0, 0, 0&#125;, &#123;65, 78, 0, 0, 0, 0&#125;, &#123;65, 78, 71, 0, 0, 0&#125;, &#123;65, 79, 0, 0, 0, 0&#125;, &#123;66, 65, 0, 0, 0, 0&#125;, &#123;66, 65, 73, 0, 0, 0&#125;, &#123;66, 65, 78, 0, 0, 0&#125;, &#123;66, 65, 78, 71, 0, 0&#125;, &#123;66, 65, 79, 0, 0, 0&#125;, &#123;66, 69, 73, 0, 0, 0&#125;, &#123;66, 69, 78, 0, 0, 0&#125;, &#123;66, 69, 78, 71, 0, 0&#125;, &#123;66, 73, 0, 0, 0, 0&#125;, &#123;66, 73, 65, 78, 0, 0&#125;, &#123;66, 73, 65, 79, 0, 0&#125;, &#123;66, 73, 69, 0, 0, 0&#125;, &#123;66, 73, 78, 0, 0, 0&#125;, &#123;66, 73, 78, 71, 0, 0&#125;, &#123;66, 79, 0, 0, 0, 0&#125;, &#123;66, 85, 0, 0, 0, 0&#125;, &#123;67, 65, 0, 0, 0, 0&#125;, &#123;67, 65, 73, 0, 0, 0&#125;, &#123;67, 65, 78, 0, 0, 0&#125;, &#123;67, 65, 78, 71, 0, 0&#125;, &#123;67, 65, 79, 0, 0, 0&#125;, &#123;67, 69, 0, 0, 0, 0&#125;, &#123;67, 69, 78, 0, 0, 0&#125;, &#123;67, 69, 78, 71, 0, 0&#125;, &#123;90, 69, 78, 71, 0, 0&#125;, &#123;67, 69, 78, 71, 0, 0&#125;, &#123;67, 72, 65, 0, 0, 0&#125;, &#123;67, 72, 65, 73, 0, 0&#125;, &#123;67, 72, 65, 78, 0, 0&#125;, &#123;67, 72, 65, 78, 71, 0&#125;, &#123;67, 72, 65, 79, 0, 0&#125;, &#123;67, 72, 69, 0, 0, 0&#125;, &#123;67, 72, 69, 78, 0, 0&#125;, &#123;83, 72, 69, 78, 0, 0&#125;, &#123;67, 72, 69, 78, 0, 0&#125;, &#123;67, 72, 69, 78, 71, 0&#125;, &#123;67, 72, 73, 0, 0, 0&#125;, &#123;67, 72, 79, 78, 71, 0&#125;, &#123;67, 72, 79, 85, 0, 0&#125;, &#123;67, 72, 85, 0, 0, 0&#125;, &#123;67, 72, 85, 65, 0, 0&#125;, &#123;67, 72, 85, 65, 73, 0&#125;, &#123;67, 72, 85, 65, 78, 0&#125;, &#123;67, 72, 85, 65, 78, 71&#125;, &#123;67, 72, 85, 73, 0, 0&#125;, &#123;67, 72, 85, 78, 0, 0&#125;, &#123;67, 72, 85, 79, 0, 0&#125;, &#123;67, 73, 0, 0, 0, 0&#125;, &#123;67, 79, 78, 71, 0, 0&#125;, &#123;67, 79, 85, 0, 0, 0&#125;, &#123;67, 85, 0, 0, 0, 0&#125;, &#123;67, 85, 65, 78, 0, 0&#125;, &#123;67, 85, 73, 0, 0, 0&#125;, &#123;67, 85, 78, 0, 0, 0&#125;, &#123;67, 85, 79, 0, 0, 0&#125;, &#123;68, 65, 0, 0, 0, 0&#125;, &#123;68, 65, 73, 0, 0, 0&#125;, &#123;68, 65, 78, 0, 0, 0&#125;, &#123;68, 65, 78, 71, 0, 0&#125;, &#123;68, 65, 79, 0, 0, 0&#125;, &#123;68, 69, 0, 0, 0, 0&#125;, &#123;68, 69, 78, 0, 0, 0&#125;, &#123;68, 69, 78, 71, 0, 0&#125;, &#123;68, 73, 0, 0, 0, 0&#125;, &#123;68, 73, 65, 0, 0, 0&#125;, &#123;68, 73, 65, 78, 0, 0&#125;, &#123;68, 73, 65, 79, 0, 0&#125;, &#123;68, 73, 69, 0, 0, 0&#125;, &#123;68, 73, 78, 71, 0, 0&#125;, &#123;68, 73, 85, 0, 0, 0&#125;, &#123;68, 79, 78, 71, 0, 0&#125;, &#123;68, 79, 85, 0, 0, 0&#125;, &#123;68, 85, 0, 0, 0, 0&#125;, &#123;68, 85, 65, 78, 0, 0&#125;, &#123;68, 85, 73, 0, 0, 0&#125;, &#123;68, 85, 78, 0, 0, 0&#125;, &#123;68, 85, 79, 0, 0, 0&#125;, &#123;69, 0, 0, 0, 0, 0&#125;, &#123;69, 73, 0, 0, 0, 0&#125;, &#123;69, 78, 0, 0, 0, 0&#125;, &#123;69, 78, 71, 0, 0, 0&#125;, &#123;69, 82, 0, 0, 0, 0&#125;, &#123;70, 65, 0, 0, 0, 0&#125;, &#123;70, 65, 78, 0, 0, 0&#125;, &#123;70, 65, 78, 71, 0, 0&#125;, &#123;70, 69, 73, 0, 0, 0&#125;, &#123;70, 69, 78, 0, 0, 0&#125;, &#123;70, 69, 78, 71, 0, 0&#125;, &#123;70, 73, 65, 79, 0, 0&#125;, &#123;70, 79, 0, 0, 0, 0&#125;, &#123;70, 79, 85, 0, 0, 0&#125;, &#123;70, 85, 0, 0, 0, 0&#125;, &#123;71, 65, 0, 0, 0, 0&#125;, &#123;71, 65, 73, 0, 0, 0&#125;, &#123;71, 65, 78, 0, 0, 0&#125;, &#123;71, 65, 78, 71, 0, 0&#125;, &#123;71, 65, 79, 0, 0, 0&#125;, &#123;71, 69, 0, 0, 0, 0&#125;, &#123;71, 69, 73, 0, 0, 0&#125;, &#123;71, 69, 78, 0, 0, 0&#125;, &#123;71, 69, 78, 71, 0, 0&#125;, &#123;71, 79, 78, 71, 0, 0&#125;, &#123;71, 79, 85, 0, 0, 0&#125;, &#123;71, 85, 0, 0, 0, 0&#125;, &#123;71, 85, 65, 0, 0, 0&#125;, &#123;71, 85, 65, 73, 0, 0&#125;, &#123;71, 85, 65, 78, 0, 0&#125;, &#123;71, 85, 65, 78, 71, 0&#125;, &#123;71, 85, 73, 0, 0, 0&#125;, &#123;71, 85, 78, 0, 0, 0&#125;, &#123;71, 85, 79, 0, 0, 0&#125;, &#123;72, 65, 0, 0, 0, 0&#125;, &#123;72, 65, 73, 0, 0, 0&#125;, &#123;72, 65, 78, 0, 0, 0&#125;, &#123;72, 65, 78, 71, 0, 0&#125;, &#123;72, 65, 79, 0, 0, 0&#125;, &#123;72, 69, 0, 0, 0, 0&#125;, &#123;72, 69, 73, 0, 0, 0&#125;, &#123;72, 69, 78, 0, 0, 0&#125;, &#123;72, 69, 78, 71, 0, 0&#125;, &#123;72, 77, 0, 0, 0, 0&#125;, &#123;72, 79, 78, 71, 0, 0&#125;, &#123;72, 79, 85, 0, 0, 0&#125;, &#123;72, 85, 0, 0, 0, 0&#125;, &#123;72, 85, 65, 0, 0, 0&#125;, &#123;72, 85, 65, 73, 0, 0&#125;, &#123;72, 85, 65, 78, 0, 0&#125;, &#123;72, 85, 65, 78, 71, 0&#125;, &#123;72, 85, 73, 0, 0, 0&#125;, &#123;72, 85, 78, 0, 0, 0&#125;, &#123;72, 85, 79, 0, 0, 0&#125;, &#123;74, 73, 0, 0, 0, 0&#125;, &#123;74, 73, 65, 0, 0, 0&#125;, &#123;74, 73, 65, 78, 0, 0&#125;, &#123;74, 73, 65, 78, 71, 0&#125;, &#123;74, 73, 65, 79, 0, 0&#125;, &#123;74, 73, 69, 0, 0, 0&#125;, &#123;74, 73, 78, 0, 0, 0&#125;, &#123;74, 73, 78, 71, 0, 0&#125;, &#123;74, 73, 79, 78, 71, 0&#125;, &#123;74, 73, 85, 0, 0, 0&#125;, &#123;74, 85, 0, 0, 0, 0&#125;, &#123;74, 85, 65, 78, 0, 0&#125;, &#123;74, 85, 69, 0, 0, 0&#125;, &#123;74, 85, 78, 0, 0, 0&#125;, &#123;75, 65, 0, 0, 0, 0&#125;, &#123;75, 65, 73, 0, 0, 0&#125;, &#123;75, 65, 78, 0, 0, 0&#125;, &#123;75, 65, 78, 71, 0, 0&#125;, &#123;75, 65, 79, 0, 0, 0&#125;, &#123;75, 69, 0, 0, 0, 0&#125;, &#123;75, 69, 78, 0, 0, 0&#125;, &#123;75, 69, 78, 71, 0, 0&#125;, &#123;75, 79, 78, 71, 0, 0&#125;, &#123;75, 79, 85, 0, 0, 0&#125;, &#123;75, 85, 0, 0, 0, 0&#125;, &#123;75, 85, 65, 0, 0, 0&#125;, &#123;75, 85, 65, 73, 0, 0&#125;, &#123;75, 85, 65, 78, 0, 0&#125;, &#123;75, 85, 65, 78, 71, 0&#125;, &#123;75, 85, 73, 0, 0, 0&#125;, &#123;75, 85, 78, 0, 0, 0&#125;, &#123;75, 85, 79, 0, 0, 0&#125;, &#123;76, 65, 0, 0, 0, 0&#125;, &#123;76, 65, 73, 0, 0, 0&#125;, &#123;76, 65, 78, 0, 0, 0&#125;, &#123;76, 65, 78, 71, 0, 0&#125;, &#123;76, 65, 79, 0, 0, 0&#125;, &#123;76, 69, 0, 0, 0, 0&#125;, &#123;76, 69, 73, 0, 0, 0&#125;, &#123;76, 69, 78, 71, 0, 0&#125;, &#123;76, 73, 0, 0, 0, 0&#125;, &#123;76, 73, 65, 0, 0, 0&#125;, &#123;76, 73, 65, 78, 0, 0&#125;, &#123;76, 73, 65, 78, 71, 0&#125;, &#123;76, 73, 65, 79, 0, 0&#125;, &#123;76, 73, 69, 0, 0, 0&#125;, &#123;76, 73, 78, 0, 0, 0&#125;, &#123;76, 73, 78, 71, 0, 0&#125;, &#123;76, 73, 85, 0, 0, 0&#125;, &#123;76, 79, 0, 0, 0, 0&#125;, &#123;76, 79, 78, 71, 0, 0&#125;, &#123;76, 79, 85, 0, 0, 0&#125;, &#123;76, 85, 0, 0, 0, 0&#125;, &#123;76, 85, 65, 78, 0, 0&#125;, &#123;76, 85, 69, 0, 0, 0&#125;, &#123;76, 85, 78, 0, 0, 0&#125;, &#123;76, 85, 79, 0, 0, 0&#125;, &#123;77, 0, 0, 0, 0, 0&#125;, &#123;77, 65, 0, 0, 0, 0&#125;, &#123;77, 65, 73, 0, 0, 0&#125;, &#123;77, 65, 78, 0, 0, 0&#125;, &#123;77, 65, 78, 71, 0, 0&#125;, &#123;77, 65, 79, 0, 0, 0&#125;, &#123;77, 69, 0, 0, 0, 0&#125;, &#123;77, 69, 73, 0, 0, 0&#125;, &#123;77, 69, 78, 0, 0, 0&#125;, &#123;77, 69, 78, 71, 0, 0&#125;, &#123;77, 73, 0, 0, 0, 0&#125;, &#123;77, 73, 65, 78, 0, 0&#125;, &#123;77, 73, 65, 79, 0, 0&#125;, &#123;77, 73, 69, 0, 0, 0&#125;, &#123;77, 73, 78, 0, 0, 0&#125;, &#123;77, 73, 78, 71, 0, 0&#125;, &#123;77, 73, 85, 0, 0, 0&#125;, &#123;77, 79, 0, 0, 0, 0&#125;, &#123;77, 79, 85, 0, 0, 0&#125;, &#123;77, 85, 0, 0, 0, 0&#125;, &#123;78, 0, 0, 0, 0, 0&#125;, &#123;78, 65, 0, 0, 0, 0&#125;, &#123;78, 65, 73, 0, 0, 0&#125;, &#123;78, 65, 78, 0, 0, 0&#125;, &#123;78, 65, 78, 71, 0, 0&#125;, &#123;78, 65, 79, 0, 0, 0&#125;, &#123;78, 69, 0, 0, 0, 0&#125;, &#123;78, 69, 73, 0, 0, 0&#125;, &#123;78, 69, 78, 0, 0, 0&#125;, &#123;78, 69, 78, 71, 0, 0&#125;, &#123;78, 73, 0, 0, 0, 0&#125;, &#123;78, 73, 65, 78, 0, 0&#125;, &#123;78, 73, 65, 78, 71, 0&#125;, &#123;78, 73, 65, 79, 0, 0&#125;, &#123;78, 73, 69, 0, 0, 0&#125;, &#123;78, 73, 78, 0, 0, 0&#125;, &#123;78, 73, 78, 71, 0, 0&#125;, &#123;78, 73, 85, 0, 0, 0&#125;, &#123;78, 79, 78, 71, 0, 0&#125;, &#123;78, 79, 85, 0, 0, 0&#125;, &#123;78, 85, 0, 0, 0, 0&#125;, &#123;78, 85, 65, 78, 0, 0&#125;, &#123;78, 85, 69, 0, 0, 0&#125;, &#123;78, 85, 78, 0, 0, 0&#125;, &#123;78, 85, 79, 0, 0, 0&#125;, &#123;79, 0, 0, 0, 0, 0&#125;, &#123;79, 85, 0, 0, 0, 0&#125;, &#123;80, 65, 0, 0, 0, 0&#125;, &#123;80, 65, 73, 0, 0, 0&#125;, &#123;80, 65, 78, 0, 0, 0&#125;, &#123;80, 65, 78, 71, 0, 0&#125;, &#123;80, 65, 79, 0, 0, 0&#125;, &#123;80, 69, 73, 0, 0, 0&#125;, &#123;80, 69, 78, 0, 0, 0&#125;, &#123;80, 69, 78, 71, 0, 0&#125;, &#123;80, 73, 0, 0, 0, 0&#125;, &#123;80, 73, 65, 78, 0, 0&#125;, &#123;80, 73, 65, 79, 0, 0&#125;, &#123;80, 73, 69, 0, 0, 0&#125;, &#123;80, 73, 78, 0, 0, 0&#125;, &#123;80, 73, 78, 71, 0, 0&#125;, &#123;80, 79, 0, 0, 0, 0&#125;, &#123;80, 79, 85, 0, 0, 0&#125;, &#123;80, 85, 0, 0, 0, 0&#125;, &#123;81, 73, 0, 0, 0, 0&#125;, &#123;81, 73, 65, 0, 0, 0&#125;, &#123;81, 73, 65, 78, 0, 0&#125;, &#123;81, 73, 65, 78, 71, 0&#125;, &#123;81, 73, 65, 79, 0, 0&#125;, &#123;81, 73, 69, 0, 0, 0&#125;, &#123;81, 73, 78, 0, 0, 0&#125;, &#123;81, 73, 78, 71, 0, 0&#125;, &#123;81, 73, 79, 78, 71, 0&#125;, &#123;81, 73, 85, 0, 0, 0&#125;, &#123;81, 85, 0, 0, 0, 0&#125;, &#123;81, 85, 65, 78, 0, 0&#125;, &#123;81, 85, 69, 0, 0, 0&#125;, &#123;81, 85, 78, 0, 0, 0&#125;, &#123;82, 65, 78, 0, 0, 0&#125;, &#123;82, 65, 78, 71, 0, 0&#125;, &#123;82, 65, 79, 0, 0, 0&#125;, &#123;82, 69, 0, 0, 0, 0&#125;, &#123;82, 69, 78, 0, 0, 0&#125;, &#123;82, 69, 78, 71, 0, 0&#125;, &#123;82, 73, 0, 0, 0, 0&#125;, &#123;82, 79, 78, 71, 0, 0&#125;, &#123;82, 79, 85, 0, 0, 0&#125;, &#123;82, 85, 0, 0, 0, 0&#125;, &#123;82, 85, 65, 0, 0, 0&#125;, &#123;82, 85, 65, 78, 0, 0&#125;, &#123;82, 85, 73, 0, 0, 0&#125;, &#123;82, 85, 78, 0, 0, 0&#125;, &#123;82, 85, 79, 0, 0, 0&#125;, &#123;83, 65, 0, 0, 0, 0&#125;, &#123;83, 65, 73, 0, 0, 0&#125;, &#123;83, 65, 78, 0, 0, 0&#125;, &#123;83, 65, 78, 71, 0, 0&#125;, &#123;83, 65, 79, 0, 0, 0&#125;, &#123;83, 69, 0, 0, 0, 0&#125;, &#123;83, 69, 78, 0, 0, 0&#125;, &#123;83, 69, 78, 71, 0, 0&#125;, &#123;83, 72, 65, 0, 0, 0&#125;, &#123;83, 72, 65, 73, 0, 0&#125;, &#123;83, 72, 65, 78, 0, 0&#125;, &#123;83, 72, 65, 78, 71, 0&#125;, &#123;83, 72, 65, 79, 0, 0&#125;, &#123;83, 72, 69, 0, 0, 0&#125;, &#123;83, 72, 69, 78, 0, 0&#125;, &#123;88, 73, 78, 0, 0, 0&#125;, &#123;83, 72, 69, 78, 0, 0&#125;, &#123;83, 72, 69, 78, 71, 0&#125;, &#123;83, 72, 73, 0, 0, 0&#125;, &#123;83, 72, 79, 85, 0, 0&#125;, &#123;83, 72, 85, 0, 0, 0&#125;, &#123;83, 72, 85, 65, 0, 0&#125;, &#123;83, 72, 85, 65, 73, 0&#125;, &#123;83, 72, 85, 65, 78, 0&#125;, &#123;83, 72, 85, 65, 78, 71&#125;, &#123;83, 72, 85, 73, 0, 0&#125;, &#123;83, 72, 85, 78, 0, 0&#125;, &#123;83, 72, 85, 79, 0, 0&#125;, &#123;83, 73, 0, 0, 0, 0&#125;, &#123;83, 79, 78, 71, 0, 0&#125;, &#123;83, 79, 85, 0, 0, 0&#125;, &#123;83, 85, 0, 0, 0, 0&#125;, &#123;83, 85, 65, 78, 0, 0&#125;, &#123;83, 85, 73, 0, 0, 0&#125;, &#123;83, 85, 78, 0, 0, 0&#125;, &#123;83, 85, 79, 0, 0, 0&#125;, &#123;84, 65, 0, 0, 0, 0&#125;, &#123;84, 65, 73, 0, 0, 0&#125;, &#123;84, 65, 78, 0, 0, 0&#125;, &#123;84, 65, 78, 71, 0, 0&#125;, &#123;84, 65, 79, 0, 0, 0&#125;, &#123;84, 69, 0, 0, 0, 0&#125;, &#123;84, 69, 78, 71, 0, 0&#125;, &#123;84, 73, 0, 0, 0, 0&#125;, &#123;84, 73, 65, 78, 0, 0&#125;, &#123;84, 73, 65, 79, 0, 0&#125;, &#123;84, 73, 69, 0, 0, 0&#125;, &#123;84, 73, 78, 71, 0, 0&#125;, &#123;84, 79, 78, 71, 0, 0&#125;, &#123;84, 79, 85, 0, 0, 0&#125;, &#123;84, 85, 0, 0, 0, 0&#125;, &#123;84, 85, 65, 78, 0, 0&#125;, &#123;84, 85, 73, 0, 0, 0&#125;, &#123;84, 85, 78, 0, 0, 0&#125;, &#123;84, 85, 79, 0, 0, 0&#125;, &#123;87, 65, 0, 0, 0, 0&#125;, &#123;87, 65, 73, 0, 0, 0&#125;, &#123;87, 65, 78, 0, 0, 0&#125;, &#123;87, 65, 78, 71, 0, 0&#125;, &#123;87, 69, 73, 0, 0, 0&#125;, &#123;87, 69, 78, 0, 0, 0&#125;, &#123;87, 69, 78, 71, 0, 0&#125;, &#123;87, 79, 0, 0, 0, 0&#125;, &#123;87, 85, 0, 0, 0, 0&#125;, &#123;88, 73, 0, 0, 0, 0&#125;, &#123;88, 73, 65, 0, 0, 0&#125;, &#123;88, 73, 65, 78, 0, 0&#125;, &#123;88, 73, 65, 78, 71, 0&#125;, &#123;88, 73, 65, 79, 0, 0&#125;, &#123;88, 73, 69, 0, 0, 0&#125;, &#123;88, 73, 78, 0, 0, 0&#125;, &#123;88, 73, 78, 71, 0, 0&#125;, &#123;88, 73, 79, 78, 71, 0&#125;, &#123;88, 73, 85, 0, 0, 0&#125;, &#123;88, 85, 0, 0, 0, 0&#125;, &#123;88, 85, 65, 78, 0, 0&#125;, &#123;88, 85, 69, 0, 0, 0&#125;, &#123;88, 85, 78, 0, 0, 0&#125;, &#123;89, 65, 0, 0, 0, 0&#125;, &#123;89, 65, 78, 0, 0, 0&#125;, &#123;89, 65, 78, 71, 0, 0&#125;, &#123;89, 65, 79, 0, 0, 0&#125;, &#123;89, 69, 0, 0, 0, 0&#125;, &#123;89, 73, 0, 0, 0, 0&#125;, &#123;89, 73, 78, 0, 0, 0&#125;, &#123;89, 73, 78, 71, 0, 0&#125;, &#123;89, 79, 0, 0, 0, 0&#125;, &#123;89, 79, 78, 71, 0, 0&#125;, &#123;89, 79, 85, 0, 0, 0&#125;, &#123;89, 85, 0, 0, 0, 0&#125;, &#123;89, 85, 65, 78, 0, 0&#125;, &#123;89, 85, 69, 0, 0, 0&#125;, &#123;89, 85, 78, 0, 0, 0&#125;, &#123;74, 85, 78, 0, 0, 0&#125;, &#123;89, 85, 78, 0, 0, 0&#125;, &#123;90, 65, 0, 0, 0, 0&#125;, &#123;90, 65, 73, 0, 0, 0&#125;, &#123;90, 65, 78, 0, 0, 0&#125;, &#123;90, 65, 78, 71, 0, 0&#125;, &#123;90, 65, 79, 0, 0, 0&#125;, &#123;90, 69, 0, 0, 0, 0&#125;, &#123;90, 69, 73, 0, 0, 0&#125;, &#123;90, 69, 78, 0, 0, 0&#125;, &#123;90, 69, 78, 71, 0, 0&#125;, &#123;90, 72, 65, 0, 0, 0&#125;, &#123;90, 72, 65, 73, 0, 0&#125;, &#123;90, 72, 65, 78, 0, 0&#125;, &#123;90, 72, 65, 78, 71, 0&#125;, &#123;67, 72, 65, 78, 71, 0&#125;, &#123;90, 72, 65, 78, 71, 0&#125;, &#123;90, 72, 65, 79, 0, 0&#125;, &#123;90, 72, 69, 0, 0, 0&#125;, &#123;90, 72, 69, 78, 0, 0&#125;, &#123;90, 72, 69, 78, 71, 0&#125;, &#123;90, 72, 73, 0, 0, 0&#125;, &#123;83, 72, 73, 0, 0, 0&#125;, &#123;90, 72, 73, 0, 0, 0&#125;, &#123;90, 72, 79, 78, 71, 0&#125;, &#123;90, 72, 79, 85, 0, 0&#125;, &#123;90, 72, 85, 0, 0, 0&#125;, &#123;90, 72, 85, 65, 0, 0&#125;, &#123;90, 72, 85, 65, 73, 0&#125;, &#123;90, 72, 85, 65, 78, 0&#125;, &#123;90, 72, 85, 65, 78, 71&#125;, &#123;90, 72, 85, 73, 0, 0&#125;, &#123;90, 72, 85, 78, 0, 0&#125;, &#123;90, 72, 85, 79, 0, 0&#125;, &#123;90, 73, 0, 0, 0, 0&#125;, &#123;90, 79, 78, 71, 0, 0&#125;, &#123;90, 79, 85, 0, 0, 0&#125;, &#123;90, 85, 0, 0, 0, 0&#125;, &#123;90, 85, 65, 78, 0, 0&#125;, &#123;90, 85, 73, 0, 0, 0&#125;, &#123;90, 85, 78, 0, 0, 0&#125;, &#123;90, 85, 79, 0, 0, 0&#125;, &#123;0, 0, 0, 0, 0, 0&#125;, &#123;83, 72, 65, 78, 0, 0&#125;, &#123;0, 0, 0, 0, 0, 0&#125;,&#125;; /** * First and last Chinese character with known Pinyin according to zh collation */ private static final String FIRST_PINYIN_UNIHAN = "\u963F"; private static final String LAST_PINYIN_UNIHAN = "\u9FFF"; private static final Collator COLLATOR = Collator.getInstance(Locale.CHINA); private static PinyinHelper sInstance; private final boolean mHasChinaCollator; public static class Token &#123; /** * Separator between target string for each source char */ public static final String SEPARATOR = " "; public static final int LATIN = 1; public static final int PINYIN = 2; public static final int UNKNOWN = 3; public Token() &#123; &#125; public Token(int type, String source, String target) &#123; this.type = type; this.source = source; this.target = target; &#125; /** * Type of this token, ASCII, PINYIN or UNKNOWN. */ public int type; /** * Original string before translation. */ public String source; /** * Translated string of source. For Han, target is corresponding Pinyin. Otherwise target is * original string in source. */ public String target; &#125; protected PinyinHelper(boolean hasChinaCollator) &#123; mHasChinaCollator = hasChinaCollator; &#125; public static PinyinHelper get() &#123; synchronized (PinyinHelper.class) &#123; if (sInstance != null) &#123; return sInstance; &#125; final Locale locale[] = Collator.getAvailableLocales(); for (int i = 0; i &lt; locale.length; i++) &#123; if (locale[i].equals(Locale.CHINA)) &#123; // Do self validation just once. if (DEBUG) &#123; Log.d(TAG, "Self validation. Result: " + doSelfValidation()); &#125; sInstance = new PinyinHelper(true); return sInstance; &#125; &#125; sInstance = new PinyinHelper(true); return sInstance; &#125; &#125; private static boolean doSelfValidation() &#123; char lastChar = UNIHANS[0]; String lastString = Character.toString(lastChar); for (char c : UNIHANS) &#123; if (lastChar == c) &#123; continue; &#125; final String curString = Character.toString(c); int cmp = COLLATOR.compare(lastString, curString); if (cmp &gt;= 0) &#123; return false; &#125; lastString = curString; &#125; return true; &#125; private Token getToken(char character) &#123; Token token = new Token(); final String letter = Character.toString(character); token.source = letter; int offset = -1; int cmp; if (character &lt; 256) &#123; token.type = Token.LATIN; token.target = letter; return token; &#125; else &#123; cmp = COLLATOR.compare(letter, FIRST_PINYIN_UNIHAN); if (cmp &lt; 0) &#123; token.type = Token.UNKNOWN; token.target = letter; return token; &#125; else if (cmp == 0) &#123; token.type = Token.PINYIN; offset = 0; &#125; else &#123; cmp = COLLATOR.compare(letter, LAST_PINYIN_UNIHAN); if (cmp &gt; 0) &#123; token.type = Token.UNKNOWN; token.target = letter; return token; &#125; else if (cmp == 0) &#123; token.type = Token.PINYIN; offset = UNIHANS.length - 1; &#125; &#125; &#125; token.type = Token.PINYIN; if (offset &lt; 0) &#123; int begin = 0; int end = UNIHANS.length - 1; while (begin &lt;= end) &#123; offset = (begin + end) / 2; final String unihan = Character.toString(UNIHANS[offset]); cmp = COLLATOR.compare(letter, unihan); if (cmp == 0) &#123; break; &#125; else if (cmp &gt; 0) &#123; begin = offset + 1; &#125; else &#123; end = offset - 1; &#125; &#125; &#125; if (cmp &lt; 0) &#123; offset--; &#125; StringBuilder pinyin = new StringBuilder(); for (int j = 0; j &lt; PINYINS[offset].length &amp;&amp; PINYINS[offset][j] != 0; j++) &#123; pinyin.append((char) PINYINS[offset][j]); &#125; token.target = pinyin.toString(); if (TextUtils.isEmpty(token.target)) &#123; token.type = Token.UNKNOWN; token.target = token.source; &#125; return token; &#125; private ArrayList&lt;Token&gt; get(final String input) &#123; ArrayList&lt;Token&gt; tokens = new ArrayList&lt;Token&gt;(); if (!mHasChinaCollator || TextUtils.isEmpty(input)) &#123; // return empty tokens. return tokens; &#125; final int inputLength = input.length(); final StringBuilder sb = new StringBuilder(); int tokenType = Token.LATIN; for (int i = 0; i &lt; inputLength; i++) &#123; final char character = input.charAt(i); if (character == ' ') &#123; if (sb.length() &gt; 0) &#123; addToken(sb, tokens, tokenType); &#125; &#125; else if (character &lt; 256) &#123; if (tokenType != Token.LATIN &amp;&amp; sb.length() &gt; 0) &#123; addToken(sb, tokens, tokenType); &#125; tokenType = Token.LATIN; sb.append(character); &#125; else &#123; Token t = getToken(character); if (t.type == Token.PINYIN) &#123; if (sb.length() &gt; 0) &#123; addToken(sb, tokens, tokenType); &#125; tokens.add(t); tokenType = Token.PINYIN; &#125; else &#123; if (tokenType != t.type &amp;&amp; sb.length() &gt; 0) &#123; addToken(sb, tokens, tokenType); &#125; tokenType = t.type; sb.append(character); &#125; &#125; &#125; if (sb.length() &gt; 0) &#123; addToken(sb, tokens, tokenType); &#125; return tokens; &#125; private void addToken( final StringBuilder sb, final ArrayList&lt;Token&gt; tokens, final int tokenType) &#123; String str = sb.toString(); tokens.add(new Token(tokenType, str, str)); sb.setLength(0); &#125; /** * ÂîØ‰∏ÄÂÖ¨ÂºÄÁöÑÊñπÊ≥ï * * @param input ËæìÂÖ•ÁöÑÊñáÂ≠ó * @return ËøîÂõûÁöÑÊ±âÂ≠óÂ∞Ü‰ºöËΩ¨Âåñ‰∏∫Â§ßÂÜôËã±Êñá, Â¶ÇÊûúÊòØËã±ÊñáÂ∞Ü‰ºöÂéüÊ†∑ËøîÂõû */ public String getPinYin(String input) &#123; ArrayList&lt;Token&gt; tokens = get(input); StringBuilder sb = new StringBuilder(); if (tokens != null &amp;&amp; tokens.size() &gt; 0) &#123; for (Token token : tokens) &#123; if (Token.PINYIN == token.type) &#123; sb.append(token.target); &#125; else &#123; sb.append(token.source); &#125; &#125; &#125; return sb.toString(); &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁ≥ªÁªüÂàÜ‰∫´ÁöÑÊ≥®ÂÜåÂíåË∞ÉËµ∑]]></title>
    <url>%2Farticle%2F3733894393%2F</url>
    <content type="text"><![CDATA[Á≥ªÁªüÁõ∏ÂÜåÁÖßÁâáÈïøÊåâÊó∂‰ºöÂºπÂá∫ÂàÜ‰∫´ÂèëÈÄÅÈÄâÈ°πÔºåÂèØ‰ª•ÈÄâÊã©ÂàÜ‰∫´Âà∞QQÔºåÂæÆ‰ø°Á≠âÔºåÊú¨Êñá‰∏ªË¶Å‰ªãÁªçÔºö Â¶Ç‰ΩïÂ∞ÜËá™Â∑±ÁöÑÂ∫îÁî®Ê≥®ÂÜåÂà∞Á≥ªÁªüÂàÜ‰∫´‰∏≠Ôºå‰ΩøÁî®Êà∑ÂèØ‰ª•Â∞ÜÁÖßÁâáËßÜÈ¢ëÊñá‰ª∂Á≠âÂèëÈÄÅÂà∞Ëá™Â∑±ÁöÑÂ∫îÁî®‰∏≠„ÄÇ Â¶Ç‰ΩïÊé•ÂèóËß£ÊûêÁ≥ªÁªüÂàÜ‰∫´ÂèëÈÄÅËøáÊù•ÁöÑÊï∞ÊçÆ„ÄÇ Â¶Ç‰ΩïÂî§ÈÜíÁ≥ªÁªüÂàÜ‰∫´ÔºåÂàÜ‰∫´ÁÖßÁâáËßÜÈ¢ëÊñá‰ª∂Âà∞Âà´ÁöÑÂ∫îÁî®„ÄÇ Ê≥®ÂÜåÁ≥ªÁªüÁöÑÂàÜ‰∫´ÈúÄË¶ÅÂú® AndroidManifest.xml Êñá‰ª∂Â£∞Êòé &lt;intent-filter&gt;Ôºå‰ΩøÂæó‰Ω†ÂèØ‰ª•Âú®Áî®Êà∑ÁÇπÂáªÂàÜ‰∫´/ÂèëÈÄÅÊåâÈíÆÊó∂Ë∞ÉËµ∑‰Ω†ÁöÑÂ∫îÁî®ÔºåÂ∞ÜÂõæÁâáÂíåÊñáÂ≠óÁ≠âÂàÜ‰∫´Âà∞‰Ω†ÁöÑApp„ÄÇ ÂÖ≥‰∫é mimeType ÁöÑÁõ∏ÂÖ≥Á±ªÂûãÔºåËØ∑Êü•Áúã MimeUtils.java Êñá‰ª∂„ÄÇ 12345678910111213141516171819&lt;activity android:name=".activity.HandleShareActivity"&gt; &lt;intent-filter&gt; &lt;!--Êé•ÂèóÂçï‰∏™Êñá‰ª∂ÂàÜ‰∫´--&gt; &lt;action android:name="android.intent.action.SEND"/&gt; &lt;!--Êé•ÂèóÂ§ö‰∏™Êñá‰ª∂ÂàÜ‰∫´--&gt; &lt;action android:name="android.intent.action.SEND_MULTIPLE"/&gt; &lt;category android:name="android.intent.category.DEFAULT"/&gt; &lt;!--Êé•ÂèóÂõæÁâáÁ±ªÊñá‰ª∂ÂàÜ‰∫´ image/jpeg" "image/bmp" "image/gif" "image/jpg" "image/png"--&gt; &lt;data android:mimeType="image/*"/&gt; &lt;!--Êé•ÂèóÊñáÊú¨ÂàÜ‰∫´ text/plain--&gt; &lt;data android:mimeType="text/*"/&gt; &lt;!--Êé•ÂèóËßÜÈ¢ëÂàÜ‰∫´ video/wav video/mp4--&gt; &lt;data android:mimeType="video/*"/&gt; &lt;!--Êé•ÂèóÂ£∞Èü≥Êñá‰ª∂ÂàÜ‰∫´--&gt; &lt;data android:mimeType="audio/*"/&gt; &lt;!--Êé•ÂèóÂéãÁº©Êñá‰ª∂ÂíåÂÖ∂‰ªñÂêÑÁßçÊñá‰ª∂ÂàÜ‰∫´--&gt; &lt;data android:mimeType="application/*"/&gt; &lt;/intent-filter&gt;&lt;/activity&gt; Êé•ÂèóÂàÜ‰∫´ÁöÑÊï∞ÊçÆÂΩìÁõ¥Êé•ÈïøÊåâÈÄâ‰∏≠Êüê‰∫õÊñáÊú¨ÂàÜ‰∫´Êó∂ÊãøÂà∞ÁöÑÊï∞ÊçÆÊúâ‰∫õ‰∏ç‰∏ÄÊ†∑ÔºåÊòØÂ≠òÂÇ®Âú® Intent.EXTRA_TEXT ‰∏≠ÁöÑÔºåÂõ†Ê≠§ÂçïÁã¨Â§ÑÁêÜ‰∏Ä‰∏ã„ÄÇ 12345678910111213141516171819/** * Â§ÑÁêÜÂàÜ‰∫´È°µÈù¢ÂèëÊù•ÁöÑintent */public static void handleIntent(Activity context) &#123; Intent intent = context.getIntent(); String type = intent.getType(); if (type == null) return; // ÂΩìÊñá‰ª∂Ê†ºÂºèÊó†Ê≥ïËØÜÂà´ÊàñÈÄâÊã©‰∫ÜÂ§öÁßçÁ±ªÂûãÁöÑÊñá‰ª∂Êó∂Ôºåtype‰ºöÂèòÊàê */* LogUtils.e("type " + type); //typeÂèØËÉΩ‰∏∫ÁöÑÁ±ªÂûãÊòØ image/* | video/* | audio/* | text/* | application/* | */* if (type.startsWith("text") &amp;&amp; intent.getStringExtra(Intent.EXTRA_TEXT) != null) &#123; // ÂΩìÁõ¥Êé•ÈÄâ‰∏≠ÊñáÊú¨ÂàÜ‰∫´Êó∂Ôºå‰ºöÂ≠òÊîæÂú®EXTRA_TEXTÈáåÈù¢ÔºåÈÄâÊã©ÊñáÊú¨Êñá‰ª∂Êó∂Ôºå‰ªçÁÑ∂Â≠òÊîæÂú®EXTRA_STREAMÈáåÈù¢ LogUtils.e("Ëé∑ÂèñÂà∞ÂàÜ‰∫´ÁöÑÊñáÊú¨ " + intent.getStringExtra(Intent.EXTRA_TEXT)); &#125; else &#123; List&lt;String&gt; sharePaths = getSharePaths(context, intent); LogUtils.e("Ëé∑ÂèñÂà∞ÂàÜ‰∫´ÁöÑÊñá‰ª∂ÁöÑË∑ØÂæÑ " + sharePaths.toString()); &#125;&#125; Âå∫ÂàÜÂ§ö‰∏™Êñá‰ª∂ÂíåÂçï‰∏™Êñá‰ª∂ÂàÜ‰∫´ÔºåËé∑ÂèñÂàÜ‰∫´ËøáÊù•ÁöÑË∑ØÂæÑÂàóË°® 123456789101112131415161718192021222324252627282930/** * Ëé∑ÂèñÂàÜ‰∫´ËøáÊù•ÁöÑË∑ØÂæÑ * * @param context ‰∏ä‰∏ãÊñá * @param intent intent * @return Ë∑ØÂæÑÂàóË°® */private static List&lt;String&gt; getSharePaths(Context context, Intent intent) &#123; String action = intent.getAction(); List&lt;String&gt; paths = new ArrayList&lt;&gt;(); // Âçï‰∏™Êñá‰ª∂ if (Intent.ACTION_SEND.equals(action)) &#123; Uri imageUri = intent.getParcelableExtra(Intent.EXTRA_STREAM); if (imageUri != null) &#123; String realPathFromURI = getRealPathFromURI(context, imageUri); if (realPathFromURI != null) paths.add(realPathFromURI); &#125; &#125; // Â§ö‰∏™Êñá‰ª∂ else if (Intent.ACTION_SEND_MULTIPLE.equals(action)) &#123; ArrayList&lt;Uri&gt; imageUris = intent.getParcelableArrayListExtra(Intent.EXTRA_STREAM); if (imageUris != null) &#123; for (Uri uri : imageUris) &#123; paths.add(getRealPathFromURI(context, uri)); &#125; &#125; &#125; return paths;&#125; Â¶Ç‰Ωï‰ªé uri ‰∏≠Ëé∑ÂèñÂ≠òÂÇ®Ë∑ØÂæÑÔºåÂ∞Ü uri ËøõË°åËΩ¨Êç¢„ÄÇ 123456789101112131415161718192021222324252627/** * ‰ªéuriËé∑Âèñpath * * @param uri uri * @return path */private static String getRealPathFromURI(Context context, Uri uri) &#123; final String scheme = uri.getScheme(); String data = null; if (ContentResolver.SCHEME_FILE.equals(scheme)) &#123; data = uri.getPath(); &#125; else if (ContentResolver.SCHEME_CONTENT.equals(scheme)) &#123; Cursor cursor = context.getContentResolver() .query(uri, new String[]&#123;MediaStore.Images.ImageColumns.DATA&#125; , null, null, null); if (null != cursor) &#123; if (cursor.moveToFirst()) &#123; int index = cursor.getColumnIndex(MediaStore.Images.ImageColumns.DATA) if (index &gt; -1) &#123; data = cursor.getString(index); &#125; &#125; cursor.close(); &#125; &#125; return data;&#125; Âî§ÈÜíÁ≥ªÁªüÂàÜ‰∫´12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152/** * ÂàÜ‰∫´ÊñáÂ≠ó * * @param context ‰∏ä‰∏ãÊñá * @param title ÊñáÂ≠óÊ†áÈ¢ò * @param content ÊñáÂ≠óÂÜÖÂÆπ */public static void shareText(Context context, String title, String content) &#123; Intent shareIntent = new Intent(); shareIntent.setAction(Intent.ACTION_SEND); shareIntent.putExtra(Intent.EXTRA_TEXT, content); shareIntent.putExtra(Intent.EXTRA_TITLE, title); shareIntent.setType("text/plain"); //ËÆæÁΩÆÂàÜ‰∫´ÂàóË°®ÁöÑÊ†áÈ¢òÔºåÂπ∂‰∏îÊØèÊ¨°ÈÉΩÊòæÁ§∫ÂàÜ‰∫´ÂàóË°® context.startActivity(Intent.createChooser(shareIntent, "ÂàÜ‰∫´Âà∞"));&#125;/** * ÂàÜ‰∫´ÂçïÂº†ÂõæÁâá * * @param context ‰∏ä‰∏ãÊñá * @param path ÂõæÁâáÁöÑË∑ØÂæÑ */public static void shareImage(Context context, String path) &#123; //Áî±Êñá‰ª∂ÂæóÂà∞uri Uri imageUri = Uri.fromFile(new File(path)); Intent shareIntent = new Intent(); shareIntent.setAction(Intent.ACTION_SEND); shareIntent.putExtra(Intent.EXTRA_STREAM, imageUri); shareIntent.setType("image/*"); context.startActivity(Intent.createChooser(shareIntent, "ÂàÜ‰∫´Âà∞"));&#125;/** * ÂàÜ‰∫´Â§öÂº†ÂõæÁâá * * @param context ‰∏ä‰∏ãÊñá * @param paths Ë∑ØÂæÑÁöÑÈõÜÂêà */public static void shareImages(Context context, List&lt;String&gt; paths) &#123; ArrayList&lt;Uri&gt; uriList = new ArrayList&lt;&gt;(); for (String path : paths) &#123; uriList.add(Uri.fromFile(new File(path))); &#125; Intent shareIntent = new Intent(); shareIntent.setAction(Intent.ACTION_SEND_MULTIPLE); shareIntent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uriList); shareIntent.setType("image/*"); context.startActivity(Intent.createChooser(shareIntent, "ÂàÜ‰∫´Âà∞"));&#125; ÈôÑÊ∫êÁ†Å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141/** * CreateAt : 16/8/13 * Describe : Âî§ÈÜíÁ≥ªÁªüÂàÜ‰∫´ * * @author chendong */public class ShareUtils &#123; /** * ÂàÜ‰∫´ÊñáÂ≠ó * * @param context ‰∏ä‰∏ãÊñá * @param title ÊñáÂ≠óÊ†áÈ¢ò * @param content ÊñáÂ≠óÂÜÖÂÆπ */ public static void shareText(Context context, String title, String content) &#123; Intent shareIntent = new Intent(); shareIntent.setAction(Intent.ACTION_SEND); shareIntent.putExtra(Intent.EXTRA_TEXT, content); shareIntent.putExtra(Intent.EXTRA_TITLE, title); shareIntent.setType("text/plain"); //ËÆæÁΩÆÂàÜ‰∫´ÂàóË°®ÁöÑÊ†áÈ¢òÔºåÂπ∂‰∏îÊØèÊ¨°ÈÉΩÊòæÁ§∫ÂàÜ‰∫´ÂàóË°® context.startActivity(Intent.createChooser(shareIntent, "ÂàÜ‰∫´Âà∞")); &#125; /** * ÂàÜ‰∫´ÂçïÂº†ÂõæÁâá * * @param context ‰∏ä‰∏ãÊñá * @param path ÂõæÁâáÁöÑË∑ØÂæÑ */ public static void shareImage(Context context, String path) &#123; //Áî±Êñá‰ª∂ÂæóÂà∞uri Uri imageUri = Uri.fromFile(new File(path)); Intent shareIntent = new Intent(); shareIntent.setAction(Intent.ACTION_SEND); shareIntent.putExtra(Intent.EXTRA_STREAM, imageUri); shareIntent.setType("image/*"); context.startActivity(Intent.createChooser(shareIntent, "ÂàÜ‰∫´Âà∞")); &#125; /** * ÂàÜ‰∫´Â§öÂº†ÂõæÁâá * * @param context ‰∏ä‰∏ãÊñá * @param paths Ë∑ØÂæÑÁöÑÈõÜÂêà */ public static void shareImages(Context context, List&lt;String&gt; paths) &#123; ArrayList&lt;Uri&gt; uriList = new ArrayList&lt;&gt;(); for (String path : paths) &#123; uriList.add(Uri.fromFile(new File(path))); &#125; Intent shareIntent = new Intent(); shareIntent.setAction(Intent.ACTION_SEND_MULTIPLE); shareIntent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uriList); shareIntent.setType("image/*"); context.startActivity(Intent.createChooser(shareIntent, "ÂàÜ‰∫´Âà∞")); &#125; /** * Â§ÑÁêÜÂàÜ‰∫´È°µÈù¢ÂèëÊù•ÁöÑintent */ public static void handleIntent(Activity context) &#123; Intent intent = context.getIntent(); String type = intent.getType(); if (type == null) return; // ÂΩìÊñá‰ª∂Ê†ºÂºèÊó†Ê≥ïËØÜÂà´ÊàñÈÄâÊã©‰∫ÜÂ§öÁßçÁ±ªÂûãÁöÑÊñá‰ª∂Êó∂Ôºåtype‰ºöÂèòÊàê */* LogUtils.e("type " + type); //typeÂèØËÉΩ‰∏∫ÁöÑÁ±ªÂûãÊòØ image/* | video/* | audio/* | text/* | application/* if (type.startsWith("text") &amp;&amp; intent.getStringExtra(Intent.EXTRA_TEXT) != null) &#123; // ÂΩìÁõ¥Êé•ÈÄâ‰∏≠ÊñáÊú¨ÂàÜ‰∫´Êó∂Ôºå‰ºöÂ≠òÊîæÂú®EXTRA_TEXTÈáåÈù¢ÔºåÈÄâÊã©ÊñáÊú¨Êñá‰ª∂Êó∂Ôºå‰ªçÁÑ∂Â≠òÊîæÂú®EXTRA_STREAMÈáåÈù¢ LogUtils.e("Ëé∑ÂèñÂà∞ÂàÜ‰∫´ÁöÑÊñáÊú¨ " + intent.getStringExtra(Intent.EXTRA_TEXT)); &#125; else &#123; List&lt;String&gt; sharePaths = getSharePaths(context, intent); LogUtils.e("Ëé∑ÂèñÂà∞ÂàÜ‰∫´ÁöÑÊñá‰ª∂ÁöÑË∑ØÂæÑ " + sharePaths.toString()); &#125; &#125; /** * Ëé∑ÂèñÂàÜ‰∫´ËøáÊù•ÁöÑË∑ØÂæÑ * * @param context ‰∏ä‰∏ãÊñá * @param intent intent * @return Ë∑ØÂæÑÂàóË°® */ private static List&lt;String&gt; getSharePaths(Context context, Intent intent) &#123; String action = intent.getAction(); List&lt;String&gt; paths = new ArrayList&lt;&gt;(); // Âçï‰∏™Êñá‰ª∂ if (Intent.ACTION_SEND.equals(action)) &#123; Uri imageUri = intent.getParcelableExtra(Intent.EXTRA_STREAM); if (imageUri != null) &#123; String realPathFromURI = getRealPathFromURI(context, imageUri); if (realPathFromURI != null) paths.add(realPathFromURI); &#125; &#125; // Â§ö‰∏™Êñá‰ª∂ else if (Intent.ACTION_SEND_MULTIPLE.equals(action)) &#123; ArrayList&lt;Uri&gt; imageUris = intent.getParcelableArrayListExtra(Intent.EXTRA_STREAM); if (imageUris != null) &#123; for (Uri uri : imageUris) &#123; paths.add(getRealPathFromURI(context, uri)); &#125; &#125; &#125; return paths; &#125; /** * ‰ªéuriËé∑Âèñpath * * @param uri uri * @return path */ private static String getRealPathFromURI(Context context, Uri uri) &#123; final String scheme = uri.getScheme(); String data = null; if (ContentResolver.SCHEME_FILE.equals(scheme)) &#123; data = uri.getPath(); &#125; else if (ContentResolver.SCHEME_CONTENT.equals(scheme)) &#123; Cursor cursor = context.getContentResolver() .query(uri, new String[]&#123;MediaStore.Images.ImageColumns.DATA&#125; , null, null, null); if (null != cursor) &#123; if (cursor.moveToFirst()) &#123; int index = cursor.getColumnIndex(MediaStore.Images.ImageColumns.DATA); if (index &gt; -1) &#123; data = cursor.getString(index); &#125; &#125; cursor.close(); &#125; &#125; return data; &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÂÆö‰πâÊéß‰ª∂-ViewPagerÂπøÂëäÊùøËΩÆÊí≠]]></title>
    <url>%2Farticle%2F149273814%2F</url>
    <content type="text"><![CDATA[GitHub GitHubÂú∞ÂùÄ Gradle compile &#39;com.march.billboardview:billboardview:2.0.6-beta4&#39; xml ÈáåÈù¢‰ΩøÁî®12345678910111213xml ÈáåÈù¢‰ΩøÁî®&lt;com.march.billboardview.BillBoardView android:id="@+id/billboard" android:layout_width="match_parent" android:layout_height="250dp" board:isAutoRun="true" board:isLoopIt="true" board:intervalTime="2000" /&gt;Â±ûÊÄßÔºöisAutoRun:ÊòØ‰∏çÊòØËá™Âä®Êí≠ÊîæÔºå‰∏çÈúÄË¶ÅÊªëÂä®ÔºåÈªòËÆ§trueisLoopIt:ÊòØ‰∏çÊòØÊó†ÈôêÂæ™ÁéØÊí≠ÊîæÔºåÈªòËÆ§ÊòØtrueintervalTime:Êí≠ÊîæÈó¥ÈöîÊó∂Èó¥ÔºåÊØèÈöîÂ§öÈïøÊó∂Èó¥Ëµ∞‰∏ÄÈ°µ ÊûÑÂª∫ÂÆû‰Ωì12//ÂÆû‰ΩìÁ±ªÂÆûÁé∞Ëé∑ÂèñurlÂíåtitleÁöÑÊé•Âè£public class Demo implements BoardConfig&#123;&#125; ÂÆö‰πâÂä†ËΩΩÂ∑•ÂÖ∑1234567//ÂàùÂßãÂåñÂõæÁâáÂä†ËΩΩÁöÑÂ∑•ÂÖ∑,‰Ω†ÂèØ‰ª•Ëá™ÂÆö‰πâ‰ΩøÁî®PicassoËøòÊòØGlideÁ≠âÂõæÁâáÂä†ËΩΩÂ∫ìÂä†ËΩΩBillBoard.init(new BillBoard.BillLoadImg() &#123; @Override public void loadImg(Context context, String title, String url, ImageView imageView) &#123; imageView.setImageResource(Integer.parseInt(url)); &#125; &#125;); ‰ΩøÁî®SimpleBoardAdapter1234private BillBoardView billBoardView;private SimpleBoardAdapter&lt;Demo&gt; mBoardAdapter;mBoardAdapter = new SimpleBoardAdapter&lt;&gt;(getActivity(), demos);billBoardView.setAdapter(mBoardAdapter); ÈÖçÁΩÆBillBoardView123456789billBoardView .setAdapter(mBoardAdapter) .setSwipeRefreshLayout(sw) .click(new OnBoardClickListener() &#123; @Override public void clickBillBoard(int pos, BoardConfig b) &#123; Log.e(&quot;chendong&quot;, &quot;click pos &quot; + pos + &quot; title is &quot; + b.getTitle()); &#125; &#125;).show(); Êï∞ÊçÆÊõ¥Êñ∞1mBoardAdapter.notifyDataSetChanged(demos); ÂºÄÊîæÂÅúÊ≠¢ÂíåÂºÄÂßãÊí≠ÊîæÁöÑÊñπÊ≥ï12public void startPlay()public void stopPlay() SwipeRefreshLayoutÂÜ≤Á™Å ÂΩì‰∏éSwipeRefreshLayoutÂµåÂ•ó‰ΩøÁî®Êó∂ÔºåËß£ÂÜ≥SwipeRefreshLayoutÂÜ≤Á™Å 1public void setSwipeRefreshLayout(SwipeRefreshLayout sw) ËΩÆÊí≠Âä®ÁîªÂíåÊó∂Èó¥ ‰∏ãÈù¢ÊòØÂèØÈÄâÁöÑÊèíÂÄºÂô®,ÂèØËá™ÂÆö‰πâÊèíÂÄºÂô® 12//ËÆæÁΩÆÂä®ÁîªÁöÑÊñπÊ≥ïpublic BillBoardView setAnimation(int duration, Interpolator interpolator) ÊèíÂÄºÂô® ÊèèËø∞ new AccelerateInterpolator() ÂºÄÂßãÊÖ¢ÂêéÈù¢Âä†ÈÄü,Áî±‰∫éË∑ùÁ¶ªËæÉËøëÊïàÊûú‰∏çÊòéÊòæ,ÊúâÁÇπÂÉèÊòØÂåÄÈÄü new AccelerateDecelerateInterpolator() ‰∏§Â§¥ÈÄüÂ∫¶ÊÖ¢,‰∏≠Èó¥Âä†ÈÄü,Áî±‰∫éË∑ùÁ¶ªËæÉËøëÊïàÊûú‰∏çÊòéÊòæ,ÊúâÁÇπÂÉèÊòØÂåÄÈÄü new DecelerateInterpolator() ÂºÄÂßãÂø´ÂêéÈù¢ÊÖ¢,Áî±‰∫éË∑ùÁ¶ªËæÉËøëÊïàÊûú‰∏çÊòéÊòæ,ÊúâÁÇπÂÉèÊòØÂåÄÈÄü new BounceInterpolator() Âà∞ËææÊú´Â∞æË∑≥Ë∑ÉÂºπËµ∑ new AnticipateInterpolator() ÂÖàÁî©‰∏Ä‰∏ãÂú®ÁßªÂä® new AnticipateOvershootInterpolator() ÂÖàÁî©‰∏Ä‰∏ãÂà∞ËææÁªàÁÇπÂêéËøáÁïåÂú®ÂêéÈÄÄ new OvershootInterpolator() ËøáÁïåÂêéËøîÂõû new LinearInterpolator() Â∏∏ÈáèÂèòÈÄü new LinearOutSlowInInterpolator() ÂºÄÂßãÂø´ÂêéÈù¢ÊÖ¢ ÂÖ∂‰ªñAPI12345//BillBoardView//ÈáçÊñ∞ÂÆö‰πâViewPagerÁöÑÂ∞ÜÂÅúpublic void setOnBoardPageChangeListener(OnPageChangeListener onPageChangeListener)//Ëé∑ÂèñÂÜÖÈÉ®ÁöÑViewPagerpublic ViewPager getViewPager() BoardAdapter12345678//‰∏Ä‰∫õÂèòÈáèÔºå‰Ω†ÂèØ‰ª•Âú®Â≠êÁ±ª‰∏≠ËÆøÈóÆprotected Context mContext;protected int mLyRes;protected int preIndex = -1;//‰∏ä‰∏Ä‰∏™Ë¢´ÈÄâ‰∏≠ÁöÑprotected List&lt;B&gt; datas;protected boolean isLoop;protected View mRootView;protected BillBoardView mBoardView; Âü∫‰∫éSimpleBoardAdapter1234567891011121314//‰∏∫‰∫ÜÊñπ‰æø‰ΩøÁî®ÂÆö‰πâ‰∫ÜSimpleBoardAdapter//Ëé∑ÂèñTitleViewÁî®‰∫éÊîπÂèòÂ≠ó‰ΩìÔºåÈ¢úËâ≤ÔºåËÉåÊôØÔºåÊñáÂ≠óÂ§ßÂ∞èÁ≠âpublic TextView getTitleView()//Ëé∑ÂèñÂ∫ïÈÉ®Bar,Áî®‰∫éÊîπÂèòËÉåÊôØÔºåÈ´òÂ∫¶Á≠âpublic ViewGroup getBotLy()//Ëé∑ÂèñÂØºËà™Êù°public LinearLayout getGuideLy()//ËÆæÁΩÆÈÄâ‰∏≠ÂíåÊú™ÈÄâ‰∏≠ÁöÑËµÑÊ∫êpublic void setSelectRes(int selectRes, int unSelectRes)//ËÆæÁΩÆÊ†áÈ¢òÁöÑ‰ΩçÁΩÆPOS_LEFT = 0, POS_CENTER = 1, POS_RIGHT = 2public void setTitleGravity(int gravity)//ËÆæÁΩÆÂØºËà™Ê†èÁöÑ‰ΩçÁΩÆPOS_LEFT = 0, POS_CENTER = 1, POS_RIGHT = 2public void setGuideLyGravity(int gravity) Â¶Ç‰ΩïËá™ÂÆö‰πâAdapter12345678910111213141516171819202122232425262728293031//AdapterÂÅöÁöÑÂ∑•‰ΩúÊòØÔºåË¶ÜÁõñÂú®BillBoardView‰∏äÈù¢ÔºåÈöèÁùÄBillBoardViewÁöÑÂèòÂåñÔºå‰øÆÊîπUIpublic class MyAdapter extends BoardAdapter&lt;Demo&gt; &#123; public MyAdapter(Context mContext, List&lt;Demo&gt; datas) &#123; super(mContext, datas); &#125; //ËµÑÊ∫êID.È´òÂ∫¶Âª∫ËÆÆMatch_parent @Override protected int getLayoutId() &#123; return 0; &#125; //Ëé∑ÂèñÊéß‰ª∂ÔºåfindById()ÊàñËÄÖ‰∏Ä‰∫õÂàùÂßãÂåñÁöÑÊìç‰Ωú @Override protected void initAdapterViews() &#123; &#125; //ÂΩìÂàíÂà∞pos‰ΩçÁΩÆ„ÄÇÊõ¥ÊîπÁïåÈù¢ÊòæÁ§∫ @Override public void changeItemDisplay(int pos, Demo demo) &#123; &#125; //ÂΩìadapterËøûÊé•Âà∞billboardViewÊó∂ÔºåËß¶Âèë @Override public void onBillBoardViewAttached(BillBoardView billBoardView) &#123; super.onBillBoardViewAttached(billBoardView); &#125;&#125; ‰ºòÂåñ ÂΩì‰Ω†ÁöÑÈ°µÈù¢ÈÄÄÂá∫Êó∂,ÊöÇÂÆöËΩÆÊí≠Â∞ÜÊòØ‰ºòÂåñÁöÑ‰∏Ä‰∏™ÂæàÂ•ΩÈÄâÊã© 123456789101112131415161718@Overrideprotected void onResume() &#123; super.onResume(); if(billBoardView!=null) billBoardView.startPlay();&#125;@Overrideprotected void onDestroy() &#123; super.onDestroy(); billBoardView.stopPlay();&#125;@Overrideprotected void onPause() &#123; super.onPause(); billBoardView.stopPlay();&#125;]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SwiftÂü∫Á°ÄËØ≠Ê≥ï1]]></title>
    <url>%2Farticle%2F1996349588%2F</url>
    <content type="text"><![CDATA[‰ªé‰ªäÂ§©ÂºÄÂßãÂ≠¶‰π†SwiftÔºç2016-3-16Ôºõ ÂÖàÂ≠¶‰π†ÁÆÄÂçïËØ≠Ê≥ïÔºå‰∏çÊ∂âÂèäËØ¶ÁªÜAPI Swift 3.0Â∑≤ÁªèÁßªÈô§i++ÊñπÊ≥ïÔºåËØ∑‰ΩøÁî®i+=1 Âø´Êç∑ÈîÆ123456//Ê†ºÂºèÂåñ‰ª£Á†Å ctrl+i//Âà†Èô§‰∏ÄË°å command+delete//Ê≥®Èáä‰∏ÄË°åcommand+/ ‰∏Ä‰∫õÁêêÁ¢é1234567891011121314151617181920212223242526272829303132//swiftÊòØ‰∏ÄÈó®ÂÆâÂÖ®ÁöÑËØ≠Ë®Ä//‰∏çÊîØÊåÅÈöêÂºèÁ±ªÂûãËΩ¨Êç¢//‰∏çÊîØÊåÅÁ©∫ÂÄºÔºånilÊòØ‰∏ÄÁßçÂçïÁã¨ÁöÑÁ±ªÂûã//Êï∞ÊçÆÁ±ªÂûãÂêéÈù¢Â∏¶ÊúâÊï∞Â≠óÔºåË°®Á§∫‰ΩøÁî®Âá†‰ΩçÊù•Ë°®Á§∫ÔºåInt8ÊúÄÂ§ß‰∏∫127var int8:Int8print(Int8.max)//‰∫åËøõÂà∂ÔºåÂÖ´ËøõÂà∂Ôºå16ËøõÂà∂ÁöÑË°®Á§∫var two = 0b111var eight = 0o111var sixTeen = 0x111print("\(two) \(eight) \(sixTeen)")//‰∏ãÂàíÁ∫øË°®Á§∫ÂøΩÁï•,Êõ¥Ê∏ÖÊô∞ÁöÑÊï∞ÊçÆÂÆö‰πâÊñπÂºèvar bigNum = 1_000_000var _ = 100//ËΩªÈáèÁ∫ßÁöÑÊï∞ÊçÆËÅöÂêàÔºåÂÖÉÁªÑÔºåÂÖÉÁªÑÂèØ‰ª•Â≠òÂÇ®‰ªªÊÑèÁ±ªÂûãÁöÑÊï∞ÊçÆ//ÊåáÂÆöÁ±ªÂûãvar yuanzu0:(Int,String,Int,String) = (100,"0909",30,"222")print("\(yuanzu0.1)")//‰∏çÊåáÂÆöÁ±ªÂûãÔºå‰ΩøÁî®‰∏ãÊ†áËÆøÈóÆvar yuanzu1 = (100,"0909",30,"222")print("\(yuanzu1.1)")//Ê†áÂøó‰ΩçÔºåËÆøÈóÆvar yuanzu2 = (x:100,y:"aaa")print("\(yuanzu2.x)")//Ëß£ÂåÖËÆøÈóÆÔºå‰∏çÂÖ≥ÂøÉÁöÑÊï∞ÊçÆÂèØ‰ª•‰ΩøÁî®_‰ª£Êõøvar (m,_) = yuanzu2print("\(m) ") Â∏∏ÈáèÂíåÂèòÈáè1234567891011print("hello world");//Â∏∏Èáè(let)ÂíåÂèòÈáè(var)ÔºåÊú™ËµãÂÄºÁöÑÂèòÈáèÂ∏∏ÈáèÊòæÁ§∫Â£∞ÊòéÁ±ªÂûã,ËµãÂÄºÁöÑÂèòÈáèÂ∏∏Èáè‰ºöËá™Âä®Êé®Êñ≠Êï∞ÊçÆÁ±ªÂûãlet contast = 1;print(contast)var a:Int//10ËøõÂà∂a = 1000var str = "this is a str" //‰ΩøÁî®\(ÂèòÈáèÂ∏∏Èáè)ÂèØ‰ª•Áõ¥Êé•ÊâìÂç∞ÂèòÈáèÂ∏∏ÈáèÂá∫Êù•var rst = "this is a rst = \(a)"print(rst) ##Êï∞ÁªÑÂíåÂ≠óÂÖ∏123456789101112131415161718192021222324//ÂÆö‰πâÊï∞ÁªÑÔºå‰ΩøÁî®ÔºªÔºΩËÆøÈóÆÂÖÉÁ¥†var list = [1,2,3,4,5];print(list);print(list[0]);//ÂÆö‰πâÂ≠óÂÖ∏Ôºå‰ΩøÁî®keyËÆøÈóÆvar map = ["a":1,"b":2,"c":3];print(map);print(map["a"])print(map["a"]! + 100) //Â¶ÇÊûúÂàóË°®ÂíåÂ≠óÂÖ∏ÁöÑÁ±ªÂûãÂèØ‰ª•Ë¢´Êé®Êñ≠Âá∫Êù•ÔºåÂèØ‰ª•‰∏ç‰ΩøÁî®Á±ªÂûãÔºå‰πü‰∏çÁî®Â∏¶ÔºàÔºâÔºåÂú®‰∏ãÈù¢ÔºåshoplistÈ¶ñÂÖàË¢´Â£∞Êòé‰∏∫StringÁ±ªÂûãÁöÑÊï∞ÁªÑÔºåÂêéÂèàÈáçÊñ∞ËµãÂÄºÔºåÊ≠§Êó∂ÂèØ‰ª•Êé®Êñ≠shoplist ÊòØÔºªStringÔºΩvar shoplist = [String]()shoplist = []//Ë∑üÂ∏∏ÈáèÂíåÂèòÈáèÁöÑÂÆö‰πâ‰∏ÄÊ†∑ÔºåÂ¶ÇÊûúÁ±ªÂûãÂèØ‰ª•Ë¢´Êé®Êñ≠Êó∂ÔºåÂèØ‰ª•‰∏ç‰ΩøÁî®Á±ªÂûãÂ£∞ÊòéÔºå‰∏äÈù¢ÁöÑlistÂíåmapÁ±ªÂûãÂ∑≤ÁªèÂèØ‰ª•Êé®Êñ≠ÔºåÂΩìÂ∞ÜÂÆÉÈáçÊñ∞ÊåáÂêëÁ©∫ÁöÑÊï∞ÁªÑÂíåÂ≠óÂÖ∏list = []map = [:] //ÂÆö‰πâÁ©∫ÁöÑÊï∞ÁªÑÂíåÂ≠óÂÖ∏var emptyList = [String]()var emptyMap = [String:Int]()print(emptyList.count)print(emptyMap.count) ÊéßÂà∂ÊµÅfor1234567891011121314151617181920212223242526let testList = [1,2,3,4,5,6,7,8];//ÁÆÄÂçïforÂæ™ÁéØfor var i=0;i&lt;8;i+=1 &#123; print("for this is \(testList[i])")&#125;//for in Âæ™ÁéØ//Ê≥®ÊÑèËøôÈáåÁöÑxÊòØÂ∏∏ÈáèÔºå‰∏çËÉΩ‰øÆÊîπÂÆÉÁöÑÂÄºÔºåÊâÄ‰ª•‰∏ãÈù¢Ôºà1ÔºâÊòØÈîôËØØÁöÑfor x in testList&#123; print("for in this is \(x)") //(1) x = 1&#125;//ÈÅçÂéÜÂ≠óÂÖ∏‰∏≠ÁöÑÊï∞ÁªÑlet map2scan = [ "a":[1,2,3,4,5], "b":["a","b","c"]] for (key,value) in map2scan&#123; print("key is \(key)") for num in value&#123; print("num is \(num)") &#125;&#125; ifÂÖ≥ÈîÆÂ≠ó123456789101112131415161718//Ê∂âÂèäÂèØÈÄâÂûãÁöÑÊ¶ÇÂøµÔºåÂêéÈù¢ÂçïÁã¨‰ªãÁªçvar optionalStr:String? = "hello"optionalStr = "world"print(optionalStr == nil) var greet = "hey"if let name = optionalStr&#123; greet = "hello \(name)";&#125;print(greet) if(optionalStr != nil)&#123; print("optional str is not nil")&#125;if score &gt;= 10&#123;&#125; switchÂÖ≥ÈîÆÂ≠ó1234567891011121314151617181920212223242526272829303132333435363738394041//swiftÊîØÊåÅ‰ªªÊÑèÊï∞ÊçÆÁ±ªÂûãÁöÑswitchÊØîËæÉÔºå‰∏ç‰ªÖÈôê‰∫éIntÂíåenum//breakËØ≠Âè•,‰∏çÈúÄË¶ÅÊòæÂºèÊ∑ªÂä†ÔºåÈªòËÆ§ËØ≠Âè•ÂêéÈù¢ÈÉΩ‰ºöbreak;//defaultËØ≠Âè•,ÊòØ‰∏çÂèØ‰ª•ÁúÅÁï•ÁöÑ,Èô§ÈùûÊâÄÊúâÁöÑÂÄºÈÉΩË¢´Á©∑‰∏æÂá∫Êù•‰∫ÜÔºõ//fallthroughËØ≠Âè•ÔºåÂΩìÊª°Ë∂≥Êüê‰∏™case‰πãÂêé‰ªçÊóßÊÉ≥‰ΩøÂÆÉÂåπÈÖç‰∏ã‰∏Ä‰∏™caseÔºå‰ΩøÁî® fallthroughÔºåÂàô‰∏ç‰ºöË¢´Êà™Êñ≠let vegetable = "red peper"switch vegetable&#123;//Âõ†‰∏∫ÊØè‰∏™case‰πãÂêéÈÉΩ‰ºöÊúâbreakÔºåÊâÄ‰ª•ÊØè‰∏™case‰πãÂêéÂøÖÈ°ªËá≥Â∞ëÊúâ‰∏ÄË°åÂèØÊâßË°åËØ≠Âè•ÔºåÂΩìÈúÄË¶ÅÂ§ö‰∏™ÂåπÈÖçÊó∂ÔºåÂèØ‰ª•ÂÉè‰∏ãÈù¢ËøôÊ†∑case "b","B" print("this is b/B")case "a": print("this is a") fallthroughcase let x where x.hasSuffix("peper"): print("has suffix " + x)default: print("default")&#125;//È´òÁ∫ßÁî®Ê≥ï//Âå∫Èó¥let num = 100switch num&#123; case 0 ..&lt; 100: print("Â∞è‰∫é100")&#125;//ÂÖÉÁªÑlet point = (1,1)switch point&#123; case (_,0): print("x aliaxs"); fallthrough case (0,_): print("y aliaxs") fallthrough case (0,0): print("origin point") fallthrough case (-2 ... 2,-2 ... 2): print("near by origin point")&#125; while/repeat‚Ä¶while1234567891011//while/repeat...whileÂæ™ÁéØ, ÂΩìwhileËØ≠Âè•ÊàêÁ´ãÊó∂ÔºåËØ≠Âè•‰Ωì‰ºöÊâßË°å„ÄÇvar num = 0;while num &lt; 100&#123; num+=1&#125;print("while num is \(num)") repeat&#123; num-=1;&#125;while num &gt; 0print("repeat num is \(num)") Êìç‰ΩúÁ¨¶ÂèØÈÄâÂÄºÊìç‰ΩúÁ¨¶(??)12345//ÊúâÁÇπÁ±ª‰ºº‰∏âÁõÆËøêÁÆóÁ¨¶,??Ë°®Á§∫ÈªòËÆ§ÂÄº,ÂΩìÂâçÈù¢ÁöÑÂÄº‰∏∫Á©∫Êó∂Â∞Ü‰ºö‰ΩøÁî®ÂêéÈù¢ÁöÑlet nickName?String = "a"let fullName = "b"let name = "hello \(nickName ?? fullName)"print(name) ËåÉÂõ¥Êìç‰ΩúÁ¨¶(..&gt;Ôºè‚Ä¶)1234567891011//Êèê‰æõ‰∏ÄÁßçÊõ¥ÁÆÄÂçïÂÆûÁé∞Âæ™ÁéØÁöÑÊñπÂºè,...ÂåÖÂê´‰∏äÁïå//0 1 2 3for x in 0..&lt;4&#123; print("x is \(x)")&#125;//0 1 2 3 4for x in 0...4&#123; print("x is is \(x)")&#125; Âº∫Âà∂Ëß£ÂåÖÊìç‰ΩúÁ¨¶(!)123//Âº∫Âà∂Ëß£ÂåÖ unwrap Ëß£ÂåÖÁöÑÊ¶ÇÂøµ‰ºöÂú®ÂèØÂèòÂûã‰∏≠‰ªãÁªçvar num = 100var name = "this is " + num! ÂáΩÊï∞ÂíåÈó≠ÂåÖÁÆÄËø∞1ÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÂèØ‰ª•Ë¢´ÊäΩÂèñË∞ÉÁî®ÁöÑÂ∞ÅÈó≠‰ª£Á†ÅÂùóÔºåÊòØÂèØ‰ª•Ë¢´‰º†ÈÄíÁöÑÊï∞ÊçÆÁ±ªÂûã ‰∏Ä‰∏™ÁÆÄÂçïÂáΩÊï∞123456789//ÂáΩÊï∞‰ΩøÁî®funcÂÖ≥ÈîÆÂ≠óÂëΩÂêç//‰ΩøÁî® [ÂèÇÊï∞Âêç:ÂèÇÊï∞Á±ªÂûã] ...ÁöÑÊñπÂºèÂÆö‰πâÂèÇÊï∞//Ë∞ÉÁî®ÂáΩÊï∞Êó∂ÔºåË¶ÅÁî® [ÂèÇÊï∞Âêç:ÂÄº] ÁöÑÊñπÂºè‰º†ÈÄí//func ÂáΩÊï∞ÂêçÔºàÂèÇÊï∞ÂàóË°®ÔºàÂèÇÊï∞Âêç:ÂèÇÊï∞Á±ªÂûãÔºâÔºâ-&gt; ËøîÂõûÁ±ªÂûã &#123;// ÂáΩÊï∞‰ΩìÔΩùfunc firstFun (name:String,pwd:String,newParams:String)-&gt;Bool &#123; print("name is \(name) and pwd is \(pwd)") return true&#125;firstFun("chendong",pwd:"1234567",newParams:"new params"); ËøîÂõûÂ§ö‰∏™ÂÄº1234567891011121314151617181920//ÂèØ‰ª•‰ΩøÁî®ÂÖÉÁªÑËøîÂõûÂ§ö‰∏™ÂÄºÔºåÂÆûÈôÖ‰∏äÊòØ‰ª•ÂÖÉÁªÑ‰Ωú‰∏∫ÂÄº‰º†ÈÄíÁöÑÊñπÂºè//‰ΩøÁî®ÂÖÉÁªÑÂÆûÁé∞Â§ö‰∏™ËøîÂõûÂÄº//ÂÖÉÁªÑÂèØ‰ª•‰ΩøÁî®ÈîÆËÆøÈóÆÔºårst.max,‰πüÂèØ‰ª•‰ΩøÁî®‰∏ãÊ†áËÆøÈóÆÔºårst.2func getMultiBackFun(scores:[Int])-&gt;(max:Int,min:Int,sum:Int)&#123; var sum = 0 var min = scores[0] var max = scores[0] for score in scores&#123; sum += score; if(score &gt; max)&#123; max = score; &#125; if(score &lt; min)&#123; min = score &#125; &#125; return (max,min,sum)&#125;let rst = getMultiBackFun([4,8,1,7,4,0,6,3,7])print("max is \(rst.max) min is \(rst.min) sum is \(rst.sum) rst.2 is \(rst.2)") ÂèØÂèòÈïøÂ∫¶ÂèÇÊï∞ÂáΩÊï∞123456789101112//Ë∑üÊâÄÊúâÁöÑËØ≠Ë®Ä‰∏ÄÊ†∑ÔºåÊîØÊåÅÂèØÂèòÈïøÂ∫¶ÂèÇÊï∞ÔºåÊú¨Ë¥®ÊòØÊï∞ÁªÑÁöÑ‰º†ÈÄí//‰∏Ä‰∏™Ê±ÇÂùáÂÄºÁöÑÂáΩÊï∞func changeParamFun(params :Int...)-&gt;Void&#123; var sum = 0; for x in params&#123; sum+=x &#125; print("averge is \(sum/(params.count))")&#125; changeParamFun(1,2,3,4)changeParamFun(0,9,8,7) ###ÂáΩÊï∞ÂµåÂ•óÂÆö‰πâ1234567891011//ÂáΩÊï∞ÂèØ‰ª•ÂµåÂ•óÂÆö‰πâ,Ë¢´ÂµåÂ•óÁöÑÂáΩÊï∞‰ΩúÁî®ÂüüÊúâÈôêÔºåÂè™ËÉΩÂú®ÂµåÂ•óÂÆÉÁöÑÔΩõÔΩù‰∏≠Ë¢´ËÆøÈóÆÔºåÊØîÂ¶Ç‰∏ãÈù¢Ôºà1Ôºâ‰∏≠ÁöÑ‰ª£Á†ÅÊòØÁºñËØëÈîôËØØÁöÑÔºåË¢´ÂµåÂ•óÁöÑÂáΩÊï∞ÂèØ‰ª•ËÆøÈóÆÂ§ñÈù¢ÂáΩÊï∞ÁöÑÂèòÈáèÊàñËÄÖÂÖ®Â±ÄÂèòÈáèÔºåfunc aOutFun() -&gt; Void&#123; var num = 100 func aInFun()-&gt;String&#123; return "chendong \(num)" &#125; print(aInFun())&#125;aOutFun()//1 ÁºñËØëÈîôËØØaInFun() ÂáΩÊï∞‰Ωú‰∏∫ËøîÂõûÂÄº123456789//ÂáΩÊï∞‰Ωú‰∏∫ËøîÂõûÂÄº,‰∏ãÈù¢ÁöÑÂáΩÊï∞Ë°®Á§∫‰∏Ä‰∏™Êó†ÂèÇÂáΩÊï∞ÔºåËøîÂõûÂÄºÊòØ‰∏Ä‰∏™ÔºàÂèÇÊï∞‰∏∫Int,ËøîÂõûÂÄºÊòØStringÁöÑÔºâÂáΩÊï∞Á±ªÂûãÔºåÂú®ÂáΩÊï∞returnFuncFun‰∏≠ÂÆö‰πâÂÜÖÂµåÂáΩÊï∞Âπ∂ËøîÂõûÔºåÂú®Â§ñÈÉ®ÂèØ‰ª•‰ΩøÁî®ËØ•ÂáΩÊï∞func returnFuncFun()-&gt;(Int-&gt;String)&#123; func INTSTRING(num:Int)-&gt;String&#123; return "this num is \(num)" &#125; return INTSTRING&#125;let funINTSTR = returnFuncFun();print("func return is \(funINTSTR(1000))") ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄí123456789101112//ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞Ôºå‰∏ãÈù¢ÁöÑÂáΩÊï∞Ë°®Á§∫‰∏Ä‰∏™ÂèÇÊï∞‰∏∫IntÁ±ªÂûãÔºå‰∏Ä‰∏™ÂèÇÊï∞‰∏∫ÔºàInt-&gt;StringÔºâÁöÑÂáΩÊï∞Á±ªÂûãÔºåËøîÂõûÂÄºStringfunc funParamFun(num:Int,param : Int -&gt; String)-&gt;String&#123; return "funparamfun + \(param(num))"&#125;func paramFunc(num:Int)-&gt;String&#123; return "paramfunc + \(num)"&#125;print("rst is \(funParamFun(100, param: paramFunc))")//ÁªìÊûúÊòØ rst is funparamfun + paramfunc + 100 ÂåøÂêçÂáΩÊï∞Èó≠ÂåÖ12345678910111213141516171819//ÂåøÂêçÈó≠ÂåÖÔºàin ÂâçÈù¢ÊòØÂèÇÊï∞Á±ªÂûãÔºåinÂêéÈù¢ÁöÑÊòØÂáΩÊï∞‰ΩìÔºâlet numbers = [1,2,3,4,5];let get = numbers.map(&#123; Ôºàin ÂâçÈù¢ÊòØÂáΩÊï∞ÂèÇÊï∞ÂíåËøîÂõûÂÄºÔºåinÂêéÈù¢ÁöÑÊòØÂáΩÊï∞‰ΩìÔºâ (number:Int)-&gt;Int in let rst = number*2; return 3 + rst;&#125;)print("rst is \(get)")//Â¶ÇÊûú‰∏Ä‰∏™Èó≠ÂåÖÁöÑÁ±ªÂûãÂ∑≤Áü•ÔºåÊØîÂ¶Ç‰Ωú‰∏∫‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞Ôºå‰Ω†ÂèØ‰ª•ÂøΩÁï•ÂèÇÊï∞ÁöÑÁ±ªÂûãÂíåËøîÂõûÂÄº„ÄÇÂçï‰∏™ËØ≠Âè•Èó≠ÂåÖ‰ºöÊääÂÆÉËØ≠Âè•ÁöÑÂÄºÂΩìÂÅöÁªìÊûúËøîÂõû.numbers.map(&#123; number in number * 3&#125;)//‰ΩøÁî®ÂèÇÊï∞‰ΩçÁΩÆ‰ª£ÊåáÂèÇÊï∞ numbers.sort(&#123;$0&gt;$1&#125;)let get2 = numbers.map(&#123;$0*2&#125;)print("numbers is \(get2)")]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â∞ÜËá™Â∑±ÂÜôÁöÑÂ∫ìÂèëÂ∏ÉÂà∞ Jcenter]]></title>
    <url>%2Farticle%2F3189961703%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªçÂ¶Ç‰ΩïÊúÄÁÆÄÂçïÁöÑÂ∞ÜËá™Â∑±ÁöÑ Library ÂèëÂ∏ÉÂà∞ jcenter„ÄÇ 2017.6.16 Êõ¥Êñ∞‰∏∫‰ΩøÁî®ËøúÁ®ã‰∏ä‰º†ËÑöÊú¨ÊâìÂåÖ‰∏ä‰º†ÔºåÁÆÄÂåñÊìç‰ΩúÊµÅÁ®ã ‰ΩøÁî® gradle ÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® compile ÂëΩ‰ª§Ôºå‰æùËµñ LibraryÔºåËøôÁßçÂÅöÊ≥ïÁöÑÂ•ΩÂ§ÑÊó∂ÔºåÊàë‰ª¨‰∏çÈúÄË¶ÅÂÜçÂéªÂÖ≥Ê≥®‰∏ÄÂ†Ü jar Êñá‰ª∂ÔºåÂΩìÊàë‰ª¨ÈúÄË¶ÅÂçáÁ∫ß Library Êó∂ÔºåÂè™ÈúÄË¶ÅÊîπÂèò‰æùËµñÁöÑÁâàÊú¨Âè∑ÔºåÂ∞±ÂèØ‰ª•ÂÆåÊàêÂçáÁ∫ß„ÄÇ Êàë‰ª¨‰πãÊâÄ‰ª•ÂèØ‰ª•‰ΩøÁî®‰∏ÄÂè• gradle ËÑöÊú¨ÂÆåÊàê‰æùËµñÁöÑ‰∏ãËΩΩÔºåÂçáÁ∫ßÔºåÊòØÂõ†‰∏∫Ëøô‰∫õ Library ÈÉΩË¢´Â≠òÂÇ®Âú®‰∫Ü‰∏Ä‰∏™ÂÖ¨ÂÖ±ÁöÑÊúçÂä°Âô®‰∏äÔºåÈÄöËøá compile ÂëΩ‰ª§ÂèØ‰ª•ÂîØ‰∏ÄÁöÑÊò†Â∞ÑÂà∞ÊúçÂä°Âô®Â≠òÂÇ®ÁöÑ Library„ÄÇ jcenter Â∞±ÊòØ‰∏Ä‰∏™ËøôÊ†∑ÁöÑÊúçÂä°ÔºåAndroidStudio Áé∞Âú®Êñ∞Âª∫È°πÁõÆÈÉΩ‰ºöÈªòËÆ§‰æùËµñ repositories {jcenter()}ÔºåÂΩìÊâßË°å compile ËÑöÊú¨Êó∂ÔºåÂ∞±‰ºöÂéª jcenter Ê£ÄÊü•ÂØπÂ∫îÁöÑ Library ËøõË°å‰∏ãËΩΩÂíå‰æùËµñ„ÄÇ Ë∏©ËøáÁöÑÂùë Âà†Èô§ gradle.properties ÈáåÈù¢‰ºöÊúâ systemProp.http.proxyHost=127.0.0.1 systemProp.http.proxyPort=1080Â≠óÊÆµÔºå‰ΩøÁî®‰ª£ÁêÜÂèØËÉΩ‰ºöÂØºËá¥Êó†Ê≥ï‰∏ä‰º†ÂèëÂ∏É„ÄÇ ÊâìÂåÖ javadoc Êó∂‰ºöÂá∫ÈóÆÈ¢òÔºåÂõ†‰∏∫‰ªñ‰ºöÂ∞Ü‰Ω†ÊâÄÊúâÁöÑÊ≥®ÈáäÊâìÂåÖËøõÂéªÔºåÂ¶ÇÊûúÊ≥®ÈáäÂÜôÁöÑ‰∏çËßÑËåÉÂ∞±‰ºöÊä•ÈîôÔºå‰∏çËøáËøô‰∏™ÊòØÊúâÊèêÁ§∫ÁöÑÔºåÊåâÁÖßÊèêÁ§∫ÊîπÊéâÂ∞±Â•Ω‰∫ÜÔºåÊ≥®ÈáäË¶ÅÁ¨¶ÂêàË¶ÅÊ±Ç„ÄÇ Â¶ÇÊûúÂá∫Áé∞‰∫Ü gradle commond not found ,ËØ¥Êòé‰Ω†ÁöÑ gradle Ë∑ØÂæÑÊ≤°ÊúâÈÖçÁΩÆÔºåmacÂèØ‰ª•ÂèÇËÄÉËøôÁØáÊñáÁ´†ËøõË°åÈÖçÁΩÆ„ÄÇ ‰Ω†ÁöÑ library ‰∏≠ÁöÑ manifest Êñá‰ª∂Êúâ allowback Â±ûÊÄßÊúÄÂ•ΩÂà†ÊéâÔºå ÂΩìÂà´‰∫∫ÊàñËÄÖ‰Ω†ÁöÑÂà´ÁöÑÂ∑•Á®ãÂºïÁî®Ëøô‰∏™Â∫ìÊó∂ÔºåÈúÄË¶ÅËøõË°å manifest ÁöÑ merge Êìç‰ΩúÔºåÂ¶ÇÊûúÊüê‰∫õÂ±ûÊÄßÂÜ≤Á™Å‰∫Ü‰ºöÂØºËá¥ÂêàÂπ∂Â§±Ë¥•ÔºåÂõ†Ê≠§Â∫ìÊñá‰ª∂ÁöÑ manifest Êñá‰ª∂Âè™‰øùÁïôÂøÖË¶ÅÁöÑÂ±ûÊÄßÔºåÂç≥ÂèØ„ÄÇ Ê≥®ÂÜåË¥¶Âè∑Êàë‰ª¨Ë¶ÅÂèëÂ∏ÉËá™Â∑±ÁöÑÂ∫ìÂà∞ JCenter,È¶ñÂÖàË¶ÅÂ∞Ü‰ª£Á†ÅÂèëÂ∏ÉÂà∞ maven Â∫ìÔºåÂÆòÊñπÁΩëÁ´ôwww.bintray.com ÔºåËøõÂéªÁΩëÁ´ôÊ≥®ÂÜåÁôªÂΩïÂ∞±Â•Ω‰∫ÜÔºåÊ≥®ÂÜå‰πãÂêéÂèØ‰ª•ÊãøÂà∞‰Ω†ÁöÑÁî®Êà∑ÂêçÂíå apikey„ÄÇ apiKey ÁöÑËé∑ÂèñÊñπÊ≥ï Ôºç&gt; Âè≥‰∏äËßíÁÇπÂáªÂ§¥ÂÉè Ôºç&gt; your profile-&gt; Â§¥ÂÉè‰∏ãÈù¢edit -&gt; ÊúÄ‰∏ãÈù¢ÁöÑ APIkey Â∞±ÂèØ‰ª•Ëé∑Âèñ‰∫ÜÔºåÂêéÈù¢ÊúâÁî®„ÄÇ ÊûÑÂª∫È°πÁõÆ‰ΩøÁî® AS ÂºÄÂèë‰Ω†ÁöÑÈ°πÁõÆÂ∫îËØ•ÊòØÊúâÂ§ö‰∏™ module ÁöÑÔºåÈÄöÂ∏∏‰Ω†ÁöÑÈ°πÁõÆËá≥Â∞ëÂ∫îËØ•Êúâ app Ëøô‰∏™ module ÔºåÂàõÂª∫‰∏Ä‰∏™ library Á±ªÂûãÁöÑ moduleÔºàÁÇπÂáªÂ∑•ÂÖ∑Ê†è File - &gt; new moudle -&gt; library,Â∞±ÂèØ‰ª•Âª∫Á´ã‰∏Ä‰∏™library moudle)ÔºåÂõ†‰∏∫Êàë‰ª¨Ë¶ÅÂèëÂ∏ÉÂà∞ maven ÁöÑÊòØ‰Ω†ÁöÑ libraryÔºåÊâÄ‰ª•Ëøô‰∏™ moudle ÈúÄË¶ÅÊúâ„ÄÇÁÑ∂Âêé‰Ω†Â∫îËØ•ÊääËøô‰∏™È°πÁõÆÂèëÂ∏ÉÂà∞ github‰∏äÂéªÔºåÂêéÁª≠ÈúÄË¶ÅÂ°´ÂÜôÈ°πÁõÆÁöÑÂú∞ÂùÄÔºåÂΩìÁÑ∂Ëøô‰∏çÊòØÂøÖÈÄâÁöÑ„ÄÇ ÈÖçÁΩÆ project/build.gradleÈÖçÁΩÆËøô‰∏™Êñá‰ª∂‰∏ªË¶ÅÊòØ‰æùËµñ‰∏Ä‰∫õÂøÖË¶ÅÁöÑÊèí‰ª∂Êù•ÂÆåÊàêÂêéÁª≠ÁöÑÊâìÂåÖ‰∏ä‰º†Êìç‰ΩúÔºåÂèØËÉΩÂΩì‰Ω†ÁúãÂà∞Êó∂‰∏ãÈù¢ÁöÑÊèí‰ª∂ÁâàÊú¨Â∑≤Áªè‰∏çÊòØÊúÄÊñ∞ÁöÑ‰∫ÜÔºå‰Ω†ÂèØ‰ª•Ëá™Â∑±‰æùËµñÊúÄÊñ∞ÁöÑÊèí‰ª∂„ÄÇ 123456789101112131415161718//ÊúÄÂêéÂÜôÂÆåÂ∫îËØ•ÊòØËøôÊ†∑ÁöÑbuildscript &#123; repositories &#123; jcenter() &#125; dependencies &#123; classpath 'com.android.tools.build:gradle:2.2.3' //‰∏ªË¶ÅÊòØ‰∏ãÈù¢ÁöÑ‰∏§Ë°å classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.0' classpath 'com.github.dcendents:android-maven-gradle-plugin:1.4.1' &#125;&#125;allprojects &#123; repositories &#123; jcenter() &#125;&#125; ÈÖçÁΩÆ module/build.gradleÈúÄË¶ÅÂú® ext{} ÂÜÖÈÖçÁΩÆÈ°πÁõÆÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂú®ÊØè‰∏™‰ø°ÊÅØ‰∏äÊàëÈÉΩÂä†‰∫ÜÊØîËæÉËØ¶ÁªÜÁöÑÊ≥®Èáä„ÄÇ ÂÆåÊï¥ÁöÑÈÖçÁΩÆÊñá‰ª∂Â¶Ç‰∏ãÔºåÂºïÁî®‰∫ÜÊàë git ‰∏äÈù¢ËøúÁ®ãÁöÑ‰∏Ä‰∏™‰∏ä‰º†ËÑöÊú¨ÔºåÂΩìÁÑ∂‰Ω†‰πüÂ∞ÜÂÖ®ÈÉ®ÂÜÖÂÆπÂ§çÂà∂Âà∞Êú¨Âú∞ËøõË°å‰øÆÊîπÔºåÁÑ∂ÂêéÂºïÁî®Ëá™Â∑±Êú¨Âú∞ÁöÑ‰∏ä‰º†ËÑöÊú¨Ôºå‰ΩøÁî®ËøúÁ®ãËÑöÊú¨ÊòØ‰∏∫‰∫ÜÁÆÄÂåñ‰π¶ÂÜôËÑöÊú¨ÁöÑÊµÅÁ®ã„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546apply plugin: 'com.android.library'android &#123; ...&#125;dependencies &#123; ...&#125;ext &#123; // È°πÁõÆÁöÑ‰∏ªÈ°µ yourSiteUrl = 'https://github.com/chendongMarch/LightAdapterExample' // Git‰ªìÂ∫ìÁöÑurl yourGitUrl = 'https://github.com/chendongMarch/LightAdapterExample' // issue Âú∞ÂùÄ YourIssueTrackerUrl = 'https://github.com/chendongMarch/LightAdapterExample/issues' // È°πÁõÆÁöÑÂêçÁß∞ÔºåÂ∞Ü‰ºöÊòæÁ§∫Âú®bintray yourProName = 'LightAdapter' // È°πÁõÆÁöÑÊèèËø∞ yourProDesc = 'Java Recyclerview Library' // bintrayID yourId = 'chendongmarch' // nickName yourName = 'chendong' // email yourEmail = 'helloworld4x@gmial.com' // ÊúÄÂêéÁîüÊàê‰æùËµñ compile 'yourGroup:yourArtifactId:yourVersion' // ÊúÄÂêéÁîüÊàê‰æùËµñ compile 'com.march.lightadapter:lightadapter:1.0.1-beta1' yourGroup = 'com.march.lightadapter' yourArtifactId = 'lightadapter' yourVersion = '1.0.1-beta4' // Ê≠§Êñá‰ª∂‰∏≠Â≠òÂÇ®ÁöÑÊòØ bintray ÁöÑÊïèÊÑü‰ø°ÊÅØÔºåÁî®Êà∑ÂêçÂíåkey // ‰Ω†ÈúÄË¶ÅÂú®ËØ•Êñá‰ª∂‰∏≠Â¶Ç‰∏ãÂ£∞Êòé // bintray.user=xxxx // bintray.apikey=xxxx // ‰Ω†ÂèØ‰ª•‰ΩøÁî®È°πÁõÆ‰∏≠ÁöÑ local.properties yourBintrayUserPath = '/Users/march/AndroidRes/file/common_local.properties'&#125;apply from: 'https://raw.githubusercontent.com/chendongMarch/Resource/master/jcenter/bintrayUpload.gradle' ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÁÇπ‰∏ãÈù¢ÈÖçÁΩÆÁöÑ‰∏â‰∏™ÂÄºÔºåÂÜ≥ÂÆö‰∫Ü‰Ω†ÊúÄÂêéÁîüÊàêÁöÑ‰æùËµñÊòØ‰ªÄ‰πàÊ†∑ÁöÑÔºåÊàëÁî®ÊàëÁé∞Âú®ÁöÑÂ∫ì‰∏æ‰∫Ü‰∏™‰æãÂ≠êÔºåËøô‰∏™ÊòØÂèØ‰ª•ÂêéÊúü‰øÆÊîπÁöÑ„ÄÇ 12345// ÊúÄÂêéÁîüÊàê‰æùËµñ compile 'yourGroup:yourArtifactId:yourVersion'// ÊúÄÂêéÁîüÊàê‰æùËµñ compile 'com.march.lightadapter:lightadapter:1.0.1-beta1'yourGroup = 'com.march.lightadapter'yourArtifactId = 'lightadapter'yourVersion = '1.0.1-beta4' Áî®Êà∑ÂêçÂíå keyÔºåËøô‰∫õÊïèÊÑü‰ø°ÊÅØÊòØ‰∏çÂ∫îËØ•Ë¢´‰º†Âà∞ git ‰∏äÈù¢ÁöÑÔºå ‰Ω†Â∫îËØ•Âú® .gitignore ‰∏≠ÈÅøÂÖç‰∏ä‰º†Ëøô‰∏™Êñá‰ª∂Ôºå‰π†ÊÉØÁöÑÂÅöÊ≥ï‰Ω†ÂèØ‰ª•Â∞ÜËøô‰∫õ‰ø°ÊÅØÂÜôÂú® local.properties ‰∏≠ÔºåË∑ØÂæÑÈÖçÁΩÆ‰∏∫ yourBintrayUserPath = &#39;local.properties&#39;ÔºåÊàëÁöÑÂÅöÊ≥ïÊòØÂÜôÂú®Êú¨Âú∞Êñá‰ª∂‰∏≠ÁÑ∂Âêé‰ΩøÁî®ÁªùÂØπË∑ØÂæÑÂºïÁî®„ÄÇ ÁÑ∂Âêé‰Ω†Âú®Êñá‰ª∂‰∏≠ÈúÄË¶ÅÊåâÁÖßÂ¶Ç‰∏ãÊ†ºÂºèÂ£∞Êòé bintray.user Âíå bintray.apikeyÔºõ 1234567// Ê≠§Êñá‰ª∂‰∏≠Â≠òÂÇ®ÁöÑÊòØ bintray ÁöÑÊïèÊÑü‰ø°ÊÅØÔºåÁî®Êà∑ÂêçÂíåkey// ‰Ω†ÈúÄË¶ÅÂú®ËØ•Êñá‰ª∂‰∏≠Â¶Ç‰∏ãÂ£∞Êòé// bintray.user=xxxx// bintray.apikey=xxxx// ‰Ω†ÂèØ‰ª•‰ΩøÁî®È°πÁõÆ‰∏≠ÁöÑ local.propertiesyourBintrayUserPath = '/Users/march/AndroidRes/file/common_local.properties' ÂèëÂ∏ÉÁ±ªÂ∫ìÊàëÂú® mac ‰∏ãÂºÄÂèëÔºåÁõ∏ÂÖ≥ÂëΩ‰ª§ÂèØËÉΩÊúâÊâÄÂ∑ÆÂºÇ„ÄÇ ÊâìÂºÄ terminalÔºåËøêË°å install ÂëΩ‰ª§ 1./gradlew install ÊàêÂäüÂêéËøêË°å‰∏ä‰º†ÂëΩ‰ª§ 1./gradlew bintrayUpload ÂΩìÊèêÁ§∫ Build Success ÂêéÔºåÂéªÁΩëÁ´ôÊâìÂºÄÊâÄÂú®ÁöÑÈ°πÁõÆÔºåÊ≥®ÊÑèÂè≥‰∏äËßíÊúâ‰∏™ÈìæÊé•ÔºåÁ±ª‰ºº https://dl.bintray.com/chendongmarch/mavenÔºåËøôÊòØ‰Ω† mavenÂ∫ìÁöÑÈìæÊé•Ôºå‰πüÂ∞±ÊòØ‰Ω†ÁßÅÊúâÁöÑÁ©∫Èó¥„ÄÇÊ≥®ÊÑèÂ∑¶‰∏ãËßíÊúâ‰∏â‰∏™ÂæàÂ∞èÁöÑÈÄâÈ°π maven„ÄÅgradle„ÄÅlvyÔºåÁÇπÂáª gradle ÂèØ‰ª•ÁúãÂà∞‰∏Ä‰∏™‰æùËµñÂú∞ÂùÄÔºåËøôÊòØ compile ÁöÑÂú∞ÂùÄÔºåÂ∞±ÁÆóÂ§ßÂäüÂëäÊàêÂï¶„ÄÇ Âú®ÁßÅÊúâÁ©∫Èó¥‰ΩøÁî®Á±ªÂ∫ìÊ≠§Êó∂‰Ω†Â∑≤ÁªèÂèØ‰ª•‰ΩøÁî®Ëøô‰∏™Á±ªÂ∫ì‰∫ÜÔºå‰ΩÜÊòØÂõ†‰∏∫‰Ω†ÁöÑÁ±ªÂ∫ìÊ≤°ÊúâÂèëÂ∏ÉÂà∞ÂÖ±ÊúâÁ©∫Èó¥ÔºåÂõ†Ê≠§‰ΩøÁî®Êó∂ÈúÄË¶ÅÂú® project/build.gradle Â£∞Êòé‰Ω†ÁöÑÁßÅÊúâÁ©∫Èó¥„ÄÇ 12345678910111213//Âú® project/build.gradle Êñá‰ª∂‰∏≠Ê∑ªÂä†‰Ω†ÁßÅÊúâ maven Á©∫Èó¥allprojects &#123; repositories &#123; jcenter() // Áé∞Âú®‰πãÊâÄ‰ª•Ê∑ªÂä†Ëøô‰∏ÄÂè•ÊòØÂõ†‰∏∫‰Ω†ÁöÑÁ±ªÂ∫ìÂè™ÊòØÂèëÂ∏ÉÂà∞‰∫Ümaven // ‰ΩÜÊòØÊ≤°ÊúâÂèëÂ∏ÉÂà∞JCenter // Âõ†Ê≠§ÈúÄË¶ÅÂçïÁã¨‰æùËµñ‰Ω†ÁöÑÁßÅÊúâÁ©∫Èó¥ÁöÑÂú∞ÂùÄ„ÄÇ maven &#123;url &apos;https://dl.bintray.com/chendongmarch/maven&apos;&#125; &#125;&#125;//Âú®app/build.gradleÊñá‰ª∂‰∏≠‰æùËµñcompile &apos;com.march.lightadapter:lightadapter:1.0.1-beta1&apos; ÂèëÂ∏ÉÂà∞ jcenterÁÑ∂ÂêéÊàë‰ª¨Â∞ÜÁ±ªÂ∫ìÂèëÂ∏ÉÂà∞ÂÖ¨ÂÖ±Á©∫Èó¥ËÆ©Âà´‰∫∫ÂèØ‰ª•Âø´ÈÄü‰ΩøÁî®ÔºåËøòÊòØÂú®ÁΩëÁ´ôÊü•ÁúãÈ°πÁõÆÂè≥‰∏ãËßíÂèØ‰ª•ÁúãÂà∞ Add to jcenter ÁÇπÂáª‰πãÂêéÂèØ‰ª•ÂæàÁÆÄÂçïÁöÑÊ∑ªÂä†‰Ω†ÁöÑÂ∫ìÂà∞ JCenter,‰ΩÜÊòØÂÆ°Ê†∏ÈúÄË¶ÅÊó∂Èó¥ÔºåÁ¨¨‰∏ÄÊ¨°‰ºöÊÖ¢‰∏ÄÁÇπÔºå‰ª•Âêé‰ºöÂæàÂø´„ÄÇÁ≠âÂà∞ÂÆ°Ê†∏ÈÄöËøáÔºåÂ∞±ÂèØ‰ª•Â∞Ü maven{url=&quot;&quot;} Ëøô‰∏ÄÂùóÂéªÊéâÔºåÁõ¥Êé• compileÔºåÂõ†‰∏∫Â∑≤ÁªèÂèØ‰ª•Âú® jcenter ÊâæÂà∞‰Ω†ÁöÑÁ±ªÂ∫ì‰∫ÜÔºå ‰∏çÈúÄË¶Å‰ΩøÁî®ÁßÅÊúâÁ©∫Èó¥‰∫Ü„ÄÇ Âú®Êú¨Âú∞Á©∫Èó¥‰ΩøÁî®Á±ªÂ∫ìÂçïÂçïËøêË°å ./gradlew install ‰ªªÂä°Ôºå gradle ‰ºöÂú® maven ÁöÑÊú¨Âú∞‰ªìÂ∫ì‰∏≠ÁîüÊàêÂ∑•‰ª∂ÔºåÂè™ÈúÄÂ∞Ü mavenLocal Ê∑ªÂä†Âà∞ repositoriesÔºåÊàë‰ª¨ÂèØ‰ª•ÂÉèÂèëÂ∏ÉÂà∞ JCenter ‰∏ÄÊ†∑ÂºïÁî®Ëá™Â∑±ÁöÑÂ∫ìÔºåÊñπ‰æøÊâìÂåÖÈÇ£‰∫õÂ§ö‰∏™È°πÁõÆÂÖ±‰∫´Âèà‰∏çÊÉ≥ÂèëÂ∏ÉÁöÑÁßÅÊúâÂ∫ì, Âú®project/build.gradle Êñá‰ª∂Ê∑ªÂä†‰∏ãÈù¢ÁöÑ‰æùËµñÔºåÂèØ‰ª•‰ΩøÁî®Êú¨Âú∞Â∫ìÔºåÁ±ªÊØî‰∏äÈù¢ÁöÑÁßÅÊúâÁ©∫Èó¥ÔºåËøô‰∏™Â∫îËØ•ÁÆóÊú¨Âú∞Á©∫Èó¥„ÄÇ 123456allprojects &#123; repositories &#123; mavenLocal() jcenter() &#125;&#125; ‰∏Ä‰∫õÁêÜËß£ÊÄª‰ΩìÊù•ËØ¥ÔºåÊúÄÊúÄÈáçË¶ÅÁöÑÊòØÊâìÂåÖ‰∏ä‰º†ÁöÑËÑöÊú¨Ôºå‰ªñË¥üË¥£ÊâìÂåÖÊ∫êÊñá‰ª∂ÔºåÁîüÊàê aarÔºåÁîüÊàê doc ÁÑ∂Âêé‰∏ä‰º†Âà∞ bintrayÔºåÊàë‰πãÂâçÈááÁî®ËøáÂà´ÁöÑÊñπÂºèÊâìÂåÖÁ±ªÂ∫ìÔºåÊú¨Êñá‰ªãÁªçÁöÑÊñπÊ≥ïÊúâ‰∏™ÂæàÂ§ßÁöÑ‰ºòÁÇπÂ∞±ÊòØÊääËøô‰∏™‰ªªÂä°Áã¨Á´ãÂá∫Êù•ÔºåÂÜôÂú® bintrayUpload.gradle Êñá‰ª∂‰∏≠Ôºå‰ΩøÁî®ËøúÁ®ãËÑöÊú¨ÔºåÈúÄË¶ÅÊâìÂåÖ‰∏ä‰º†ÁöÑ library Âè™ÈúÄË¶ÅÈÖçÁΩÆ‰∏Ä‰∏ãÁ±ªÂ∫ìÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂºïÁî®Ëøô‰∏™ËÑöÊú¨Â∞±ÂèØ‰ª•‰∏ä‰º†Ôºå‰∏çÈúÄË¶ÅËøõË°åÂ§çÊùÇÁöÑÈÖçÁΩÆ„ÄÇ]]></content>
      <categories>
        <category>Android</category>
        <category>Publish</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Publish</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú® Mac ‰∏ãÈÖçÁΩÆ Gradle ÂëΩ‰ª§]]></title>
    <url>%2Farticle%2F2863351425%2F</url>
    <content type="text"><![CDATA[Êé®ËçêÈòÖËØªMac ‰∏ãÈÖçÁΩÆ Sdk,Gradle Áõ∏ÂÖ≥‰∏ãËΩΩ‰∏ãËΩΩgradle http://gradle.org/downloads/ ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè ÊâìÂºÄ.bash-profile 12touch .bash-profileopen -e .bash_profile ÊâìÂºÄ bash_profileÔºåÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè„ÄÇ 12345//‰∏ç‰ΩøÁî®ndkÂèØ‰ª•‰∏çÈÖçÁΩÆexport NDK_PATH=&quot;/Users/Bob_ge/Documents/android_dev/ndk/android-ndk-r10d&quot;export SDK_PATH=&quot;/Users/Bob_ge/Library/Android/sdk/platform-tools&quot;export GRADLE_HOME=&quot;/Users/Bob_ge/Documents/android_dev/gradle/gradle-2.4/bin&quot;export PATH=/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/ant/bin:/opt/reverse:$&#123;SDK_PATH&#125;:$&#123;NDK_PATH&#125;:$&#123;GRADLE_HOME&#125; Êõ¥Êñ∞ bash_profile 1source .bash-profile ËæìÂÖ•adb Ê£ÄÊµãÊòØÂê¶ÈÖçÁΩÆÊ≠£Á°Æ 1gradle -version]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>DevEnvironment</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â∞ÜËá™Â∑±ÂÜôÁöÑÂ∫ìÂèëÂ∏ÉÂà∞ JitPack]]></title>
    <url>%2Farticle%2F2091453987%2F</url>
    <content type="text"><![CDATA[JitPack‰ºòÁº∫ Âú®‰ΩøÁî®JcenterÂèëÂ∏ÉÂ∫ì‰ª£Á†ÅÊó∂ÔºåÈúÄË¶ÅÂÖà‰∏ä‰º†Âà∞BintrayÁΩëÁ´ôÔºåÊØîËæÉÈ∫ªÁÉ¶Ôºå‰∏çËøáÊàë‰πãÂâçÂ∑≤ÁªèÁªôÂá∫‰∫ÜÁÆÄÂåñÁöÑÊñπÊ°à,Ê†πÊçÆËøôÁØáÊñáÁ´†ÂèëÂ∏ÉËá™Â∑±ÁöÑÂ∫ìÂà∞JCenterÂèØ‰ª•ÂæàÂø´ÁöÑÈÖçÁΩÆÂ•ΩÈ°πÁõÆ„ÄÇÊú¨Êñá‰ªãÁªçÂè¶Â§ñ‰∏ÄÁßçÂèëÂ∏ÉËá™Â∑±ÁöÑÂ∫ì‰ª£Á†ÅÁöÑÊñπÂºèÔºå‰ΩøÁî®JitPackÂèëÂ∏É‰ª£Á†ÅÊõ¥ÁÆÄÂçï‰∏Ä‰∫õ„ÄÇ AndroidStudioÂàõÂª∫È°πÁõÆÊó∂Ê≤°ÊúâÈªòËÆ§ÁîüÊàêJitPackÁöÑ‰æùËµñÔºåÂΩì‰ΩøÁî®Â∫ìÊó∂ÈúÄË¶ÅÊ∑ªÂä†Â¶Ç‰∏ã‰æùËµñ1234repositories &#123; jcenter() maven &#123; url &quot;https://jitpack.io&quot; &#125; &#125; ÂàõÂª∫Â∑•Á®ãÊñ∞Âª∫Library Module,Ëøô‰∫õÂ∞±‰∏ç‰ªîÁªÜËØ¥‰∫ÜÔºåÂ§ßÂÆ∂ÈÉΩ‰ºöÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑ‰∏ÄÁÇπÊòØÔºå‰ΩøÁî®JCenterÊó∂ÔºåÂ∫ìÁöÑÂêçÂ≠óÊòØË∑ü‰Ω†ÁöÑModule nameÊúâÂÖ≥ÁöÑÔºå‰ΩÜÊòØJitPackÊòØ‰∏é‰Ω†ÁöÑProject nameÊúâÂÖ≥ÁöÑ,ÊâÄ‰ª•Áªô‰Ω†ÁöÑÈ°πÁõÆËµ∑‰∏Ä‰∏™Â•ΩÂêçÂ≠óÔºå‰ªñÂ∞Ü‰Ωú‰∏∫Â∫ìÁöÑÂêçÁß∞„ÄÇ ÈÖçÁΩÆÊèí‰ª∂‰∏éÂèëÂ∏ÉÂà∞JCenter‰∏ÄÊ†∑ÔºåÈúÄË¶ÅÊèí‰ª∂,ËøôÈáåËØ¥‰∏Ä‰∏ãËøô‰∏™Êèí‰ª∂ÔºåËØ•Êèí‰ª∂ÁöÑGitHubÂú∞ÂùÄÔºåÂú®ÂèëÂ∏ÉÂà∞JCenterÊó∂‰πüÁî®Âà∞‰∫ÜËøô‰∏™Êèí‰ª∂ÔºåÁé∞Âú®ÁöÑÊúÄÊñ∞ÁâàÊú¨1.4.1ÔºåÊàëËØï‰∫Ü‰∏Ä‰∏ãÔºåÁºñËØë‰∏çÊàêÂäüÔºåÁúã‰∫ÜIssues,Â§ßÊ¶ÇÊòØÂõ†‰∏∫gradleÈúÄË¶ÅÊèêÂçáÂà∞2.14.1ÊâçÂèØ‰ª•ÔºåÂÖ≥‰∫éËøô‰∏™ÈóÆÈ¢òÂèØ‰ª•Ëá™Â∑±ÂéªÊü•‰∏Ä‰∏ãÔºåÂÉèÊàë‰∏ãÈù¢ËøôÊ†∑ÁöÑÈÖçÁΩÆÊòØokÁöÑÔºåÁâàÊú¨ÁöÑÂØπÂ∫îÂèØ‰ª•ÂéªGit‰∏äÁúãÁúã„ÄÇ12345678910buildscript &#123; repositories &#123; jcenter() mavenCentral() &#125; dependencies &#123; classpath &apos;com.android.tools.build:gradle:2.1.2&apos; classpath &apos;com.github.dcendents:android-maven-gradle-plugin:1.3&apos; &#125;&#125; ÈÖçÁΩÆModuleÁöÑbuild.gradle123456//ÈªòËÆ§Â∞±ÊúâÁöÑapply plugin: &apos;com.android.library&apos;//Ëøô‰∏™Ë∑üJcenter‰∏ÄÊ†∑ÁöÑÊèí‰ª∂apply plugin: &apos;com.github.dcendents.android-maven&apos;//‰Ω†ÁöÑGithubÁî®Êà∑ÂêçÊõøÊç¢‰∏Ä‰∏ãgroup=&apos;com.github.chendongMarch&apos; ÂèëÂ∏ÉÂà∞GitHub Êé•‰∏ãÊù•Â∞±ÂéªGitHub‰∏äÊâìÂºÄ‰Ω†ÁöÑÈ°πÁõÆÔºç&gt;ÁÇπÂáªreleaseÔºç&gt;ÁÇπÂáªÂàõÂª∫Êñ∞ÁöÑreleaseÁâàÊú¨Ôºç&gt;‰π¶ÂÜôÁâàÊú¨Âè∑Âíårelease‰ø°ÊÅØÔºç&gt;Â∞±‰ºöÁúãËßÅÂà∞Ê≠§Â∞±ÂÆåÊàê‰∫ÜÂèëÂ∏É„ÄÇÂ¶Ç‰∏ã JitPackÂèëÂ∏É ÊúÄÂêéÂéªJitPack,‰ºöÁúãËßÅÂ¶Ç‰∏ãÁïåÈù¢,ËæìÂÖ•‰Ω†ÁöÑÈ°πÁõÆÂú∞ÂùÄÔºå‰ºöÁúãÂà∞ÁâàÊú¨Âè∑ÔºåÁÇπÂáªget itÔºå‰∏ãÈù¢‰ºöÂá∫Áé∞compileÂú∞ÂùÄ ÂÆåÊàê AS‰æùËµñ 1compile &apos;com.github.chendongMarch:JitPackLibs:1.0.2&apos;]]></content>
      <categories>
        <category>Android</category>
        <category>Publish</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Publish</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ListView Adapter 4]]></title>
    <url>%2Farticle%2F2414640248%2F</url>
    <content type="text"><![CDATA[GitHubÂ∫ì‰ª£Á†ÅÈìæÊé• Gradlecompile &#39;com.march.adapterlibs:adapterlibs:1.0.6&#39; ÂâçË®Ä Âü∫‰∫éÂâçÁ´ØÊó∂Èó¥ÊÄªÁªìÁöÑEasyAdapterÔºàÁúãÂéüÁêÜÁöÑÂèØ‰ª•ÁúãËøô‰∫õÂçöÂÆ¢ÔºâÈáçÊñ∞ÊûÑÂª∫‰∫Ü‰ª£Á†ÅÔºåÂü∫Êú¨ÊÄùÊÉ≥ËøòÊòØ‰∏ÄÊ†∑ÁöÑÔºåÁõÆÁöÑÊòØÂØπÂ§ñÂºÄÊîæÊõ¥Âä†ÁÆÄÂçïÁöÑAPI,ÂÖ∂‰∏≠ÁöÑÂéüÁêÜÔºåÊÉ≥Áü•ÊôìÁöÑÂèØ‰ª•ÂéªÁúãÊàë‰ª•ÂâçÁöÑÂçöÂÆ¢„ÄÇÁé∞Âú®ÁöÑÁâàÊú¨Â∑≤Áªè‰∏é‰ª•ÂâçÁöÑÁâàÊú¨Áã¨Á´ãÂºÄ‰∫Ü„ÄÇ ÂçïÁ±ªÂûãÊäΩË±°ÈÄÇÈÖçQuickAdapter123456789101112QuickAdapter&lt;Demo&gt; adapter =new QuickAdapter&lt;Demo&gt;(BaseApplication.getInst(), R.layout.item_quickadapter, data) &#123; @Override public void bindData4View(ViewHolder holder, Demo data, int pos) &#123; holder.setText(R.id.item_quickadapter_title, data.getmDemoTitle()); &#125; @Override public void bindListener4View(ViewHolder holder, Demo data, int pos) &#123; //Âú®ËøôÈáåÁªôÂÜÖÈÉ®Êéß‰ª∂ÁªëÂÆöÁõëÂê¨‰∏çÊòØÂøÖÈ°ªÂÆûÁé∞ÁöÑ &#125; &#125;; ‰ΩøÁî®QuickTypeAdapter QuickTypeAdapterÁöÑÂ∏¶layoutËµÑÊ∫êÂèÇÊï∞ÊûÑÈÄ†ÊñπÊ≥ï,Ê≥®ÊÑè‰∏çË¶ÅË∞ÉÁî®addType‰∫Ü,ÂÆû‰ΩìÁ±ªÈúÄË¶ÅÂÆûÁé∞QuickInterfaceÊé•Âè£ 1234567891011QuickTypeAdapter&lt;Demo&gt; typeAdapter =new QuickTypeAdapter&lt;Demo&gt;(BaseApplication.getInst(), data,R.layout.item_a) &#123; @Override public void bindData4View(ViewHolder holder, Demo data, int type, int pos) &#123; //ÂçïÁ±ªÂûã,type‰∏ÄÁõ¥ËøîÂõû0 &#125; @Override public void bindListener4View(ViewHolder holder, Demo data, int type, int pos) &#123; //Âú®ËøôÈáåÁªôÂÜÖÈÉ®Êéß‰ª∂ÁªëÂÆöÁõëÂê¨‰∏çÊòØÂøÖÈ°ªÂÆûÁé∞ÁöÑ &#125;&#125;; Â§öÁ±ªÂûãÈÄÇÈÖç1234567891011121314151617181920212223//ÂÆû‰ΩìÁ±ªÈúÄË¶ÅÂÆûÁé∞QuickInterfaceÊé•Âè£QuickTypeAdapter&lt;Demo&gt; typeAdapter = new QuickTypeAdapter&lt;Demo&gt;(BaseApplication.getInst(), data) &#123; @Override public void bindData4View(ViewHolder holder, Demo data, int type, int pos) &#123; switch (type) &#123; case Demo.CODE_DETAIL: holder.setText(R.id.item_quickadapter_type_title, data.getmDemoTitle()); break; case Demo.JUST_TEST: holder.setText(R.id.item_quickadapter_title, data.getmDemoTitle()); break; &#125; &#125; @Override public void bindListener4View(ViewHolder holder, Demo data, int type, int pos) &#123; //Âú®ËøôÈáåÁªôÂÜÖÈÉ®Êéß‰ª∂ÁªëÂÆöÁõëÂê¨‰∏çÊòØÂøÖÈ°ªÂÆûÁé∞ÁöÑ &#125; &#125;;//Ê∑ªÂä†ÊØèÁßçÁ±ªÂûãÁöÑxmlÊñá‰ª∂typeAdapter.addType(Demo.CODE_DETAIL, R.layout.item_quickadapter_type) .addType(Demo.JUST_TEST, R.layout.item_quickadapter); Âä†ËΩΩÁΩëÁªúÂõæÁâá ÂèØ‰ª•ÊèêÂâçÂàõÂª∫ÂõæÁâáÂä†ËΩΩÂ∑•ÂÖ∑,ÁÑ∂ÂêéË∞ÉÁî®ViewHodler.setImg()ÊñπÊ≥ïÂèØ‰ª•Áõ¥Êé•Âä†ËΩΩ 12345678//‰Ω†ÂèØ‰ª•Âú®ActivityÊàñËÄÖApplicationË∞ÉÁî®ËøôÊÆµ‰ª£Á†ÅËøõË°åÂÖ®Â±ÄÈÖçÁΩÆ,Á¨¨‰∫åÊ¨°Ë∞ÉÁî®‰ºöÂ∞Ü‰ª•ÂâçÁöÑËÆæÁΩÆË¶ÜÁõñ,ÊâÄ‰ª•Âè™ÈúÄË¶ÅÊâßË°å‰∏ÄÊ¨°Quick.init(new Quick.QuickLoad() &#123; @Override public void load(Context context, String url, ImageView view) &#123; Log.e("chendong","Âä†ËΩΩÂõæÁâá"); Glide.with(context).load("http://www.fresco-cn.org/static/fresco-logo.png").into(view); &#125; &#125;); Êõ¥Êñ∞‰ΩøÁî®ÊñπÊ≥ï12345678910111213//DemoÁ±ªÊòØÊàëÁöÑÂÆû‰ΩìÁ±ª//Â¶ÇÊûú‰Ω†‰ΩøÁî®ÁöÑÊéß‰ª∂ViewHolderÊ≤°Êúâ‰∏∫‰Ω†ÈõÜÊàê,Â¶Ç‰ΩïÈÅøÂÖçÂº∫ËΩ¨?‰ΩøÁî®Ê≥õÂûãËß£ÂÜ≥ holder.&lt;Button&gt;getView(R.id.abc).setText("");//ËÆæÁΩÆÁõëÂê¨‰∫ã‰ª∂public ViewHolder setLis(int resId,View.OnClickListener listener,Object tag)//Â∏¶ÊúâtagÁõëÂê¨public ViewHolder setLis(int resId,View.OnClickListener listener)//‰∏çÂ∏¶tagÁõëÂê¨public ViewHolder setTag(int resId, Object tag)//ÁªôÊéß‰ª∂ËÆæÁΩÆtagpublic &lt;T&gt; T getTag(int resId)//‰ªéViewHolderËé∑Âèñtag,ÂåÖÂê´Ê≥õÂûã,‰Ω†ÂèØ‰ª•ËøôÊ†∑holder.&lt;Demo&gt;getTag(R.id.xxx)//Â¶ÇÊûú‰Ω†Âú®Êéß‰ª∂‰∏≠ËÆæÁΩÆ‰∫Ütag,ÂΩì‰Ω†Âú®ÈÄÇÈÖçÂô®Â§ñÈÉ®‰ΩøÁî®tagÊó∂Âä°ÂøÖ‰ΩøÁî®ÊîπÊñπÊ≥ïËé∑Âèñ,Áî®Êù•Êõø‰ª£view.getTag()ÊñπÊ≥ï,ÂåÖÂê´Ê≥õÂûã,‰Ω†ÂèØ‰ª•ËøôÊ†∑Áî® Quick.&lt;Demo&gt;getTagOutOfAdapter(listView);Quick.getTagOutOfAdapter(View view)]]></content>
      <categories>
        <category>Android</category>
        <category>Adapter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ListView</tag>
        <tag>Adapter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®AndroidÂπ≥Âè∞‰∏ãÂêàÊàêGif]]></title>
    <url>%2Farticle%2F3121499733%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰ªãÁªçÂú® Android Âπ≥Âè∞‰∏ãÂêàÊàê GIF ÁöÑÊñπÊ≥ïÔºåÊü•ÈòÖËµÑÊñôÁöÑËøáÁ®ã‰∏≠ÂèëÁé∞Â§ßËá¥Êúâ‰∏§ÁßçÊñπÊ°à„ÄÇ ‰ΩøÁî® giflen (‰∏Ä‰∏™ C ÁöÑÂêàÊàê gif ÁöÑÂ∫ì) ËøõË°å gif ÂêàÊàê„ÄÇ ‰ΩøÁî® java Â±ÇÁöÑ GifEncoder„ÄÅLZWEncoder„ÄÅNeuQuant Êù•ËøõË°å gif ÂêàÊàê„ÄÇ ÂΩìÁÑ∂‰∫åËÄÖÈÉΩÊòØÂü∫‰∫é LZW ÁÆóÊ≥ïÔºåÁÆÄÂçïÊµãËØïÁöÑÁªìÊûúÊòØÔºåÈÄüÂ∫¶‰∏äÂ∑Æ‰∏çÂ§öÔºåÁî±‰∫éÂØπ C ‰∏çÊòØÂæàÊìÖÈïøÔºåÂõ†Ê≠§ÊàëÈÄâÊã©‰∫Ü java Â±ÇËøõË°åÂêàÊàêÁöÑÊñπÊ≥ïÔºå‰ΩÜÊòØ‰∏§ÁßçÊñπÊ≥ïÈÄüÂ∫¶‰∏äÈÉΩÊòØ ÂæàÊÖ¢ÂæàÊÖ¢ üò≠„ÄÇ Âõ†Ê≠§Êú¨ÊñáËøòÂ∞Ü‰ºö‰ΩøÁî®Â§öÁ∫øÁ®ãÁã¨Á´ãÁºñÁ†ÅÁöÑÊñπÊ≥ïÊù•ËøõË°å‰ºòÂåñÔºåÊØèÂ∏ßÂõæÁâáÂπ∂Ë°åÁºñÁ†ÅÔºåÂä†Âø´ÂêàÊàêÈÄüÂ∫¶ÔºåÁé∞Âú®ÁöÑÊàêÊûúÊòØ 600 * 450 ÁöÑÂõæÁâá 20 Âº†ÁöÑËØùÔºåÊó∂Èó¥Â§ßÁ∫¶Âú® 12s Â∑¶Âè≥„ÄÇ Êú¨ÊñáÁõ∏ÂÖ≥Ê∫êÁ†ÅÂú® GitHub - GifMaker ‰ΩøÁî® giflen ÂêàÊàê‰ΩøÁî® jni ÂêàÊàêÔºåÊÑüÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶ÂèØ‰ª• google ‰∏Ä‰∏ã giflen Ëøô‰∏™Â∫ìÔºåËøôÈáåÊúâ‰∏Ä‰∏™ÁºñËØëÂ•ΩÁöÑ so Âíå jar Êñá‰ª∂Ôºå‰ª•ÂèäÁõ∏ÂÖ≥ C Ê∫êÁ†ÅÔºåÂ§á‰ªΩÂú® GitHub ‰∏äÔºåÊúâÈúÄË¶ÅÁöÑÂêåÂ≠¶ÂèØ‰ª•Áõ¥Êé•‰∏ãËΩΩ‰ΩøÁî®„ÄÇÁªèËøáÊàëÁöÑÁÆÄÂçïÂ∞ùËØïÂèëÁé∞Ôºå‰ΩøÁî® so ÂêàÊàêÁöÑÈÄüÂ∫¶Âíå java ÂêàÊàêÁöÑÈÄüÂ∫¶Â∑Æ‰∏çÂ§öÔºåÈÉΩÊòØÊÖ¢ÁöÑË¶ÅÊ≠ª‚Ä¶ ‰ºòÂåñÂêéÁöÑ java ÂêàÊàêÂéüÂßãÁöÑÂêàÊàêÊñπÊ≥ïÔºåÁúüÁöÑÊÖ¢‚Ä¶ÁâπÂà´ÊÖ¢ÔºåÁÆÄÁõ¥‰∏çËÉΩÂøç„ÄÇ ÂéüÂßãÁöÑÂêàÊàêÊñπÊ≥ïÊòØÂ∞ÜÊØè‰∏Ä‰∏™ Bitmap ‰ΩøÁî® LZWEncoder ËøõË°åÁºñÁ†ÅÔºåÁî±‰∫éÊòØ‰∏Ä‰∏™‰∏≤Ë°åÁöÑÈÄªËæëÔºåÂêéÈù¢ÁöÑÂõæÁâáÈúÄË¶ÅÁ≠âÂæÖÂâçÈù¢ÁöÑÁºñÁ†ÅÂÆåÊàêÊâçÂèØ‰ª•ÁªßÁª≠‰∏ã‰∏ÄÂº†ÁºñÁ†ÅÔºå‰ºòÂåñÂêéÁöÑÈÄªËæëÊòØÂêØÂä®‰∏Ä‰∏™Á∫øÁ®ãÊ±†ÔºåÊØèÂº†ÂõæÁâáÁã¨Á´ãÁºñÁ†ÅÔºåÊúÄÂêéÂú®ÊâÄÊúâÂõæÁâáÁºñÁ†ÅÂÆåÊàê‰πãÂêéËæìÂá∫ÊµÅÂêàÂπ∂ÔºåËæìÂá∫Âà∞Êñá‰ª∂‰∏≠ÔºåÂ∞±ÂÆåÊàê‰∫Ü gif ÁöÑÂêàÊàê„ÄÇ Áº∫ÁÇπÔºöÂ§ßÈáèÁöÑ Bitmap ÊåÅÊúâÂú®ÂÜÖÂ≠ò‰∏≠Âπ∂Ë°åÁºñÁ†ÅÔºåÂèØËÉΩ‰ºö OOMÔºå‰∏çËøáÊàëÊµãËØï 20 Âº† 450 * 600 ÁöÑÂõæÁâáÔºåÊöÇÊó∂Ê≤°ÊúâÂá∫Áé∞ÈóÆÈ¢ò„ÄÇÂêàÊàêÁöÑÂõæÁâáË¶ÅÊ±ÇÂÆΩÈ´òÂ∫îËØ•ÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂΩìÁÑ∂‰ΩøÁî®ÂÆΩÈ´ò‰∏ç‰∏ÄËá¥ÁöÑÂõæÁâá‰πü‰∏ç‰ºöÊúâÈóÆÈ¢òÔºå‰ΩÜÊòØ‰ºö‰ºòÂÖà‰ΩøÁî®Á¨¨‰∏ÄÂº†ÁöÑÂõæÁâáÁöÑÂÆΩÈ´ò‰Ωú‰∏∫ gif ÁöÑÂÆΩÈ´òÔºåÂá∫Êù•ÁöÑÂõæÁâáÂ∞±Êúâ‰∫õÂ∞¥Â∞¨ÔºåÂõ†Ê≠§ÂõæÁâáÁöÑËΩ¨Êç¢ÂíåÂ§ÑÁêÜÈúÄË¶ÅÂú®Â§ñÈù¢ÂÆåÊàê„ÄÇ ÁÆÄÂçïÊºîÁ§∫12345678910111213private void composeGif(List&lt;Bitmap&gt; bitmaps) &#123; String absolutePath = new File(Environment.getExternalStorageDirectory() , System.currentTimeMillis() + ".gif").getAbsolutePath(); new GifMaker(100, mExecutorService) .makeGifInThread(bitmaps, absolutePath, new GifMaker.OnGifMakerListener() &#123; @Override public void onMakeGifSucceed(String outPath) &#123; if (!isFinishing()) &#123; GlideUtils.with(mActivity, outPath).into(mImageView); &#125; &#125; &#125;);&#125; Áúã‰∏Ä‰∏ãËæìÂá∫ÁöÑÁªìÊûúÔºå20 Âº†Â§ßÁ∫¶Áª¥ÊåÅÂú® 12s Â∑¶Âè≥ 123456789101112131415161718192021I/GifMaker: ÂÆåÊàêÁ¨¨10Â∏ß,ËÄóÊó∂:9.594 s - bitmap [600,450]I/GifMaker: ÂÆåÊàêÁ¨¨11Â∏ß,ËÄóÊó∂:9.774 s - bitmap [600,450]I/GifMaker: ÂÆåÊàêÁ¨¨18Â∏ß,ËÄóÊó∂:9.880 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨9Â∏ß,ËÄóÊó∂:10.41 s - bitmap [600,450]I/GifMaker: ÂÆåÊàêÁ¨¨17Â∏ß,ËÄóÊó∂:10.145 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨16Â∏ß,ËÄóÊó∂:10.331 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨6Â∏ß,ËÄóÊó∂:10.586 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨5Â∏ß,ËÄóÊó∂:10.557 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨8Â∏ß,ËÄóÊó∂:10.701 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨15Â∏ß,ËÄóÊó∂:10.715 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨4Â∏ß,ËÄóÊó∂:10.736 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨1Â∏ß,ËÄóÊó∂:10.835 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨19Â∏ß,ËÄóÊó∂:10.842 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨13Â∏ß,ËÄóÊó∂:10.940 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨0Â∏ß,ËÄóÊó∂:10.944 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨14Â∏ß,ËÄóÊó∂:10.967 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨3Â∏ß,ËÄóÊó∂:10.989 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨12Â∏ß,ËÄóÊó∂:10.994 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨2Â∏ß,ËÄóÊó∂:10.994 s - bitmap [450,600]I/GifMaker: ÂÆåÊàêÁ¨¨7Â∏ß,ËÄóÊó∂:11.148 s - bitmap [450,600]I/GifMaker: ÂêàÊàêÂÆåÊàê,ËÄóÊó∂:11.167 s]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁâ©ÁêÜÊåâÈîÆÂèäÁâ©ÁêÜËøûÊé•]]></title>
    <url>%2Farticle%2F4013192295%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªç Android ÊâãÊú∫Áâ©ÁêÜÊåâÈîÆËß¶ÂèëÁõëÂê¨Ôºå‰ª•ÂèäÂ§ñÊé•ËìùÁâôÔºåËÄ≥Êú∫Á≠âËÆæÂ§áÁöÑÊ£ÄÊµã„ÄÇ ‰∫ã‰ª∂ÂàÜÂèë Êã¶Êà™ÊåâÈîÆÊåâ‰∏ãÊä¨Ëµ∑Êó∂ÁöÑ‰∫ã‰ª∂ÂàÜÂèë 12345678@Override public boolean dispatchKeyEvent(KeyEvent event) &#123; //Â¶ÇÊûúÊòØÈïøÊåâ‰∫ã‰ª∂‰∫§ÁªôonKeyLongPressÂ§ÑÁêÜ if (event.getRepeatCount() &gt; 0) return onKeyLongPress(event.getKeyCode(), event); return super.dispatchKeyEvent(event); &#125; ËøîÂõûÊåâÈîÆ12345//ËøîÂõûÈîÆÁöÑÁõëÂê¨ÂæàÂ∏∏ËßÅÔºåandroidÊèê‰æõ‰∫ÜÁÆÄ‰æøÁöÑÊñπÊ≥ï@Overridepublic void onBackPressed() &#123; finishThisPage();&#125; ÊåâÈîÆÊåâ‰∏ã‰∫ã‰ª∂Â§ÑÁêÜ (Èü≥ÈáèÔºåËÄ≥Êú∫ÊåâÈîÆÔºåbackÈîÆ) 123456789101112131415161718192021222324//homeÈîÆÂíåpowerÈîÆÊ≤°ÊúâÁõëÂê¨Âà∞//ÊàëÂΩìÊó∂ÈúÄË¶ÅÁöÑÊòØÈü≥ÈáèÈîÆÂíåËÄ≥Êú∫ÊåâÈîÆÂèØ‰ª•ÊãçÁÖßÔºåÊòØÂèØ‰ª•ÁõëÂê¨Âà∞ÁöÑ@Override public boolean onKeyDown(int keyCode, KeyEvent event) &#123; L.info(event.toString()); switch (keyCode) &#123; case KeyEvent.KEYCODE_VOLUME_DOWN: L.info("KEYCODE_VOLUME_DOWN-Èü≥ÈáèÈîÆÂáèÂ∞èÂ£∞Èü≥"); return true; case KeyEvent.KEYCODE_VOLUME_UP: L.info("KEYCODE_VOLUME_UP-Èü≥ÈáèÈîÆÂ¢ûÂä†Â£∞Èü≥"); return true; case KeyEvent.KEYCODE_VOLUME_MUTE: L.info("KEYCODE_VOLUME_MUTE-Èü≥ÈáèÈîÆÈùôÈü≥"); return true; case KeyEvent.KEYCODE_HEADSETHOOK: L.info("KEYCODE_HEADSETHOOK-ËÄ≥Êú∫Á∫øÊåâÈîÆ"); return true; case KeyEvent.KEYCODE_BACK: L.info("KEYCODE_BACK-ËøîÂõûÈîÆ"); return true; &#125; return super.onKeyDown(keyCode, event); &#125; ÂÖ∂‰ªñ‰∫ã‰ª∂1234567891011121314151617181920212223242526272829303132// ‰ΩøÁî®Âø´Êç∑ÈîÆÂèØ‰ª•Âø´ÈÄüÈÄâ‰∏≠ËèúÂçï‰∏≠ÁöÑÊüê‰∏ÄÈ°πÔºåÂú®AndroidÊ≤°Êúâ‰ªÄ‰πàÂçµÁî®@Override public boolean onCreateOptionsMenu(Menu menu) &#123; MenuItem add = menu.add(""); add.setShortcut('A','A'); return super.onCreateOptionsMenu(menu); &#125;@Override public boolean onKeyShortcut(int keyCode, KeyEvent event) &#123; L.info("onKeyShortcut " + event.toString()); return super.onKeyShortcut(keyCode, event); &#125;@Override public boolean onKeyLongPress(int keyCode, KeyEvent event) &#123; L.info("onKeyLongPress " + event.toString()); return super.onKeyLongPress(keyCode, event); &#125; //ÊöÇÊó∂Ê≤°ÊúâÁî®Âà∞ÔºåÁΩë‰∏äÊúâËØ¥Âú®ÊâãÂÜôÂíåÊ±âÂ≠óËæìÂÖ•Êó∂‰ºöËß¶Âèë@Override public boolean onKeyMultiple(int keyCode, int repeatCount, KeyEvent event) &#123; L.info("onKeyMultiple " + event.toString()); return super.onKeyMultiple(keyCode, repeatCount, event); &#125;//ÊåâÈîÆÊä¨Ëµ∑Êó∂‰ºöËß¶Âèë@Override public boolean onKeyUp(int keyCode, KeyEvent event) &#123; L.info("onKeyUp " + event.toString()); return super.onKeyUp(keyCode, event); &#125; Â§ñËÆæÁõëÊµã Ê£ÄÊµãËÄ≥Êú∫Á∫øÔºåËìùÁâôËÄ≥Êú∫ÊòØÂê¶ËøûÊé• 1234567891011121314151617181920212223242526272829303132private boolean checkControlIsConnected() &#123; //Ê£ÄÊµãËÄ≥Êú∫Á∫øÊòØÂê¶ËøûÊé• AudioManager am = (AudioManager) getSystemService(AUDIO_SERVICE); //Ëøô‰∏™ÊñπÊ≥ïÂ∑≤ÁªèËøáÊó∂Ôºåapi‰ªãÁªç‰ªÖ‰ªÖÁî®Êù•Ê£ÄÊµãÊòØÂê¶ËøûÊé•ÔºåÂèØ‰ª•Ê≥®ÂÜåÂπøÊí≠Êé•Êî∂ËÄÖÊé•ÂèóËÄ≥Êú∫ÊèíÊãîÁöÑÂπøÊí≠ if (am.isWiredHeadsetOn()) &#123; //ËÄ≥Êú∫ÊèíÂÖ• return true; &#125; //Ê£ÄÊµãËìùÁâôËÆæÂ§áÊòØÂê¶ËøûÊé• BluetoothAdapter ba = BluetoothAdapter.getDefaultAdapter(); //ËìùÁâôÈÄÇÈÖçÂô®ÊòØÂê¶Â≠òÂú®ÔºåÂç≥ÊòØÂê¶ÂèëÁîü‰∫ÜÈîôËØØ if (ba == null || !ba.isEnabled()) &#123; //ËìùÁâô‰∏çÂèØÁî® return false; &#125; else if (ba.isEnabled()) &#123; Set&lt;BluetoothDevice&gt; bondedDevices = ba.getBondedDevices(); if (bondedDevices == null || bondedDevices.size() &lt;= 0) &#123; //ÂΩìÂâçÊ≤°ÊúâËÆæÂ§áËøûÊé• return false; &#125; else &#123; for (BluetoothDevice d : bondedDevices) &#123; if (d.getBondState() == BluetoothDevice.BOND_BONDED) &#123; //ÂΩìÂâçÊúâËÆæÂ§áÊé•ÂÖ•Âπ∂Â§Ñ‰∫éËøûÊé•Áä∂ÊÄÅ return true; &#125; &#125; &#125; &#125; return false; &#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PythonÂºÄÂèë-1-Âü∫Á°Ä]]></title>
    <url>%2Farticle%2F1811789999%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä Êàë‰ΩøÁî®ÁöÑPycharmÁºñËØëÂô®ÔºåÂàöÂºÄÂßãÂ∞±ÈÅáÂà∞‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢òÔºå‰∏çËÉΩËæìÂÖ•‰∏≠ÊñáÔºåËß£ÂÜ≥ÂäûÊ≥ïÂ∞±ÊòØÂú®Êñá‰ª∂Â§¥ÈÉ®Ê∑ªÂä†‰ª£Á†Å#-*- coding:utf8 -*- Python‰∫§‰∫í12345678910111213141516171819# ‰ΩøÁî®python‰∫§‰∫íÊ®°Âºè# Âú®ÂëΩ‰ª§Ë°åÁïåÈù¢ËæìÂÖ•ÔΩÄpythonÔΩÄËøõÂÖ•‰∫§‰∫íÊ®°Âºè# ÔΩÄhelp()ÔΩÄËøõÂÖ•Â∏ÆÂä©Ê®°Âºè# Â∞ùËØïÔΩÄkeywordsÔΩÄËé∑ÂèñÂÖ≥ÈîÆÂ≠óÂ∏ÆÂä©#ÔΩÄhelp("modules")ÔΩÄÊü•Áúãmodules# ÔΩÄquitÔΩÄ ÈÄÄÂá∫Â∏ÆÂä©Ê®°Âºè#dir(object) ÂÆÉËøîÂõû‰º†ÈÄíÁªôÂÆÉÁöÑ‰ªª‰ΩïÂØπË±°ÁöÑÂ±ûÊÄßÂêçÁß∞ÁªèËøáÊéíÂ∫èÁöÑÂàóË°®#dir()ÂΩìÂâçÂÄíÂÖ•ÁöÑÊ®°Âùó#‰∏ãÈù¢‰ª•ÂÜÖÂª∫ÂáΩÊï∞id‰∏∫‰æã#Ëé∑ÂèñÊñáÊ°£‰ªãÁªç,ÔΩÄid.__doc__ÔΩÄ#Ëé∑ÂèñÂêçÁß∞,Âπ∂‰∏çÊòØÊâÄÊúâÁöÑÈÉΩÊúâ`id.__name__`Â±ûÊÄß#`hasattr(dir,'__doc__')`,`getattr(dir,'__doc__')`Ëé∑Âèñ‰∏Ä‰∏™ÂØπË±°ÁöÑÂ±ûÊÄß#callableÂèØË∞ÉÁî®ÊÄß`callable("a")` false,`callable(dir)` true#`isinstance("python", str)`,`issubclass(child.father)` Êï∞ÊçÆÁ±ªÂûã12345678# ÂàóË°®(ÂêåÁ±ªÂûãÊï∞ÊçÆÊûÑÊàêÁöÑÊï∞ÁªÑ)list Ôºù Ôºª1Ôºå2Ôºå3Ôºå4ÔºΩ# ÂÖÉÁªÑÔºàÊï∞ÊçÆÁ±ªÂûãÂèØ‰ª•‰∏çÂêåÔºåÁÆÄÂçïÊñπ‰æøÁöÑÊï∞ÊçÆËÅöÂêàÔºåÁ±ª‰ººÁªìÊûÑ‰ΩìÔºâtuple = (1,"second",1.2)# setÔºàÊï∞ÊçÆ‰∏çÈáçÂ§çÔºå‰ΩøÁî®listÊûÑÂª∫ÔºåÊó†Â∫èÔºå‰∏çËÉΩ‰ΩøÁî®Á¥¢ÂºïËÆøÈóÆÔºâset = set([1,2,3,4])# Â≠óÂÖ∏ÔºàÈîÆÂÄºÂØπÂ≠òÂÇ®Êï∞ÊçÆÔºâdict Ôºù ÔΩõ"a":"b","c":"d"ÔΩù Âü∫Á°ÄËØ≠Ê≥ï123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218# ÊâìÂç∞# Ëá™Âä®ËøΩÂä†Êç¢Ë°åÁ¨¶print "hello world"# Â∞Ü‰∏ç‰ºöÊâìÂç∞Êç¢Ë°åÁ¨¶Âè∑print "hello world",ÔºÉ ‰ΩøÁî®ÂåπÈÖçÁ¨¶num = 100num2 = 200print "num is %d"%numprint "num is %d,num2 is %d"%(num,num2)# ÂÜÖÂª∫ÂáΩÊï∞id()Âíåtype()a = 3# Ëé∑ÂèñÂÜÖÂ≠òÂú∞ÂùÄprint "id(a) is ", id(a)# Ëé∑ÂèñÂèòÈáèÁ±ªÂûãprint "type(a) is ", type(a)# ËøêÁÆóÁ¨¶(‰∏§‰∏™ÊØîËæÉÁâπÊÆäÁöÑ)# Á∫ßÊï∞‰πò2ÁöÑ3Ê¨°Êñπprint "use ** = ", 2 ** 3# Èô§ÂêéÂèñÊï¥print "use // = ", 9 // 4# ÈÄªËæëËøêÁÆó and | or | notif a == 0 and b == 0: a = 2# for in Âæ™ÁéØfor i in [1, 2, 3, 4]: print i,# Ê®°ÂùóÁöÑÂØºÂÖ•ÁöÑÂá†ÁßçÊñπÂºèimport mathfrom math import powfrom math import pow,absfrom math import *print pow(10, 3)from math import pow as pingfangprint pingfang(10, 3)# ËµãÂÄº# Â§ö‰∏™ËµãÂÄºÂèØ‰ª•Áõ¥Êé•È°∫Â∫èÂÜôÔºå‰ºöÊå®‰∏™Ëá™Âä®ËµãÂÄºx, y, z = 1, "abc", [1, 2, 3]print x, y, z# Ëá™Âä®ÂàõÂª∫ÂÖÉÁªÑÔºåÂ∞ÜÂêéÈù¢ÁöÑÊï∞ÊçÆ,Ë£ÖÂÖ•ÂÖÉÁªÑxx = 1, 2, 3, 4, "qqq"print xx# ‰∫§Êç¢Êï∞ÊçÆÁöÑÊñπÂºèyy, zz = 3, 4print yy, zzyy, zz = zz, yyprint yy, zz# ÈìæÂºèËµãÂÄº,‰∏§‰∏™ÂèòÈáèÊåáÂêëÁªü‰∏ÄÁ©∫Èó¥,id()‰∏ÄÊ†∑ÁöÑm = n = 123print m, nprint m is n# Âà§Êñ≠ÁªìÊûÑxxx = 1if xxx == 1: print "this is test ", 1elif xxx == 2: print "this is test ", 2else: print "this is test ", 100#Ëé∑ÂèñÊéßÂà∂Âè∞ËæìÂÖ•inputNum = raw_input()# ‰∏âÂÖÉËøêÁÆó# A = X if B else Y# Â¶ÇÊûúB‰∏∫Áúü,ÊâßË°åA = X,Âê¶ÂàôÊâßË°åA = Ymm, nn = 1, 2rstStr = "abc" if mm &gt; nn else "def"print rstStr# forÂæ™ÁéØÂíåÂÜÖÂª∫ÂáΩÊï∞range(start,stop,step),range(start,stop,1),range(0,stop,1)ËøîÂõûÁöÑÊòØÊï∞Â≠óÂÖÉÁ¥†ÁöÑÂàóË°®startÂºÄÂßã,stopÁªìÊùü,ÊØèÊ¨°Â¢ûÂä†step‰∏™strx = "abcdefg"for i in range(len(strx)): print strx[i],range(9)range(3, 9)range(3, 9, 4)ÔºÉ ‰∏Ä‰∏™ÂèØËø≠‰ª£ÁöÑÂØπË±°ÂèØ‰ª•Áõ¥Êé•ËΩ¨Êç¢‰∏∫Â∫èÂàóÂØπË±°print list(strx)print set(strx)print tuple(strx)# ÈÅçÂéÜÂ≠óÂÖ∏dictStr = &#123;"a": "b", "c": "d"&#125;# ‰∏çÂª∫ËÆÆ‰ΩøÁî®,ÊïàÁéáÁõ∏ÂØπ‰Ωéfor key in dictStr: print "1key value is ", key, dictStr[key]# ÈÅçÂéÜkeyfor key in dictStr.keys(): print "2key value is ", key, dictStr[key] for key, value in dictStr.items(): print "3key value is ", key, value# Êõ¥‰ºòfor key, value in dictStr.iteritems(): print "4key value is ", key, value # ÂçïÁã¨Âèñvalue‰ΩøÁî®‰∏ãÈù¢ÁöÑÊñπÊ≥ïÊïàÁéáÊõ¥È´òfor value in dictStr.values(): print "5value is ", value# ÂÜÖÂª∫ÂáΩÊï∞zip(),Â∞Ü‰∏§‰∏™Â∫èÂàóÊï∞ÊçÆÁ±ªÂûã,ÊØè‰∏ÄÈ°πÂèñÂá∫Êù•,ÂêàÂπ∂‰∏∫‰∏Ä‰∏™ÂÖÉÁªÑ,ÊûÑÊàêÂÖÉÁªÑÁöÑliststr1 = "abcdef"str2 = "12345"print zip(str1, str2, str2)# [('a', '1', '1'), ('b', '2', '2'), ('c', '3', '3'), ('d', '4', '4'), ('e', '5', '5')]# ‰∫§Êç¢key,value,ÊØè‰∏™itemÊòØ‰∏§‰∏™ÂÖÉÁ¥†ÁöÑtupleÁöÑlistÂèØ‰ª•Áõ¥Êé•ËΩ¨Êç¢‰∏∫dictdict1 = &#123;"a": "1", "b": "2", "c": "3"&#125;print dict(zip(dict1.values(), dict1.keys()))# ÂÜÖÂª∫ÂáΩÊï∞enumerate()ÁîüÊàêÁöÑÊòØÔºàitem‰∏∫‰∏ãÊ†áÂíåÂÖÉÁ¥†ÊûÑÊàêÁöÑ‰∏§ÂÖÉÂÖÉÁªÑÔºâÁöÑÂèØËø≠‰ª£ÂØπË±°ÔºåÂèØ‰ª•Áõ¥Êé•ËΩ¨Êç¢‰∏∫ÂàóË°®mList = ["a", "b", "c", "d", "e"]for (i, j) in enumerate(mList): print i, " -- ", jprint list(enumerate(mList, start=1))#[(1, 'a'), (2, 'b'), (3, 'c'), (4, 'd'), (5, 'e')]# ÊõøÊç¢Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÂ≠óÁ¨¶,Â≠óÁ¨¶‰∏≤Ê≠£ÂàôÂàÜÂâ≤originStr = "Do u like Canglaoshi? Canglaoshi is a good teather!"splitStrs = originStr.split(" ")for i, s in enumerate(splitStrs): if "Canglaoshi" in s: splitStrs[i] = "Python"# listËß£Êûê,ÂéªÊéâÂÖÉÁ¥†ÂâçÂêéÁ©∫Ê†º,listËß£ÊûêÂèØ‰ª•ÁÆÄÂçïÂø´Êç∑ÁöÑ‰øÆÊîπÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÁîüÊàêÊñ∞ÁöÑlistoriginList = [" abc", " vbf ", "rtg "]afterList = [one.strip() for one in originList]print afterList# listÂàáÁâá[start = 0,stop = len(list),step = 1],‰∏Ä‰∏™ÁÆÄÂçï‰ªélistÊèêÂèñÈÉ®ÂàÜÊï∞ÊçÆÁöÑÊñπÂºèlist2cut = [1,2,3,4,5,6,7]listRst = list2cut[0:5:2]print "list2Rst is " ,listRst# ‰∏Ä‰∏™ÁåúÊï∞Â≠óÁöÑÂ∞èÁ®ãÂ∫èÔºåÁÆÄÂçï‰ªãÁªçÂæ™ÁéØÁªìÊûÑÂíåÂà§Êñ≠ÁªìÊûÑÁöÑÁÆÄÂçïÂÆûÁî®import randomnumber = random.randint(1,100)while(True): print "ËØ∑ËæìÂÖ•‰∏Ä‰∏™Êï∞Â≠ó,ÁåúÊµãÁ∫¶ÂÆöÁöÑÊï∞Â≠óÊòØÂ§öÂ∞ë?" input = raw_input() if (int)(input) == number: print "Ê≠£Á°Æ!" break elif (int)(input) &lt; number: print "Â§™Â∞è‰∫Ü!" else: print "Â§™Â§ß‰∫Ü!"# for... else Âíå while... else# Ë∑≥Âá∫Âæ™ÁéØÁªìÊûÑ‰πãÂêéÊâßË°åelseËØ≠Âè•for i in range(1,100): print i,else: print "end"# Ëø≠‰ª£list2Iter = [1,2,3,4,5,6]iterIt = iter(list2Iter)# ËøôÈáå‰ºöÊèêÁ§∫‰∏Ä‰∏™Ë≠¶Âëäwhile True: print iterIt.next()# Êñá‰ª∂Ëø≠‰ª£#fÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™ÂèØ‰ª•Ëø≠‰ª£ÁöÑÂØπË±°,ÂèØ‰ª•‰ΩøÁî®ÂàóË°®Êìç‰Ωúlist2File = [line for line in open(fileName)]print "list2File is ",list2File# ÂèØ‰ª•Êõ¥ÁÆÄÂçïlist2File = list(open(fileName))print "list2File2 is ",list2File Êñá‰ª∂ÁÆÄÂçïÊìç‰Ωú12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455Êñá‰ª∂Êìç‰ΩúfileName = "/Users/march/123.txt"# ‰ª•‰∏ÄÁßçÊ®°ÂºèÊâìÂºÄÊñá‰ª∂Ëé∑ÂèñÂèØËø≠‰ª£Á¥¢Âºïfile = open(fileName, "rw")for line in file: print line,file.close()#ÊâìÂºÄÊñá‰ª∂ÁöÑÊ®°Âºèr ‰ª•ËØªÊñπÂºèÊâìÂºÄÊñá‰ª∂ÔºåÂèØËØªÂèñÊñá‰ª∂‰ø°ÊÅØ„ÄÇw ‰ª•ÂÜôÊñπÂºèÊâìÂºÄÊñá‰ª∂ÔºåÂèØÂêëÊñá‰ª∂ÂÜôÂÖ•‰ø°ÊÅØ„ÄÇÂ¶ÇÊñá‰ª∂Â≠òÂú®ÔºåÂàôÊ∏ÖÁ©∫ËØ•Êñá‰ª∂ÔºåÂÜçÂÜôÂÖ•Êñ∞ÂÜÖÂÆπa ‰ª•ËøΩÂä†Ê®°ÂºèÊâìÂºÄÊñá‰ª∂ÔºàÂç≥‰∏ÄÊâìÂºÄÊñá‰ª∂ÔºåÊñá‰ª∂ÊåáÈíàËá™Âä®ÁßªÂà∞Êñá‰ª∂Êú´Â∞æÔºâÔºåÂ¶ÇÊûúÊñá‰ª∂‰∏çÂ≠òÂú®ÂàôÂàõÂª∫r+ ‰ª•ËØªÂÜôÊñπÂºèÊâìÂºÄÊñá‰ª∂ÔºåÂèØÂØπÊñá‰ª∂ËøõË°åËØªÂíåÂÜôÊìç‰Ωú„ÄÇw+ Ê∂àÈô§Êñá‰ª∂ÂÜÖÂÆπÔºåÁÑ∂Âêé‰ª•ËØªÂÜôÊñπÂºèÊâìÂºÄÊñá‰ª∂„ÄÇa+ ‰ª•ËØªÂÜôÊñπÂºèÊâìÂºÄÊñá‰ª∂ÔºåÂπ∂ÊääÊñá‰ª∂ÊåáÈíàÁßªÂà∞Êñá‰ª∂Â∞æ„ÄÇb ‰ª•‰∫åËøõÂà∂Ê®°ÂºèÊâìÂºÄÊñá‰ª∂ÔºåËÄå‰∏çÊòØ‰ª•ÊñáÊú¨Ê®°Âºè„ÄÇËØ•Ê®°ÂºèÂè™ÂØπ Windows Êàñ Dos ÊúâÊïàÔºåÁ±ª Unix ÁöÑÊñá‰ª∂ÊòØÁî®‰∫åËøõÂà∂Ê®°ÂºèËøõË°åÊìç‰ΩúÁöÑ„ÄÇ# ‰∏çÈúÄË¶ÅÂÖ≥Èó≠ÁöÑÂÆâÂÖ®ÊñπÊ≥ïwith open("/Users/march/123.txt", "a") as ff: ff.write("this is new line")# Ëé∑ÂèñÊñá‰ª∂Áä∂ÊÄÅimport osfileStatus = os.stat(fileName)print fileStatusimport timeprint time.localtime(fileStatus.st_ctime)# ÊåáÂÆösizeÊó∂ËØªÂèñÊåáÂÆösizeÁöÑÊï∞ÊçÆ,Âê¶ÂàôËØªÂèñÂÖ®ÊñáÔºå‰∏ãÈù¢ÁöÑÊâÄÊúâÊñπÊ≥ïÈÉΩÈÅµÂæ™Ëøô‰∏ÄËßÑÂàôfile = open(fileName)# ËØªÂèñÂ≠óËäÇfile.read()file.read(100)# ËØªÂèñ‰∏ÄË°åfile.readline()file.readline(100)# ËØªÂèñÊâÄÊúâÊï∞ÊçÆÂ≠òÂÇ®Âú®ÂàóË°®‰∏≠file.readlines()file.readlines(100)# ÁßªÂä®ÊåáÈíàfile.seek(10)# ÂΩìÂâçÊåáÈíàÁöÑ‰ΩçÁΩÆfile.tell()# Âè¶Â§ñ‰∏ÄÁßçÁÆÄÂåñÁöÑËØªÂèñÊñá‰ª∂ÁöÑÊñπÂºèimport fileinputfor line in fileinput.input(fileName): print "use fileinput print is " , line ÂàóË°®Êìç‰Ωú12345678910111213141516171819charList = ['1A','2','3','4','5','6','7','8','9','10','11','11']strList = ["1","2","3","4","5","6","7","8","9","10","11","11"]charList.append("new_a")#Âú®ÊåáÂÆö‰ΩçÁΩÆÊ∑ªÂä†ÂÖÉÁ¥†,ÊåáÂÆö‰ΩçÁΩÆ‰πãÂêéÁöÑÂÖÉÁ¥†ÂêëÂêéÁßªÂä®‰∏Ä‰∏™,ÈïøÂ∫¶+1charList.insert(1,12)#ÂΩìÂâçÂÖÉÁ¥†Âú®ÂàóË°®‰∏≠ÁöÑ‰ΩçÁΩÆprint("pos of 3 ",charList.index("3"))#ÂΩìÂâçÂÖÉÁ¥†Âú®ÂàóË°®‰∏≠Âá∫Áé∞ÁöÑÊ¨°Êï∞print("total num of 11 ",charList.count('11'))#Â∞ÜÂΩìÂâçÂ≠óÁ¨¶‰∏≤\ÂàóË°®(ÂèØËø≠‰ª£Á±ªÂûãÁöÑÊï∞ÊçÆ)ÊãÜÂàÜÊàêÂçï‰∏™Â≠óÁ¨¶Ê∑ªÂä†Âú®Êú´Â∞æÔºåËøîÂõûÂÄºÊòØnoneprint(charList.extend(strList))#‰ªéÊú´Â∞æÂºπÂá∫‰∏Ä‰∏™ÂÖÉÁ¥†,Êàñ‰ªéÊåáÂÆö‰ΩçÁΩÆÂºπÂá∫,ËøîÂõûÂÄº ÊòØËØ•ÂÖÉÁ¥†print(charList.pop(2))#ÁßªÈô§ÊåáÂÆöÂÖÉÁ¥†,‰∏çËÉΩ‰ΩøÁî®‰∏ãÊ†áÂÅöÂèÇÊï∞charList.remove('1A')#ÂàóË°®ÂèçÂêëcharList.reverse()#ÈíàÂØπÁ¨¨‰∏Ä‰∏™Â≠óÊØçÊàñÊï∞Â≠óÊéíÂ∫è,Êõ¥Â§öÂèÇÊï∞ÊØîËæÉÂ§çÊùÇcharList.sort()]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÂõæÂÉèÂ§ÑÁêÜÁõ∏ÂÖ≥]]></title>
    <url>%2Farticle%2F2699277879%2F</url>
    <content type="text"><![CDATA[BitmapÂíåDrawableËΩ¨Êç¢12345678910111213141516//drawable ËΩ¨ bitmappublic static Bitmap drawableToBitmap(Drawable drawable) &#123; int width = drawable.getIntrinsicWidth(); int height = drawable.getIntrinsicHeight(); Bitmap bitmap = Bitmap.createBitmap(width, height, drawable.getOpacity() != PixelFormat.OPAQUE ? Bitmap.Config.ARGB_8888 : Bitmap.Config.RGB_565); Canvas canvas = new Canvas(bitmap); drawable.setBounds(0, 0, width, height); drawable.draw(canvas); return bitmap; &#125; //bitmap ËΩ¨ drawablepublic static Drawable bitmapToDrawble(Bitmap bitmap,Context mcontext)&#123; Drawable drawable = new BitmapDrawable(mcontext.getResources(), bitmap); return drawable; &#125; Ëé∑ÂèñÂõæÁâáÂàõÂª∫ÁöÑÊó∂Èó¥1234567891011121314151617181920212223//Êñá‰ª∂‰øÆÊîπÁöÑÊó∂Èó¥File file = new File("");file.lastModified();//Ëé∑ÂèñÁÖßÁâáÊãçÊëÑÁöÑÊó∂Èó¥// MediaStore.Images.Media‰∏ãÈù¢ÊúâDATE_TAKEN,DATE_ADD,DATE_MODIFIEDÁöÑÂèÇÊï∞ÔºåÂàÜÂà´ÊòØÁÖßÁâáÊãçÊëÑÁöÑÊó∂Èó¥ÔºåÊ∑ªÂä†Âà∞ContentProviderÁöÑÊó∂Èó¥ÔºåÊúÄÂêé‰øÆÊîπÁöÑÊó∂Èó¥ÔºåÁªèËøáÊµãËØïÊòæÁ§∫ÔºåDATE_TAKENËøô‰∏™Â≠óÊÆµ‰∏ãÈù¢ÁöÑÊó∂Èó¥ÊòØÊúÄÈù†Ë∞±ÁöÑÔºå‰∏çËØ¥‰ªñÊòØ‰∏çÊòØÂáÜÁ°ÆÔºå‰ΩÜÊòØÁ≥ªÁªüÁõ∏ÂÜå‰πüÊòØ‰ΩøÁî®ÁöÑËøô‰∏™Êó∂Èó¥‰Ωú‰∏∫ÁÖßÁâá‰ø°ÊÅØÔºå‰∫≤Êµã„ÄÇÂè¶Â§ñÔºåÊúâË∂£ÁöÑÊòØÔºåÂè™ÊúâDATE_TAKENËøô‰∏™Â≠óÊÆµ‰∏ãÊòØÊØ´ÁßíÁ∫ßÁöÑÔºåÂè¶Â§ñ‰∏§‰∏™ÈÉΩÊòØÁßíÁ∫ßÁöÑ„ÄÇpublic static long getImgCreateTime(Context context, String path) &#123; long createTime = -1; Uri mImageUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI; ContentResolver mContentResolver = context.getContentResolver(); Cursor mCursor = mContentResolver.query(mImageUri, new String[]&#123;MediaStore.Images.Media.DATE_TAKEN&#125;, MediaStore.Images.Media.DATA + "=?", new String[]&#123;path&#125;, MediaStore.Images.Media.DATE_TAKEN); if (mCursor == null) &#123; return -1; &#125; while (mCursor.moveToNext()) &#123; //Ëé∑ÂèñÂõæÁâáÁöÑË∑ØÂæÑ String str = mCursor.getString(mCursor .getColumnIndex(MediaStore.Images.Media.DATE_TAKEN)); createTime = Long.parseLong(str); &#125; return createTime ; &#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HandlerÊ∫êÁ†ÅÂàÜÊûê]]></title>
    <url>%2Farticle%2F541527599%2F</url>
    <content type="text"><![CDATA[Android ‰∏≠‰ΩøÁî® Handler Êù•ËøõË°åÊ∂àÊÅØÁöÑÂ§ÑÁêÜÔºåÂÆÉÊòØ HandlerÊÑèÊÄùÊòØÂ§ÑÁêÜËÄÖÔºåÂÆÉÊòØandroidÁâπÊúâÁöÑÁî®Êù•Ê∂àÊÅØÂ§ÑÁêÜÁöÑ‰∏Ä‰∏™Á±ª„ÄÇ‰ΩøÁî®ÂÆÉÂèØ‰ª•Ëß£ÂÜ≥ÂæàÂ§öandroid‰∏≠Â∏∏ËßÅÁöÑÈóÆÈ¢ò. Handler‰ΩìÁé∞ÁöÑÊòØ‰∏ÄÁßçÊ∂àÊÅØÁöÑÂèëÈÄÅ‰∏éÂ§ÑÁêÜÂºÇÊ≠•ËøõË°åÁöÑÊú∫Âà∂ÔºåÊ∂àÊÅØÂèëÈÄÅÊó∂Âç≥ÂàªËøîÂõûÔºåÂ∞ÜÊ∂àÊÅØÂä†ÂÖ•ÈòüÂàó‰∏≠ÔºåÂè¶‰∏ÄÁ´ØlooperË¥üË¥£Âæ™ÁéØÂèñÂá∫Ê∂àÊÅØËøõË°åÊìç‰Ωú„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØHandlerÂèØ‰ª•ÂèëÈÄÅMessage‰πüÂèØ‰ª•ÂèëÈÄÅRunnableÂØπË±°„ÄÇ‰ΩÜÊòØÊ∂àÊÅØÂ§ÑÁêÜÂøÖÂÆöÊòØÂú®HandlerÊâÄÂú®ÁöÑÁ∫øÁ®ã‰∏≠Ôºå‰πüÂ∞±ÊòØËØ¥UIÁ∫øÁ®ã‰∏≠ÁöÑHandlerÂèëÈÄÅÁöÑÊ∂àÊÅØ‰πüÊòØÂú®UIÁ∫øÁ®ã‰∏≠ÊâßË°åÔºåÊâÄ‰ª•ÂêåÊ†∑‰∏çËÉΩÊâßË°åËÄóÊó∂Êìç‰Ωú„ÄÇ ‰ΩøÁî®Âú∫ÊôØÔºö ÂèëÈÄÅÂª∂Êó∂Ê∂àÊÅØÔºåÊâßË°åÂª∂Êó∂‰ªªÂä°Ôºå‰ΩøÁî®Á∫øÁ®ãÁù°Áú†ÁöÑÊñπÂºèËøá‰∫éÁ≤óÁ≥ô„ÄÇ„ÄÇÈÄöÂ∏∏ÊòØÁî®HandlerÂèëÈÄÅÂª∂Êó∂Ê∂àÊÅØÊàñËÄÖ‰ΩøÁî®TimerÊù•ÂÆåÊàêÂª∂Êó∂Êìç‰Ωú„ÄÇ Âú®Â≠êÁ∫øÁ®ã‚ÄúÊìç‰Ωú‚ÄùUIÔºå‰ºóÊâÄÂë®Áü•Â≠êÁ∫øÁ®ãÊòØ‰∏çËÉΩÊìç‰ΩúUIÁöÑÔºåÊÉ≥Ë¶ÅÂú®Â≠êÁ∫øÁ®ãÁöÑ‰ªªÂä°ÊâßË°åÂÆå‰πãÂêéÊõ¥ÊîπUI,Â∞±ÈúÄË¶ÅÂú®Â≠êÁ∫øÁ®ãÂêë‰∏ªÁ∫øÁ®ãÂèëÈÄÅÊ∂àÊÅØËÆ©‰∏ªÁ∫øÁ®ãÊù•‰øÆÊîπUI„ÄÇ ÁªìÂêàÂºÇÊ≠•‰ªªÂä°ÂÆûÁé∞‰ªªÂä°ÂõûË∞ÉÔºåËøô‰∏™ÂÆûÈôÖ‰∏äÊòØÁ≠âÂêå‰∫é2ÁöÑÔºåÂõ†‰∏∫ÂºÇÊ≠•‰ªªÂä°ÂÜÖÈÉ®‰πüÊòØÂ≠êÁ∫øÁ®ãÔºå‰ΩøÁî®Handler+ÂºÇÊ≠•‰ªªÂä°ÂèØ‰ª•ÂÆûÁé∞ËØ∑Ê±ÇÁöÑÂõûË∞ÉÔºå‰ΩÜÊòØÈÄöÂ∏∏Êàë‰ª¨Êõ¥Âä†ÂÅèÂêë‰∫éÊé•Âè£ÂõûË∞ÉÁöÑÊñπÂºèÔºåËÄå‰∏çÊòØ‰º†ÈÄíHandler„ÄÇ Âú®Â≠êÁ∫øÁ®ã‰∏≠‰ΩøÁî®Handler,ÂØπ‰ªªÂä°ËøõË°å‰∏≤Ë°åÂåñÂ§ÑÁêÜÔºåÂèØ‰ª•Êõ¥Âä†È´òÊïàÁöÑÁÆ°ÁêÜ‰ªªÂä°ÁöÑÊâßË°å„ÄÇ HandlerÂéüÁêÜÂõæËß£Ôºö LooperÁ±ª‰ªãÁªç LooperÁ±ªË¥üË¥£Âú®Ê∂àÊÅØÈòüÂàóÁöÑÂè¶‰∏ÄÁ´ØÂèñÂá∫Ê∂àÊÅØËøõË°åÂ§ÑÁêÜÔºåHandlerÈááÁî®Ê∂àÊÅØÁöÑÂÖàËøõÂÖàÂá∫ÂéüÂàô„ÄÇ ÊàêÂëòÂèòÈáè Looper‰∏≠ÁöÑÊàêÂëòÂèòÈáèThreadLocalÔºåÊèê‰æõÁ∫øÁ®ãÂÜÖÈÉ®ÁöÑÂ±ÄÈÉ®ÂèòÈáèÔºåÂú®Êú¨Á∫øÁ®ãÂÜÖÈöèÊó∂ÈöèÂú∞ÂèØÂèñÔºåÈöîÁ¶ªÂÖ∂‰ªñÁ∫øÁ®ã„ÄÇÊü•‰∫ÜÂæàÂ§öËµÑÊñôÔºåËøôÈáåÊúâÂæàÂ•ΩÁöÑÁöÑËß£ÈáäÔºåÂ§ßÂÆ∂ÂèØ‰ª•ÂéªËÜúÊãú‰∏Ä‰∏ã„ÄÇ LooperÁ±ª‰∏≠ÔºåÈ¶ñÂÖàThreadLocalÂèòÈáèÊòØprivate staticÁöÑÔºåÊØè‰∏™Á∫øÁ®ãÂè™ËÉΩÊúâ‰∏Ä‰∏™LooperÂØπË±°ÔºåÂú®ÊàëÁúãÊù•Ôºå‰ΩøÁî®ThreadLocalÊòØ‰∏∫‰∫ÜÂØπÊØè‰∏™Á∫øÁ®ãÁöÑLooperËøõË°åÁÆ°ÁêÜ„ÄÇ‰ΩøÁî®ThreadLocalÂ≠òÂÇ®LooperÂ∞±ÂèØ‰ª•ÂæàÊñπ‰æøÁöÑÈöîÁ¶ªÂÖ∂‰ªñÁ∫øÁ®ãÈöèÊó∂Â≠òÂèñÊú¨Á∫øÁ®ãÁöÑLooperÂØπË±°ÔºåÁªìÂêàÂêéÈù¢ÁöÑ‰ª£Á†ÅÔºåÂèëÁé∞ÂàõÂª∫LooperÊó∂‰ºö‰ΩøÁî®ÂΩìÂâçÁ∫øÁ®ã‰∏∫ÈîÆÔºåÊñ∞ÂàõÂª∫ÁöÑLooper‰∏∫ÂÄºÂ≠òÊîæÂà∞ThreadLocal‰∏≠Ôºåprepare()Âèà‰ºöËøõË°åÂà§Êñ≠ÊòØÂê¶Â∑≤ÁªèÂàõÂª∫‰∫ÜËØ•Á∫øÁ®ãÁöÑLooper,Ëøô‰πàËØ¥ÂèØËÉΩÊúâ‰∫õÊäΩË±°ÔºåÂª∫ËÆÆÁúãÂÆåÂêéÈù¢ÁöÑ‰ª£Á†ÅÔºåÂÜçÂõûÊù•ÁúãËøôÊÆµ‰πüËÆ∏‰ºöÊõ¥Âä†Ê∏ÖÊô∞‰∏ÄÁÇπ„ÄÇ 123456//ThreadLocal.get() will return null unless you've called prepare().static final ThreadLocal&lt;Looper&gt; sThreadLocal = new ThreadLocal&lt;Looper&gt;();private static Looper sMainLooper; // guarded by Looper.classÔºàË¢´Ëøô‰∏™Á±ª‰øùÊä§Ôºâfinal MessageQueue mQueue;final Thread mThread; ÊûÑÈÄ†ÊñπÊ≥ï ÊûÑÈÄ†ÊñπÊ≥ï,ÁßÅÊúâÂåñÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºåÂπ∂‰∏çÂÖÅËÆ∏Â§ñÈÉ®Ë∞ÉÁî®ÔºåÂÅöÁöÑÊìç‰ΩúÊòØÂàõÂª∫‰∏Ä‰∏™MessageQueueÂíåÂ∞ÜmThreadÂØπË±°ÊåáÂêë‰∫ÜÊú¨Á∫øÁ®ã„ÄÇËøôÈáåÊúâ‰∏™ÈáçË¶ÅÁöÑÂú∞ÊñπÊòØÔºåMessageQueueÊòØLooperÂàõÂª∫Âπ∂È¶ñÂÖàÊåÅÊúâÁöÑ„ÄÇ 1234private Looper(boolean quitAllowed) &#123; mQueue = new MessageQueue(quitAllowed); mThread = Thread.currentThread();&#125; Âú®Looper‰πã‰∏≠Êúâ‰∏Ä‰∏™private static Looper sMainLooper;ÂèòÈáèÔºåËøô‰∏™ÂèòÈáè‰ª£Ë°®‰∏ªÁ∫øÁ®ãÔºàUIÔºâÁöÑLooperÔºåËøô‰πüÂ∞±ÊòØÊàë‰ª¨‰∏çÈúÄË¶ÅÂú®UIÁ∫øÁ®ãÊòæÂºèË∞ÉÁî®Looper.prepare()ÊñπÊ≥ïÁöÑÂéüÂõ†ÔºåÁúã‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂèäÊ≥®ÈáäÔºö 12345678910111213141516171819202122/**//ÂàùÂßãÂåñÂΩìÂâçÁ∫øÁ®ãLooper,Â∞ÜÂÆÉÊ†áËÆ∞‰∏∫Â∫îÁî®ÁöÑ‰∏ªË¶ÅLooper„ÄÇÂ∫îÁî®Á®ãÂ∫èÁöÑ‰∏ªLooerÊòØAndroidÁéØÂ¢ÉÂàõÂª∫ÁöÑ ,ÊâÄ‰ª•‰Ω†Â∫îËØ•‰∏çÈúÄË¶ÅËá™Â∑±Ë∞ÉÁî®Ëøô‰∏™ÂáΩÊï∞* Initialize the current thread as a looper, marking it as an* application's main looper. The main looper for your application* is created by the Android environment, so you should never need* to call this function yourself. See also: &#123;@link #prepare()&#125;*/public static void prepareMainLooper() &#123;//ËøõË°å‰∏ÄÊ¨°ÂáÜÂ§áÂπ∂‰∏îÊòØ‰∏çÂÖÅËÆ∏ÊâìÊñ≠ÁöÑprepare(false);synchronized (Looper.class) &#123; if (sMainLooper != null) &#123; throw new IllegalStateException("The main Looper has already been prepared."); &#125;//Ëé∑ÂèñËøô‰∏™loopersMainLooper = myLooper();&#125;&#125;//myLooperËøîÂõûÁöÑÊòØÊú¨Á∫øÁ®ãÁöÑLooperpublic static Looper myLooper() &#123;return sThreadLocal.get();&#125; ÊàêÂëòÊñπÊ≥ï prepareÊñπÊ≥ï,ÂàõÂª∫LooperÊîæÂÖ•sThreadLocalÔºåÂêåÊó∂Ë¶ÅÊ±ÇÊØè‰∏™Á∫øÁ®ãÂè™ËÉΩÊúâ‰∏Ä‰∏™LooperÂØπË±°ÔºåÂ§öÂàõÂª∫‰ºöÊä•ÂºÇÂ∏∏„ÄÇ 123456789public static void prepare() &#123;prepare(true);&#125;private static void prepare(boolean quitAllowed) &#123;if (sThreadLocal.get() != null) &#123;throw new RuntimeException("Only one Looper may be created per thread");&#125;sThreadLocal.set(new Looper(quitAllowed));&#125; loopÊñπÊ≥ïÔºå‰ΩøÁî®ËØ•ÊñπÊ≥ïÂæ™ÁéØÂèñÂá∫MessageQueueÁöÑÊ∂àÊÅØ„ÄÇÊ≠ªÂæ™ÁéØÂèñÂá∫Ê∂àÊÅØÔºåËøõË°åÂ§ÑÁêÜÔºåÂ§ÑÁêÜÂÆå‰πãÂêéÔºåÂêåÊó∂Ê∂àÊÅØ‰ºöË¢´ÂõûÊî∂ÊéâÔºå‰ΩøÁî®Ëøô‰∏™Êú∫Âà∂ÂèØ‰ª•ËøõË°åÊ∂àÊÅØÂØπË±°ÁöÑÂ§çÁî®ÔºåËøôÈáåloop()ÁªìÂêàMessageQueueÁöÑnext()ÊñπÊ≥ïÔºåÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™ËΩÆËØ¢ÁöÑËøáÁ®ãÔºåËØ¶ÁªÜÁöÑÂÜÖÂÆπ‰ºöÂú®MessageQueueÁ±ªÁöÑÂàÜÊûê‰∏≠Êù•ÁúãÔºåÂà∞Êó∂ÂÄô‰ºöËß£ÈáäÊ≠ªÂæ™ÁéØËΩÆËØ¢Ê∂àÊÅØÁöÑÊú∫Âà∂„ÄÇËøôÈáåÊúâÂÖ∂‰ªñÂØπË±°ÁöÑÈÉ®ÂàÜÊñπÊ≥ïÔºåÊöÇ‰∏î‰∏çÂéªËÄÉËôëÔºåÂÅö‰∏ãÊ†áËÆ∞ÔºåÁúãÂà∞MessageÁöÑÊ∫êÁ†ÅËá™ÁÑ∂Â∞±‰ºöÊòéÁôΩ„ÄÇ ###Áïô‰∏ãÁöÑÈóÆÈ¢òÔºö Message msg = queue.next();msg.target.dispatchMessage(msg);msg.recycleUnchecked();Á®çÂêéÊàë‰ª¨‰ºöÂéªËß£ÂÜ≥„ÄÇ 123456789101112131415161718192021222324public static void loop() &#123;final Looper me = myLooper();if (me == null) &#123; throw new RuntimeException("No Looper; Looper.prepare() wasn't called on this thread.");&#125;final MessageQueue queue = me.mQueue;// Make sure the identity of this thread is that of the local process,// and keep track of what that identity token actually is.Binder.clearCallingIdentity();final long ident = Binder.clearCallingIdentity();//Ê≠ªÂæ™ÁéØÂèñÂá∫Ê∂àÊÅØÔºåËøõË°åÂ§ÑÁêÜÔºåÂΩìÂèñ‰∏çÂà∞Ê∂àÊÅØÊó∂ÔºåreturnÊéâÔºåÁ≠âÂæÖ‰∏ãÊ¨°Ë∞ÉÁî®loop(),ÂêåÊó∂Ê∂àÊÅØ‰ºöË¢´ÂõûÊî∂ÊéâÔºå‰ΩøÁî®Ëøô‰∏™Êú∫Âà∂ÂèØ‰ª•ËøõË°åÊ∂àÊÅØÂØπË±°ÁöÑÂ§çÁî®ÔºåËøôÈáåÊ∂âÂèä‰∫ÜMessageÂØπË±°ÁöÑÈÉ®ÂàÜÊñπÊ≥ïÔºåÊöÇ‰∏î‰∏çÂéªËÄÉËôëÔºåÂÅö‰∏ãÊ†áËÆ∞ÔºåÁúãÂà∞MessageÁöÑÊ∫êÁ†ÅËá™ÁÑ∂Â∞±‰ºöÊòéÁôΩfor (;;) &#123; Message msg = queue.next(); // might block if (msg == null) &#123;// No message indicates that the message queue is quitting. return;&#125;msg.target.dispatchMessage(msg);// Make sure that during the course of dispatching the// identity of the thread wasn't corrupted.final long newIdent = Binder.clearCallingIdentity();msg.recycleUnchecked(); &#125;&#125; MessageÁ±ªÊàêÂëòÂèòÈáè MessageÁ±ªÂçÅÂàÜÁ±ª‰ºº‰∫éBeanÁ±ªÔºåÊØïÁ´üÂÆÉÊòØÁî®Êù•ÊâøËΩΩÊ∂àÊÅØÁöÑ„ÄÇ what,arg1,arg2,objÈÉΩÊòØÈ¢ÑËÆæÂ•ΩÁî®Êù•ÁõõÊîæÁÆÄÂçïÊ∂àÊÅØÂÜÖÂÆπÁöÑÂèòÈáèÔºåÂéüÊñáÁöÑÊ≥®Èáä‰∏≠‰ΩøÁî®‰∫Ülower-costË°®Á§∫‰ΩøÁî®Ëøô‰∫õÂèòÈáèÂèØ‰ª•Èôç‰ΩéÂºÄÈîÄÔºåÂ∞±ÊòØ‰∏çÁî®Ëá™Â∑±ÂàõÂª∫Áª¥Êä§Ëøô‰∫õÂèòÈáèÔºåËÄå‰∏îÊ∂àÊÅØÊòØÂèØ‰ª•Ë¢´Â§çÁî®ÁöÑÔºåÁ°ÆÂÆûÈôç‰Ωé‰∫ÜÂºÄÈîÄ„ÄÇ targetÂèòÈáèÔºåÊòØ‰∏Ä‰∏™Handler,ÂêéÈù¢ÁöÑ‰ª£Á†Å‰∏≠‰ºöÂÖ∑‰Ωì‰ªãÁªç‰ªñÁöÑ‰ΩúÁî®ÔºåËøô‰∏™ÂèòÈáè‰πüÁÆóËøô‰∏™Á±ªÁöÑÊ†∏ÂøÉ‰∫Ü„ÄÇ Runnable callback,‰ª£Ë°®‰∏Ä‰∏™‰ªªÂä°ÔºåÂâçÈù¢ËØ¥ËøáHandlerÂèØ‰ª•ÂèëÈÄÅÁÆÄÂçïÊ∂àÊÅØ‰πüÂèØ‰ª•ÂèëÈÄÅ‰ªªÂä°„ÄÇ Message nextÔºå‰ª£Ë°®‰∏ã‰∏Ä‰∏™MessageÁöÑÂºïÁî®ÔºåÁî±Ê≠§ÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™ÈìæË°®ÁöÑÁªìÊûÑ„ÄÇ ËøòÊúâÂæàÂ§öÂ∏∏ÈáèÔºåÂèòÈáè‰∏çÂÅö‰∏Ä‰∏Ä‰ªãÁªç„ÄÇ‰∏ãÈù¢ÊúâÊ≥®ÈáäÔºå‰∏çÂ§™ËØ¶ÁªÜÔºåÂ§ßÂÆ∂ÂèØ‰ª•ÁúãÂÆåÂêéÈù¢ÁöÑÂÜçÂõûÊù•Áúã‰πüËÆ∏‰ºöÊõ¥Âä†Ê∏ÖÊô∞„ÄÇÊÑüÂÖ¥Ë∂£ÁöÑÂèØ‰ª•‰ªîÁªÜÂéªÁúãÊ∫êÁ†ÅÊ≥®Èáä„ÄÇ 123456789101112131415161718192021public int what;//Ê∂àÊÅØÊ†áÁ§∫public int arg1; public int arg2;public Object obj;public Messenger replyTo;public int sendingUid = -1;//Ê†áÁ§∫ËØ•Ê∂àÊÅØÊ≠£Âú®‰ΩøÁî®‰πã‰∏≠static final int FLAG_IN_USE = 1 &lt;&lt; 0;static final int FLAG_ASYNCHRONOUS = 1 &lt;&lt; 1;tatic final int FLAGS_TO_CLEAR_ON_COPY_FROM = FLAG_IN_USE;int flags;long when;Bundle data;Handler target;//HandlerÈáçÁÇπÂì¶Runnable callback;//‰∏Ä‰∏™‰ªªÂä°ÂèØ‰ª•Áî®Êù•ÂèëÈÄÅÔºåÁ±ª‰ºº‰∫éBeanÁöÑ‰∏Ä‰∏™Â±ûÊÄßMessage next;//‰∏ã‰∏Ä‰∏™MessageÔºåÁî®‰∫éÊûÑÊàêÈìæË°®private static final Object sPoolSync = new Object();//ÂêåÊ≠•ÂØπË±°private static Message sPool;//ÈìæË°®Ê†πËäÇÁÇπÔºå‰ªñÁª¥Êä§‰∫Ü‰∏Ä‰∏™Á©∫ÁöÑMessageÈòüÂàóÁî®Êù•Â§çÁî®private static int sPoolSize = 0;//ÈìæË°®ÁöÑÈïøÂ∫¶private static final int MAX_POOL_SIZE = 50;//ÈìæË°®ÊúÄÂ§ßÊï∞Èáèprivate static boolean gCheckRecycle = true; ÊàêÂëòÊñπÊ≥ïobtain() MessageÁ±ª‰∏≠ÂÆûÁé∞‰∫Üobtain()ÁöÑ8‰∏™ÈáçËΩΩÊñπÊ≥ïÔºåÊèê‰æõ‰∫ÜÂêÑÁßçÂêÑÊ†∑ÁöÑÂèÇÊï∞Ôºå‰∏∫ÁöÑÂè™ÊòØÊàë‰ª¨Âú®Â§ñÈÉ®Áî®Ëµ∑Êù•Â•ΩÁî®ÔºåÊâÄ‰ª•Â§ßÂÆ∂‰ΩøÁî®MessageÊó∂‰∏çÂ¶®Â§öÂéªÁî®Áî®ÂÖ∂‰ªñÊñπÊ≥ïÔºåÊàëÂà∞Áé∞Âú®‰∏∫Ê≠¢‰∏ÄËà¨ÈÉΩÊòØÂÅèÁî®ÂèÇÊï∞‰∏∫Á©∫ÁöÑÊñπÊ≥ïÔºåÂÖ∂‰ªñÁöÑÈáçËΩΩÂü∫Êú¨Ê≤°ÁúãËøáÔºåÂè¶Â§ñHandler‰πüÊèê‰æõ‰∫ÜÂ§ßÈáèÁöÑobtainÊñπÊ≥ïÔºåÊòØÁöÑMessageÁöÑÈáçÁî®ÂíåÁÆ°ÁêÜÊõ¥Âä†ÁöÑÊñπ‰æø‰∫ÜÔºåÊâÄ‰ª•ÂçÉ‰∏á‰∏çË¶ÅÂéªnew Message„ÄÇÂÖ∂‰ªñÁöÑÊñπÊ≥ï‰πü‰ºöÂõûË∞ÉÁ©∫ÂèÇÊñπÊ≥ïÁÑ∂ÂêéËøõË°å‰∏Ä‰∏ãÂ§ñÂõ¥ÁöÑÂàùÂßãÂåñÔºåÊâÄ‰ª•Êàë‰ª¨Â∞±Êù•ÁúãÁúãÁ©∫ÂèÇÊñπÊ≥ï„ÄÇ ‰ª£Á†Å‰∏çÂ§öÔºåËß£Èáä‰∏Ä‰∏ãÔºåÈ¶ñÂÖàËøô‰∏™ÂèòÈáèsPoolSyncÔºåÁúãÂêçÂ≠óÂ∞±Áü•ÈÅì‰ªñÊòØÁî®Êù•ÂêåÊ≠•Êìç‰ΩúÁöÑÔºåÁõÆÁöÑÊòØÂΩì‰∏Ä‰∏™Êìç‰ΩúÂú®Ëé∑ÂèñMessageÊòØËøõË°åÂêåÊ≠•Êìç‰ΩúÔºåÈÅøÂÖçÂÖ∂‰ªñÁöÑÊìç‰ΩúÂÜçÊù•ÂàõÂª∫MessageÔºåÂê¶Âàô‰ºöÊÄé‰πàÊ†∑ÔºüMessageÊú¨Ë∫´ÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™ÈìæË°®ÁöÑÁªìÊûÑÔºå‰∏çËøõË°åÂêåÊ≠•Â∞±‰ºöÔºåÂá∫Áé∞Â§ö‰∏™Â§¥ÔºåÊàñËÄÖ‰∏Ä‰∏™MessageÂêéÈù¢Êé•ÂÖ•Â§ö‰∏™MessageÔºåÈÇ£‰πàÂêéÊé•ÂÖ•ÁöÑÂ∞±‰ºöË¶ÜÁõñÊéâÔºåÊòØËøôÊ†∑ÂêóÔºüËøòÊòØÂá∫ÈîôËØØ„ÄÇ Êé•‰∏ãÊù•ÊòØ‰∏Ä‰∏™Âà§Êñ≠ÔºåÊàë‰ª¨ÁúãÂà∞sPoolËøô‰∏™ÂèòÈáèÔºåÂÆÉÊòØ‰∏Ä‰∏™MessageÂØπË±°ÔºåÁªèËøáÊàëÁöÑÁ†îÁ©∂ÂÆÉÊòØËøô‰∏™ÈìæË°®ÁöÑÂ§¥ÊåáÈíàÔºåÂêåÊó∂sPoolÁª¥Êä§ÁöÑÊòØ‰∏Ä‰∏™ÊõæÁªèÂàõÂª∫ËøáÁöÑÁ©∫ÁöÑÂèØÂ§çÁî®ÁöÑMessageÈòüÂàóÔºå‰∫ÜËß£Ëøô‰∏ÄÁÇπËá≥ÂÖ≥ÈáçË¶ÅÔºåËøôÊòØMessageÂèØÂ§çÁî®ÁöÑÂÖ≥ÈîÆ„ÄÇÁúãÁúã‰ªñÊòØÊÄé‰πàÊìç‰ΩúÁöÑ Â¶ÇÊûúËøô‰∏™Ê†πsPool‰∏∫Á©∫ÔºåÂàôËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑMessageÔºåMessageÁöÑÊûÑÈÄ†ÊñπÊ≥ïÊàëÁúã‰∫ÜÔºåÊòØ‰∏™Á©∫ÁöÑÔºåÊâÄÊúâÁöÑÂ±ûÊÄßÈÉΩÂú®Â§ñÈÉ®ÊàñËÄÖÂèëÈÄÅÁöÑÈÇ£‰∏ÄÂàªËÆæÁΩÆ„ÄÇ Â¶ÇÊûú‰∏çÊòØÁ©∫ÔºåÈÇ£‰πàË°®Á§∫ÂèØÂ§çÁî®MessageÈòüÂàóÂèØÁî®ÔºåÂàôÂèñÂá∫Â§¥ÈÉ®ÁöÑMessageMessage m = sPool,ÂêåÊó∂ÊåáÈíàÂêëÂêéÁßªÂä®‰∏Ä‰ΩçsPool = m.next;Ê≠§Êó∂mÊòØÁ≠â‰∫ésPoolÁöÑÔºå‰ª•Ê≠§Ë°®Á§∫sPoolÂêéÁßª‰∏Ä‰ΩçÔºåÁÑ∂ÂêéÂ∞ÜÂèñÂá∫ÁöÑMessage.nextÁΩÆ‰∏∫nullÔºåÂõ†‰∏∫Ëøô‰∏™Ê∂àÊÅØÊòØË¶ÅÊãøÊù•ÂèëÈÄÅÁöÑÔºå‰ªñÊ≠§Êó∂ÂèØÊòØÊåáÂêëÁöÑÂèØÂ§çÁî®MessageÈòüÂàóÁöÑÂ§¥ÔºåÊâÄ‰ª•Â∞ÜÂÆÉÁöÑnextÁΩÆ‰∏∫nullÔºå‰∏çÁÑ∂‰ºöÊÄé‰πàÊ†∑ÔºüÊàë‰ª¨ÁúãLooperÊ∫êÁ†ÅÊó∂ÔºåÂæ™ÁéØ‰ΩïÊó∂ÁªàÊ≠¢Âë¢ÔºåÂ∞±ÊòØÂú®next==nullÊó∂ÁªàÊ≠¢ÔºåÂ¶ÇÊûú‰∏çÁΩÆ‰∏∫null,forÂæ™ÁéØÊòØ‰∏ç‰ºöÂÅúÊ≠¢ÁöÑÔºå‰ºöÊääÁ©∫ÁöÑMessageÈòüÂàóÈÅçÂéÜ‰∏ÄÈÅç„ÄÇÊúÄÂêéÂèØÂ§çÁî®ÁöÑÈìæË°®ÈïøÂ∫¶Âáè‰∏ÄsPoolSize--; ÂÖ∂‰ªñÁöÑobtainÊñπÊ≥ïÊàë‰ª¨‰∏çÂÜçÂéªÁ†îÁ©∂ÔºåÂ§ßÂêåÂ∞èÂºÇÂêß„ÄÇ12345678910111213public static Message obtain() &#123; synchronized (sPoolSync) &#123; if (sPool != null) &#123; Message m = sPool; sPool = m.next; m.next = null; m.flags = 0; // clear in-use flag sPoolSize--; return m; &#125; &#125; return new Message();&#125; MessageÁöÑÂõûÊî∂ÊñπÊ≥ï Áúã‰∏Ä‰∏ã‰ª£Á†ÅÔºå‰∫ÜËß£‰∫Ü‰∏äÈù¢ËØ¥ÁöÑÊú∫Âà∂ÔºåËøô‰∏™‰ª£Á†Å‰∏çÈöæÁêÜËß£„ÄÇËß£Èáä‰∏Ä‰∏ãÔºåÂ¶Ç‰ΩïÂõûÊî∂‰∏Ä‰∏™Message,Ë¶ÅÊúâ‰∏Ä‰∏™Ê¶ÇÂøµÂ∞±ÊòØMessageË∞ÉÁî®ËØ•ÊñπÊ≥ïÂõûÊî∂ÁöÑÊòØËá™Â∑±ÔºåÈ¶ñÂÖàÂ∞ÜËá™Â∑±ÁöÑnextÊåáÂêësPoolnext = sPool;‰πüÂ∞±ÊòØËØ¥„ÄÇÊ≠§Êó∂Ëá™Â∑±Â∑≤ÁªèÈìæÊé•Âà∞‰∫ÜÂèØÂ§çÁî®ÁöÑMessageÈòüÂàóÂ§¥ÈÉ®ÔºàÊØèÊ¨°ÈÉΩÂè´‰ªñ„ÄÇÂèØÂ§çÁî®ÁöÑMessageÈòüÂàó„ÄÇÁúüÈ∫ªÁÉ¶ÔºâÔºåÁÑ∂ÂêésPool = this;sPoolÊåáÈíàÂèàÊåáÂêë‰∫Ü ÂèØÂ§çÁî®ÁöÑMessageÈòüÂàóÂ§¥ÈÉ®ÔºåÈòüÂàóÈïøÂ∫¶++ÂÆåÊàê‰∫ÜÊ∂àÊÅØÁöÑÂõûÊî∂„ÄÇÂú®Looper‰∏≠ÊèêÂà∞ÁöÑmsg.recycleUnchecked();Ëøô‰∏™ÊñπÊ≥ïÂ∞±ÊòØÂú®ËøôÈáåÂÆûÁé∞ÁöÑ„ÄÇ 12345678910 void recycleUnchecked() &#123;.....//ËøôÈáåËøõË°å‰∫ÜÂ•ΩÂ§ö‰ª£Á†ÅÔºåÂÅö‰∫Ü‰∏Ä‰∏™Êìç‰ΩúÔºåÂ∞ÜÊàêÂëòÂèòÈáèÊ∏ÖÁ©∫„ÄÇ synchronized (sPoolSync) &#123; if (sPoolSize &lt; MAX_POOL_SIZE) &#123; next = sPool; sPool = this; sPoolSize++; &#125; &#125; &#125; ###Ë°•ÂÖÖ MessageÂÆûÁé∞‰∫ÜParcelableÊé•Âè£Ë°®ÊòéÂÆÉÊòØÂèØ‰ª•‰º†ËæìÁöÑ„ÄÇ 1public final class Message implements Parcelable &#123;&#125; MessageQueueÁ±ª‰ªãÁªç ÂÜÖÈÉ®ÈÄöËøáÈìæÊé•MessageÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™Ê∂àÊÅØÈòüÂàóÔºåÊúâ‰∏§‰∏™ÊØîËæÉÊ†∏ÂøÉÁöÑÊñπÊ≥ï„ÄÇboolean enqueueMessage(Message msg, long when){}ÂíåMessage next()ÊñπÊ≥ïÔºåLooperÁ±ª‰∏≠ÈÅóÁïôÁöÑÁ¨¨‰∫å‰∏™ÈóÆÈ¢òMessage msg = queue.next();‰ºöÂú®ËøôÈáåËß£Èáä„ÄÇ ÂÖ•ÈòüÊñπÊ≥ï ÂâçÈù¢Â∑¥ÊãâÂ∑¥Êãâ‰∏ÄÈÄöÂà§Êñ≠ÔºåÂÜÖÈÉ®ÁöÑtarget‰∏çËÉΩÊòØnull,MessageÂØπË±°‰∏çËÉΩË¢´Âç†Áî®ÔºåÁ∫øÁ®ã‰∏çËÉΩÈÄÄÂá∫„ÄÇ„ÄÇ„ÄÇ„ÄÇ ËøôÈáåÁöÑmMessagesÂèòÈáèËµ∑Âà∞‰∫Ü‰∏éMessage‰∏≠sPoolÁõ∏ÂêåÁöÑ‰ΩúÁî®ÔºåÂÆÉÊòØÈòüÂàóÁöÑÊåáÈíàÔºåÊåáÂêëÊ∂àÊÅØÈòüÂàóÁöÑÂ§¥ÔºåÂè™ÊòØËøôÈáåÁª¥Êä§ÁöÑÈòüÂàóÊòØË¶ÅË¢´Â§ÑÁêÜÁöÑÊ∂àÊÅØÈòüÂàó„ÄÇ‰ΩÜÊòØÁî±‰∫ésendMsgDelayÊñπÊ≥ïÁöÑÂ≠òÂú®ÔºåÂÖ•ÈòüÊó∂‰∏çËÉΩÂçïÁ∫ØÁöÑÈìæÊé•Ê∂àÊÅØÔºåËøòÈúÄË¶ÅÂà§Êñ≠Êó∂Èó¥Êà≥„ÄÇ if (p == null || when == 0 || when &lt; p.when)Ëøô‰∏™Âà§Êñ≠if(ÊòØÁ¨¨‰∏Ä‰∏™Ê∂àÊÅØ ||Ë¶ÅË¢´Â§ÑÁêÜÁöÑÊó∂Èó¥ÊòØ0 ||Ë¶ÅË¢´Â§ÑÁêÜÁöÑÊó∂Èó¥Â∞è‰∫éÂΩìÂâçÈòüÂàóÂ§¥Ê∂àÊÅØÁöÑÊó∂Èó¥‰πüÂ∞±ÊòØÂ∑≤ÁªèÂà∞ËææÂ§ÑÁêÜËøô‰∏™Ê∂àÊÅØÁöÑÊó∂Èó¥)ÔºåÊ≠§Êó∂Â∞Ü‰ºöÂ∞ÜÊ∂àÊÅØÈìæÊé•Âú®ÈòüÂàóÂ§¥ÈÉ®msg.next = p;ÔºåÂêåÊó∂ÊåáÈíàÊåáÂêëÂÆÉmMessages = msg;,Âπ∂‰∏îÊ≠§Ê∂àÊÅØÊòØ‰∏çË¶ÅË¢´Âî§ÈÜíÁöÑneedWake = mBlocked;,Ëøô‰∏™Êìç‰Ωú‰∏éMessage‰∏≠ÁöÑÊìç‰ΩúÂçÅÂàÜÁõ∏‰ººÔºå‰∏çÂ§öÂÅö‰ªãÁªç„ÄÇ elseËØ≠Âè•Âùó‰∏≠Ë°®ÊòéÊ≠§Ê∂àÊÅØÊòØ‰∏Ä‰∏™Âª∂Êó∂Ê∂àÊÅØÔºåÊ≠§Êó∂ËøõË°åÁöÑÊìç‰ΩúÊòØÈááÁî®‰∫Ü‰∏Ä‰∏™forÂæ™ÁéØÔºåÂÆåÊàêÁöÑÂäüËÉΩÊòØÊâæÂà∞Ëøô‰∏™Ê∂àÊÅØË¢´Â§ÑÁêÜÁöÑÊó∂Èó¥whenÔºåÂ§ß‰∫éËøô‰∏™Êó∂Èó¥ÁöÑÁ¨¨‰∏Ä‰∏™Ê∂àÊÅØÔºåÂ∞ÜÂÆÉÊèíÂÖ•Âà∞ËØ•‰ΩçÁΩÆ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊâæÂà∞‰ºö‰∏ÄÁõ¥Âæ™ÁéØÔºåÊúÄÂêéÊâæÂà∞preMsgÊåáÂêëÁöÑÂâç‰∏Ä‰∏™Ê∂àÊÅØÂíåp = mMessageÊåáÂêëÁöÑÂêé‰∏ÄÊ∂àÊÅØÔºåËøõË°åÈìæÊé•Êìç‰ΩúÔºåmsg.next = p; prev.next = msg;Â∞±ÊòØÊôÆÈÄöÁöÑÈìæÊé•Êìç‰Ωú„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950boolean enqueueMessage(Message msg, long when) &#123;if (msg.target == null) &#123;throw new IllegalArgumentException("Message must have a target.");&#125;if (msg.isInUse()) &#123;throw new IllegalStateException(msg + " This message is already in use.");&#125;synchronized (this) &#123;if (mQuitting) &#123;IllegalStateException e = new IllegalStateException( msg.target + " sending message to a Handler on a dead thread"); Log.w("MessageQueue", e.getMessage(), e);msg.recycle();return false;&#125;//Ê†∏ÂøÉÊñπÊ≥ï‰ªéËøôÈáåÂºÄÂßãmsg.markInUse();msg.when = when;Message p = mMessages;boolean needWake;if (p == null || when == 0 || when &lt; p.when) &#123;// New head, wake up the event queue if blocked.msg.next = p;mMessages = msg;needWake = mBlocked;&#125; else &#123;// Inserted within the middle of the queue. Usually we don't have to wake// up the event queue unless there is a barrier at the head of the queue// and the message is the earliest asynchronous message in the queue.needWake = mBlocked &amp;&amp; p.target == null &amp;&amp; msg.isAsynchronous();Message prev;for (;;) &#123; prev = p; p = p.next; if (p == null || when &lt; p.when) &#123; break; &#125; if (needWake &amp;&amp; p.isAsynchronous()) &#123; needWake = false; &#125;&#125;msg.next = p; // invariant: p == prev.nextprev.next = msg;&#125;// We can assume mPtr != 0 because mQuitting is false.if (needWake) &#123; nativeWake(mPtr);&#125;&#125;return true;&#125; Âá∫ÈòüÊñπÊ≥ï ‰πãÂâçÂú®Looper.loop()ÊñπÊ≥ï‰∏≠ÁúãÂà∞ÊúâËøô‰πà‰∏ÄÊÆµ‰ª£Á†Å,ÁªìÂêàMessageQueueÁöÑÂá∫ÈòüÊñπÊ≥ïÔºåÂèØ‰ª•ÂèëÁé∞ËøôÊòØ‰∏Ä‰∏™Âæ™ÁéØËΩÆËØ¢Ê∂àÊÅØÈòüÂàóÁöÑÊìç‰Ωú„ÄÇÂú®Ê≠ªÂæ™ÁéØ‰∏≠Ë∞ÉÁî®‰∫ÜMessage msg = queue.next(); // might blockÊñπÊ≥ïÔºåÂΩìËøîÂõûmsg==nullÔºåÂæ™ÁéØ‰ΩìÁªìÊùüÔºå‰ªÄ‰πàÊó∂ÂÄô‰ºöÁªìÊùüÔºåÁúãnext()ÊñπÊ≥ï‰∏≠ËøîÂõûnullÁöÑÂè™Êúâ‰∏ÄÁßçÊÉÖÂÜµÂ∞±ÊòØÁ∫øÁ®ãÁªìÊùüÊó∂ÔºåËøîÂõûnullÔºåÁ∫øÁ®ãÁªìÊùüÔºå‰ªñÁöÑLooperËá™ÁÑ∂Â∫îËØ•ÁªìÊùü„ÄÇ Ê≠ªÂæ™ÁéØÂÆûÈôÖÊòØÂèëÁîüÂú®MessageQueue‰∏≠ÁöÑÔºåÊàëÂú®Ê≥®Èáä‰∏≠ÂÜô‰∫ÜËØ¥Êòé„ÄÇÂÖ≥‰∫éMessageQueueÁöÑÂæàÂ§öÊú¨Âú∞ÊñπÊ≥ïÁöÑ‰ªãÁªçÔºåÂ§ßÂÆ∂ÂèØ‰ª•ÂèÇËÄÉËøôÈáå 12345Message msg = queue.next(); // might blockif (msg == null) &#123;// No message indicates that the message queue is quitting.return;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101Message next() &#123;//// Return here if the message loop has already quit and been disposed.// This can happen if the application tries to restart a looper after quit// which is not supported.final long ptr = mPtr;if (ptr == 0) &#123; return null;&#125;int pendingIdleHandlerCount = -1; // -1 only during first iteration//Ë∂ÖÊó∂Êó∂Èó¥int nextPollTimeoutMillis = 0;//ÂºÄÂßãÂæ™ÁéØÂèñÂá∫Ê∂àÊÅØfor (;;) &#123; if (nextPollTimeoutMillis != 0) &#123; Binder.flushPendingCommands();&#125;nativePollOnce(ptr, nextPollTimeoutMillis);//Êé•‰∏ãÊù•ËøõË°åÈîÅÂÆöÔºåÂºÄÂßãÂèñÂá∫Ê∂àÊÅØsynchronized (this) &#123; // Try to retrieve the next message. Return if found. final long now = SystemClock.uptimeMillis(); Message prevMsg = null; Message msg = mMessages; //ÂèñÂà∞Ê∂àÊÅØÊòØÁ©∫ÔºåÁÑ∂ÂêéËøõË°å‰∏Ä‰∏™Âæ™ÁéØÊü•Êâæ‰∏ã‰∏Ä‰∏™ÂèØÁî®Ê∂àÊÅØ if (msg != null &amp;&amp; msg.target == null) &#123; // Stalled by a barrier. Find the next asynchronous message in the queue. do &#123; prevMsg = msg; msg = msg.next; &#125; while (msg != null &amp;&amp; !msg.isAsynchronous()); &#125;if (msg != null) &#123; if (now &lt; msg.when) &#123;// Next message is not ready. Set a timeout to wake up when it is ready.//ÂΩìÂâçÊó∂Èó¥Ê≤°ÊúâËææÂà∞ÊâßË°åËøô‰∏™Ê∂àÊÅØÁöÑÊó∂Èó¥„ÄÇÂ∞Ü‰ºöËøõË°åË∂ÖÊó∂Á≠âÂæÖ nextPollTimeoutMillis = (int) Math.min(msg.when - now, Integer.MAX_VALUE); &#125; else &#123; //ÂèñÂá∫Â§¥ÈÉ®ÁöÑÊ∂àÊÅØËøîÂõû // Got a message. mBlocked = false; if (prevMsg != null) &#123; prevMsg.next = msg.next; &#125; else &#123; mMessages = msg.next; &#125; msg.next = null; return msg;&#125;&#125; else &#123; // No more messages. nextPollTimeoutMillis = -1;&#125;// Process the quit message now that all pending messages have been handled.//Á∫øÁ®ã‰∏çÂ≠òÂú®Êó∂ËøîÂõûnullÔºåloop()‰πü‰ºöÈöè‰πãÁªìÊùüif (mQuitting) &#123; dispose(); return null;&#125;// If first time idle, then get the number of idlers to run.// Idle handles only run if the queue is empty or if the first message// in the queue (possibly a barrier) is due to be handled in the future.if (pendingIdleHandlerCount &lt; 0&amp;&amp; (mMessages == null || now &lt; mMessages.when)) &#123; pendingIdleHandlerCount = mIdleHandlers.size();&#125;//Ê≠ªÂæ™ÁéØÂèëÁîüÂú®ËøôÈáåÔºåÂÖ∑‰ΩìËøòÊ≤°ÊúâÂæàÊòéÁôΩÔºåÈúÄË¶ÅÂÜçÂéªÁ†îÁ©∂if (pendingIdleHandlerCount &lt;= 0) &#123;// No idle handlers to run. Loop and wait some more. mBlocked = true;continue;&#125;if (mPendingIdleHandlers == null) &#123;mPendingIdleHandlers = new IdleHandler[Math.max(pendingIdleHandlerCount, 4)];&#125;mPendingIdleHandlers = mIdleHandlers.toArray(mPendingIdleHandlers);&#125;// Run the idle handlers.// We only ever reach this code block during the first iteration.for (int i = 0; i &lt; pendingIdleHandlerCount; i++) &#123; final IdleHandler idler = mPendingIdleHandlers[i]; mPendingIdleHandlers[i] = null; // release the reference to the handlerboolean keep = false;try &#123; keep = idler.queueIdle();&#125; catch (Throwable t) &#123;Log.wtf("MessageQueue", "IdleHandler threw exception", t);&#125;if (!keep) &#123; synchronized (this) &#123; mIdleHandlers.remove(idler); &#125;&#125;&#125;// Reset the idle handler count to 0 so we do not run them again.pendingIdleHandlerCount = 0;// While calling an idle handler, a new message could have been delivered// so go back and look again for a pending message without waiting.nextPollTimeoutMillis = 0; &#125;&#125; HandlerÁ±ªÊàêÂëòÂèòÈáè12345678//‰ªéËøôÈáåÁúãÂæóÂá∫HandlerÂæàÂ•ΩÁöÑËøûÊé•‰∫ÜLooperÂíåMessageQueuefinal MessageQueue mQueue;final Looper mLooper;//ËøôÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÁî®Êù•Â§ÑÁêÜÊ∂àÊÅØÔºå‰∏ãÈù¢ÊòØÂÖ∑‰ΩìÂÆûÁé∞Ôºå‰πüÊòØÊàë‰ª¨ÈÄöÂ∏∏Ë¶ÅÂÆûÁé∞ÁöÑÊñπÊ≥ï„ÄÇfinal Callback mCallback;public interface Callback &#123; public boolean handleMessage(Message msg);&#125; ÊûÑÈÄ†ÊñπÊ≥ï ÈáçËΩΩ‰∫ÜÂ§ö‰∏™ÊûÑÈÄ†ÊñπÊ≥ïÔºåËÄÅËßÑÁü©ÔºåÊàë‰ª¨Âè™ÁúãÊ≤°ÊúâÊúÄÂ∫ïÂ±ÇÁöÑÊûÑÈÄ†ÊñπÊ≥ïÂíåÊàë‰ª¨ÊúÄÂ∏∏Áî®ÁöÑÊûÑÈÄ†ÊñπÊ≥ï 123456789101112131415161718//Â∏∏Áî®Á©∫ÂèÇÊûÑÈÄ†ÊñπÊ≥ïpublic Handler() &#123; this(null, false);&#125;//Ê†πÊûÑÈÄ†ÊñπÊ≥ïpublic Handler(Callback callback, boolean async) &#123;//Ëé∑ÂæóÂΩìÂâçÁ∫øÁ®ãÁöÑLooperÔºåÂ§ßÂÆ∂ËøòËÆ∞ÂæóLooper.myLooper()ÊñπÊ≥ïÂêßÔºåreturn sThreadLocal.get();mLooper = Looper.myLooper();if (mLooper == null) &#123;//ÂøÖÈ°ªÂÖàË∞ÉÁî®Looper.prepare()throw new RuntimeException("Can't create handler inside thread that has not called Looper.prepare()");&#125;//ÊãøÂà∞LooperÁöÑMessageQueue,Ëøô‰∏™MessageQueueÊòØLooperÂàõÂª∫ÁöÑ„ÄÇmQueue = mLooper.mQueue;//Ëøô‰∏™ÊòØÂõûË∞ÉÔºåÁî®Êù•Â§ÑÁêÜÊ∂àÊÅØmCallback = callback;mAsynchronous = async;&#125; ÊàêÂëòÊñπÊ≥ï obtain()ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ï‰∏çÂÅöËß£ÈáäÔºåËøîÂõûÁöÑÊòØMessageÁöÑobtain()ÊñπÊ≥ïÔºåËØ¶ÁªÜËØ∑ÁúãMessageÁ±ªÁöÑÂàÜÊûê„ÄÇ ÂèëÈÄÅÊ∂àÊÅØÔºåÊàë‰ª¨ÊµèËßà‰∏Ä‰∏ãÊâÄÊúâÂèëÈÄÅÊ∂àÊÅØÁöÑÊñπÊ≥ï„ÄÇÊñπÊ≥ïÂæàÂ§öÔºåÂ§ßËá¥ÁöÑÊÄùÊÉ≥ÊòØÔºåÂ°´ÂÖÖÊ∂àÊÅØÔºåÂèëÈÄÅÊ∂àÊÅØÔºåÂæàÂ§öÊñπÊ≥ïÈÉΩÊòØÈáçËΩΩ‰∫íÁõ∏Ë∞ÉÁî®ÁöÑÔºåÂÖ≥Ê≥®ÊúÄÂêé‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂÆÉË∞ÉÁî®‰∫ÜMessageQueueÁöÑÂÖ•ÈòüÊñπÊ≥ïÔºåÂêåÊó∂Â∞Ümsg.targetËÆæÁΩÆ‰∏∫this,Â∞ÜËøô‰∏™Ê∂àÊÅØÊèíÂÖ•Âà∞‰∫ÜÈòüÂàó‰∏≠Ôºå‰πüÂ∞±ÊòØË¢´ÂèëÈÄÅÁöÑMessageÊåÅÊúâÂèëÈÄÅÂÆÉÁöÑHandlerÁöÑÂºïÁî®„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980//‰ª•‰∏ãÊòØÂêÑÁßçÂèëÈÄÅÊ∂àÊÅØÁöÑÊñπÊ≥ïÔºåÂèØ‰ª•ÊµèËßà‰∏Ä‰∏ã„ÄÇpublic final boolean post(Runnable r)&#123; return sendMessageDelayed(getPostMessage(r), 0);&#125;public final boolean postAtTime(Runnable r, long uptimeMillis)&#123; return sendMessageAtTime(getPostMessage(r), uptimeMillis);&#125;public final boolean postAtTime(Runnable r, Object token, long uptimeMillis)&#123; return sendMessageAtTime(getPostMessage(r, token), uptimeMillis);&#125;public final boolean postDelayed(Runnable r, long delayMillis)&#123; return sendMessageDelayed(getPostMessage(r), delayMillis);&#125;public final boolean postAtFrontOfQueue(Runnable r)&#123; return sendMessageAtFrontOfQueue(getPostMessage(r));&#125;public final boolean sendMessage(Message msg)&#123; return sendMessageDelayed(msg, 0);&#125;public final boolean sendEmptyMessage(int what)&#123; return sendEmptyMessageDelayed(what, 0);&#125;public final boolean sendEmptyMessageDelayed(int what, long delayMillis) &#123; Message msg = Message.obtain(); msg.what = what; return sendMessageDelayed(msg, delayMillis);&#125;public final boolean sendEmptyMessageAtTime(int what, long uptimeMillis) &#123; Message msg = Message.obtain(); msg.what = what; return sendMessageAtTime(msg, uptimeMillis);&#125;public final boolean sendMessageDelayed(Message msg, long delayMillis)&#123; if (delayMillis &lt; 0) &#123;delayMillis = 0;&#125; return sendMessageAtTime(msg, SystemClock.uptimeMillis() + delayMillis);&#125;public boolean sendMessageAtTime(Message msg, long uptimeMillis) &#123; MessageQueue queue = mQueue; if (queue == null) &#123; RuntimeException e = new RuntimeException(this + " sendMessageAtTime() called with no mQueue"); Log.w("Looper", e.getMessage(), e); return false; &#125; return enqueueMessage(queue, msg, uptimeMillis);&#125;public final boolean sendMessageAtFrontOfQueue(Message msg) &#123; MessageQueue queue = mQueue; if (queue == null) &#123; RuntimeException e = new RuntimeException(this + " sendMessageAtTime() called with no mQueue"); Log.w("Looper", e.getMessage(), e); return false; &#125; return enqueueMessage(queue, msg, 0);&#125;//Ëøô‰∏§‰∏™ÊñπÊ≥ïÊòØÂèëÈÄÅRunnable‰ªªÂä°Êó∂‰ºöË∞ÉÁî®ÁöÑÊñπÊ≥ïprivate static Message getPostMessage(Runnable r) &#123; Message m = Message.obtain(); m.callback = r; return m;&#125;private static Message getPostMessage(Runnable r, Object token) &#123; Message m = Message.obtain(); m.obj = token; m.callback = r; return m;&#125;//Ê∂àÊÅØÂÖ•ÈòüÔºåÂêåÊó∂MessageÂ∞Ü‰ºöÊåÅÊúâÂèëÈÄÅÂÆÉÁöÑHandlerÁöÑÂºïÁî®private boolean enqueueMessage(MessageQueue queue, Message msg, long uptimeMillis) &#123; msg.target = this; if (mAsynchronous) &#123;msg.setAsynchronous(true);&#125; return queue.enqueueMessage(msg, uptimeMillis);&#125; ‰∫ã‰ª∂ÂàÜÂèë‰∏éÂ§ÑÁêÜ ËøòËÆ∞ÂæóLooper‰∏≠ÈÅóÁïôÁöÑÈóÆÈ¢òÂêóÔºümsg.target.dispatchMessage(msg);ÁªìÂêàÂèëÈÄÅÊ∂àÊÅØÁöÑÊñπÊ≥ïÔºåÂèØ‰ª•ÂæóÂá∫Ôºåmsg.targetÂ∞±ÊòØÂèëÈÄÅÂÆÉÁöÑÈÇ£‰∏™Handler,Â§ÑÁêÜÊ∂àÊÅØÊó∂Ë∞ÉÁî®dispatchMessageÊñπÊ≥ïÔºå‰πüÂ∞±ÊòØ‰∏ãÈù¢ÁöÑÊñπÊ≥ïÔºåÊâÄ‰ª•ÔºåMessageÊê∫Â∏¶ÂÆÉÁöÑÂèëÈÄÅËÄÖÔºåË∞ÅÂèëÈÄÅÁöÑÊ∂àÊÅØË™∞Êù•Â§ÑÁêÜÂÆÉ„ÄÇ ÂàÜÊûê‰∏Ä‰∏ã‰∏ãÈù¢ÁöÑÈÄªËæë„ÄÇmsg.callbackÊòØÊ∂àÊÅØ‰∏≠ÂåÖÂê´ÁöÑ‰ªªÂä°ÔºåÂ¶ÇÊûúÊòØ‰∏Ä‰∏™‰ªªÂä°ÁöÑÊ∂àÊÅØÔºåÈÇ£‰πà‰∏çÈúÄË¶ÅÂ§ñÈÉ®Â§ÑÁêÜÔºåÁõ¥Êé•Ë∞ÉÁî®ËØ•Runnable‰ªªÂä°ÁöÑrunÊñπÊ≥ïÔºåÊâÄ‰ª•ËøòÊòØÂú®ÂΩìÂâçÁ∫øÁ®ãÊâßË°åÔºåÂπ∂Ê≤°ÊúâÂºÄÂêØÊñ∞ÁöÑÁ∫øÁ®ãÔºå‰∏çË¶ÅÁúãÂà∞RunnableÂ∞±ÊÉ≥Âà∞Á∫øÁ®ãÔºåËøô‰πüÊòØÊàë‰ª•ÂâçÁöÑ‰∏Ä‰∏™ËØØÂå∫ ‰∏çÊòØ‰∏Ä‰∏™Runnable‰ªªÂä°ÔºåmCallbackÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂú®‰ªãÁªçÊàêÂëòÂèòÈáèÊòØÊèêÂà∞ËøáÔºå‰ªñÂèØ‰ª•ÈÄöËøáÊûÑÈÄ†ÊñπÊ≥ïÂú®Â§ñÈÉ®ÂÆûÁé∞ÔºåÂΩìÁÑ∂‰∏çÊòØÂøÖÈ°ªÂÆûÁé∞ÁöÑÔºåÂ¶ÇÊûúÂÆûÁé∞‰∫ÜËøô‰∏™Êé•Âè£ÔºåÈÇ£‰πàË∞ÉÁî®Ëøô‰∏™Êé•Âè£ÁöÑmCallback.handleMessage(msg)ÊñπÊ≥ïÂ§ÑÁêÜÊ∂àÊÅØ„ÄÇ Â¶ÇÊûúÊ≤°ÊúâÂÆûÁé∞Ëøô‰∏™Êé•Âè£ÔºåÂàôË∞ÉÁî®handleMessage(msg);ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÊòØÁ©∫ÁöÑÔºåÈúÄË¶Å‰Ω†Âú®Â≠êÁ±ª‰∏≠ÈáçËΩΩÔºåÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÈáçËΩΩ‰ªñ‰∏ç‰ºöÊâßË°å‰ªª‰ΩïÊìç‰Ωú„ÄÇËøôÁÆóÊèê‰æõ‰∫ÜÂ§ÑÁêÜÊ∂àÊÅØÁöÑ‰∏§ÁßçÊñπÂºè„ÄÇ 1234567891011121314151617public void dispatchMessage(Message msg) &#123; if (msg.callback != null) &#123; handleCallback(msg); &#125; else &#123; if (mCallback != null) &#123; if (mCallback.handleMessage(msg)) &#123; return; &#125; &#125; handleMessage(msg); &#125;&#125;private static void handleCallback(Message message) &#123; message.callback.run();&#125;public void handleMessage(Message msg) &#123;&#125; ##ÊÄªÁªì Á∫øÁ®ã‰∏≠HandlerÊ∂àÊÅØÊú∫Âà∂ÁöÑ‰ΩøÁî®,LooperÁ±ª‰∏≠ÁªôÂá∫‰∫ÜÂæàÂ•ΩÁöÑÁ§∫‰æã‰ª£Á†Å„ÄÇÊ≥®ÊÑèÁöÑÊòØÂú®ÈùûUIÁ∫øÁ®ãÈúÄË¶ÅÊàë‰ª¨ÊòæÂºèÁöÑË∞ÉÁî®Looper.prepare(); Looper.loop();ÊñπÊ≥ïÊù•ÂÆåÊàêÊ∂àÊÅØÁöÑËΩÆËØ¢„ÄÇ 123456789101112class LooperThread extends Thread &#123; public Handler mHandler; public void run() &#123; Looper.prepare(); mHandler = new Handler() &#123; public void handleMessage(Message msg) &#123; // process incoming messages here &#125; &#125;; Looper.loop(); &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>SourceCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ListView Adapter 3]]></title>
    <url>%2Farticle%2F294185431%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä ‰∏ä‰∏ÄÁØáÊñáÁ´†‰ªãÁªç‰∫ÜÂ¶Ç‰ΩïËøõË°åÂàÜÁ±ªÈÄÇÈÖçÔºåËôΩÁÑ∂ÊØîËæÉÂÆåÁæéÁöÑÂÆûÁé∞‰∫ÜÂàÜÁ±ªÈÄÇÈÖç‰ª•ÂèäÂ§çÁî®Ôºå‰ΩÜÊòØ‰ª£Á†ÅÁõ∏ÂΩìÁπÅÁêêÔºåÊàë‰ª¨Êúâ‰∏§ÁßçÁ±ªÂûãÊó∂Â∑≤ÁªèÂá∫Áé∞‰∫ÜÂ§öÂ±ÇifÂµåÂ•óÔºåÂ¶ÇÊûúÊúâ‰∏âÂõõÁßçÁ±ªÂûãÔºå‰º∞ËÆ°Ëá™Â∑±ÈÉΩË¶ÅËΩ¨Êôï‰∫ÜÔºåËÄå‰∏îÂ∞±ÂÉèÊàë‰ª¨ÂØπÂçïÁ±ªÂûãÈÄÇÈÖçÂô®ÊäΩË±°Êó∂ÂÅöÁöÑÔºåÈÅøÂÖçÈáçÂ§ç‰ª£Á†ÅÔºÅÂ¶ÇÊûúÊ≤°ÁúãËøá‰∏ä‰∏ÄÁØáÔºåÂª∫ËÆÆÊµèËßà‰∏Ä‰∏ãÔºåËøôÈáåÂÜôÁöÑÂæàÂ§öÈÉΩÊòØÂü∫‰∫éÁ¨¨‰∏ÄÁØáÁöÑ„ÄÇ ÊäΩË±°ViewHolder12345678910111213141516171819202122232425public static class MultiViewHolder extends ViewHolder&#123; /** * SparseArray */ private SparseArray&lt;View&gt; cacheViews; private View itemView; public MultiViewHolder(View itemView, int viewCount) &#123; super(); this.itemView = itemView; cacheViews = new SparseArray&lt;View&gt;(viewCount); &#125; @Override public View getView(int resId) &#123; View v = cacheViews.get(resId); if (v == null) &#123; v = itemView.findViewById(resId); if (v != null) &#123; cacheViews.put(resId, v); &#125; &#125; return v; &#125;&#125; ‰ΩøÁî®Êé•Âè£Ëé∑ÂèñÂØπË±°ÁöÑÁ±ªÂûã Êàë‰ª¨Âú®ÂàÜÁ±ªÈÄÇÈÖçÁöÑÊó∂ÂÄô‰∏çÂèØÈÅøÂÖçÁöÑË¶ÅËé∑ÂæóÊï∞ÊçÆÁöÑÂØπË±°Ôºå‰ª•Ê≠§‰Ωú‰∏∫Ê†πÊçÆË£ÖËΩΩ‰∏çÂêåÁöÑÂ∏ÉÂ±ÄÊñá‰ª∂. 123456789/** 1. Êé•Âè£ÔºåÂàÜÁ±ªÈÄÇÈÖçÁöÑÂØπË±°ÈúÄË¶ÅÂÆûÁé∞ÁöÑÊé•Âè£ÔºåÁõÆÁöÑÊòØÁ∫¶ÊùüÂÆû‰ΩìÁ±ªÂÆûÁé∞getTypeÊñπÊ≥ï 2. 3. @author chendong 4. */public interface MultiEasyAdapterInterface &#123; public int getType();&#125; ÊäΩË±°ÂàÜÁ±ªÈÄÇÈÖçÂô® Êàë‰ª¨ÈúÄË¶ÅÈÅøÂÖçÂú®Â≠êÁ±ª‰∏≠ÈÅøÂÖçÈáçÂ§çÁºñÁ†ÅÔºåÂêåÊó∂Âú®Â≠êÁ±ªÂÆûÁé∞Ëá™Â∑±ÁöÑÊñπÊ≥ïÔºå‰ΩøÁî®ÊäΩË±°Áà∂Á±ª„ÄÇ Êàë‰ª¨‰∏ç‰∫ÜËß£‰º†ÈÄíËøõÊù•ÁöÑÊï∞ÊçÆÊòØ‰ªÄ‰πàÁ±ªÂûãÔºå‰ΩøÁî®Ê≥õÂûã„ÄÇ Êàë‰ª¨ÈúÄË¶ÅÈôêÂà∂‰º†ËøõÊù•ÁöÑÊï∞ÊçÆÂøÖÈ°ªÂÆûÁé∞Ëé∑ÂæóËé∑ÂæóÂ≠êÁ±ªÁöÑÊñπÊ≥ïÔºåÊâÄ‰ª•ÂøÖÈ°ªË¶ÅÊ±ÇÊï∞ÊçÆÂÆûÁé∞MultiEasyAdapterInterfaceÊé•Âè£Ôºå‰ΩøÁî®Ê≥õÂûãÈôêÂÆöÁ¨¶Á°ÆÂÆö‰∏äÈôê„ÄÇ 12public abstract class MultiEasyAdapter&lt;T extends MultiEasyAdapterInterface&gt; extends BaseAdapter &#123;&#125; ÊàêÂëòÂèòÈáè12private LayoutInflater layoutInflater;private List&lt;T&gt; datas; ÂàÜÊûê‰∏Ä‰∏ãÂÖ∂‰ªñÊàêÂëòÔºåÊ†πÊçÆ‰∏ä‰∏ÄÁØá‰º†ÁªüÂàÜÁ±ªÈÄÇÈÖçÁöÑÂÜôÊ≥ïÔºåÊàë‰ª¨Âßë‰∏îÂøΩÁï•Á±ªÂûãÁöÑÂ∑ÆÂºÇ ÊØè‰∏™Á±ªÂûãÈúÄË¶Å‰∏Ä‰∏™Â∏ÉÂ±ÄËµÑÊ∫êÊñá‰ª∂id ÊØè‰∏™Á±ªÂûãÂ∏ÉÂ±ÄÊñá‰ª∂‰∏≠Â≠óUIÊéß‰ª∂ÁöÑ‰∏™Êï∞ÔºàÁî®Êù•‰ºòÂåñÔºâ ÊØè‰∏™Á±ªÂûã‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÈîÆÂÄºÔºàÁî®Êù•Ëß£ÂÜ≥Â§çÁî®ItemÁ©∫ÊåáÈíàÁöÑÈóÆÈ¢òÔºâ Êàë‰ª¨Áî®‰∏Ä‰∏™ÂÆû‰ΩìÁ±ªÂ≠òÂÇ®Ëøô‰∫õ‰ø°ÊÅØ 123456789101112131415161718192021222324252627282930** * Â≠òÂÇ®Á±ªÂûã‰ø°ÊÅØÁöÑÂÆû‰ΩìÁ±ª * * @author chendong * @ÂäüËÉΩÔºöÂàÜÁ±ªÈÄÇÈÖçÂô®ÈÖçÁΩÆ‰ø°ÊÅØÂÆû‰ΩìÁ±ª */public class MultiEasyAdapterEntity &#123; /** * @param type * itemÁ±ªÂûãÔºåintÁ±ªÂûãÂèòÈáèÔºåItemÊòØ‰ªÄ‰πàÁ±ªÂûãÁöÑÂ∞±Â°´ÂÜô‰ªÄ‰πàÁ±ªÂûã * @param resId * ËµÑÊ∫êidÔºåÂØπÂ∫îÁ±ªÂûãÁöÑËµÑÊ∫êidÔºå‰Ω†ÈúÄË¶ÅË£ÖËΩΩÁöÑËµÑÊ∫êÊñá‰ª∂ÁöÑID * @param viewCount * ËµÑÊ∫êÊñá‰ª∂‰∏≠ÂØπÂ∫îÁöÑÈúÄË¶ÅËé∑ÂèñÁöÑËßÜÂõæÁöÑ‰∏™Êï∞ */ public MultiEasyAdapterEntity(int type, int resId, int viewCount) &#123; super(); this.resId = resId; this.viewCount = viewCount; &#125; private int type; private int resId; private int viewCount; public MultiEasyAdapterEntity() &#123; super(); &#125;&#125; ÂèØËÉΩÊúâÁÇπÁπÅÁêêÔºåtypeÂíåviewCount ÂèØ‰ª•ÁúÅÁï•ÊéâÔºåÂä†ÂÖ•typeÊòØ‰∏∫‰∫ÜÊõ¥ÁÅµÊ¥ªÁöÑËé∑ÂæóÊï∞ÊçÆÁ±ªÂûãÔºåviewCountÂàôÊòØ‰∏∫‰∫Ü‰ºòÂåñSparseArray,Áªº‰∏äÁ¨¨‰∏â‰∏™ÊàêÂëòÂèòÈáèÔºåÂ∞±ÊòØ‰ΩøÁî®type‰Ωú‰∏∫ÈîÆÔºåMultiEasyAdapterEntity‰Ωú‰∏∫ÂÄºÁöÑ‰∏Ä‰∏™SparseArrayÔºå‰ªñÁöÑ‰ΩúÁî®Â∞±ÊòØÂ≠òÂÇ®‰∏çÂêåÁ±ªÂûãÁöÑÊï∞ÊçÆÈÄÇÈÖçÊó∂ÈúÄË¶ÅÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºåÊúâÁÇπÁ±ª‰ººÈÖçÁΩÆÊñá‰ª∂ÁöÑÊÑèÊÄù„ÄÇ 1private SparseArray&lt;MultiEasyAdapterEntity&gt; Res4Type; ÂÆåÂñÑ‰ª£Á†Å ÁªìÂêàÂàÜÁ±ªÈÄÇÈÖçÁöÑÊñπÊ≥ïÔºåÂèòÈáèÊàë‰ª¨Â∑≤ÁªèÂ≠òÂÇ®Âà∞‰∫ÜSparseArray‰∏≠ÔºåÊâÄ‰ª•‰ª£Á†ÅÂ∞±ÂæàÊ∏ÖÊô∞‰∫Ü 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100/** * version 2&lt;br/&gt;Ê≥®ÊÑè‰∫ãÈ°πÔºöÁ±ªÂûãÊï∞‰∏∫nÊó∂ÔºåÈÇ£‰πàÂÆö‰πâÁöÑÁ±ªÂûãÂøÖÈ°ªÂú®0-n-1‰πãÈó¥ÔºåËøôÊòØ‰ΩøÁî®listviewËá™Â∏¶ÁºìÂ≠òÁöÑË¶ÅÊ±Ç„ÄÇ * ÊäΩË±°ÈÄÇÈÖçÂô®ÂçáÁ∫ßÁâàÔºåÂèØ‰ª•ËøõË°åÂàÜÁ±ªÈÄÇÈÖçÔºå‰ΩøÁî®‰∫ÜÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÔºåÂ∞ÜËÆæÁΩÆitemÊòæÁ§∫ÂÜÖÂÆπÁöÑÈÉ®ÂàÜÊäΩË±°Âà∞‰∫ÜÁ±ªÂ§ñ&lt;br/&gt; * @param &lt;T&gt; &lt;br/&gt;ÂøÖÈ°ªÂÆûÁé∞MultiEasyAdapterInterfaceÊé•Âè£&#123;@link MultiEasyAdapterInterface&#125;&lt;br/&gt; * @author chendong */public abstract class MultiEasyAdapter&lt;T extends MultiEasyAdapterInterface&gt; extends BaseAdapter &#123; private LayoutInflater layoutInflater; private List&lt;T&gt; datas; private SparseArray&lt;MultiEasyAdapterEntity&gt; Res4Type; private Context context; /** * @param context ‰∏ä‰∏ãÊñáÂØπË±° * @param datas Êï∞ÊçÆÈõÜ * @param Res4Type ËµÑÊ∫êÈÖçÁΩÆÊñá‰ª∂&#123;@link MultiEasyAdapterEntity&#125;this is like a config entity */ public MultiEasyAdapter(Context context, List&lt;T&gt; datas, SparseArray&lt;MultiEasyAdapterEntity&gt; Res4Type) &#123; super(); this.layoutInflater = LayoutInflater.from(context); this.datas = datas; this.Res4Type = Res4Type; this.context = context; &#125; protected Context getContext()&#123; return context; &#125; protected List&lt;T&gt; getDatas()&#123; return datas; &#125; public void swapData(List&lt;T&gt; datas)&#123; this.datas = datas; notifyDataSetChanged(); &#125; @Override public int getViewTypeCount() &#123; return Res4Type.size(); &#125; @Override public int getItemViewType(int position) &#123; return datas.get(position).getType(); &#125; public int getCount() &#123; return datas.size(); &#125; public Object getItem(int position) &#123; return datas.get(position); &#125; public long getItemId(int position) &#123; return position; &#125; public View getView(int position, View convertView, ViewGroup parent) &#123; ViewHolder holder = null; /* get the type*/ int type = datas.get(position).getType(); if (convertView == null) &#123; int resId = Res4Type.get(type).getResId(); convertView = layoutInflater.inflate(resId, parent, false); holder = new ViewHolder(convertView, Res4Type.get(type) .getViewCount()); convertView.setTag(holder); bindListener4View(holder,datas.get(position), type, position); &#125; else &#123; holder = (ViewHolder) convertView.getTag(); &#125; bindData4View(holder,datas.get(position), type, position); return convertView; &#125; /** * ÁªëÂÆöÊï∞ÊçÆ * bind data * * @param holder the viewholder * @param type data&apos;s type * @param data data */ public abstract void bindData4View(ViewHolder holder, T data, int type,int pos); /** * ÁªëÂÆöÁõëÂê¨ * bind listener * * @param holder the viewholder * @param type data&apos;s type * @param pos position */ public abstract void bindListener4View(ViewHolder holder, T data, int type,int pos);&#125; ÊµãËØï1234567891011121314151617181920212223242526272829303132333435363738listview = (ListView) findViewById(R.id.listview); list = new ArrayList&lt;Student&gt;(); for (int i = 0; i &lt; 20; i++) &#123; if (i % 5 == 0) list.add(new Student(&quot;name&quot; + i, &quot;age&quot; + i, &quot;sex&quot;, 3)); else list.add(new Student(&quot;name&quot; + i, &quot;age&quot; + i, &quot;sex&quot;, i % 2 == 0 ? 1 : 2)); &#125; SparseArray&lt;MultiEasyAdapterEntity&gt; sparseArray = new SparseArray&lt;MultiEasyAdapterEntity&gt;( 3); sparseArray.put(1, new MultiEasyAdapterEntity(1, R.layout.item_type1, 4)); sparseArray.put(2, new MultiEasyAdapterEntity(2, R.layout.item_type2, 4)); sparseArray.put(3, new MultiEasyAdapterEntity(3, R.layout.item_type3, 4)); listview.setAdapter(new MultiEasyAdapter&lt;Student&gt;( getApplicationContext(), list, sparseArray) &#123; @Override public void bindData4View(ViewHolder holder, Student data, int type) &#123; ((TextView) holder.getView(R.id.tv_name)).setText(data .getName()); ((TextView) holder.getView(R.id.tv_sex)).setText(data.getSex()); ((TextView) holder.getView(R.id.tv_age)).setText(data.getAge() + &quot;&quot;); if (type == 3) ((TextView) holder.getView(R.id.tv_type)).setText(data .getType()+&quot;&quot;); &#125;@Override public void bindListener4View(ViewHolder holder, Student data, int type) &#123; //ÁªëÂÆöÁõëÂê¨‰∫ã‰ª∂ &#125; &#125;); ÊïàÊûú Â§ßÂÆ∂ÂèØ‰ª•ÁúãÂà∞‰∏â‰∏≠Â∏ÉÂ±ÄÈÄÇÈÖçÁöÑÊ≤°ÊúâÈóÆÈ¢òÔºåÂè™ÊúâËìùËâ≤ËÉåÊôØÁöÑÂ∏ÉÂ±ÄÊòæÁ§∫‰∫Ütype,‰ªñÊòØÁ±ªÂûã3ÁöÑÊï∞ÊçÆ]]></content>
      <categories>
        <category>Android</category>
        <category>Adapter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ListView</tag>
        <tag>Adapter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ArrayListÊ∫êÁ†ÅÂàÜÊûê]]></title>
    <url>%2Farticle%2F1697740661%2F</url>
    <content type="text"><![CDATA[ÂºÄÂßãÁúãÊ∫ê‰ª£Á†Å‰∫ÜÊâçÁü•ÈÅìandroidÂíåjavaÁöÑÊ∫ê‰ª£Á†ÅÊúâÂ•ΩÂ§öÂá∫ÂÖ•ÔºåÊàëÊääjavaÂíåandroidÊ∫êÁ†ÅÊØîËæÉ‰∫Ü‰∏Ä‰∏ãÔºåÁõ∏‰ººÁöÑËøòÊòØÂ§öÁöÑ„ÄÇÊàëÊòØ‰ª•androidÊ∫êÁ†Å‰∏∫‰∏ªÔºåÂõ†‰∏∫ÊÑüËßâandroidÊØîËæÉÁπÅÁêêÔºå‰∏çÂêåÁöÑÂú∞Êñπ‰ºöË¥¥javaÁöÑ‰ª£Á†ÅÂØπÊØî„ÄÇ javaÁúüÁöÑËÆæËÆ°ÁöÑÂæàÂ•ΩÔºåÂæàÂ§öÁ±ªÂÜÖÈÉ®ÂÆûÁé∞Â∑ÆÂà´ÂæàÂ§ßÔºå‰ΩÜÊòØÂú®Â§ñÈÉ®ÁúãËµ∑Êù•ÊòØ‰∏ÄÊ†∑ÁöÑÔºåÊØîÂ¶ÇLinkedListÂíåArrayList,ËÆæËÆ°ËâØÂ•ΩÁöÑAPI‰ΩøÊàë‰ª¨‰∏çÈúÄË¶ÅÂéªÂÖ≥Ê≥®ÂÜÖÈÉ®ÁöÑÂÆûÁé∞Ôºå‰∏æ‰∏™‰æãÂ≠êËØ¥ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™Áª≥Â≠êÔºå‰ªñÂèØ‰ª•ÊòØÁúü‰∏ùÂà∂ÊàêÁöÑÔºåÈÇ£‰πàÂÆÉÊØîËæÉÂùöÂõ∫Ôºå‰πüÂèØ‰ª•ÊòØÁâõÁöÆÂà∂ÊàêÁöÑÔºåÈÇ£‰πàÂÆÉÂèØ‰ª•‰∏çÊÄïÊ∞¥Ôºå‰ΩÜÊòØÂØπ‰ΩøÁî®Áª≥Â≠êÁöÑ‰∫∫Êù•ËØ¥Ôºå‰ªñÂ£∞ÊòéËá™Â∑±ÈúÄË¶ÅÁöÑÁª≥Â≠êÈúÄË¶ÅÂÖ∑Êúâ‰ªÄ‰πàÊ†∑ÁöÑÁâπÊÄßÔºå‰ΩÜÊòØ‰ªñÂç¥‰∏çÁü•ÈÅìÁúü‰∏ùÁöÑÈúÄË¶Å‰ªÄ‰πàÂ∑•Ëâ∫ÔºåÁâõÁöÆÁöÑÂèàÈúÄË¶Å‰ªÄ‰πàÂ∑•Ëâ∫„ÄÇÊàë‰ª¨Á®ãÂ∫èÂëòÂ∞±ÊòØ‰ΩøÁî®Áª≥Â≠êÁöÑ‰∫∫ÔºåÂêÑÁßçÂêÑÊ†∑ÁöÑListÂ∞±ÊòØÁª≥Â≠êÔºåËôΩÁÑ∂ÂÜÖÈÉ®ÂÆûÁé∞Â§ßÁõ∏ÂæÑÂ∫≠Ôºå‰ΩÜÊòØÈÉΩÂØπÂ§ñÂºÄÊîæ‰∫Ü‰∏ÄÊù°Áª≥Â≠êÁöÑÂ§ñË°®Ôºå‰ΩøÂæóÊàë‰ª¨ÂèØ‰ª•ÊûÅ‰∏∫Êñπ‰æøÁöÑ‰ΩøÁî®ÂÆÉÔºåËøô‰ΩìÁé∞‰∫ÜÈù¢ÂêëÂØπË±°ÁöÑÁºñÁ®ãÊÄùÊÉ≥Ôºå‰πüÂèØ‰ª•‰ΩøjavaÁ®ãÂ∫èÂëòÊõ¥Âä†‰∏ìÊ≥®ÁöÑÂÆûÁé∞ÂäüËÉΩËÄå‰∏çÂ∞ΩÈáèÂ∞ëÁöÑÂÖ≥ÂøÉÈÄªËæëÂíåÁÆóÊ≥ï„ÄÇ ArrayListÁ±ª ArrayListÂÜÖÈÉ®Âü∫‰∫éÊï∞ÁªÑÂÆûÁé∞,ÁªßÊâø‰∫ÜAbstractListÁ±ªÔºåÂÆûÁé∞‰∫ÜCloneableÊé•Âè£Ë°®Á§∫ÂÖ∂ÂèØË¢´ÂÖãÈöÜÂ§çÂà∂ÔºåÂÆûÁé∞‰∫ÜSerializableÊé•Âè£Ë°®Á§∫ÂÖ∂ÂèØË¢´Â∫èÂàóÂåñÔºåÂÆûÁé∞‰∫ÜRandomAccessÊé•Âè£ÔºåË°®Á§∫ÂÖ∂ÂèØÂø´ÈÄüÈöèÊú∫ËÆøÈóÆÔºà‰ΩÜÊòØËøô‰∏™Êé•Âè£ÊòØÁ©∫ÁöÑÔºåÂè™ÊòØË°®Á§∫ÂÆÉÂÖ∑ÊúâËøôÊ†∑ÁöÑÁâπÊÄßÔºâ„ÄÇ1public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements Cloneable, Serializable, RandomAccess&#123;&#125; ‰∏Ä‰∫õÂ∏∏ÈáèÂíåÊàêÂëò android‰∏≠Êèê‰æõ‰∫ÜÊúÄÂ∞èÂÆπÈáèÔºåjava‰∏≠Âπ∂Ê≤°ÊúâËøô‰∏™ÊàêÂëòÔºåËÄåÊòØ‰ΩøÁî®‰∫Ü10Ëøô‰∏™Êï∞Â≠ó‰Ωú‰∏∫ÂàùÂßãÂÆπÈáè„ÄÇ 1234567//anrdroidÊ∫êÁ†Å//ÊúÄÂ∞èÂÆπÈáèprivate static final int MIN_CAPACITY_INCREMENT = 12;//ÂÖÉÁ¥†Êï∞Èáèint size;//ÂØπË±°Êï∞ÁªÑÔºåtransientË°®Á§∫Âú®Â∫èÂàóÂåñÊó∂ÂÆÉ‰ºöË¢´ÂøΩÁï•„ÄÇ„ÄÇÂï•ÊÑèÊÄùÔºütransient Object[] array; ÂàùÂßãÂåñÊåáÂÆöÂàùÂßãÂÆπÈáèÊûÑÈÄ† È¶ñÂÖàÂÆπÈáèÂ§ß‰∫é0ÔºåÂ¶ÇÊûúÂÆπÈáè==0‰ºö‰ΩøÁî®EmptyArray.OBJECTÊù•ÂàùÂßãÂåñÔºåÂú®androidÁöÑÊ∫êÁ†ÅÈáåÈù¢ÈìæÊé•‰∏çÂà∞EmptyArrayËøô‰∏™Á±ªÔºåÂéª‰∫ÜËøô‰∏™ÁΩëÁ´ôÁúãÂà∞‰∫ÜÊ∫êÁ†ÅÔºåEmptyArray.OBJECTÊòØ‰∏Ä‰∏™ÂÆπÈáèÊòØ0ÁöÑÊï∞ÁªÑ„ÄÇÊâÄ‰ª•‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúÊåáÂÆöÂÆπÈáè==0ÂàôÂàõÂª∫‰∏Ä‰∏™ÂÆπÈáèÊòØ0ÁöÑÂØπË±°Êï∞ÁªÑÔºåÂèç‰πãÂàõÂª∫‰∏Ä‰∏™ÊåáÂÆöÂÆπÈáèÂ§ßÂ∞èÁöÑÊï∞ÁªÑ„ÄÇ(java‰∏≠Ê≤°ÊúâÂÅöËøô‰∏™Âà§Êñ≠ÔºåÊú¨Êù•Ëøô‰∏™Âà§Êñ≠Â∞±‰ªÄ‰πàÁî®) 1234567//android Ê∫êÁ†Åpublic ArrayList(int capacity) &#123; if (capacity &lt; 0) &#123; throw new IllegalArgumentException("capacity &lt; 0: " + capacity); &#125; array = (capacity == 0 ? EmptyArray.OBJECT : new Object[capacity]); &#125; Êó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ Âêå‰∏äÔºåÂàùÂßãÂÆπÈáèÊòØ0„ÄÇ‰ΩÜÊòØjavaÊ∫êÁ†Å‰∏≠ÂàùÂßãÂÆπÈáèÊòØ10„ÄÇ 12345678//android Ê∫êÁ†Å public ArrayList() &#123; array = EmptyArray.OBJECT; &#125; //javaÊ∫êÁ†Å public ArrayList() &#123;this(10); &#125; ÂàùÂßãÂåñÊó∂Êã∑Ë¥ùÈõÜÂêà ‰∏ªË¶ÅÁöÑÊìç‰ΩúÊòØÂà§Êñ≠ÊòØ‰∏çÊòØ‰∏Ä‰∏™ÂØπË±°Êï∞ÁªÑÔºåÂ¶ÇÊûúÊòØÁõ¥Êé•ÂÜÖÈÉ®Êï∞ÁªÑÁõ¥Êé•ÊåáÂêëÔºåÂ¶ÇÊûú‰∏çÊòØËøõË°å‰∏ÄÊ¨°Êã∑Ë¥ùÔºåjava‰∏≠ÊâÄÊúâÁ±ªÈÉΩÁªßÊâøËá™Object„ÄÇËøôÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂêóÔºüÔºà&lt;-ËøôÊòØÊàë‰∏çÊáÇÁöÑÂú∞ÊñπÔºâÁî®ÁöÑÊñπÊ≥ï‰∏ç‰∏ÄÊ†∑Ôºåjava‰ª£Á†ÅÊõ¥Â∞ë‰∏ÄÁÇπ„ÄÇ System.arraycopy()ÊñπÊ≥ïÊòØnative‰øÆÈ•∞ÁöÑÔºå‰ΩøÁî®CÂÆûÁé∞ÁöÑÂ∫ïÂ±ÇÊñπÊ≥ï„ÄÇ Arrays.copyOf()ÂáΩÊï∞ÂÜÖÈÉ®‰πü‰ΩøÁî®‰∫ÜSystem.arraycopy()ÊñπÊ≥ï„ÄÇ Â∞±ÊòØÊàë‰∏çÊáÇÁöÑÈÇ£‰∏™Âú∞Êñπ‰∫Ü,ÊÑüËßâ‰ΩøÁî®Ëøô‰∏™ÊñπÊ≥ïÂèØ‰ª•Ëß£ÂÜ≥‰∏çÊòØÂØπË±°Êï∞ÁªÑÁöÑÈóÆÈ¢òÔºå‰ΩÜÊòØ‰∏çÊáÇËøô‰∏™Âà§Êñ≠ÊòØ‰∏∫‰∫Ü‰ªÄ‰πàÔºåSystem.arraycopyÂèàÊòØÂ¶Ç‰ΩïÂÜÖÈÉ®ÂÆûÁé∞ÁöÑ„ÄÇ 1234//android Ê∫êÁ†Åif (a.getClass() != Object[].class) &#123;System.arraycopy(a, 0, newArray, 0, a.length);&#125; 1234567891011121314//android Ê∫êÁ†Åpublic ArrayList(Collection&lt;? extends E&gt; collection) &#123; if (collection == null) &#123; throw new NullPointerException("collection == null"); &#125; Object[] a = collection.toArray(); if (a.getClass() != Object[].class) &#123; Object[] newArray = new Object[a.length]; System.arraycopy(a, 0, newArray, 0, a.length); a = newArray; &#125; array = a; size = a.length;&#125; 12345678//javaÊ∫êÁ†Åpublic ArrayList(Collection&lt;? extends E&gt; c) &#123; elementData = c.toArray(); size = elementData.length; // c.toArray might (incorrectly) not return Object[] (see 6260652) if (elementData.getClass() != Object[].class) elementData = Arrays.copyOf(elementData, size, Object[].class);&#125; AddÊñπÊ≥ïAndroid‰∏≠ÁöÑÂÆûÁé∞123456789101112131415161718192021222324252627282930313233343536@Override public boolean add(E object) &#123; Object[] a = array; int s = size; if (s == a.length) &#123; Object[] newArray = new Object[s + (s &lt; (MIN_CAPACITY_INCREMENT / 2) ? MIN_CAPACITY_INCREMENT : s &gt;&gt; 1)]; System.arraycopy(a, 0, newArray, 0, s); array = a = newArray; &#125; a[s] = object; size = s + 1; modCount++; return true; &#125; @Override public void add(int index, E object) &#123; Object[] a = array; int s = size; if (index &gt; s || index &lt; 0) &#123; throwIndexOutOfBoundsException(index, s); &#125; if (s &lt; a.length) &#123; System.arraycopy(a, index, a, index + 1, s - index); &#125; else &#123; // assert s == a.length; Object[] newArray = new Object[newCapacity(s)]; System.arraycopy(a, 0, newArray, 0, index); System.arraycopy(a, index, newArray, index + 1, s - index); array = a = newArray; &#125; a[index] = object; size = s + 1; modCount++; &#125; Java‰∏≠ÁöÑÂÆûÁé∞ Ë∑üandroidÂü∫Êú¨‰∏ÄÊ†∑ÁöÑÔºå‰πãÊâÄ‰ª•‰ª£Á†ÅÁÆÄÂçï‰∫ÜÔºåÊòØÂõ†‰∏∫javaÂ∞ÜÂà§Êñ≠Êâ©ÂÆπÁöÑÊìç‰ΩúÊîæÂú®‰∫ÜÊñπÊ≥ïÂÆûÁé∞Ôºå‰ΩÜÊòØandrodÂè™ÊòØÂ∞ÜËÆ°ÁÆóÊñ∞ÂÆπÈáèÁöÑÊñπÊ≥ïÊèêÂèñÂá∫Êù•‰∫Ü„ÄÇ 123456789101112131415public boolean add(E e) &#123; ensureCapacity(size + 1); // Increments modCount!! elementData[size++] = e; return true; &#125;public void add(int index, E element) &#123; if (index &gt; size || index &lt; 0) throw new IndexOutOfBoundsException( "Index: "+index+", Size: "+size); ensureCapacity(size+1); // Increments modCount!! System.arraycopy(elementData, index, elementData, index + 1, size - index); elementData[index] = element; size++; &#125; Ê†∏ÂøÉ‰ª£Á†ÅÂàÜÊûê Ëß£Èáä‰∏Ä‰∏ã‰∏ãÈù¢ËøôÊÆµ‰ª£Á†ÅÔºåÂú®java‰∏≠‰πüÊòØÂ¶ÇÊ≠§ÂÆûÁé∞ÁöÑÂè™ÊòØÊèêÂèñÂà∞‰∫ÜÊñπÊ≥ï‰∏≠Ôºå‰ºöÂú®‰∏ãÈù¢ÁöÑÊâ©ÂÆπÊú∫Âà∂‰∏≠ËØ¥Êòé„ÄÇ È¶ñÂÖàÊúÄÂêéÈÉΩËøõË°å‰∫Ü‰∏Ä‰∏™ËµãÂÄºÊìç‰Ωúa[index] = object;ÂâçÈù¢ÁöÑ‰ª£Á†ÅÁöÑÂ∑•‰ΩúÂ∞±ÊòØÂ∞ÜËøô‰∏™‰ΩçÁΩÆÁ©∫Âá∫Êù•„ÄÇ‰ª£Á†Å5 Â¶ÇÊûúÂΩìÂâçÁöÑsizeÊ≤°ÊúâË∂ÖËøálength,ÂàôÂ∞Üindex‰ΩçÁΩÆ‰πãÂêéÁöÑ‰ΩçÁΩÆÂêëÂêéÁßªÂä®‰∏Ä‰ΩçÔºåÂ∞Üindex‰ΩçÁΩÆÁ©∫Âá∫Êù•Ôºà‰ª£Á†Å1ÔºâÔºåÂ¶ÇÊûúË∂ÖËøáÈïøÂ∫¶‰∫ÜÔºåÂàôËøõË°å‰∏ÄÊ¨°Êâ©ÂÆπÔºà‰ª£Á†Å2ÔºâÔºåÂ∞ÜÊï∞ÊçÆÊã∑Ë¥ùÂà∞Êñ∞Êï∞ÁªÑÔºà‰ª£Á†Å3ÔºâÔºåÂÜçÂ∞ÜÊï∞ÁªÑÂêéÁßª‰∏Ä‰ΩçÔºà‰ª£Á†Å4Ôºâ ÂÆÉÊòØÊÄé‰πàÁßªÂä®ÁöÑÂë¢ÔºüSystem.arraycopy(a, index, newArray, index + 1, s - index)‰∫ÜËß£ÂèÇÊï∞ÁöÑÂê´‰πâÔºàsrc,Ê∫êÊï∞ÁªÑ‰∏≠ÂºÄÂßãÂ§çÂà∂ÁöÑ‰ΩçÁΩÆÔºådest,ÁõÆÊ†áÊï∞ÁªÑÂºÄÂßãÁ≤òË¥¥ÁöÑ‰ΩçÁΩÆÔºåÂ§çÂà∂ÁöÑÈïøÂ∫¶ÔºâÔºåËøôÊ†∑Â∞±ÊòéÁôΩ‰∫ÜÔºåÂåÖÊã¨‰ª£Á†Å1ÊòØ‰∏ÄÊ†∑ÁöÑÊÑèÊÄùÔºåaÊï∞ÁªÑÂíånewArrayÊï∞ÁªÑÊòØÁõ∏ÂêåÁöÑÔºåÂ∞Üa‰∏≠indexÂºÄÂßãÁöÑÊï∞ÊçÆÂ§çÂà∂Âà∞newArray‰∏≠index+1ÂºÄÂßãÁöÑ‰ΩçÁΩÆÔºåÁÑ∂ÂêéÂ§çÂà∂ÁöÑÈïøÂ∫¶ÊòØs-index,ÂàöÂ•Ωindex‰ΩçÁΩÆË¢´Á©∫Âá∫Êù•‰∫ÜÔºå‰∏æ‰∏™‰æãÂ≠êÔºåÊï∞ÊçÆa={21Ôºå22Ôºå23Ôºå25Ôºå26}ÔºånewArray={21Ôºå22Ôºå23Ôºå25Ôºå26},ÈúÄË¶ÅÂú®3ÁöÑ‰ΩçÁΩÆÊèíÂÖ•‰∏Ä‰∏™24ÔºåÂàôÂ∞Ü3ÂºÄÂßãÁöÑsize-index(5-3=2)ÈïøÂ∫¶ÁöÑÊï∞ÁªÑ‰πüÂ∞±ÊòØ25Ôºå26ÔºåÂ§çÂà∂Âà∞newArray‰∏≠index+1(3+1=4)ÂºÄÂßãÁöÑ‰ΩçÁΩÆÔºåÂæóÂà∞Êñ∞Êï∞ÁªÑ21Ôºå22Ôºå23ÔºåÁ©∫Ôºå25Ôºå26ÔºåÁÑ∂Âêéarray[3]=24; 123456789101112Object[] a = array;int s = size;if (s &lt; a.length) &#123;System.arraycopy(a, index, a, index + 1, s - index);//---1&#125; else &#123; Object[] newArray = new Object[newCapacity(s)];//---2System.arraycopy(a, 0, newArray, 0, index);//---3System.arraycopy(a, index, newArray, index + 1, s - index);//---4array = a = newArray;&#125;a[index] = object;//5size = s + 1; Êâ©ÂÆπÊú∫Âà∂ ÂçïÁã¨ÊãøÂá∫Êù•ÊòØÂõ†‰∏∫androidÂíåjavaÊâ©ÂÆπÊú∫Âà∂Á®çÊúâ‰∏çÂêå Android‰∏≠ÁöÑÂÆûÁé∞ Êâ©ÂÆπÊó∂ÔºåÂ¶ÇÊûúÂΩìÂâçÂÆπÈáèÂ∞è‰∫é6ÂàôËÆ©ÂÖ∂Á≠â‰∫é12ÔºåÂê¶ÂàôÊâ©Â§ß‰∏∫ÂéüÊù•ÁöÑ‰∏§ÂÄç„ÄÇ 12345678private static int newCapacity(int currentCapacity) &#123;int increment = (currentCapacity &lt; (MIN_CAPACITY_INCREMENT / 2) ?MIN_CAPACITY_INCREMENT : currentCapacity &gt;&gt; 1);return currentCapacity + increment;&#125;//ËøôÂè™ÊòØËÆ°ÁÆó‰∫ÜÊñ∞ÁöÑÂÆπÈáèÔºåÁúüÊ≠£ÁöÑÊâ©ÂÆπÂ¶ÇÊ≠§ÂÆûÁé∞Object[] newArray = new Object[newCapacity(s)];System.arraycopy(a, 0, newArray, 0, index); java‰∏≠ÁöÑÂÆûÁé∞, java‰∏≠Êï∞ÁªÑÊã∑Ë¥ùÈÉΩÊòØÁî®Arrays.copyOf()ÊñπÊ≥ïÁöÑÔºåÂü∫Êú¨ÂéüÁêÜÁõ∏Âêå„ÄÇ ÂèØ‰ª•ÂèëÁé∞javaÊâ©ÂÆπÂ∞ÜÂÆπÈáèÊâ©Â§ßÂà∞‰∫ÜÂéüÊù•ÂÆπÈáèÁöÑ1.5ÂÄç„ÄÇ ËøôÈáåÊúâ‰∏ÄË°å‰ª£Á†Å,ÁúãÊ≥®ÈáäÁöÑÊÑèÊÄùÊòØËøô‰∏™ÊñπÊ≥ïÊõ¥Âä†‰ºòÂåñ‰∫ÜÔºåË∞ÉÁöÆÁöÑÁ®ãÂ∫èÂëòa.Â§ßÊÑèÊòØminCapacity ÈÄöÂ∏∏Êõ¥Âä†ÈÄºËøësize. 1if (newCapacity &lt; minCapacity) newCapacity = minCapacity; 123456789101112public void ensureCapacity(int minCapacity) &#123; modCount++; int oldCapacity = elementData.length; if (minCapacity &gt; oldCapacity) &#123; Object oldData[] = elementData; int newCapacity = (oldCapacity * 3)/2 + 1; if (newCapacity &lt; minCapacity) newCapacity = minCapacity; // minCapacity is usually close to size, so this is a win: elementData = Arrays.copyOf(elementData, newCapacity); &#125;&#125; Áªº‰∏ä Â∞±ÊòØÊ†∏ÂøÉÊñπÊ≥ï‰∫ÜÂêßÔºåÂ∑≤ÁªèÂèØ‰ª•‰∫ÜËß£Âà∞ÂÆÉÂü∫Êú¨ÁöÑÂéüÁêÜÔºåÂΩìÁÑ∂ËøòÊúâindexOf(),contains(),remove(),writeObject(),readObject(),ÂÜÖÈÉ®Ëø≠‰ª£Âô®ÁöÑÂÆûÁé∞ÔºåtoArray()ÁöÑÂÆûÁé∞Ôºåset(),addAll()‚Ä¶..ÂÖ∂‰∏≠ÁöÑÂéüÁêÜ‰∏é‰∏äÈù¢ÊèêÂà∞ÁöÑÂæàÂ§öÈÉΩÊòØÁõ∏ÂêåÁöÑÔºåÊÑüÂÖ¥Ë∂£ÁöÑÂèØ‰ª•Ëá™Ë°å‰∫ÜËß£ÔºåËøôÈáå‰∏ç‰ªãÁªç‰∫ÜÔºåÂêéÈù¢ÊúâÊó∂Èó¥ÂÜçË¥¥‰∏Ä‰∏ãÂêß„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Java</tag>
        <tag>SourceCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HashMapÊ∫êÁ†ÅÂàÜÊûê]]></title>
    <url>%2Farticle%2F1753510098%2F</url>
    <content type="text"><![CDATA[ÂØπ HashMap Ê∫êÁ†ÅÁöÑÁÆÄÂçïÂàÜÊûê„ÄÇ Âü∫Êú¨ÁöÑÊï∞ÊçÆÁªìÊûÑÊúâÊï∞ÁªÑÔºåÈìæË°®ÔºåÊ†ëÔºåÂõæ„ÄÇ Êï∞ÁªÑÁöÑÁâπÁÇπÊòØÈïøÂ∫¶Âõ∫ÂÆöÔºåÁ©∫Èó¥ËøûÁª≠ÔºåÂç†Áî®ÂÜÖÂ≠òÂæàÂ§ßÔºåÁ©∫Èó¥Â§çÊùÇÂ∫¶ÊòØO(n),‰ΩÜÊòØÂØªÂùÄÂÆπÊòìÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶O(1).ÊÄªÁªìÔºöÂØªÂùÄÂÆπÊòìÔºåÊèíÂÖ•Âà†Èô§Âõ∞Èöæ„ÄÇ ÈìæË°®ÁöÑÁâπÁÇπÊòØÈïøÂ∫¶ÂèØÂèòÔºåÂ≠òÂÇ®Á©∫Èó¥Á¶ªÊï£ÔºåÂç†Áî®ÂÜÖÂ≠òÂ∞èÔºåÁ©∫Èó¥Â§çÊùÇÂ∫¶ÊòØO(1),‰ΩÜÊòØÂØªÂùÄÂõ∞ÈöæÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n).ÊÄªÁªìÔºöÂØªÂùÄÂõ∞ÈöæÔºåÊèíÂÖ•Âà†Èô§ÂÆπÊòì„ÄÇ ÂìàÂ∏åË°®Âü∫‰∫éÊï∞ÁªÑÁªìÊûÑÔºåÈááÁî®ÈîÆÂÄºÁöÑÊñπÂºèÂ≠òÂÇ®Êï∞ÊçÆÔºåÊèíÂÖ•Âà†Èô§ÂÆπÊòìÔºåÂØªÂùÄÊòØÊ†πÊçÆÈîÆÂÄºÁõ¥Êé•Êü•ÊâæÊï∞ÊçÆÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(1)Ôºå‰ΩÜÊòØ‰ΩøÁî®ÂìàÂ∏åÂÄºÂ≠òÂÇ®Êï∞ÊçÆÊÄª‰ºöÂá∫Áé∞ÂìàÂ∏åÂÜ≤Á™ÅÔºåËß£ÂÜ≥ÂìàÂ∏åÂÜ≤Á™ÅÁöÑÊñπÊ≥ï‰∏ªË¶ÅÊúâÔºåÂºÄÊîæÂÆöÂùÄÊ≥ïÔºàÂÜçÊï£ÂàóÔºâÔºåÂÜçÂìàÂ∏åÊ≥ïÔºåÈìæÂú∞ÂùÄÊ≥ïÔºàÊãâÈìæÊ≥ïÔºâÔºåÂª∫Á´ãÂÖ¨ÂÖ±Ê∫¢Âá∫Âå∫„ÄÇÁº∫ÁÇπÔºöÂ≠òÂÇ®Á©∫Èó¥Â°´Êª°Êó∂ÈúÄË¶ÅÂ∞ÜÂÖ∂Â§çÂà∂Âà∞Âè¶‰∏Ä‰∏™Êõ¥Â§ßÁöÑÊï∞ÁªÑÁªìÊûÑ‰∏≠ÔºåÂπ∂ËøõË°åÂÜçÂìàÂ∏åËÆ°ÁÆóÔºåËøôÊòØÂìàÂ∏åË°®ÂÜÖÂ≠òÂç†Áî®ÁöÑÊö¥Ê∂®ÁÇπÔºåËøôÊòØÂü∫‰∫éÊï∞ÁªÑÁªìÊûÑÁöÑ‰∏Ä‰∏™Áº∫ÁÇπ„ÄÇÂìàÂ∏åË°®‰∏çËÉΩ‰ª•‰∏ÄÁßçÁâπÂÆöÁöÑÈ°∫Â∫èÈÅçÂéÜÊï∞ÊçÆÁªìÊûÑ‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆÔºåÂ¶ÇÊûúÈúÄË¶ÅÊåâÂ∫èÂ≠òÂÇ®Ôºå‰ΩøÁî®ÂìàÂ∏åË°®Âπ∂‰∏çÂêàÈÄÇ„ÄÇ ‰ªãÁªç HashMapÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑHashTableÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ HashMapÂ∞±ÊòØÂü∫‰∫éÈìæÂú∞ÂùÄÊ≥ïÂÆûÁé∞ÁöÑÊï∞ÊçÆÂ≠òÂÇ®„ÄÇ‰πüÂ∞±ÊòØÈìæË°®ÁöÑÊï∞ÁªÑ„ÄÇ HashMapÂÖÅËÆ∏ÈîÆ ÂÄº ‰∏∫null„ÄÇHashTableÊòØ‰∏çÂÖÅËÆ∏ÁöÑ„ÄÇ Âú®AndroidÂíåJavaÈáåÈù¢ÂØπHashMapÁöÑÂÆûÁé∞ÔºåÁ®çÊúâ‰∏çÂêåÔºåÂºÄÂßãÊàëËøò‰ª•‰∏∫ÊòØÊàëÁöÑjdkÊúâÈóÆÈ¢ò„ÄÇ Âú®HashMapÁöÑÂü∫Á°ÄÊï∞ÁªÑ‰∏≠ÔºåÊØè‰∏Ä‰∏™Êï∞ÁªÑÈ°πÁß∞‰πã‰∏∫‰∏Ä‰∏™Ê°∂ÔºåHashMapÂ∞±ÊòØÂü∫‰∫éËøôÁßçÊ°∂+ÈìæË°®ÁöÑÁªìÊûÑ„ÄÇ Â≠òÂÇ®ÊñπÂºèÔºå‰ΩøÁî®keyÂÄºÂèñÂìàÂ∏åÔºå‰∏ÄËà¨ÁöÑÁÆóÊ≥ïÊòØhash(key)/lenËé∑Âæó‰ªñÂ≠òÊîæ‰ΩçÁΩÆÁöÑ‰∏ãÊ†áÔºåËøôÊ†∑Â∞±Â∞Ükey‰∏é‰∏ãÊ†áÂØπÂ∫îËµ∑Êù•„ÄÇ Â≠òÂÇ®ÁöÑÊï∞ÊçÆÁªìÊûÑ ÊÄªÁªìÊù•ËØ¥ÔºåHashMapÂ∞±ÊòØÊï∞ÁªÑ+ÂÜÖÈÉ®Á±ªÔºàEntryÔºâÂÆûÁé∞ÔºåEntry‰∏≠ÂÖ∑Êúâ‰∏ã‰∏Ä‰∏™EntryÁöÑÂºïÁî®ÔºåÁî±Ê≠§ÊûÑÊàê‰∫ÜÈìæË°®ÁöÑÁªìÊûÑ„ÄÇÁ¨¨‰∏ÄË°åÁöÑ‰ª£Á†ÅÊòØÁî®Êù•ÂØπHashMapËøõË°åÊìç‰ΩúÊó∂‰ΩøÁî®ÁöÑÂèòÈáèÔºåÊØîÂ¶ÇËø≠‰ª£HashMapÊâÄÊúâÁöÑÂ≠êÈ°πÔºåÊ∑ªÂä†‰∏Ä‰∏™EntrySetÂà∞HashMap‰∏≠ÔºåÂà†Èô§Ôºå‰øÆÊîπ„ÄÇ„ÄÇ„ÄÇ„ÄÇ 12private transient Set&lt;Entry&lt;K, V&gt;&gt; entrySet;transient HashMapEntry&lt;K, V&gt;[] table; HashMapEntry HashMap‰∏≠Êúâ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÂ≠òÂÇ®ÁªìÊûÑHashMapEntry,Áî®Êù•‰øùÂ≠òÈîÆÂÄºÂØπÔºåÂíå‰∏ã‰∏Ä‰∏™EntryÁöÑÂºïÁî®ÔºåËøôÂ∞±ÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™ÈìæË°®ÁªìÊûÑ„ÄÇ Âú®Java‰∏≠ÔºåËøô‰∏™ÈùôÊÄÅÂÜÖÈÉ®Á±ªÂè´Entry,Âú®android‰∏≠Âè´HashMapEntryÔºåÂú®ÂäüËÉΩ‰∏äÂ∫îËØ•ÊòØÁõ∏‰ººÁöÑ„ÄÇÊòØ‰∏Ä‰∏™Â≠òÂÇ®Êï∞ÊçÆÁöÑÂü∫Á°Äbean,ÂÖ≥Ê≥®‰∏Ä‰∏ãÊ∫êÁ†ÅÔºö 123456789101112131415161718192021222324252627282930313233343536373839static class HashMapEntry&lt;K, V&gt; implements Entry&lt;K, V&gt; &#123; final K key; V value; final int hash; HashMapEntry&lt;K, V&gt; next; HashMapEntry(K key, V value, int hash, HashMapEntry&lt;K, V&gt; next) &#123; this.key = key; this.value = value; this.hash = hash; this.next = next; &#125; public final K getKey() &#123; return key; &#125; public final V getValue() &#123; return value; &#125; public final V setValue(V value) &#123; V oldValue = this.value; this.value = value; return oldValue; &#125; @Override public final boolean equals(Object o) &#123; if (!(o instanceof Entry)) &#123; return false; &#125; Entry&lt;?, ?&gt; e = (Entry&lt;?, ?&gt;) o; return Objects.equal(e.getKey(), key) &amp;&amp; Objects.equal(e.getValue(), value); &#125; @Override public final int hashCode() &#123; return (key == null ? 0 : key.hashCode()) ^ (value == null ? 0 : value.hashCode()); &#125; @Override public final String toString() &#123; return key + "=" + value; &#125;&#125; ÂìàÂ∏åÂÄºÁöÑËÆ°ÁÆó Â≠òÂÇ®Êï∞ÊçÆÊòØÊ†πÊçÆkeyÁöÑÂìàÂ∏åÂÄºÊù•Â≠òÂÇ®ÁöÑÔºåÁ±ª‰ººËøôÊ†∑ÁöÑÊñπÊ≥ïhash(key.hashcode()) JavaÂíåAndroid‰∏≠ÂØπÊ±ÇÂìàÂ∏åÂÄºÁöÑÊìç‰ΩúÁõ∏‰ºº‰ΩÜÊòØÂìàÂ∏åÁÆóÊ≥ï‰∏çÂêåÔºåÂΩìËøõË°åÂ≠òÂèñÊìç‰ΩúÊó∂ÔºåkeyÈÉΩÈúÄË¶Å‰ΩøÁî®Ëøô‰∏™ÁÆóÊ≥ïËøõË°å‰∏≠ËΩ¨„ÄÇ Âú®Android‰∏≠‰ΩøÁî®ÁöÑÊòØCollectionsÁ±ª‰∏ãÁöÑÈùôÊÄÅÊñπÊ≥ïÂèäËøõË°åÂìàÂ∏åËÆ°ÁÆóÔºå‰ΩÜÊòØËøôÈáåÁöÑhÊòØkeyÁöÑhashcode(),ÁúãÊ≥®Èáä‰ΩøÁî®ÁöÑÊòØWang/JenkinsÂìàÂ∏åÁÆóÊ≥ïÁöÑÂèò‰Ωì,Ê∫ê‰ª£Á†ÅÔºö 1234567891011//javaÂÆûÁé∞private static int secondaryHash(int h) &#123; // Spread bits to regularize both segment and index locations, // using variant of single-word Wang/Jenkins hash. h += (h &lt;&lt; 15) ^ 0xffffcd7d; h ^= (h &gt;&gt;&gt; 10); h += (h &lt;&lt; 3); h ^= (h &gt;&gt;&gt; 6); h += (h &lt;&lt; 2) + (h &lt;&lt; 14); return h ^ (h &gt;&gt;&gt; 16);&#125; 12345678//androidÂÆûÁé∞static int hash(int h) &#123; // This function ensures that hashCodes that differ only by // constant multiples at each bit position have a bounded // number of collisions (approximately 8 at default load factor). h ^= (h &gt;&gt;&gt; 20) ^ (h &gt;&gt;&gt; 12); return h ^ (h &gt;&gt;&gt; 7) ^ (h &gt;&gt;&gt; 4); &#125; putÊñπÊ≥ï Ê£ÄÊü•ÈîÆÂÄºÊòØÂê¶‰∏∫Á©∫ÔºånullÊó∂Â∞ÜÂ≠òÂÇ®Âà∞forNullEntryÊâÄÂú®ÁöÑÈìæË°®‰∏≠„ÄÇ Ëé∑ÂèñÂìàÂ∏åÂÄº‰πãÂêéËé∑Âæó‰∏ãÊ†áÁ¥¢ÂºïÔºåÊ£ÄÊü•keyÊòØÂê¶Â∑≤ÁªèÂ≠òÂú®ÔºåÊòØÂàôÊõøÊç¢ÔºåÂê¶ÂàôÊ∑ªÂä†Âà∞ÂΩìÂâçÈìæË°®ÔºåÂü∫Êú¨ÊÄùÊÉ≥ÊòØËøôÊ†∑ÁöÑÔºåÂá†‰∏™‰∏çÂêåÁöÑÁÇπ putForNullKey(value)ÊñπÊ≥ïÔºåÂú®AndroidÂíåJava‰∏≠ÈÉΩÊúâÂÆûÁé∞ÔºåÂΩìÈîÆÂÄº‰∏∫nullÊó∂ÔºåÂàÜÈÖç‰∏Ä‰∏™Êï∞ÁªÑÁöÑ‰∏ÄÈ°πÔºåËøô‰∏™Êï∞ÁªÑÊåáÂêëkey == null ÁöÑEntry ‰∏Ä‰∏™‰∏çÂêåÁÇπÔºåJava‰∏≠ÊòØÂú®Ê∑ªÂä†Entry‰πãÂêéÈáçÊñ∞ËÆ°ÁÆóÂÆπÈáèÔºåËÄåAndroidÊòØÂú®AddNewEntry‰πãÂâçËøõË°å„ÄÇ Êâ©ÂÆπÁöÑÊñπÊ≥ïÈÉΩÊòØÊâ©Â§ß‰∏∫ÂéüÊù•ÁöÑ‰∏§ÂÄç„ÄÇ Âú®Android‰∏≠ÁöÑÂÆûÁé∞Âü∫Êú¨Á±ª‰ººÔºå‰ΩøÁî®CollectionsÈùôÊÄÅÊñπÊ≥ïËøõË°å‰∫åÊ¨°ÂìàÂ∏åËÆ°ÁÆóÔºåËÆ°ÁÆó‰∏ãË°®Á¥¢Âºï 123456789101112131415161718192021222324252627282930313233//Âú®java‰∏≠ÁöÑÂÆûÁé∞‰ª£Á†Å:public V put(K key, V value) &#123; if (key == null) return putForNullKey(value); int hash = hash(key.hashCode()); //ËÆ°ÁÆóhashÂÄºÔºå‰ΩøÁî®indexForÔºàÔºâËøô‰∏™ÂáΩÊï∞Ëé∑ÂæóËØ•ÂìàÂ∏åÂÄºÂØπÂ∫îÊï∞ÁªÑ‰∏ãÊ†áÔºåÁî±Ê≠§ÂèØ‰ª•ÂæóÂà∞ÂØπÂ∫îÁöÑÈÇ£‰∏™ÈìæË°®„ÄÇ int i = indexFor(hash, table.length ); for (Entry&lt;K,V&gt; e = table [i]; e != null; e = e.next) &#123; Object k; //ÂÖ≥Ê≥®ËøôÈÉ®ÂàÜ‰ª£Á†ÅÊòØÊõøÊç¢ÊéâÂ∑≤ÁªèÂ≠òÂú®ÁöÑkeyÂØπÂ∫îÁöÑvalue if (e.hash == hash &amp;&amp; ((k = e.key ) == key || key.equals(k))) &#123; V oldValue = e. value; e. value = value; e.recordAccess( this); return oldValue; &#125; &#125; modCount++; addEntry(hash, key, value, i); return null ; &#125; //Ëß£Èáä‰∏Ä‰∏ãËøôÈÉ®ÂàÜ‰ª£Á†ÅÔºåÂÅöÁöÑÊìç‰ΩúÂ∞±ÊòØÂ∞ÜÊñ∞Ê∑ªÂä†ÁöÑEntryÊîæÂú®ÈìæË°®ÁöÑÂ§¥ÈÉ®ÔºåËÄåÂéüÊù•ÁöÑÈìæË°®‰ºöÊé•Âú®Ëøô‰∏™Êñ∞ÁöÑEntryÂêéÈù¢„ÄÇvoid addEntry(int hash, K key, V value, int bucketIndex) &#123;//Ê≥®ÊÑèËøôÈáåÁöÑbucketIndexÊòØ‰∏ä‰∏Ä‰∏™ÂáΩÊï∞ÂæóÂà∞ÁöÑÊï∞ÁªÑ‰∏ãÊ†á„ÄÇÂèñÂà∞ËØ•Êï∞ÁªÑÈ°πÈìæÊé•ÁöÑEntryÁªô‰∫Ü‰∏¥Êó∂ÂèòÈáèeEntry&lt;K,V&gt; e = table [bucketIndex];//Êñ∞Âª∫‰∫Ü‰∏Ä‰∏™EntryÂ∞ÜÂÖ∂ÈìæÊé•Âà∞‰∫ÜÊï∞ÁªÑÈ°π‰∏äÔºåÁÑ∂ÂêéÊääeÁªô‰∫ÜÊñ∞ÁöÑEntryÁöÑNext,‰πüÂ∞±ÊòØÂêéÈù¢ÁöÑÈìæË°®ÈáçÊñ∞ÈìæÊé•Âà∞‰∫ÜÊñ∞ÁöÑEntryÂêéÈù¢ÔºåËÄåÊñ∞ÁöÑEntry‰Ωú‰∏∫‰∫ÜËØ•ÈìæË°®ÁöÑÁ¨¨‰∏ÄÈ°π„ÄÇtable[bucketIndex] = new Entry&lt;K,V&gt;(hash, key, value, e);//Ê∑ªÂä†‰πãÂêéÈáçÊñ∞ËÆ°ÁÆóÂÆπÈáè„ÄÇif (size ++ &gt;= threshold) resize(2 * table.length );&#125; 12345678910111213141516171819202122232425262728293031//android‰∏≠ÁöÑÂÆûÁé∞@Override public V put(K key, V value) &#123; if (key == null) &#123; return putValueForNullKey(value); &#125; int hash = Collections.secondaryHash(key); HashMapEntry&lt;K, V&gt;[] tab = table; int index = hash &amp; (tab.length - 1); for (HashMapEntry&lt;K, V&gt; e = tab[index]; e != null; e = e.next) &#123; if (e.hash == hash &amp;&amp; key.equals(e.key)) &#123; preModify(e); V oldValue = e.value; e.value = value; return oldValue; &#125; &#125; // No entry for (non-null) key is present; create one modCount++; //Ê≥®ÊÑèËøôÈáåÊòØÂÖàËøõË°åÊâ©ÂÆπÂêéËøõË°åÊ∑ªÂä†ÁöÑ if (size++ &gt; threshold) &#123; tab = doubleCapacity(); index = hash &amp; (tab.length - 1); &#125; addNewEntry(key, value, hash, index); return null;&#125;//AndroidÊ∑ªÂä†‰ª£Á†ÅÂ∞±Êõ¥ÁÆÄÂçï‰∫ÜÔºå‰∏çËøá‰πüÂæàÂ•ΩÁêÜËß£ÔºåÊìç‰Ωú‰∏éjava‰∏≠ÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ‰∏çËøáÊñπÊ≥ïÂæàÂ∑ß//Â¶ôÔºåÁÆÄÂåñ‰∫Ü‰ª£Á†ÅÔºåËÆ©ÊàëÊÉ≥Ëµ∑‰∫ÜInputStream is = new FileInputStream("path")is = new BufferedInputStream(is)`void addNewEntry(K key, V value, int hash, int index) &#123;table[index] = new HashMapEntry&lt;K, V&gt;(key, value, hash, table[index]);&#125; getÊñπÊ≥ï ÂêåÊ†∑ÁöÑËé∑Âèñhashcode,ÂÜçÂìàÂ∏åËÆ°ÁÆóÂìàÂ∏åÂÄºÔºåËé∑Âæó‰∏ãÊ†áÁ¥¢ÂºïÔºåÂæóÂà∞ÂØπÂ∫îÈìæË°®ÔºåÈÅçÂéÜÈìæË°®ÂæóÂà∞ÁªìÊûúÔºåÂú®JavaÂíåAndroid‰∏≠ÂÆûÁé∞Â§ßÂêåÂ∞èÂºÇ. 1234567891011121314//java‰∏≠ÁöÑÂÆûÁé∞public V get(Object key) &#123; if (key == null) return getForNullKey(); int hash = hash(key.hashCode()); for (Entry&lt;K,V&gt; e = table [indexFor(hash, table.length )]; e != null; e = e. next) &#123; Object k; if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) return e.value ; &#125; return null; &#125; 123456789101112131415161718//Android‰∏≠ÁöÑÂÆûÁé∞public V get(Object key) &#123; if (key == null) &#123; HashMapEntry&lt;K, V&gt; e = entryForNullKey; return e == null ? null : e.value; &#125; int hash = Collections.secondaryHash(key); HashMapEntry&lt;K, V&gt;[] tab = table; for (HashMapEntry&lt;K, V&gt; e = tab[hash &amp; (tab.length - 1)]; e != null; e = e.next) &#123; K eKey = e.key; if (eKey == key || (e.hash == hash &amp;&amp; key.equals(eKey))) &#123; return e.value; &#125; &#125; return null;&#125; ÂàùÂßãÂåñ Âú®JavaÂíåAndroid‰∏≠HashMapÁöÑÂàùÂßãÂåñÁï•Êúâ‰∏çÂêå,Android‰∏≠ÂàùÂßãÂÆπÈáèÊòØ2ÔºåJava‰∏≠ÂàùÂßãÂÆπÈáèÊòØ16„ÄÇ JavaÂÆûÁé∞ Java‰∏≠ÁöÑÂàùÂßãÂÆπÈáèÂíåË¥üËΩΩÂõ†Â≠êÊòØÂ≠¶‰π†JavaÊØîËæÉÁªèÂÖ∏ÁöÑÂÜÖÂÆπÔºåÁúã‰∏Ä‰∏ãJava‰∏≠HashMapÁöÑÈªòËÆ§ÊûÑÈÄ†ÊñπÊ≥ï 123456789static final int DEFAULT_INITIAL_CAPACITY = 16;static final float DEFAULT_LOAD_FACTOR = 0.75f;public HashMap() &#123;//ÈªòËÆ§ÁöÑÊûÑÈÄ†ÊñπÊ≥ï‰ºöÂàùÂßãÂåñ‰∏Ä‰∏™ÂÆπÈáèÊòØ16ÔºåË¥üËΩΩÂõ†Â≠ê0.75ÁöÑHashMap,thresholdÊúâÈòàÂÄºÁöÑÊÑèÊÄùÔºåÂ∞±ÊòØÂΩìÂâçÂÆπÈáèÂèØ‰ª•ÊâøÂèóÁöÑË¥üËΩΩ,ÂΩìË∂ÖËøáËøô‰∏™Ë¥üËΩΩÊó∂Â∞±‰ºöËøõË°åÊâ©ÂÆπ„ÄÇthis.loadFactor = DEFAULT_LOAD_FACTOR;threshold = (int )(DEFAULT_INITIAL_CAPACITY * DEFAULT_LOAD_FACTOR );table = new Entry[DEFAULT_INITIAL_CAPACITY];init();&#125; Â∏¶ÊúâÂèÇÊï∞ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÂÆûÁé∞ 12345678910111213141516171819202122232425262728293031323334//ÊåáÂÆöÂÆπÈáèÂíåË¥üËΩΩÂõ†Â≠êÊó∂‰ºöÊ£ÄÊü•ÂÆπÈáèÂíåË¥üËΩΩÂõ†Â≠êÁöÑÂÄºÊòØ‰∏çÊòØÊúâÈóÆÈ¢ò//ÁÑ∂Âêé‰ºöËøõË°å‰∏Ä‰∏™‰ΩçËøêÁÆóÁÆóÊ≥ïËé∑Âæó-„ÄãÂ§ß‰∫éÂΩìÂâçË¶ÅÊ±ÇÁöÑÂÆπÈáèÁöÑ-„ÄãÊúÄÂ∞èÁöÑ2ÁöÑÂπÇ//Ôºà‰πüÂ∞±ÊòØÂ¶ÇÊûúÊòØ7--„Äã8Â¶ÇÊûúÊòØ9--„Äã16Ôºâpublic HashMap(int initialCapacity, float loadFactor) &#123;if (initialCapacity &lt; 0)throw new IllegalArgumentException("Illegal initial capacity: " +initialCapacity);if (initialCapacity &gt; MAXIMUM_CAPACITY)initialCapacity = MAXIMUM_CAPACITY;if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))throw new IllegalArgumentException("Illegal load factor: " +loadFactor);// Find a power of 2 &gt;= initialCapacity//ÁÆóÊ≥ïÂéüÁêÜÔºöcapacityÂàùÂßã‰∏∫1ÔºåÂΩìcapacityÂ∞è‰∫éinitialCapacityÊó∂Â∑¶Áßª‰∏Ä‰ΩçÔºåÂ∞±ÊòØ*2,Áõ¥Âà∞ÊâæÂà∞Â§ß‰∫éÂΩìÂâçË¶ÅÊ±ÇÁöÑÂÆπÈáèÊúÄÂ∞èÁöÑ2ÁöÑÂπÇint capacity = 1;while (capacity &lt; initialCapacity)capacity &lt;&lt;= 1;this.loadFactor = loadFactor;threshold = (int )(capacity * loadFactor);table = new Entry[capacity];init();&#125;//ÂÆπÈáèÂ¢ûÂä†Ôºåtransfer(newTable);‰ºöÂ∞ÜÂéüÊù•ÁöÑÊï∞ÊçÆÂÜçÂìàÂ∏åÈáçÊñ∞ÊîæÂÖ•Êï∞ÊçÆvoid resize(int newCapacity) &#123; Entry[] oldTable = table; int oldCapacity = oldTable.length ; if (oldCapacity == MAXIMUM_CAPACITY) &#123; threshold = Integer.MAX_VALUE; return; &#125; Entry[] newTable = new Entry[newCapacity]; transfer(newTable); table = newTable; threshold = (int)(newCapacity * loadFactor); &#125; Âú®Android‰∏≠ÁöÑÂÆûÁé∞1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495//ÈªòËÆ§ÁöÑÂàùÂßãÊúÄÂ∞èÂÆπÈáèÊòØ4Ôºå‰∏Ä‰∏™ÈùôÊÄÅÁöÑÂàùÂßãÊï∞ÁªÑÁöÑÂÆπÈáèÊòØÊúÄÂ∞èÂÆπÈáèÊó†Á¨¶Âè∑Âè≥Áßª1‰ΩçÔºå‰πüÂ∞±ÊòØ2ÔºåÈªòËÆ§ÊûÑÈÄ†Êó∂Ôºå‰ºöÂ∞ÜËØ•ÈùôÊÄÅÊï∞ÁªÑ‰∫§Áªôtable,ËøôÈáåÊúâ‰∏ÄË°åÊ∫êÁ†ÅÁöÑÊ≥®ÈáäÔºà Forces first put invocation to replace EMPTY_TABLEÔºâÔºåÊÑèÊÄùÊòØÊ†πÊçÆÁ¨¨‰∏ÄÊ¨°putÊñπÊ≥ïÂä†ÂÖ•ÁöÑÊï∞ÈáèÊù•Êâ©ÂÖÖÊï∞ÁªÑÔºåÊ≠§Êó∂Ë¥üËΩΩÂÆπÈáèÊòØ-1ÔºåÊ∑ªÂä†Êó∂‰ºöÁ´ãÂàªÊâ©ÂÖÖÂÆπÈáèÔºåËøôÂèØËÉΩ‰πüÊòØ‰∏∫‰ªÄ‰πàAndroid‰∏≠Ê∑ªÂä†ÂÖÉÁ¥†ÊòØÂÖàÊ£ÄÊü•Êâ©ÂÖÖÂÆπÈáèÂÜçÊ∑ªÂä†ÁöÑÂéüÂõ†„ÄÇ„ÄÇÂú®putÊó∂Á¨¨‰∏ÄÊ¨°ÁôæÂàÜÁôæÊ£ÄÊµãÂà∞ÂÆπÈáè‰∏çÂ§üÔºåÊ≠§Êó∂ËøõË°å‰∏ÄÊ¨°doubleCapacity()Â∞ÜÂÆπÈáèÂä†ÂÄçÔºåÂú®Ëøô‰∏™ÊñπÊ≥ï‰∏≠‰ºöË∞ÉÁî®private static final int MINIMUM_CAPACITY = 4;private static final Entry[] EMPTY_TABLE = new HashMapEntry[MINIMUM_CAPACITY &gt;&gt;&gt; 1];public HashMap() &#123; table = (HashMapEntry&lt;K, V&gt;[]) EMPTY_TABLE; threshold = -1; // Forces first put invocation to replace EMPTY_TABLE&#125;//ÂÆπÈáèÂ¢ûÈïøÊàñÂàùÂßãÂåñÊó∂‰ºöË∞ÉÁî®ËØ•ÊñπÊ≥ïÔºåÈáçÁΩÆÈòàÂÄºÔºå‰∏éJavaÁ®çÊúâ‰∏çÂêåÔºå‰ΩøÁî®Âõ∫ÂÆöÁöÑÂÆπÈáèÁöÑ3/4Êù•‰Ωú‰∏∫ÈòàÂÄºÔºåJava‰∏≠ËøòË¶ÅÊØîËæÉÂÆπÈáèÁöÑÂ§ßÂ∞èÔºåÂèñMath.min(ÂÆπÈáèÔºå)private HashMapEntry&lt;K, V&gt;[] doubleCapacity() &#123; HashMapEntry&lt;K, V&gt;[] oldTable = table; int oldCapacity = oldTable.length; if (oldCapacity == MAXIMUM_CAPACITY) &#123; return oldTable; &#125; int newCapacity = oldCapacity * 2; HashMapEntry&lt;K, V&gt;[] newTable = makeTable(newCapacity); if (size == 0) &#123; return newTable; &#125; for (int j = 0; j &lt; oldCapacity; j++) &#123; /* * Rehash the bucket using the minimum number of field writes. * This is the most subtle and delicate code in the class. */ HashMapEntry&lt;K, V&gt; e = oldTable[j]; if (e == null) &#123; continue; &#125; int highBit = e.hash &amp; oldCapacity; HashMapEntry&lt;K, V&gt; broken = null; newTable[j | highBit] = e; for (HashMapEntry&lt;K, V&gt; n = e.next; n != null; e = n, n = n.next) &#123; int nextHighBit = n.hash &amp; oldCapacity; if (nextHighBit != highBit) &#123; if (broken == null) newTable[j | nextHighBit] = n; else broken.next = n; broken = e; highBit = nextHighBit; &#125; &#125; if (broken != null) broken.next = null; &#125; return newTable;&#125;private HashMapEntry&lt;K, V&gt;[] makeTable(int newCapacity) &#123; @SuppressWarnings("unchecked") HashMapEntry&lt;K, V&gt;[] newTable = (HashMapEntry&lt;K, V&gt;[]) new HashMapEntry[newCapacity]; table = newTable; //ÈòàÂÄºÊó∂ÊòØÂÆπÈáèÁöÑ3/4,‰ΩøÁî®‰∫Ü‰ΩçËøêÁÆó threshold = (newCapacity &gt;&gt; 1) + (newCapacity &gt;&gt; 2); // 3/4 capacity return newTable;&#125;//ÂêåÊ†∑ÁöÑÊ£ÄÊü•Êú∫Âà∂ÔºåÁÑ∂Âêé‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂèàÊòØCollectionsÁ±ª‰∏≠ÁöÑÊñπÊ≥ïCollections.roundUpToPowerOfTwo(capacity);Ôºå‰ΩúÁî®ÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂ∞ÜÂÆπÈáè‰øÆÊîπ‰∏∫Â§ß‰∫éËæìÂÖ•ÂÆπÈáèÁöÑÊúÄÂ∞èÁöÑ2ÁöÑÂπÇ„ÄÇ‰ΩÜÊòØ‰ΩøÁî®‰∫åËøõÂà∂ÂÆûÁé∞Ôºå‰ºö‰∏ç‰ºöÊõ¥ÁâõÈÄº‰∏ÄÁÇπ„ÄÇpublic HashMap(int capacity) &#123; if (capacity &lt; 0) &#123; throw new IllegalArgumentException("Capacity: " + capacity); &#125; if (capacity == 0) &#123; @SuppressWarnings("unchecked") HashMapEntry&lt;K, V&gt;[] tab = (HashMapEntry&lt;K, V&gt;[]) EMPTY_TABLE; table = tab; threshold = -1; // Forces first put() to replace EMPTY_TABLE return; &#125; if (capacity &lt; MINIMUM_CAPACITY) &#123; capacity = MINIMUM_CAPACITY; &#125; else if (capacity &gt; MAXIMUM_CAPACITY) &#123; capacity = MAXIMUM_CAPACITY; &#125; else &#123; capacity = Collections.roundUpToPowerOfTwo(capacity); &#125; makeTable(capacity);&#125;//Áúã‰∏çÊáÇÂïäÔºåÂ∫îËØ•Êî∂Ëóè‰∏Ä‰∏ãÂÖ≥‰∫é‰∫åËøõÂà∂ÁöÑÁÆóÊ≥ïÔºåÈ´òÂ§ß‰∏äÁöÑÂà´‰∫∫ÈÉΩÁúã‰∏çÊáÇpublic static int roundUpToPowerOfTwo(int i) &#123; i--; // If input is a power of two, shift its high-order bit right. // "Smear" the high-order bit all the way to the right. i |= i &gt;&gt;&gt; 1; i |= i &gt;&gt;&gt; 2; i |= i &gt;&gt;&gt; 4; i |= i &gt;&gt;&gt; 8; i |= i &gt;&gt;&gt; 16; return i + 1;&#125; Êõ¥Â§ö JDK1.8Âú®ÂÆπÈáèËøáÂ§ßÊó∂‰ΩøÁî®Á∫¢ÈªëÊ†ëÂ≠òÂÇ®Êï∞ÊçÆÔºå‰∫ã‰ª∂Â§çÊùÇÂ∫¶O(logn),ÂØπ‰∫éÁ∫¢ÈªëÊ†ë‰∏çÊòØÂæà‰∫ÜËß£ÔºåÁÆóÊ≥ïÂæàËèúÔºåÊöÇÊó∂ÊîæÊîæÂêß„ÄÇ ÈòàÂÄº = ÂÆπÈáè Ë¥üËΩΩÂõ†Â≠êÔºåÂΩìÂÆπÈáèË∂ÖËøáÈòàÂÄºÊó∂‰ºöËøõË°åÊâ©ÂÆπÂíåÂÜçÊï£ÂàóÔºåÊ≠§Êó∂ÊòØhashmapÁöÑÂÜÖÂ≠òÂç†Áî®ÁöÑÂ¢ûÈïøÁÇπÔºåÊâ©ÂÆπ‰ºöÂ∞ÜÂÆπÈáèÊâ©Â§ß‰∏∫ÂéüÊù•ÁöÑ‰∏§ÂÄçÁÑ∂ÂêéÂ∞ÜÊï∞ÊçÆÊã∑Ë¥ùÂà∞Êñ∞ÁöÑÂå∫ÂüüËøõË°åÂÜçÊï£Âàó„ÄÇ‰ΩÜÊòØËøôÈáåÊúâ‰∏™ÈóÆÈ¢ò‰∏çÂ§™ÊáÇÔºöHashMapÊâ©ÂÆπÔºåÊØèÊ¨°Ê∑ªÂä†‰∏Ä‰∏™ÂÖÉÁ¥†size++,ÂΩìsize&gt;ÈòàÂÄºÔºàÂÆπÈáèË¥üËΩΩÂõ†Â≠êÔºâÊó∂ËøõË°åÊâ©ÂÆπÔºå‰ΩÜÊòØHashMapÊòØÂü∫‰∫éÊï∞ÁªÑ+ÈìæË°®ÁöÑÔºåÊ∑ªÂä†ÁöÑÂÖÉÁ¥†‰∏ç‰∏ÄÂÆöÈõÜ‰∏≠Âà∞‰∏Ä‰∏™Êï∞ÁªÑÈ°π„ÄÇ‰∏æ‰∏™‰æãÂ≠êËØ¥ÔºåÂΩì‰∏Ä‰∏™hashmapÂÆπÈáèÊòØ16ÔºåÈòàÂÄºÂ∞±ÊòØ12ÔºåÊ≠§Êó∂Ê∑ªÂä†ÁöÑÂÖÉÁ¥†Â¶ÇÊûúÊúâ12‰∏™‰∫ÜÔºå‰ΩÜÊòØÂç¥Âè™ÊòØÈõÜ‰∏≠Âú®ÊüêÂá†‰∏™Êï∞ÁªÑÈ°πÊâÄÂú® ÁöÑÈìæË°®‰∏≠ÔºåÈÇ£‰πàÊ≠§Êó∂ËøõË°åÊâ©ÂÆπÂêàÈÄÇÂêóÔºüÊöÇÊó∂ÂêàÁêÜÁöÑËß£ÈáäÊòØhashÔºàÔºâÁÆóÊ≥ïÂèØ‰ª•ÂæàÂ•ΩÁöÑÂ∞ÜÊï∞ÊçÆÂàÜÊï£Âú®ÊâÄÊúâÁöÑÊï∞ÁªÑÈ°π‰∏≠ÔºåÈÇ£‰πàËøôÁßçÊØîËæÉ‰πüÊòØÊØîËæÉÂêàÁêÜÁöÑ„ÄÇ ‰∏∫‰ªÄ‰πàË¶ÅÂ∞ÜÂàùÂßãÂÆπÈáèËÆ°ÁÆóÂæóÂà∞Â§ß‰∫éËØ•ÂÆπÈáèÁöÑÊúÄÂ∞èÁöÑ2ÁöÑÂπÇÔºüÊàë‰ª¨ÂèØ‰ª•Áúã‰∏Ä‰∏ãËøô‰∏™‰ª£Á†Åint index = hash &amp; (tab.length - 1);Âú®java‰∏≠ÊúâÁõ∏ÂêåÁöÑËÆæËÆ°ÊòØ‰∏Ä‰∏™ÂáΩÊï∞indexfor(int hash)Âú®ËÆ°ÁÆóhashcodeÂØπÂ∫îÁöÑÊï∞ÁªÑ‰∏ãÊ†áÊó∂‰ΩøÁî®hash&amp;len-1‰ª£Êõø‰∫Ühash%lenÔºåÂè™ÊúâÂú®lenÊòØ2ÁöÑÂπÇÊó∂ÔºåËøô‰∏§‰∏™ÊñπÊ≥ïÊâçÊòØÁ≠â‰ª∑‰∏çÁ≠âÊïàÁöÑ„ÄÇÂèØËÉΩ‰∏çÂ§™Â•ΩÁêÜËß£Ôºå‰∏æ‰∏™‰æãÂ≠êÔºölenÊòØ16Êó∂Ôºå‰∫åËøõÂà∂10000Ôºålen-1ÊòØ01111ÔºåÂ¶ÇÊûúÂæóÂà∞ÁöÑhashÂ∞è‰∫é16Êó∂ÔºåÊØîÂ¶ÇÊòØ3ÂêßÔºåËøõË°å&amp;ËøêÁÆó01111&amp;00011ÂæóÂà∞ÁöÑÁªìÊûúÊòØ3Ôºå‰πüÂ∞±ÊòØÊú¨Ë∫´„ÄÇÁ°ÆÂÆûÁ≠â‰ª∑‰∫é3%16ÔºåÂÜçÊØîÂ¶ÇÂ§ß‰∫é16ÔºåÊòØ19ÂêßÔºåÂÜçÂ§ß‰πüÊòØ‰∏Ä‰∏™ÊÑèÊÄùÔºå‰πüÂ∞±ÊòØ01111&amp;10011ÂæóÂà∞ÁöÑÁªìÊûúÊòØ3ÔºåÁ≠â‰ª∑‰∫é19%16ÔºåÂè≥Êï∞Á¨¨5‰Ωç‰ª•‰∏äÁöÑ1ÈÉΩË¢´ËøáÊª§Êéâ‰∫ÜÔºåËØ¥Ëøô‰πàÂ§öÂè™ÊòØËß£Èáä‰∏Ä‰∏ãÁ°ÆÂÆûhash&amp;len-1Á≠â‰ª∑‰∫éhash%lenÔºå‰ΩÜÊòØ‰ΩøÁî®‰ΩçËøêÁÆóÊïàÁéá‰ºöÂ§ßÂ§ßÊèêÈ´òÔºåÂú®Ê∫êÁ†Å‰∏≠‰ΩçËøêÁÆóÈöèÂ§ÑÂèØËßÅ„ÄÇps:ÊàëÊÄªËßâÁöÑËøòÊúâÂà´ÁöÑ‰ΩúÁî®Ôºå‰ΩÜÊòØÊ≤°Êúâ‰∫ÜËß£Âà∞„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>SourceCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ListView Adapter 1]]></title>
    <url>%2Farticle%2F4287006971%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä ‰ªãÁªç‰∏Ä‰∏ãÈÄÇÈÖçÂô®ÁöÑÊäΩË±°ÔºåÂú®Êàë‰ª¨ÂÅöÈ°πÁõÆÁöÑÊó∂ÂÄô‰ºöÊúâÂæàÂ§öÂæàÂ§öÂú∞Êñπ‰ΩøÁî®ListViewÔºå‰πüÂ∞±ÊÑèÂë≥ÁùÄÈúÄË¶ÅÂÜôÂæàÂ§öÂæàÂ§öÁöÑÈÄÇÈÖçÂô®ÔºåÂΩìÊàë‰ª¨ÂÜôÁöÑÈ°πÁõÆÂæàÂ§ßÊó∂Â∞±‰ºöÂæàÁÉ¶ÂæàÁÉ¶ÔºåÊØèÊ¨°ÈÉΩË¶ÅÂÜôÂêåÊ†∑ÁöÑ‰ª£Á†ÅÁâáÂÆûÁé∞Á±ª‰ººÁöÑÂäüËÉΩÔºåÊâÄ‰ª•Êàë‰ª¨Â∞±ÊúâÂøÖË¶ÅÂØπ‰º†ÁªüÁöÑÈÄÇÈÖçÂô®ÊäΩË±°‰∏Ä‰∏ã„ÄÇ ‰º†ÁªüÈÄÇÈÖçÂô®ÁöÑ‰ºòÂåñÂÜôÊ≥ï Ê†∏ÂøÉ‰ª£Á†ÅÂ∞±ÊòØgetVIew()ÊñπÊ≥ïÔºåÂú®ÈáåÈù¢Êàë‰ª¨ËøõË°åItemÁöÑÂ§çÁî®ÔºåËÄåÁõ∏ÂØπ‰∫éÂÖ∂‰ªñÊñπÊ≥ïÂ∞±‰ºöÊòæÂæóÂæàÂ§ö‰ΩôÔºåÂõ†‰∏∫ÊØè‰∏™ÈÄÇÈÖçÂô®ÈÉΩÂú®ÈáçÂ§çÁõ∏ÂêåÁöÑ‰ª£Á†Å 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364public class FirstpageGridAdapter extends BaseAdapter &#123; /* gridviewÊï∞ÊçÆ */ private String[] choices = new String[] &#123; &quot;Êñ∞Êàø&quot;, &quot;‰∫åÊâãÊàø&quot;, &quot;ÁßüÊàø&quot;, &quot;ËµÑËÆØ&quot;, &quot;ÊâìÊäò‰ºòÊÉ†&quot;, &quot;ÊúÄÊñ∞ÂºÄÁõò&quot;, &quot;ÊàøË¥∑ËÆ°ÁÆó&quot;, &quot;Êõ¥Â§ö&quot; &#125;; private int[] images = new int[] &#123; R.drawable.selector_xinfang, R.drawable.selector_ershou, R.drawable.selector_zufang, R.drawable.selector_zixun, R.drawable.selector_youhui, R.drawable.selector_kaipan, R.drawable.selector_calculator, R.drawable.selector_more &#125;; private LayoutInflater layoutInflater; private onClickChildIbListener listener; public FirstpageGridAdapter(Context context, onClickChildIbListener listener) &#123; super(); this.layoutInflater = LayoutInflater.from(context); this.listener = listener; &#125; public interface onClickChildIbListener &#123; public void clickChild(int pos,View view); &#125; public int getCount() &#123; return choices.length; &#125; public Object getItem(int position) &#123; return choices[position]; &#125; public long getItemId(int position) &#123; return position; &#125; public View getView(int position, View convertView, ViewGroup parent) &#123; ViewHolder holder = null; if (convertView == null) &#123; holder = new ViewHolder(); convertView = layoutInflater.inflate(R.layout.item_main_grid, parent, false); holder.ib = (ImageButton) convertView .findViewById(R.id.item_main_grid_ib); holder.tv = (TextView) convertView .findViewById(R.id.item_main_grid_tv); convertView.setTag(holder); &#125; else &#123; holder = (ViewHolder) convertView.getTag(); &#125; holder.ib.setBackgroundResource(images[position]); holder.tv.setText(choices[position]); final int pos = position; holder.ib.setOnClickListener(new OnClickListener() &#123; public void onClick(View v) &#123; listener.clickChild(pos,v); &#125; &#125;); return convertView; &#125; private class ViewHolder &#123; ImageButton ib; TextView tv; &#125;&#125; ÊäΩË±°ViewHolder Êàë‰ª¨ÂèØ‰ª•ÂàÜÊûê‰∏Ä‰∏ãViewHolderÁ±ªÔºåÂÆÉÁª¥Êä§‰∏Ä‰∏™ItemÁöÑ‰∏ÄÁªÑUIÁªÑ‰ª∂ÔºåÂ¶ÇÊûúÊàë‰ª¨Ë¶Å‰ΩøÁî®‰ΩøÁî®ÈÄöÁî®ÁöÑViewHolderÂ∞±‰ºöÈÅáÂà∞‰∏Ä‰∏™ÈóÆÈ¢òÔºå‰Ω†‰∏çÁü•ÈÅì‰∏çÂêåÁöÑÂ∏ÉÂ±ÄÊúâ‰ªÄ‰πàÁªÑ‰ª∂Âú®ÈáåÈù¢ÔºåÂ¶Ç‰ΩïÁª¥Êä§‰∏ÄÁªÑUIÂë¢ÔºåÊï∞ÁªÑÔºüÈìæË°®ÔºüÊàñËÄÖMap?ÂΩìÊü•ÊâæViewÊó∂Êàë‰ª¨‰ΩøÁî®idÊù•ËøõË°åÊü•ÊâæÔºåÈÇ£‰πàÊÉ≥Âú®ViewHolder‰∏≠Êü•ÊâæViewÂ∞±ÈúÄË¶Å‰ΩøÁî®id‰Ωú‰∏∫ÈîÆÔºåÊàë‰ª¨ÈÄâÊã©‰ΩøÁî®SparseArrayÔºå‰πüÂ∞±ÊòØÁ®ÄÁñèÊï∞ÁªÑÔºå‰ªÄ‰πàÊòØÁ®ÄÁñèÊï∞ÁªÑÔºå‰ΩøÁî®idÔºàÂ§ßÊï¥Êï∞Ôºâ‰Ωú‰∏∫ÈîÆÂÄºÂ≠òÂÇ®Êï∞ÊçÆ‰ºöÈÄ†ÊàêÂ§ßÂ§öÊï∞ÁöÑÊú™Ë¢´‰ΩøÁî®ÔºåÂ¶ÇÊûú‰ΩøÁî®‰∏ÄËà¨ÁöÑË°®Â≠òÂÇ®‰ºöÈÄ†ÊàêÂæàÂ§ßÁöÑÊµ™Ë¥πÔºåÁ®ÄÁñèÊï∞ÁªÑÂØπÊï∞ÁªÑËøõË°å‰∫ÜÂéãÁº©ÔºåËäÇÁ∫¶‰∫ÜÂæàÂ§ßÁ©∫Èó¥ÔºåËØ¶ËßÅËøôÈáå 1private SparseArray&lt;View&gt; cacheViews; ‰ΩøÁî®Á®ÄÁñèÊï∞ÁªÑÂ≠òÂÇ®UIÊéß‰ª∂‰ª•ÂêéÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™Ëé∑ÂèñUIÊéß‰ª∂ÁöÑÊñπÊ≥ïÔºåÊñπÊ≥ïÂæàÊ∏ÖÊô∞ÁöÑÔºåitemViewÊòØ‰º†ÈÄíËøõÊù•ÁöÑÁà∂Êéß‰ª∂ÔºåÂ∞±ÊòØconvertView‰ªé‰∏≠Ê†πÊçÆidËé∑ÂèñÊéß‰ª∂ 1234567891011@Override public View getView(int resId) &#123; View v = cacheViews.get(resId); if (v == null) &#123; v = itemView.findViewById(resId); if (v != null) &#123; cacheViews.put(resId, v); &#125; &#125; return v; &#125; ViewHolderÂÆåÊï¥‰ª£Á†ÅÔºåËøôÈáå‰º†ÂÖ•‰∫Ü‰∏Ä‰∏™viewCount,‰∏∫‰ªÄ‰πàÂë¢ÔºüÂ∞±ÂÉèArrayList‰∏ÄÊ†∑Ôºå‰∏çÂÆö‰πâÁ©∫Èó¥Â§ßÂ∞èÊó∂ÂàùÂßãÂÆπÈáè16ÔºåË∂ÖÂá∫Á©∫Èó¥Â§ßÂ∞èÊó∂ÊØèÊ¨°Â¢ûÂä†25Ôºå‰ΩÜÂ∞±ÊòØÂàùÂßãÂÆπÈáèÁöÑ16ÂØπ‰∫éÊàë‰ª¨Êù•ËØ¥Â∑≤ÁªèÊòØÊµ™Ë¥π‰∫ÜÔºå‰∏Ä‰∏™Item‰∏çÂèØËÉΩÊúâ16‰∏™Êéß‰ª∂ÈÇ£‰πàÂ§ö„ÄÇÊåáÂÆöÂ§ßÂ∞èÊèêÈ´òÂÜÖÂ≠ò‰ΩøÁî®„ÄÇ 12345678910111213141516171819202122232425262728293031/** * * @author chendong * Áî®Êù•ÂÆûÁé∞Â§çÁî®Âä†ËΩΩÁöÑÂçïÁ±ªÂûãViewHolder * */ public static class SingleViewHolder&#123; /** * ‰ΩøÁî®SparseArray */ private SparseArray&lt;View&gt; cacheViews; private View itemView; public SingleViewHolder(View itemView, int viewCount) &#123; super(); this.itemView = itemView; cacheViews = new SparseArray&lt;View&gt;(viewCount); &#125; @Override public View getView(int resId) &#123; View v = cacheViews.get(resId); if (v == null) &#123; v = itemView.findViewById(resId); if (v != null) &#123; cacheViews.put(resId, v); &#125; &#125; return v; &#125; &#125; ÊäΩË±°ÈÄÇÈÖçÂô® ‰º†ÁªüÁöÑÈÄÇÈÖçÂô®ÊúâÂ§™Â§öÁöÑÈáçÂ§ç‰ª£Á†ÅÈúÄË¶ÅÁºñÂÜôÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÈáçÂ§çÁöÑ‰ª£Á†ÅÂú®Áà∂Á±ª‰∏≠ÁºñÂÜôÂ•ΩÔºå‰ΩøÂæóÂ≠êÁ±ªÂèØ‰ª•Áõ¥Êé•Â§çÁî®ÔºåÔºÅ‰ΩøÁî®ÊäΩË±°Áà∂Á±ª Áà∂Á±ªÁöÑgetView()ÊñπÊ≥ï‰∏≠‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÔºå‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ËÆæËÆ°Ê®°ÂºèÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÔºåÂ∞ÜÊñπÊ≥ïÁöÑÂÆûÁé∞Êé®ËøüÂà∞‰∫ÜÂ≠êÁ±ª‰∏≠ Ê≥õÂûãÔºå‰º†ÈÄíÁöÑÊï∞ÊçÆÁ±ªÂûãÊòØ‰∏çÁ°ÆÂÆöÁöÑÔºå‰ΩøÁî®Ê≥õÂûãÂèØ‰ª•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊ≥õÂûãÁöÑ‰ΩøÁî®‰∏ç‰∫ÜËß£ÁöÑÂª∫ËÆÆÊêú‰∏Ä‰∏ãÔºåÂêéÈù¢Ê∑±ÂÖ•ÁöÑ‰ªãÁªç‰ºö‰ΩøÁî®Êõ¥Â§çÊùÇÁöÑÊ≥õÂûã 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576/** 1. ÊäΩË±°ÈÄÇÈÖçÂô®Ôºå‰ΩøÁî®‰∫ÜÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÔºåÂ∞ÜËÆæÁΩÆitemÊòæÁ§∫ÂÜÖÂÆπÁöÑÈÉ®ÂàÜÊäΩË±°Âà∞‰∫ÜÁ±ªÂ§ñ ËøôÊòØÂçïÁ±ªÂûãÁöÑÊäΩË±°ÈÄÇÈÖç 2. 3. @author chendong 4. 5. @param &lt;T&gt; 6. Ê≥õÂûã */public abstract class SingleEasyAdapter&lt;T&gt; extends BaseAdapter &#123; private LayoutInflater layoutInflater; private int resId; private List&lt;T&gt; datas; private int viewCount = 5; /** * @param context * ‰∏ä‰∏ãÊñáÂØπË±°ÔºåÂª∫ËÆÆ‰ΩøÁî®getApplicationContext(); * @param resId * itemÂ∏ÉÂ±Äid * @param datas * Êï∞ÊçÆÈõÜ * @param viewCount * item‰∏≠ÁöÑview‰∏™Êï∞ÔºåÁî®Êù•‰ºòÂåñSparseArray&lt;View&gt; */ public SingleEasyAdapter(Context context, int resId, List&lt;T&gt; datas, int viewCount) &#123; super(); this.layoutInflater = LayoutInflater.from(context); this.resId = resId; this.datas = datas; this.viewCount = viewCount; &#125; public int getCount() &#123; return datas.size(); &#125; public Object getItem(int position) &#123; return datas.get(position); &#125; public long getItemId(int position) &#123; return position; &#125; public View getView(int position, View convertView, ViewGroup parent) &#123; ViewHolder holder = null; if (convertView == null) &#123; convertView = layoutInflater.inflate(resId, parent, false); holder = new ViewHolder(convertView, viewCount); convertView.setTag(holder); //Âú®ËøôÈáåÁªëÂÆöÁõëÂê¨ÔºåÈÅøÂÖçÈáçÂ§çÁªëÂÆö„ÄÇ bindListener4View(holder, datas.get(position), position); &#125; else &#123; holder = (ViewHolder) convertView.getTag(); &#125; bindData4View(holder, datas.get(position), position); return convertView; &#125; /** * ÁªëÂÆöÊï∞ÊçÆ * * @param holder * @param data */ public abstract void bindData4View(ViewHolder holder, T data, int pos); /** * ÁªëÂÆöÁõëÂê¨ * * @param holder * @param pos */ public abstract void bindListener4View(ViewHolder holder, T data, int pos); &#125; ÂÆåÊï¥‰ª£Á†Å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687/** * ÊäΩË±°ÈÄÇÈÖçÂô®Ôºå‰ΩøÁî®‰∫ÜÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÔºåÂ∞ÜËÆæÁΩÆitemÊòæÁ§∫ÂÜÖÂÆπÁöÑÈÉ®ÂàÜÊäΩË±°Âà∞‰∫ÜÁ±ªÂ§ñ ËøôÊòØÂçïÁ±ªÂûãÁöÑÊäΩË±°ÈÄÇÈÖç * * @param &lt;T&gt; Ê≥õÂûã * @author chendong */public abstract class SingleEasyAdapter&lt;T&gt; extends BaseAdapter &#123; private LayoutInflater layoutInflater; private int resId; private List&lt;T&gt; datas; private int viewCount = 5; private Context context; /** * @param context ‰∏ä‰∏ãÊñáÂØπË±°ÔºåÂª∫ËÆÆ‰ΩøÁî®getApplicationContext(); * @param resId itemÂ∏ÉÂ±Äid * @param datas Êï∞ÊçÆÈõÜ * @param viewCount item‰∏≠ÁöÑview‰∏™Êï∞ÔºåÁî®Êù•‰ºòÂåñSparseArray&lt;View&gt; */ public SingleEasyAdapter(Context context, int resId, List&lt;T&gt; datas, int viewCount) &#123; super(); this.layoutInflater = LayoutInflater.from(context); this.resId = resId; this.datas = datas; this.viewCount = viewCount; this.context = context; &#125; public Context getContext() &#123; return this.context; &#125; public List&lt;T&gt; getData() &#123; return datas; &#125; public void swapData(List&lt;T&gt; datas) &#123; this.datas = datas; notifyDataSetChanged(); &#125; public int getCount() &#123; return datas.size(); &#125; public Object getItem(int position) &#123; return datas.get(position); &#125; public long getItemId(int position) &#123; return position; &#125; public View getView(int position, View convertView, ViewGroup parent) &#123; ViewHolder holder = null; if (convertView == null) &#123; convertView = layoutInflater.inflate(resId, parent, false); holder = new ViewHolder(convertView, viewCount); convertView.setTag(holder); //Âú®ËøôÈáåÁªëÂÆöÁõëÂê¨ bindListener4View(holder, datas.get(position), position); &#125; else &#123; holder = (ViewHolder) convertView.getTag(); &#125; bindData4View(holder, datas.get(position), position); return convertView; &#125; /** * ÁªëÂÆöÊï∞ÊçÆ * * @param holder * @param data */ public abstract void bindData4View(ViewHolder holder, T data, int pos); /** * ÁªëÂÆöÁõëÂê¨ * * @param holder * @param pos */ public abstract void bindListener4View(ViewHolder holder, T data, int pos);&#125; ÊµãËØï123456789101112131415161718192021222324listview = (ListView) findViewById(R.id.listview); list = new ArrayList&lt;Student&gt;(); for (int i = 0; i &lt; 20; i++) &#123; if (i % 5 == 0) list.add(new Student(&quot;name&quot; + i, &quot;age&quot; + i, &quot;sex&quot;, 3)); else list.add(new Student(&quot;name&quot; + i, &quot;age&quot; + i, &quot;sex&quot;, i % 2 == 0 ? 1 : 2)); &#125; listview.setAdapter(new SingleEasyAdapter&lt;Student&gt;( getApplicationContext(), R.layout.item_type1, list, 4) &#123; @Override public void bindData4View(SingleViewHolder holder, Student dataÔºåint pos) &#123; ((TextView)holder.getView(R.id.tv_name)).setText(data.getName()); //Ê≠§Â§ÑÁúÅÁï•Ëã•Âπ≤‰ª£Á†Å &#125;@Override public void bindListener4View(SingleViewHolder holder, Student dataÔºåint pos) &#123; //Ê≠§Â§ÑÁúÅÁï•Ëã•Âπ≤‰ª£Á†Å &#125; &#125;); ÊïàÊûú ÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨Âè™Áî®‰∫ÜÂæàÂ∞ëÁöÑ‰ª£Á†ÅÂ∞±ÂÆåÊàê‰∫ÜÂäüËÉΩÔºåËÄå‰∏îÂæàÊ∏ÖÊô∞ÔºåÁÆÄÂçïÂú∞ÈÄÇÈÖç‰∏çÈúÄË¶ÅÂàõÂª∫ÈÄÇÈÖçÂô®Á±ª‰∫ÜÔºå‰ΩøÁî®ÂåøÂêçÁöÑ‰πüÂæàÂø´Â∞±ÂèØ‰ª•ÂÆûÁé∞„ÄÇÊºîÁ§∫ÊúâÁÇπ‰∏ëÔºåÂü∫Êú¨ÈÉΩÂÆûÁé∞‰∫Ü„ÄÇ ÊÄªÁªì Â∞ÜÈÄÇÈÖçÂô®ÊäΩË±°Âá∫Êù•‰Ωú‰∏∫‰∏Ä‰∏™Á±ªÂ∫ìÔºåÂÜç‰ΩøÁî®ÁöÑÊó∂ÂÄôÂ∞±‰ºöÁÆÄÂçïÂæàÂ§öÂæàÂ§öÔºåÂΩìÁÑ∂Â¶ÇÊûú‰Ω†ÁöÑÈÄÇÈÖçÂô®Êï∞ÊçÆÂæàÂ§çÊùÇÔºåÈÇ£‰πà‰πüÂèØ‰ª•ÁªßÊâøÊäΩË±°Áà∂Á±ªÁîüÊàêËá™Â∑±ÁöÑÁ±ª„ÄÇ!]]></content>
      <categories>
        <category>Android</category>
        <category>Adapter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ListView</tag>
        <tag>Adapter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ListView Adapter 2]]></title>
    <url>%2Farticle%2F1720703307%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä Âú®‰ΩøÁî®ÈÄÇÈÖçÂô®‰∏∫ListViewÂ°´ÂÖÖÊï∞ÊçÆÊó∂ÔºåÊï∞ÊçÆÁ±ªÂûãÂæÄÂæÄ‰∏çÊòØÂçï‰∏ÄÁöÑÔºåÂçï‰∏ÄÁöÑÊï∞ÊçÆÊòæÁ§∫Â§™ÂçïË∞ÉÔºåÂØπÊï∞ÊçÆÊ†ºÂºèË¶ÅÊ±Ç‰πüÊØîËæÉÈ´òÔºåÊàë‰ª¨Âú®È°πÁõÆ‰∏≠ÂæÄÂæÄ‰ΩøÁî®ÁΩëÁªúËØ∑Ê±ÇËé∑ÂèñjsonÊï∞ÊçÆÁÑ∂ÂêéÂ∞ÜÂÖ∂ÊòæÁ§∫Âú®Item‰∏≠ÔºåÊ≠§Êó∂Ëé∑ÂèñÁöÑÊï∞ÊçÆÁ±ªÂûãÂèØËÉΩ‰ºöÊúâ‰∏§Âà∞‰∏âÁßçÊ†ºÂºèÔºåÊ≠§Êó∂Â∞±Áî®Âà∞‰∫ÜÂàÜÁ±ªÈÄÇÈÖçÔºå‰ΩøÁî®ÂàÜÁ±ªÈÄÇÈÖçÂèØ‰ª•Êõ¥Âä†ÂèãÂ•ΩÊòæÁ§∫ListView„ÄÇ Êó¢ÁÑ∂ÈúÄË¶ÅÂàÜÁ±ªÈÄÇÈÖçÔºåÊàë‰ª¨Â∞±ÂøÖÈ°ªÊãøÂà∞Êï∞ÊçÆÁöÑÁ±ªÂûãÔºå‰Ω†ÁöÑÊï∞ÊçÆ‰πüÂ∞±ÂøÖÈ°ªÁõ¥Êé•ÊàñËÄÖÈó¥Êé•ÁöÑÂÆûÁé∞Ëé∑ÂèñÁ±ªÂûãÁöÑÊñπÊ≥ïÔºåÂÖ∂ÂÆûListView‰∏≠Â∑≤ÁªèÂåÖÂê´‰∫ÜËøô‰∏™Ëé∑ÂèñÁ±ªÂûãÁöÑÊñπÊ≥ïÔºåÂΩìÁÑ∂‰Ω†‰πüÂèØ‰ª•‰ΩøÁî®Ëá™Â∑±ÁöÑËé∑ÂèñÁ±ªÂûãÁöÑÊñπÊ≥ï„ÄÇ 12345678910//ÈáçÂÜô‰ª•‰∏ã‰∏§‰∏™ÊñπÊ≥ïÔºålistviewÂú®ÂÜÖÈÉ®‰ºöÂáÜÂ§ágetViewTypeCount()‰∏™ÁºìÂÜ≤Âå∫ÔºåÁî®Êù•Â§çÁî®ÂêåÁßçÁ±ªÂûãÁöÑView,‰∏çÂêåÁ±ªÂûãÁöÑView‰∏ç‰ºöÂá∫Áé∞Â§çÁî®ÈîôËØØ„ÄÇ@Overridepublic int getItemViewType(int position) &#123; int type = Integer.parseInt(newsEntities.get(position).getType()); return type;&#125;@Overridepublic int getViewTypeCount() &#123; return count;&#125; ËøõË°åÂàÜÁ±ªÈÄÇÈÖç12345678910111213141516171819202122232425262728293031323334public View getView(int position, View convertView, ViewGroup parent) &#123; if (getItemViewType(position) == 1) &#123; ViewHolderVertical holder = null; if (convertView == null) &#123; convertView = layoutInflater.inflate( R.layout.item_firstpagelist_vertical, parent, false); holder = new ViewHolderVertical(); holder.iv = (ImageView) convertView .findViewById(R.id.item_firstpagelist_vertical_iv); //Ëé∑ÂèñÂÖ∂‰ªñÁöÑÊéß‰ª∂.... convertView.setTag(holder); &#125; else &#123; holder = (ViewHolderVertical) convertView.getTag(); &#125; NewsEntity entity = newsEntities.get(position); //‰∏∫Êéß‰ª∂ËÆæÁΩÆÊòæÁ§∫ÁöÑÊï∞ÊçÆ.... &#125; else &#123; ViewHolder holder = null; if (convertView == null) &#123; convertView = layoutInflater.inflate( R.layout.item_firstpagelist_horizontal, parent, false); holder = new ViewHolder(); holder.iv = (ImageView) convertView .findViewById(R.id.item_firstpagelist_iv); //Ëé∑ÂèñÂÖ∂‰ªñÁöÑÊéß‰ª∂.... convertView.setTag(holder); &#125; else &#123; holder = (ViewHolder) convertView.getTag(); &#125; NewsEntity entity = newsEntities.get(position); //‰∏∫Êéß‰ª∂ËÆæÁΩÆÊòæÁ§∫ÁöÑÊï∞ÊçÆ.... &#125; return convertView; &#125;]]></content>
      <categories>
        <category>Android</category>
        <category>Adapter</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ListView</tag>
        <tag>Adapter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RecyclerView]]></title>
    <url>%2Farticle%2F2021227864%2F</url>
    <content type="text"><![CDATA[RecycerView ÊòØ Design ÂåÖ‰∏ãÁöÑÊñ∞Êéß‰ª∂ÔºåÁî®Êù•ÂÆûÁé∞ÂàóË°®ÂäüËÉΩÔºåÁõ∏ÊØîÂéüÊù•ÁöÑ ListView Âíå GridView Ë¶ÅÂº∫Â§ßÁöÑÂ§öÔºåÂπ∂‰∏îÊúâËá™Âä®ÂõûÊî∂Â§çÁî®ÁöÑÊú∫Âà∂ÔºåÂ∑≤ÁªèÂèØ‰ª•ÂÆåÂÖ®Êõø‰ª£ÂéüÂÖàÁöÑÂàóË°®Êéß‰ª∂‰∫Ü„ÄÇ ÂÄüÂä© LayoutManager ÂÆûÁé∞ÂàóË°®ÁöÑÂ±ïÁ§∫ÊñπÂºèÔºåÊîØÊåÅÊ∞¥Âπ≥ÊñπÂêëÂíåÂûÇÁõ¥ÊñπÂêëÔºåÊîØÊåÅÂàóË°®„ÄÅÁΩëÊ†ºÂíåÁÄëÂ∏ÉÊµÅÔºåÊîØÊåÅËá™ÂÆö‰πâÂ±ïÁ§∫ÊñπÂºè„ÄÇ ÂÄüÂä© ViewHolder ÊåÅÊúâÊéß‰ª∂ÔºåÁî®Êù•ÂõûÊî∂ÂíåÂ§çÁî®„ÄÇ ÂÄüÂä© ItemDecoration ‰∏∫ÂàóË°®Â¢ûÂä†ÂàÜÂâ≤Á∫øÔºåÂÆûÈôÖ‰∏äÊòØÊéßÂà∂Âú®ÊØè‰∏ÄÈ°πÂë®ËæπÁªòÂà∂‰∏çÂêåÁöÑÈó¥Èöî„ÄÇ ÂÄüÂä© ItemAnimator ÂÆûÁé∞ÂàóË°®È°πÊõ¥Êñ∞Âä®Áîª„ÄÇ ÂÄüÂä© SnapHelper ÂèØ‰ª•ÂÆûÁé∞Á±ª‰ºº ViewPager ÁöÑÊïàÊûú„ÄÇ ÂÄüÂä© ItemTouchHelper ÂèØ‰ª•ÂÆûÁé∞ÊãñÂä®„ÄÅ‰æßÊªë„ÄÇ LayoutManagerÂú®‰ª£Á†Å‰∏≠ËÆæÁΩÆ LayoutManagerÔºåÈúÄË¶ÅÂú®ËÆæÁΩÆ adapter ‰πãÂâçËÆæÁΩÆ LayoutManager 123456789101112RecyclerView.LayoutManager layoutManager = null;//Á∫øÊÄßÂ∏ÉÂ±ÄÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊîØÊåÅÊ∞¥Âπ≥ÂûÇÁõ¥‰∏§ÁßçÊñπÂêëÔºåÁ¨¨‰∏â‰∏™ÂèÇÊï∞Áî®Êù•ËÆæÁΩÆÊòØÂê¶ÂèçÂêëÊòæÁ§∫layoutManager = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);//ÁΩëÊ†ºÂ∏ÉÂ±ÄÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ËÆæÁΩÆÂàóÊï∞ÔºåÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÊîØÊåÅÊ∞¥Âπ≥ÂûÇÁõ¥‰∏§ÁßçÊñπÂêëÔºåÁ¨¨Âõõ‰∏™ÂèÇÊï∞Áî®Êù•ËÆæÁΩÆÊòØÂê¶ÂèçÂêëÊòæÁ§∫layoutManager = new GridLayoutManager(this,3,GridLayoutManager.HORIZONTAL,false);//ÁÄëÂ∏ÉÊµÅÂ∏ÉÂ±ÄÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ËÆæÁΩÆÂàóÊï∞ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊîØÊåÅÊ∞¥Âπ≥ÂûÇÁõ¥‰∏§ÁßçÊñπÂêëlayoutManager = new StaggeredGridLayoutManager(3,StaggeredGridLayoutManager.VERTICAL);recyclerView.setLayoutManager(layoutManager); ViewHolderÁªßÊâø Recycler.ViewHolder ÂÆûÁé∞Ëá™ÂÆö‰πâ ViewHolder ËøôÈáåÂè™ÊòØÂÆûÁé∞ÁÆÄÂçïÁöÑÂäüËÉΩÔºåÊó®Âú®‰ªãÁªç‰∫ÜËß£ RecyclerView ÁöÑ‰ΩøÁî®„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑ‰∏ÄÁÇπÊòØÔºåRecyclerView Âπ∂Ê≤°ÊúâÂÆûÁé∞ OnItemClickListener ‰∫ã‰ª∂Ôºå‰πüÂ∞±ÊòØÊàë‰ª¨Êó†Ê≥ïÁõ¥Êé•Ëé∑Âæó Item ÁöÑÁÇπÂáª‰∫ã‰ª∂„ÄÇÈááÁî®ÁöÑÊñπÊ≥ïÊòØÂú®ÊúÄÂ§ñÂ±ÇÁöÑÁà∂Â∏ÉÂ±ÄÊ∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂Êù•Ê®°Êãü Item ÁÇπÂáª„ÄÇgetAdapterPosition(); ÂáΩÊï∞Ëé∑ÂèñÂΩìÂâç Item Âú® Adapter ‰∏≠ÁöÑ‰ΩçÁΩÆgetLayoutPosition()); ÂáΩÊï∞Ëé∑ÂæóÂΩìÂâç Item Âú®Â∏ÉÂ±Ä‰∏≠ÁöÑ‰ΩçÁΩÆ 123456789101112131415class CustomViewHolder extends RecyclerView.ViewHolder &#123; TextView tv; public CustomViewHolder(View itemView) &#123; super(itemView); tv = (TextView) itemView.findViewById(R.id.test_tv); itemView.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; Log.i("chendong", "ÁÇπÂáª‰∫Üitem" + getAdapterPosition() + " layout --" + getLayoutPosition()); &#125; &#125;); &#125;&#125; AdapterÁªßÊâø Recycler.Adapter ÂÆûÁé∞ÈÄÇÈÖçÂô®Ôºå‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Âü∫Êú¨ÁöÑÂÆûÁé∞ÔºåÂú®ÂÆûÈôÖËøáÁ®ã‰∏≠ÈÄöÂ∏∏‰ºöÂ∞ÅË£ÖÊù•ÁÆÄÂåñ AdapterÔºåËøôÈáåÊòØÊàëÂ∞ÅË£ÖÁöÑ‰∏Ä‰∏™Á±ªÂ∫ìÔºåÊâ©Â±ï‰∫Ü‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÂäüËÉΩ RecyclerView LightAdapter„ÄÇ 12345678910111213141516171819202122232425class ContentAdapter extends RecyclerView.Adapter&lt;CustomViewHolder&gt; &#123; public ContentAdapter() &#123; //Âú®ËøôÈáåËé∑ÂæóÈúÄË¶ÅÁöÑÂèÇÊï∞ &#125; @Override public int getItemViewType(int position) &#123; // Ëé∑ÂèñÊï∞ÊçÆÁöÑÁ±ªÂûãÔºåÁî®‰∫éÂ§öÁ±ªÂûãÈÄÇÈÖç return 0; &#125; @Override public CustomViewHolder onCreateViewHolder(ViewGroup parent, int viewType) &#123; // Ëé∑ÂèñÂØπÂ∫îÁ±ªÂûãÁöÑ ViewHolder,Âä†ËΩΩ‰∏çÂêåÁöÑÂ∏ÉÂ±ÄÔºåÁ±ª‰ºº ListView ‰∏≠ getView() ÁöÑ‰ª£Á†Å View view = getLayoutInflater().inflate(R.layout.test, parent, false); return new CustomViewHolder(view); &#125; @Override public void onBindViewHolder(CustomViewHolder holder, int position) &#123; holder.tv.setText("a"); &#125; @Override public int getItemCount() &#123; //Ëé∑ÂèñItem‰∏™Êï∞ return 0; &#125;&#125; Êï∞ÊçÆÊõ¥Êñ∞Á±ª‰ºº ListView ÁöÑÊï∞ÊçÆÊõ¥Êñ∞Ôºå‰ΩÜÊòØÂºÄÊîæ‰∫ÜÊõ¥Â§öÊñπÊ≥ïÔºåÊîØÊåÅÂ±ÄÈÉ®Êõ¥Êñ∞ÔºåËÄå‰∏çÁî®Êõ¥Êñ∞Êï¥‰∏™ÂàóË°®„ÄÇ 12345678910111213141516// Êõ¥Êñ∞ÂàóË°®adapter.notifyDataSetChanged();// Âà†Èô§Êüê‰∏Ä‰ΩçÁΩÆÁöÑItemadapter.notifyItemRemoved(0);// ‰øÆÊîπÊüê‰∏Ä‰ΩçÁΩÆÁöÑItemadapter.notifyItemChanged(0);// ÂêëÊüê‰∏Ä‰ΩçÁΩÆÊé∫ÂÖ•Itemadapter.notifyItemInserted(0);// Â∞Üpos1ÁöÑItemÁßªÂä®Âà∞pos2adapter.notifyItemMoved(0,1);// ÈÄöÁü•ÈÉ®ÂàÜItemÊîπÂèòadapter.notifyItemRangeChanged(0,4);// Âêë0-4ÁöÑ‰ΩçÁΩÆÊèíÂÖ•Êï∞ÊçÆadapter.notifyItemRangeInserted(0,4);// ÁßªÈô§0-4ÁöÑÊï∞ÊçÆadapter.notifyItemRangeRemoved(0,4); ÂàÜÂâ≤Á∫øRecyclerView Êèê‰æõ‰∫ÜÊèíÂÖ•ÂàÜÈöîÁ∫øÁöÑÊñπÊ≥ïÔºå‰ΩÜÊòØÊòØ‰∏™ÊäΩË±°Á±ªÔºåÈúÄË¶ÅÊàë‰ª¨Ëá™Â∑±ÈáçÂÜôÔºåÂπ∂‰∏îÊ≤°ÊúâÂÆûÁé∞Â•ΩÁöÑÈªòËÆ§ÂàÜÈöîÁ∫ø„ÄÇ 1234567891011121314151617mReplyRv.addItemDecoration(new RecyclerView.ItemDecoration() &#123; // onDrawÊñπÊ≥ïÂÖà‰∫éÁªòÂà∂Item @Override public void onDraw(Canvas c, RecyclerView parent, RecyclerView.State state) &#123; super.onDraw(c, parent, state); &#125; // onDrawOverÂú®ÁªòÂà∂Item‰πãÂêéÔºå‰∏ÄËà¨Êàë‰ª¨ÈÄâÊã©Â§çÂÜôÂÖ∂‰∏≠‰∏Ä‰∏™Âç≥ÂèØ„ÄÇ @Override public void onDrawOver(Canvas c, RecyclerView parent, RecyclerView.State state) &#123; super.onDrawOver(c, parent, state); &#125; // getItemOffsets ÂèØ‰ª•ÈÄöËøáoutRect.set()‰∏∫ÊØè‰∏™ItemËÆæÁΩÆ‰∏ÄÂÆöÁöÑÂÅèÁßªÈáèÔºå‰∏ªË¶ÅÁî®‰∫éÁªòÂà∂ @Override public void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) &#123; super.getItemOffsets(outRect, view, parent, state); &#125;&#125;); Âä®ÁîªÊïàÊûúRecyclerView ‰∏∫Êï∞ÊçÆÁöÑÊõ¥Êñ∞Â¢ûÂä†‰∫ÜÂä®ÁîªÊïàÊûúÔºåÂπ∂‰∏îÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÈªòËÆ§ÁöÑÂä®ÁîªÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÆûÁé∞ ItemAnimator ÂÆûÁé∞Ëá™Â∑±ÁöÑÂä®ÁîªÊïàÊûú„ÄÇ 1recyclerView.setItemAnimator(new DefaultItemAnimator()); ItemTouchHelper123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990public class ItemTouchHelperWrap &#123; public static &lt;D&gt; ItemTouchHelper init(final Activity activity, final List&lt;D&gt; datas, final RecyclerView.Adapter adapter, RecyclerView recyclerView) &#123; ItemTouchHelper itemTouchHelper = new ItemTouchHelper(new ItemTouchHelper.Callback() &#123; @Override public int getMovementFlags(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder) &#123; // getMovementFlags Áî®‰∫éËÆæÁΩÆÊòØÂê¶Â§ÑÁêÜÊãñÊãΩ‰∫ã‰ª∂ÂíåÊªëÂä®‰∫ã‰ª∂ // ‰ª•ÂèäÊãñÊãΩÂíåÊªëÂä®Êìç‰ΩúÁöÑÊñπÂêëÔºåÊØîÂ¶ÇÂ¶ÇÊûúÊòØÂàóË°®Á±ªÂûãÁöÑRecyclerView // ÊãñÊãΩÂè™ÊúâUP„ÄÅDOWN‰∏§‰∏™ÊñπÂêëÔºåËÄåÂ¶ÇÊûúÊòØÁΩëÊ†ºÁ±ªÂûãÁöÑÂàôÊúâUP„ÄÅDOWN„ÄÅLEFT„ÄÅRIGHTÂõõ‰∏™ÊñπÂêë int dragFlags; int swipeFlags; if (recyclerView.getLayoutManager() instanceof GridLayoutManager) &#123; dragFlags = ItemTouchHelper.UP | ItemTouchHelper.DOWN | ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT; swipeFlags = 0; swipeFlags = ItemTouchHelper.START | ItemTouchHelper.END; &#125; else &#123; dragFlags = ItemTouchHelper.UP | ItemTouchHelper.DOWN; swipeFlags = ItemTouchHelper.START | ItemTouchHelper.END; &#125; return makeMovementFlags(dragFlags, swipeFlags); &#125; @Override public boolean onMove(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder target) &#123; // Â¶ÇÊûúÊàë‰ª¨ËÆæÁΩÆ‰∫ÜÈùû0ÁöÑdragFlags // ÈÇ£‰πàÂΩìÊàë‰ª¨ÈïøÊåâitemÁöÑÊó∂ÂÄôÂ∞±‰ºöËøõÂÖ•ÊãñÊãΩÂπ∂Âú®ÊãñÊãΩËøáÁ®ã‰∏≠‰∏çÊñ≠ÂõûË∞ÉonMove()ÊñπÊ≥ï // Êàë‰ª¨Â∞±Âú®Ëøô‰∏™ÊñπÊ≥ïÈáåËé∑ÂèñÂΩìÂâçÊãñÊãΩÁöÑitemÂíåÂ∑≤ÁªèË¢´ÊãñÊãΩÂà∞ÊâÄÂ§Ñ‰ΩçÁΩÆÁöÑitemÁöÑViewHolder // Êúâ‰∫ÜËøô2‰∏™ViewHolderÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•‰∫§Êç¢‰ªñ‰ª¨ÁöÑÊï∞ÊçÆÈõÜÂπ∂Ë∞ÉÁî®AdapterÁöÑnotifyItemMovedÊñπÊ≥ïÊù•Âà∑Êñ∞item int fromPos = viewHolder.getAdapterPosition(); int toPos = target.getAdapterPosition(); Log.e("chendong", "moved -&gt; " + fromPos + " " + toPos); if (fromPos &lt; toPos) &#123; for (int i = fromPos; i &lt; toPos; i++) &#123; Collections.swap(datas, i, i + 1); &#125; &#125; else &#123; for (int i = fromPos; i &gt; toPos; i--) &#123; Collections.swap(datas, i, i - 1); &#125; &#125; adapter.notifyItemMoved(fromPos, toPos); return true; &#125; @Override public void onSwiped(RecyclerView.ViewHolder viewHolder, int direction) &#123; int pos = viewHolder.getAdapterPosition(); adapter.notifyItemRemoved(pos); datas.remove(pos); &#125; @Override public void onSelectedChanged(RecyclerView.ViewHolder viewHolder, int actionState) &#123; //ÂΩìÈïøÊåâÈÄâ‰∏≠itemÁöÑÊó∂ÂÄôÔºàÊãñÊãΩÂºÄÂßãÁöÑÊó∂ÂÄôÔºâË∞ÉÁî® if (actionState != ItemTouchHelper.ACTION_STATE_IDLE &amp;&amp; actionState != ItemTouchHelper.ACTION_STATE_SWIPE) &#123; viewHolder.itemView.setBackgroundColor(Color.LTGRAY); Vibrator vib = (Vibrator) activity.getSystemService(Service.VIBRATOR_SERVICE); vib.vibrate(70); &#125;// if (viewHolder != null) &#123;// getDefaultUIUtil().onSelected(((RvViewHolder) viewHolder).getView(R.id.item_quickadapter_title));// &#125; super.onSelectedChanged(viewHolder, actionState); &#125; @Override public void clearView(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder) &#123; // ÂΩìÊâãÊåáÊùæÂºÄÁöÑÊó∂ÂÄôÔºàÊãñÊãΩÂÆåÊàêÁöÑÊó∂ÂÄôÔºâË∞ÉÁî® super.clearView(recyclerView, viewHolder); // getDefaultUIUtil().clearView(((RvViewHolder) viewHolder).getView(R.id.item_quickadapter_title)); viewHolder.itemView.setBackgroundColor(Color.WHITE); &#125; @Override public boolean isLongPressDragEnabled() &#123; return false; &#125; &#125;); itemTouchHelper.attachToRecyclerView(recyclerView); return itemTouchHelper; &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÂÆö‰πâÊéß‰ª∂‚ÄîÁªßÊâøViewGroup]]></title>
    <url>%2Farticle%2F844112004%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä ÁªßÊâøViewGroupÊòØËá™ÂÆö‰πâÊéß‰ª∂ÁöÑ‰∏ÄËà¨ÊñπÊ≥ïÔºåÊ†πÊçÆÈúÄË¶ÅÈÄâÊã©ÈúÄË¶ÅÁªßÊâøÁöÑViewGroupÁöÑÂ≠êÁ±ªÔºåÊú¨Á´†Â∞Ü‰ΩøÁî®Á∫Ø‰ª£Á†ÅÊ∑ªÂä†Êéß‰ª∂,ÊñπÂºèÁ°ÆÂÆû‰∏çÁõ¥ËßÇÔºå‰ΩÜÊòØÂèØ‰ª•Áî®Êù•ÁªÉ‰π†‰ΩøÁî®‰ª£Á†ÅÊìç‰ΩúÊéß‰ª∂ÁöÑÊñπÊ≥ïÔºåÊØïÁ´ü‰∏çÊòØÊâÄÊúâÁöÑ‰ª£Á†ÅÈÉΩÂèØ‰ª•Áî®xmlÊñá‰ª∂‰ª£Êõø„ÄÇ Ê°à‰æã‰ªãÁªç ËøôÊ¨°ÁöÑÁõÆÁöÑÂÆûÁé∞‰∏Ä‰∏™Á±ª‰ººËøôÊ†∑ÁöÑÁªÑÂêàÊéß‰ª∂ÔºåÂá∫Áé∞ËøôÁßçÈúÄÊ±ÇÊòØÂõ†‰∏∫ÈúÄË¶ÅÂú®‰∏Ä‰∏™ListView‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Á±ª‰ººListViewÁöÑÈÉ®ÂàÜÔºå‰ΩÜÊòØÊï∞ÈáèÂæàÂ∞ëÔºåÂèØ‰ª•‰∏çÈúÄË¶Å‰ΩøÁî®ListView,ËÄåÊòØ‰ΩøÁî®Âä®ÊÄÅÊ∑ªÂä†Êéß‰ª∂ÁöÑÊñπÂºè„ÄÇ ‰ª£Á†Å ÂÆåÂÖ®‰ΩøÁî®‰ª£Á†ÅÊù•ÂÜôÊéß‰ª∂ÔºåÊ≤°ÊúâxmlÂ∏ÉÂ±ÄÔºåË∞ÉËØïÁöÑÊó∂ÂÄôÊòØ‰∏™Â§ßÈóÆÈ¢òÔºåÂÜôÁöÑ‰ª£Á†ÅÂæÄÂæÄ‰∏çËÉΩÂÆûÊó∂ÁöÑÊòæÁ§∫Âú®È¢ÑËßàÁïåÈù¢„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181public class SpecialItemView extends RelativeLayout &#123; //ÂàÜÊûêËØ•Â∏ÉÂ±ÄÂÆö‰πâ‰ª•‰∏ãÁªÑ‰ª∂ //ÂõæÁâá private ImageView imgIcon; //Ê†áÈ¢ò private TextView txtTitle; //Â≠êÊ†áÈ¢ò private TextView txtSubTitle; //‰∏ìËæëÊï∞Èáè private TextView txtNum; //Âè≥ËæπÊõ¥Â§öÊåâÈíÆ private ImageButton ibArrow; //‰∏ãÊñπÊ®™Á∫øÔºåÂõ†‰∏∫ÊúÄÂêé‰∏ÄË°åÊòØ‰∏çÊòæÁ§∫Ê®™Á∫øÁöÑ private ImageView ivLine; /** * ‰ª£Á†Å‰∏≠newÊó∂‰ΩøÁî® * * @param context */ public SpecialItemView(Context context) &#123; this(context, null); &#125; /** * Âú®xmlÊñá‰ª∂‰∏≠‰ΩøÁî® * * @param context * @param attrs */ public SpecialItemView(Context context, AttributeSet attrs) &#123; super(context, attrs); init(context, attrs); &#125; /** * ÂàùÂßãÂåñ * * @param context * @param attributeSet */ private void init(Context context, AttributeSet attributeSet) &#123; //Ëé∑ÂèñÂ±èÂπïÂÆΩÂ∫¶ int width = context.getResources().getDisplayMetrics().widthPixels; //ËÆæÁΩÆÂΩìÂâçÊéß‰ª∂ÁöÑpadding this.setPadding(6,10,6,10); //ÂàùÂßãÂåñÊéß‰ª∂ imgIcon = new ImageView(context); //LayoutParamsÂØπË±°Áî®Êù•ÊéßÂà∂Êéß‰ª∂Âú®ViewGroup‰∏≠ÊòæÁ§∫ÁöÑÊ†∑Â≠ê RelativeLayout.LayoutParams layoutParams = new LayoutParams((int) (width*0.2),(int) (width*0.2)); //ÂûÇÁõ¥Â±Ö‰∏≠Áõ∏ÂΩì‰∫élayout_centervertical=true layoutParams.addRule(CENTER_VERTICAL); //ÈÖçÁΩÆÊéß‰ª∂ imgIcon.setScaleType(ImageView.ScaleType.CENTER_CROP); imgIcon.setLayoutParams(layoutParams); //Áõ∏ÂΩì‰∫éandroid:id imgIcon.setId(R.id.sp_item_icon); imgIcon.setImageResource(R.mipmap.finding_zone_img); //Ê∑ªÂä†Êéß‰ª∂Âà∞ViewGroup addView(imgIcon); //Èô§‰∫ÜÂèØ‰ª•ËÆæÁΩÆ‰∏∫ÂÖ∑‰ΩìÁöÑÊï∞ÂÄºÔºå‰πüÂèØ‰ª•‰ΩøÁî®Â∏∏ÈáèÔºåÁõ∏ÂΩì‰∫éxmlÊñá‰ª∂‰∏≠‰ΩøÁî®androidÔºölayout_width = "wrap_content" layoutParams = new LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT); //Â∑¶Ëæπmargin layoutParams.leftMargin = 20; //Áõ∏ÂΩì‰∫éandroid:aligntop="R.id.sp_item_icon" layoutParams.addRule(ALIGN_TOP, R.id.sp_item_icon); layoutParams.addRule(RIGHT_OF, R.id.sp_item_icon); //‰ª•‰∏ãÊòØtextviewÁöÑËÆæÁΩÆ txtTitle.setText("Ê†áÈ¢ò"); txtTitle = new TextView(context); txtTitle.setId(R.id.sp_item_title); txtTitle.setTextSize(TypedValue.COMPLEX_UNIT_SP,18); txtTitle.setTextColor(Color.BLACK); txtTitle.setLayoutParams(layoutParams); txtTitle.setSingleLine(); txtTitle.setEllipsize(TextUtils.TruncateAt.END); addView(txtTitle); txtSubTitle = new TextView(context); txtSubTitle.setId(R.id.sp_item_subtitle); layoutParams = new LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT); //todo sp2dp layoutParams.addRule(CENTER_VERTICAL); layoutParams.addRule(ALIGN_LEFT, R.id.sp_item_title); txtSubTitle.setText("Â≠óÊ†áÈ¢ò"); //todo sp2dp txtSubTitle.setTextSize(TypedValue.COMPLEX_UNIT_SP, 16); txtSubTitle.setTextColor(Color.GRAY); txtSubTitle.setLayoutParams(layoutParams); txtSubTitle.setPadding(0,0,16,0); txtSubTitle.setSingleLine(); txtSubTitle.setEllipsize(TextUtils.TruncateAt.END); addView(txtSubTitle); txtNum = new TextView(context); txtNum.setId(R.id.sp_item_subtitle); layoutParams = new LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT); //todo sp2dp layoutParams.addRule(ALIGN_LEFT, R.id.sp_item_title); layoutParams.addRule(ALIGN_BOTTOM, R.id.sp_item_icon); txtNum.setText("ÂÖ±ÊúâÂá†Âº†‰∏ìËæë"); //todo sp2dp txtNum.setTextSize(TypedValue.COMPLEX_UNIT_SP, 16); txtNum.setTextColor(Color.GRAY); txtNum.setLayoutParams(layoutParams); txtNum.setSingleLine(); txtNum.setEllipsize(TextUtils.TruncateAt.END); txtNum.setGravity(CENTER_VERTICAL); //ÂõæÊ†áÂøÖÈ°ªÁªèËøásetbounds Drawable leftD = ContextCompat.getDrawable(getContext(), R.mipmap.finding_album_img); leftD.setBounds(0, 0, 20, 0); txtNum.setCompoundDrawablesWithIntrinsicBounds(leftD, null, null, null); txtNum.setId(R.id.sp_item_num); addView(txtNum); ibArrow = new ImageButton(context); ibArrow.setId(R.id.sp_item_subtitle); layoutParams = new LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT); //todo sp2dp layoutParams.addRule(CENTER_VERTICAL); layoutParams.addRule(ALIGN_PARENT_RIGHT); //todo sp2dp layoutParams.rightMargin = 16; ibArrow.setBackgroundResource(R.drawable.selector_more); //todo sp2dp ibArrow.setLayoutParams(layoutParams); addView(ibArrow); ivLine = new ImageView(context); layoutParams = new LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,1); layoutParams.addRule(ALIGN_LEFT,R.id.sp_item_title); layoutParams.addRule(BELOW,R.id.sp_item_num); //todo sp2dp layoutParams.topMargin=10; ivLine.setLayoutParams(layoutParams); ivLine.setBackgroundResource(R.drawable.shape_line); addView(ivLine); &#125; public void setTitle(String txt)&#123; txtTitle.setText(txt==null?"":txt); &#125; public void setSubTitle(String txt)&#123; txtSubTitle.setText(txt==null?"":txt); &#125; public void setNum(String txt)&#123; txtNum.setText(txt==null?"":txt); &#125; public void setShowLine(int xx)&#123; ivLine.setVisibility(xx); &#125; public void setImg(String url)&#123; Picasso.with(getContext()).load(url).into(imgIcon); &#125; public ImageView getImgIcon()&#123; return imgIcon; &#125; public ImageButton getImgArrow()&#123; return ibArrow; &#125; private OnMoreClick onMoreClick; public //‰ΩøÁî®Êé•Âè£Â∞ÜibArrowÁÇπÂáª‰∫ã‰ª∂‰º†ÈÄíÂá∫Âéª public interface OnMoreClick&#123; void click(); &#125;&#125; Âú®xmlÊñá‰ª∂‰∏≠‰ΩøÁî®1234&lt;com.march.himalayasfm.app.widgets.SpecialItemView android:layout_width="match_parent" android:layout_height="wrap_content" /&gt;]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CardView]]></title>
    <url>%2Farticle%2F2807458501%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰ªãÁªç CardView ÁöÑÁî®Ê≥ï compile &#39;com.android.support:cardview-v7:21.+ xmlÊñá‰ª∂1234567891011121314&lt;android.support.v7.widget.CardViewandroid:layout_marginTop="20dp" android:layout_width="wrap_content"android:layout_height="wrap_content"app:cardCornerRadius="10dp"app:cardElevation="5dp"app:contentPadding="10dp" app:cardPreventCornerOverlap="true"&gt;&lt;ImageView android:scaleType="centerCrop"android:src="@mipmap/test" android:layout_width="match_parent" android:layout_height="wrap_content"/&gt;&lt;/android.support.v7.widget.CardView&gt; Âá†‰∏™Â±ûÊÄßÂÄº1234567891011121314app:cardElevation=&quot;5dp&quot;//Èò¥ÂΩ±app:cardElevation Èò¥ÂΩ±ÁöÑÂ§ßÂ∞èapp:cardMaxElevation Èò¥ÂΩ±ÊúÄÂ§ßÈ´òÂ∫¶app:cardBackgroundColor Âç°ÁâáÁöÑËÉåÊôØËâ≤app:cardCornerRadius Âç°ÁâáÁöÑÂúÜËßíÂ§ßÂ∞èapp:contentPadding Âç°ÁâáÂÜÖÂÆπ‰∫éËæπË∑ùÁöÑÈó¥Èöîapp:contentPaddingBottomapp:contentPaddingTopapp:contentPaddingLeftapp:contentPaddingRightapp:contentPaddingStartapp:contentPaddingEndapp:cardUseCompatPadding ËÆæÁΩÆÂÜÖËæπË∑ùÔºåV21+ÁöÑÁâàÊú¨Âíå‰πãÂâçÁöÑÁâàÊú¨‰ªçÊóßÂÖ∑Êúâ‰∏ÄÊ†∑ÁöÑËÆ°ÁÆóÊñπÂºèapp:cardPreventConrerOverlap Âú®V20Âíå‰πãÂâçÁöÑÁâàÊú¨‰∏≠Ê∑ªÂä†ÂÜÖËæπË∑ùÔºåËøô‰∏™Â±ûÊÄß‰∏∫‰∫ÜÈò≤Ê≠¢ÂÜÖÂÆπÂíåËæπËßíÁöÑÈáçÂè†]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ADBÂëΩ‰ª§Â§ßÂÖ®]]></title>
    <url>%2Farticle%2F4015034291%2F</url>
    <content type="text"><![CDATA[ADBÔºåÂç≥ Android Debug BridgeÔºåÂÆÉÊòØ Android ÂºÄÂèë/ÊµãËØï‰∫∫Âëò‰∏çÂèØÊõø‰ª£ÁöÑÂº∫Â§ßÂ∑•ÂÖ∑Ôºå‰πüÊòØ Android ËÆæÂ§áÁé©ÂÆ∂ÁöÑÂ•ΩÁé©ÂÖ∑„ÄÇ ÊåÅÁª≠Êõ¥Êñ∞‰∏≠ÔºåÊ¨¢ËøéÊèê PR Âíå Issue Ë°•ÂÖÖÊåáÊ≠£ÔºåËßâÂæóÊúâÁî®ÁöÑÂèØ‰ª•Â∞Ü Ê≠§ GitHub ‰ªìÂ∫ì Star Êî∂ËóèÂ§áÁî®„ÄÇ Ê≥®ÔºöÊúâÈÉ®ÂàÜÂëΩ‰ª§ÁöÑÊîØÊåÅÊÉÖÂÜµÂèØËÉΩ‰∏é Android Á≥ªÁªüÁâàÊú¨ÂèäÂÆöÂà∂ ROM ÁöÑÂÆûÁé∞ÊúâÂÖ≥„ÄÇ Âü∫Êú¨Áî®Ê≥ï ÂëΩ‰ª§ËØ≠Ê≥ï ‰∏∫ÂëΩ‰ª§ÊåáÂÆöÁõÆÊ†áËÆæÂ§á ÂêØÂä®/ÂÅúÊ≠¢ Êü•Áúã adb ÁâàÊú¨ ‰ª• root ÊùÉÈôêËøêË°å adbd ÊåáÂÆö adb server ÁöÑÁΩëÁªúÁ´ØÂè£ ËÆæÂ§áËøûÊé•ÁÆ°ÁêÜ Êü•ËØ¢Â∑≤ËøûÊé•ËÆæÂ§á/Ê®°ÊãüÂô® USB ËøûÊé• Êó†Á∫øËøûÊé•ÔºàÈúÄË¶ÅÂÄüÂä© USB Á∫øÔºâ Êó†Á∫øËøûÊé•ÔºàÊó†ÈúÄÂÄüÂä© USB Á∫øÔºâ Â∫îÁî®ÁÆ°ÁêÜ Êü•ÁúãÂ∫îÁî®ÂàóË°® ÊâÄÊúâÂ∫îÁî® Á≥ªÁªüÂ∫îÁî® Á¨¨‰∏âÊñπÂ∫îÁî® ÂåÖÂêçÂåÖÂê´ÊüêÂ≠óÁ¨¶‰∏≤ÁöÑÂ∫îÁî® ÂÆâË£Ö APK Âç∏ËΩΩÂ∫îÁî® Ê∏ÖÈô§Â∫îÁî®Êï∞ÊçÆ‰∏éÁºìÂ≠ò Êü•ÁúãÂâçÂè∞ Activity ‰∏éÂ∫îÁî®‰∫§‰∫í Ë∞ÉËµ∑ Activity Ë∞ÉËµ∑ Service ÂèëÈÄÅÂπøÊí≠ Âº∫Âà∂ÂÅúÊ≠¢Â∫îÁî® Êñá‰ª∂ÁÆ°ÁêÜ Â§çÂà∂ËÆæÂ§áÈáåÁöÑÊñá‰ª∂Âà∞ÁîµËÑë Â§çÂà∂ÁîµËÑëÈáåÁöÑÊñá‰ª∂Âà∞ËÆæÂ§á Ê®°ÊãüÊåâÈîÆ/ËæìÂÖ• ÁîµÊ∫êÈîÆ ËèúÂçïÈîÆ HOME ÈîÆ ËøîÂõûÈîÆ Èü≥ÈáèÊéßÂà∂ Â™í‰ΩìÊéßÂà∂ ÁÇπ‰∫Æ/ÁÜÑÁÅ≠Â±èÂπï ÊªëÂä®Ëß£ÈîÅ ËæìÂÖ•ÊñáÊú¨ Êü•ÁúãÊó•Âøó Android Êó•Âøó ÊåâÁ∫ßÂà´ËøáÊª§Êó•Âøó Êåâ tag ÂíåÁ∫ßÂà´ËøáÊª§Êó•Âøó Êó•ÂøóÊ†ºÂºè Ê∏ÖÁ©∫Êó•Âøó ÂÜÖÊ†∏Êó•Âøó Êü•ÁúãËÆæÂ§á‰ø°ÊÅØ ÂûãÂè∑ ÁîµÊ±†Áä∂ÂÜµ Â±èÂπïÂàÜËæ®Áéá Â±èÂπïÂØÜÂ∫¶ ÊòæÁ§∫Â±èÂèÇÊï∞ android_id IMEI Android Á≥ªÁªüÁâàÊú¨ Mac Âú∞ÂùÄ CPU ‰ø°ÊÅØ ÂÜÖÂ≠ò‰ø°ÊÅØ Êõ¥Â§öÁ°¨‰ª∂‰∏éÁ≥ªÁªüÂ±ûÊÄß ÂÆûÁî®ÂäüËÉΩ Â±èÂπïÊà™Âõæ ÂΩïÂà∂Â±èÂπï ÈáçÊñ∞ÊåÇËΩΩ system ÂàÜÂå∫‰∏∫ÂèØÂÜô Êü•ÁúãËøûÊé•ËøáÁöÑ WiFi ÂØÜÁ†Å ËÆæÁΩÆÁ≥ªÁªüÊó•ÊúüÂíåÊó∂Èó¥ ÈáçÂêØÊâãÊú∫ Ê£ÄÊµãËÆæÂ§áÊòØÂê¶Â∑≤ root ‰ΩøÁî® Monkey ËøõË°åÂéãÂäõÊµãËØï ÂºÄÂêØ/ÂÖ≥Èó≠ WiFi Âà∑Êú∫Áõ∏ÂÖ≥ÂëΩ‰ª§ ÈáçÂêØÂà∞ Recovery Ê®°Âºè ‰ªé Recovery ÈáçÂêØÂà∞ Android ÈáçÂêØÂà∞ Fastboot Ê®°Âºè ÈÄöËøá sideload Êõ¥Êñ∞Á≥ªÁªü Êõ¥Â§ö adb shell ÂëΩ‰ª§ Êü•ÁúãËøõÁ®ã Êü•ÁúãÂÆûÊó∂ËµÑÊ∫êÂç†Áî®ÊÉÖÂÜµ ÂÖ∂ÂÆÉ adb ÁöÑÈùûÂÆòÊñπÂÆûÁé∞ Ëá¥Ë∞¢ ÂèÇËÄÉÈìæÊé• Âü∫Êú¨Áî®Ê≥ïÂëΩ‰ª§ËØ≠Ê≥ïadb ÂëΩ‰ª§ÁöÑÂü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö 1adb [-d|-e|-s &lt;serialNumber&gt;] &lt;command&gt; Â¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™ËÆæÂ§á/Ê®°ÊãüÂô®ËøûÊé•Êó∂ÔºåÂèØ‰ª•ÁúÅÁï•Êéâ [-d|-e|-s &lt;serialNumber&gt;] Ëøô‰∏ÄÈÉ®ÂàÜÔºåÁõ¥Êé•‰ΩøÁî® adb &lt;command&gt;„ÄÇ ‰∏∫ÂëΩ‰ª§ÊåáÂÆöÁõÆÊ†áËÆæÂ§áÂ¶ÇÊûúÊúâÂ§ö‰∏™ËÆæÂ§á/Ê®°ÊãüÂô®ËøûÊé•ÔºåÂàôÈúÄË¶Å‰∏∫ÂëΩ‰ª§ÊåáÂÆöÁõÆÊ†áËÆæÂ§á„ÄÇ ÂèÇÊï∞ Âê´‰πâ -d ÊåáÂÆöÂΩìÂâçÂîØ‰∏ÄÈÄöËøá USB ËøûÊé•ÁöÑ Android ËÆæÂ§á‰∏∫ÂëΩ‰ª§ÁõÆÊ†á -e ÊåáÂÆöÂΩìÂâçÂîØ‰∏ÄËøêË°åÁöÑÊ®°ÊãüÂô®‰∏∫ÂëΩ‰ª§ÁõÆÊ†á -s &lt;serialNumber&gt; ÊåáÂÆöÁõ∏Â∫î serialNumber Âè∑ÁöÑËÆæÂ§á/Ê®°ÊãüÂô®‰∏∫ÂëΩ‰ª§ÁõÆÊ†á Âú®Â§ö‰∏™ËÆæÂ§á/Ê®°ÊãüÂô®ËøûÊé•ÁöÑÊÉÖÂÜµ‰∏ãËæÉÂ∏∏Áî®ÁöÑÊòØ -s &lt;serialNumber&gt; ÂèÇÊï∞ÔºåserialNumber ÂèØ‰ª•ÈÄöËøá adb devices ÂëΩ‰ª§Ëé∑Âèñ„ÄÇÂ¶ÇÔºö 12345$ adb devicesList of devices attachedcf264b8f deviceemulator-5554 device ËæìÂá∫ÈáåÁöÑ cf264b8f Âíå emulator-5554 Âç≥‰∏∫ serialNumber„ÄÇÊØîÂ¶ÇËøôÊó∂ÊÉ≥ÊåáÂÆö cf264b8f Ëøô‰∏™ËÆæÂ§áÊù•ËøêË°å adb ÂëΩ‰ª§Ëé∑ÂèñÂ±èÂπïÂàÜËæ®ÁéáÔºö 1adb -s cf264b8f shell wm size ÈÅáÂà∞Â§öËÆæÂ§á/Ê®°ÊãüÂô®ÁöÑÊÉÖÂÜµÂùá‰ΩøÁî®ËøôÂá†‰∏™ÂèÇÊï∞‰∏∫ÂëΩ‰ª§ÊåáÂÆöÁõÆÊ†áËÆæÂ§áÔºå‰∏ãÊñá‰∏≠‰∏∫ÁÆÄÂåñÊèèËø∞Ôºå‰∏çÂÜçÈáçÂ§ç„ÄÇ ÂêØÂä®/ÂÅúÊ≠¢ÂêØÂä® adb server ÂëΩ‰ª§Ôºö 1adb start-server Ôºà‰∏ÄËà¨Êó†ÈúÄÊâãÂä®ÊâßË°åÊ≠§ÂëΩ‰ª§ÔºåÂú®ËøêË°å adb ÂëΩ‰ª§Êó∂Ëã•ÂèëÁé∞ adb server Ê≤°ÊúâÂêØÂä®‰ºöËá™Âä®Ë∞ÉËµ∑„ÄÇÔºâ ÂÅúÊ≠¢ adb server ÂëΩ‰ª§Ôºö 1adb kill-server Êü•Áúã adb ÁâàÊú¨ÂëΩ‰ª§Ôºö 1adb version Á§∫‰æãËæìÂá∫Ôºö 12Android Debug Bridge version 1.0.36Revision 8f855a3d9b35-android ‰ª• root ÊùÉÈôêËøêË°å adbdadb ÁöÑËøêË°åÂéüÁêÜÊòØ PC Á´ØÁöÑ adb server ‰∏éÊâãÊú∫Á´ØÁöÑÂÆàÊä§ËøõÁ®ã adbd Âª∫Á´ãËøûÊé•ÔºåÁÑ∂Âêé PC Á´ØÁöÑ adb client ÈÄöËøá adb server ËΩ¨ÂèëÂëΩ‰ª§Ôºåadbd Êé•Êî∂ÂëΩ‰ª§ÂêéËß£ÊûêËøêË°å„ÄÇ ÊâÄ‰ª•Â¶ÇÊûú adbd ‰ª•ÊôÆÈÄöÊùÉÈôêÊâßË°åÔºåÊúâ‰∫õÈúÄË¶Å root ÊùÉÈôêÊâçËÉΩÊâßË°åÁöÑÂëΩ‰ª§Êó†Ê≥ïÁõ¥Êé•Áî® adb xxx ÊâßË°å„ÄÇËøôÊó∂ÂèØ‰ª• adb shell ÁÑ∂Âêé su ÂêéÊâßË°åÂëΩ‰ª§Ôºå‰πüÂèØ‰ª•ËÆ© adbd ‰ª• root ÊùÉÈôêÊâßË°åÔºåËøô‰∏™Â∞±ËÉΩÈöèÊÑèÊâßË°åÈ´òÊùÉÈôêÂëΩ‰ª§‰∫Ü„ÄÇ ÂëΩ‰ª§Ôºö 1adb root Ê≠£Â∏∏ËæìÂá∫Ôºö 1restarting adbd as root Áé∞Âú®ÂÜçËøêË°å adb shellÔºåÁúãÁúãÂëΩ‰ª§Ë°åÊèêÁ§∫Á¨¶ÊòØ‰∏çÊòØÂèòÊàê # ‰∫ÜÔºü Êúâ‰∫õÊâãÊú∫ root Âêé‰πüÊó†Ê≥ïÈÄöËøá adb root ÂëΩ‰ª§ËÆ© adbd ‰ª• root ÊùÉÈôêÊâßË°åÔºåÊØîÂ¶Ç‰∏âÊòüÁöÑÈÉ®ÂàÜÊú∫ÂûãÔºå‰ºöÊèêÁ§∫ adbd cannot run as root in production buildsÔºåÊ≠§Êó∂ÂèØ‰ª•ÂÖàÂÆâË£Ö adbd InsecureÔºåÁÑ∂Âêé adb root ËØïËØï„ÄÇ Áõ∏Â∫îÂú∞ÔºåÂ¶ÇÊûúË¶ÅÊÅ¢Â§ç adbd ‰∏∫Èùû root ÊùÉÈôêÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî® adb unroot ÂëΩ‰ª§„ÄÇ ÊåáÂÆö adb server ÁöÑÁΩëÁªúÁ´ØÂè£ÂëΩ‰ª§Ôºö 1adb -P &lt;port&gt; start-server ÈªòËÆ§Á´ØÂè£‰∏∫ 5037„ÄÇ ËÆæÂ§áËøûÊé•ÁÆ°ÁêÜÊü•ËØ¢Â∑≤ËøûÊé•ËÆæÂ§á/Ê®°ÊãüÂô®ÂëΩ‰ª§Ôºö 1adb devices ËæìÂá∫Á§∫‰æãÔºö 123List of devices attachedcf264b8f deviceemulator-5554 device ËæìÂá∫Ê†ºÂºè‰∏∫ [serialNumber] [state]ÔºåserialNumber Âç≥Êàë‰ª¨Â∏∏ËØ¥ÁöÑ SNÔºåstate ÊúâÂ¶Ç‰∏ãÂá†ÁßçÔºö offline ‚Äî‚Äî Ë°®Á§∫ËÆæÂ§áÊú™ËøûÊé•ÊàêÂäüÊàñÊó†ÂìçÂ∫î„ÄÇ device ‚Äî‚Äî ËÆæÂ§áÂ∑≤ËøûÊé•„ÄÇÊ≥®ÊÑèËøô‰∏™Áä∂ÊÄÅÂπ∂‰∏çËÉΩÊ†áËØÜ Android Á≥ªÁªüÂ∑≤ÁªèÂÆåÂÖ®ÂêØÂä®ÂíåÂèØÊìç‰ΩúÔºåÂú®ËÆæÂ§áÂêØÂä®ËøáÁ®ã‰∏≠ËÆæÂ§áÂÆû‰æãÂ∞±ÂèØËøûÊé•Âà∞ adbÔºå‰ΩÜÂêØÂä®ÂÆåÊØïÂêéÁ≥ªÁªüÊâçÂ§Ñ‰∫éÂèØÊìç‰ΩúÁä∂ÊÄÅ„ÄÇ no device ‚Äî‚Äî Ê≤°ÊúâËÆæÂ§á/Ê®°ÊãüÂô®ËøûÊé•„ÄÇ ‰ª•‰∏äËæìÂá∫ÊòæÁ§∫ÂΩìÂâçÂ∑≤ÁªèËøûÊé•‰∫Ü‰∏§Âè∞ËÆæÂ§á/Ê®°ÊãüÂô®Ôºåcf264b8f ‰∏é emulator-5554 ÂàÜÂà´ÊòØÂÆÉ‰ª¨ÁöÑ SN„ÄÇ‰ªé emulator-5554 Ëøô‰∏™ÂêçÂ≠óÂèØ‰ª•ÁúãÂá∫ÂÆÉÊòØ‰∏Ä‰∏™ Android Ê®°ÊãüÂô®„ÄÇ Â∏∏ËßÅÂºÇÂ∏∏ËæìÂá∫Ôºö Ê≤°ÊúâËÆæÂ§á/Ê®°ÊãüÂô®ËøûÊé•ÊàêÂäü„ÄÇ 1List of devices attached ËÆæÂ§á/Ê®°ÊãüÂô®Êú™ËøûÊé•Âà∞ adb ÊàñÊó†ÂìçÂ∫î„ÄÇ 12List of devices attachedcf264b8f offline USB ËøûÊé•ÈÄöËøá USB ËøûÊé•Êù•Ê≠£Â∏∏‰ΩøÁî® adb ÈúÄË¶Å‰øùËØÅÂá†ÁÇπÔºö Á°¨‰ª∂Áä∂ÊÄÅÊ≠£Â∏∏„ÄÇ ÂåÖÊã¨ Android ËÆæÂ§áÂ§Ñ‰∫éÊ≠£Â∏∏ÂºÄÊú∫Áä∂ÊÄÅÔºåUSB ËøûÊé•Á∫øÂíåÂêÑÁßçÊé•Âè£ÂÆåÂ•Ω„ÄÇ Android ËÆæÂ§áÁöÑÂºÄÂèëËÄÖÈÄâÈ°πÂíå USB Ë∞ÉËØïÊ®°ÂºèÂ∑≤ÂºÄÂêØ„ÄÇ ÂèØ‰ª•Âà∞„ÄåËÆæÁΩÆ„Äç-„ÄåÂºÄÂèëËÄÖÈÄâÈ°π„Äç-„ÄåAndroid Ë∞ÉËØï„ÄçÊü•Áúã„ÄÇ Â¶ÇÊûúÂú®ËÆæÁΩÆÈáåÊâæ‰∏çÂà∞ÂºÄÂèëËÄÖÈÄâÈ°πÔºåÈÇ£ÈúÄË¶ÅÈÄöËøá‰∏Ä‰∏™ÂΩ©ËõãÊù•ËÆ©ÂÆÉÊòæÁ§∫Âá∫Êù•ÔºöÂú®„ÄåËÆæÁΩÆ„Äç-„ÄåÂÖ≥‰∫éÊâãÊú∫„ÄçËøûÁª≠ÁÇπÂáª„ÄåÁâàÊú¨Âè∑„Äç7 Ê¨°„ÄÇ ËÆæÂ§áÈ©±Âä®Áä∂ÊÄÅÊ≠£Â∏∏„ÄÇ Ëøô‰∏ÄÁÇπË≤å‰ººÂú® Linux Âíå Mac OS X ‰∏ã‰∏çÁî®ÊìçÂøÉÔºåÂú® Windows ‰∏ãÊúâÂèØËÉΩÈÅáÂà∞ÈúÄË¶ÅÂÆâË£ÖÈ©±Âä®ÁöÑÊÉÖÂÜµÔºåÁ°ÆËÆ§Ëøô‰∏ÄÁÇπÂèØ‰ª•Âè≥ÈîÆ„ÄåËÆ°ÁÆóÊú∫„Äç-„ÄåÂ±ûÊÄß„ÄçÔºåÂà∞„ÄåËÆæÂ§áÁÆ°ÁêÜÂô®„ÄçÈáåÊü•ÁúãÁõ∏ÂÖ≥ËÆæÂ§á‰∏äÊòØÂê¶ÊúâÈªÑËâ≤ÊÑüÂèπÂè∑ÊàñÈóÆÂè∑ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂ∞±ËØ¥ÊòéÈ©±Âä®Áä∂ÊÄÅÂ∑≤ÁªèÂ•Ω‰∫Ü„ÄÇÂê¶ÂàôÂèØ‰ª•‰∏ãËΩΩ‰∏Ä‰∏™ÊâãÊú∫Âä©ÊâãÁ±ªÁ®ãÂ∫èÊù•ÂÆâË£ÖÈ©±Âä®ÂÖà„ÄÇ ÈÄöËøá USB Á∫øËøûÊé•Â•ΩÁîµËÑëÂíåËÆæÂ§áÂêéÁ°ÆËÆ§Áä∂ÊÄÅ„ÄÇ 1adb devices Â¶ÇÊûúËÉΩÁúãÂà∞ 1xxxxxx device ËØ¥ÊòéËøûÊé•ÊàêÂäü„ÄÇ Êó†Á∫øËøûÊé•ÔºàÈúÄË¶ÅÂÄüÂä© USB Á∫øÔºâÈô§‰∫ÜÂèØ‰ª•ÈÄöËøá USB ËøûÊé•ËÆæÂ§á‰∏éÁîµËÑëÊù•‰ΩøÁî® adbÔºå‰πüÂèØ‰ª•ÈÄöËøáÊó†Á∫øËøûÊé•‚Äî‚ÄîËôΩÁÑ∂ËøûÊé•ËøáÁ®ã‰∏≠‰πüÊúâÈúÄË¶Å‰ΩøÁî® USB ÁöÑÊ≠•È™§Ôºå‰ΩÜÊòØËøûÊé•ÊàêÂäü‰πãÂêé‰Ω†ÁöÑËÆæÂ§áÂ∞±ÂèØ‰ª•Âú®‰∏ÄÂÆöËåÉÂõ¥ÂÜÖÊëÜËÑ± USB ËøûÊé•Á∫øÁöÑÈôêÂà∂Âï¶ÔºÅ Êìç‰ΩúÊ≠•È™§Ôºö Â∞Ü Android ËÆæÂ§á‰∏éË¶ÅËøêË°å adb ÁöÑÁîµËÑëËøûÊé•Âà∞Âêå‰∏Ä‰∏™Â±ÄÂüüÁΩëÔºåÊØîÂ¶ÇËøûÂà∞Âêå‰∏Ä‰∏™ WiFi„ÄÇ Â∞ÜËÆæÂ§á‰∏éÁîµËÑëÈÄöËøá USB Á∫øËøûÊé•„ÄÇ Â∫îÁ°Æ‰øùËøûÊé•ÊàêÂäüÔºàÂèØËøêË°å adb devices ÁúãÊòØÂê¶ËÉΩÂàóÂá∫ËØ•ËÆæÂ§áÔºâ„ÄÇ ËÆ©ËÆæÂ§áÂú® 5555 Á´ØÂè£ÁõëÂê¨ TCP/IP ËøûÊé•Ôºö 1adb tcpip 5555 Êñ≠ÂºÄ USB ËøûÊé•„ÄÇ ÊâæÂà∞ËÆæÂ§áÁöÑ IP Âú∞ÂùÄ„ÄÇ ‰∏ÄËà¨ËÉΩÂú®„ÄåËÆæÁΩÆ„Äç-„ÄåÂÖ≥‰∫éÊâãÊú∫„Äç-„ÄåÁä∂ÊÄÅ‰ø°ÊÅØ„Äç-„ÄåIPÂú∞ÂùÄ„ÄçÊâæÂà∞„ÄÇ ÈÄöËøá IP Âú∞ÂùÄËøûÊé•ËÆæÂ§á„ÄÇ 1adb connect &lt;device-ip-address&gt; ËøôÈáåÁöÑ &lt;device-ip-address&gt; Â∞±ÊòØ‰∏ä‰∏ÄÊ≠•‰∏≠ÊâæÂà∞ÁöÑËÆæÂ§á IP Âú∞ÂùÄ„ÄÇ Á°ÆËÆ§ËøûÊé•Áä∂ÊÄÅ„ÄÇ 1adb devices Â¶ÇÊûúËÉΩÁúãÂà∞ 1&lt;device-ip-address&gt;:5555 device ËØ¥ÊòéËøûÊé•ÊàêÂäü„ÄÇ Â¶ÇÊûúËøûÊé•‰∏ç‰∫ÜÔºåËØ∑Á°ÆËÆ§ Android ËÆæÂ§á‰∏éÁîµËÑëÊòØËøûÊé•Âà∞‰∫ÜÂêå‰∏Ä‰∏™ WiFiÔºåÁÑ∂ÂêéÂÜçÊ¨°ÊâßË°å adb connect &lt;device-ip-address&gt; ÈÇ£‰∏ÄÊ≠•Ôºõ Â¶ÇÊûúËøòÊòØ‰∏çË°åÁöÑËØùÔºåÈÄöËøá adb kill-server ÈáçÊñ∞ÂêØÂä® adb ÁÑ∂Âêé‰ªéÂ§¥ÂÜçÊù•‰∏ÄÊ¨°ËØïËØï„ÄÇ Êñ≠ÂºÄÊó†Á∫øËøûÊé• ÂëΩ‰ª§Ôºö 1adb disconnect &lt;device-ip-address&gt; Êó†Á∫øËøûÊé•ÔºàÊó†ÈúÄÂÄüÂä© USB Á∫øÔºâÊ≥®ÔºöÈúÄË¶Å root ÊùÉÈôê„ÄÇ ‰∏ä‰∏ÄËäÇ„ÄåÊó†Á∫øËøûÊé•ÔºàÈúÄË¶ÅÂÄüÂä© USB Á∫øÔºâ„ÄçÊòØÂÆòÊñπÊñáÊ°£Èáå‰ªãÁªçÁöÑÊñπÊ≥ïÔºåÈúÄË¶ÅÂÄüÂä©‰∫é USB Êï∞ÊçÆÁ∫øÊù•ÂÆûÁé∞Êó†Á∫øËøûÊé•„ÄÇ Êó¢ÁÑ∂Êàë‰ª¨ÊÉ≥Ë¶ÅÂÆûÁé∞Êó†Á∫øËøûÊé•ÔºåÈÇ£ËÉΩ‰∏çËÉΩÊâÄÊúâÊ≠•È™§‰∏ãÊù•ÈÉΩÊòØÊó†Á∫øÁöÑÂë¢ÔºüÁ≠îÊ°àÊòØËÉΩÁöÑ„ÄÇ Âú® Android ËÆæÂ§á‰∏äÂÆâË£Ö‰∏Ä‰∏™ÁªàÁ´ØÊ®°ÊãüÂô®„ÄÇ Â∑≤ÁªèÂÆâË£ÖËøáÁöÑËÆæÂ§áÂèØ‰ª•Ë∑≥ËøáÊ≠§Ê≠•„ÄÇÊàë‰ΩøÁî®ÁöÑÁªàÁ´ØÊ®°ÊãüÂô®‰∏ãËΩΩÂú∞ÂùÄÊòØÔºöTerminal Emulator for Android Downloads Â∞Ü Android ËÆæÂ§á‰∏éË¶ÅËøêË°å adb ÁöÑÁîµËÑëËøûÊé•Âà∞Âêå‰∏Ä‰∏™Â±ÄÂüüÁΩëÔºåÊØîÂ¶ÇËøûÂà∞Âêå‰∏Ä‰∏™ WiFi„ÄÇ ÊâìÂºÄ Android ËÆæÂ§á‰∏äÁöÑÁªàÁ´ØÊ®°ÊãüÂô®ÔºåÂú®ÈáåÈù¢‰æùÊ¨°ËøêË°åÂëΩ‰ª§Ôºö 12susetprop service.adb.tcp.port 5555 ÊâæÂà∞ Android ËÆæÂ§áÁöÑ IP Âú∞ÂùÄ„ÄÇ ‰∏ÄËà¨ËÉΩÂú®„ÄåËÆæÁΩÆ„Äç-„ÄåÂÖ≥‰∫éÊâãÊú∫„Äç-„ÄåÁä∂ÊÄÅ‰ø°ÊÅØ„Äç-„ÄåIPÂú∞ÂùÄ„ÄçÊâæÂà∞„ÄÇ Âú®ÁîµËÑë‰∏äÈÄöËøá adb Âíå IP Âú∞ÂùÄËøûÊé• Android ËÆæÂ§á„ÄÇ 1adb connect &lt;device-ip-address&gt; ËøôÈáåÁöÑ &lt;device-ip-address&gt; Â∞±ÊòØ‰∏ä‰∏ÄÊ≠•‰∏≠ÊâæÂà∞ÁöÑËÆæÂ§á IP Âú∞ÂùÄ„ÄÇ Â¶ÇÊûúËÉΩÁúãÂà∞ connected to &lt;device-ip-address&gt;:5555 ËøôÊ†∑ÁöÑËæìÂá∫ÂàôË°®Á§∫ËøûÊé•ÊàêÂäü„ÄÇ Â∫îÁî®ÁÆ°ÁêÜÊü•ÁúãÂ∫îÁî®ÂàóË°®Êü•ÁúãÂ∫îÁî®ÂàóË°®ÁöÑÂü∫Êú¨ÂëΩ‰ª§Ê†ºÂºèÊòØ 1adb shell pm list packages [-f] [-d] [-e] [-s] [-3] [-i] [-u] [--user USER_ID] [FILTER] Âç≥Âú® adb shell pm list packages ÁöÑÂü∫Á°Ä‰∏äÂèØ‰ª•Âä†‰∏Ä‰∫õÂèÇÊï∞ËøõË°åËøáÊª§Êü•Áúã‰∏çÂêåÁöÑÂàóË°®ÔºåÊîØÊåÅÁöÑËøáÊª§ÂèÇÊï∞Â¶Ç‰∏ãÔºö ÂèÇÊï∞ ÊòæÁ§∫ÂàóË°® Êó† ÊâÄÊúâÂ∫îÁî® -f ÊòæÁ§∫Â∫îÁî®ÂÖ≥ËÅîÁöÑ apk Êñá‰ª∂ -d Âè™ÊòæÁ§∫ disabled ÁöÑÂ∫îÁî® -e Âè™ÊòæÁ§∫ enabled ÁöÑÂ∫îÁî® -s Âè™ÊòæÁ§∫Á≥ªÁªüÂ∫îÁî® -3 Âè™ÊòæÁ§∫Á¨¨‰∏âÊñπÂ∫îÁî® -i ÊòæÁ§∫Â∫îÁî®ÁöÑ installer -u ÂåÖÂê´Â∑≤Âç∏ËΩΩÂ∫îÁî® &lt;FILTER&gt; ÂåÖÂêçÂåÖÂê´ &lt;FILTER&gt; Â≠óÁ¨¶‰∏≤ ÊâÄÊúâÂ∫îÁî®ÂëΩ‰ª§Ôºö 1adb shell pm list packages ËæìÂá∫Á§∫‰æãÔºö 12345678910111213package:com.android.smoketestpackage:com.example.android.livecubespackage:com.android.providers.telephonypackage:com.google.android.googlequicksearchboxpackage:com.android.providers.calendarpackage:com.android.providers.mediapackage:com.android.protipspackage:com.android.documentsuipackage:com.android.gallerypackage:com.android.externalstorage...// other packages here... Á≥ªÁªüÂ∫îÁî®ÂëΩ‰ª§Ôºö 1adb shell pm list packages -s Á¨¨‰∏âÊñπÂ∫îÁî®ÂëΩ‰ª§Ôºö 1adb shell pm list packages -3 ÂåÖÂêçÂåÖÂê´ÊüêÂ≠óÁ¨¶‰∏≤ÁöÑÂ∫îÁî®ÊØîÂ¶ÇË¶ÅÊü•ÁúãÂåÖÂêçÂåÖÂê´Â≠óÁ¨¶‰∏≤ mazhuang ÁöÑÂ∫îÁî®ÂàóË°®ÔºåÂëΩ‰ª§Ôºö 1adb shell pm list packages mazhuang ÂΩìÁÑ∂‰πüÂèØ‰ª•‰ΩøÁî® grep Êù•ËøáÊª§Ôºö 1adb shell pm list packages | grep mazhuang ÂÆâË£Ö APKÂëΩ‰ª§Ê†ºÂºèÔºö 1adb install [-lrtsdg] &lt;path_to_apk&gt; ÂèÇÊï∞Ôºö adb install ÂêéÈù¢ÂèØ‰ª•Ë∑ü‰∏Ä‰∫õÂèØÈÄâÂèÇÊï∞Êù•ÊéßÂà∂ÂÆâË£Ö APK ÁöÑË°å‰∏∫ÔºåÂèØÁî®ÂèÇÊï∞ÂèäÂê´‰πâÂ¶Ç‰∏ãÔºö ÂèÇÊï∞ Âê´‰πâ -l Â∞ÜÂ∫îÁî®ÂÆâË£ÖÂà∞‰øùÊä§ÁõÆÂΩï /mnt/asec -r ÂÖÅËÆ∏Ë¶ÜÁõñÂÆâË£Ö -t ÂÖÅËÆ∏ÂÆâË£Ö AndroidManifest.xml Èáå application ÊåáÂÆö android:testOnly=&quot;true&quot; ÁöÑÂ∫îÁî® -s Â∞ÜÂ∫îÁî®ÂÆâË£ÖÂà∞ sdcard -d ÂÖÅËÆ∏ÈôçÁ∫ßË¶ÜÁõñÂÆâË£Ö -g Êéà‰∫àÊâÄÊúâËøêË°åÊó∂ÊùÉÈôê ËøêË°åÂëΩ‰ª§ÂêéÂ¶ÇÊûúËßÅÂà∞Á±ª‰ººÂ¶Ç‰∏ãËæìÂá∫ÔºàÁä∂ÊÄÅ‰∏∫ SuccessÔºâ‰ª£Ë°®ÂÆâË£ÖÊàêÂäüÔºö 123[100%] /data/local/tmp/1.apk pkg: /data/local/tmp/1.apkSuccess ‰∏äÈù¢ÊòØÂΩìÂâçÊúÄÊñ∞Áâà v1.0.36 ÁöÑ adb ÁöÑËæìÂá∫Ôºå‰ºöÊòæÁ§∫ push apk Êñá‰ª∂Âà∞ÊâãÊú∫ÁöÑËøõÂ∫¶ÁôæÂàÜÊØî„ÄÇ ‰ΩøÁî®ÊóßÁâàÊú¨ adb ÁöÑËæìÂá∫ÂàôÊòØËøôÊ†∑ÁöÑÔºö 12312040 KB/s (22205609 bytes in 1.801s) pkg: /data/local/tmp/SogouInput_android_v8.3_sweb.apkSuccess ËÄåÂ¶ÇÊûúÁä∂ÊÄÅ‰∏∫ Failure ÂàôË°®Á§∫ÂÆâË£ÖÂ§±Ë¥•ÔºåÊØîÂ¶ÇÔºö 123[100%] /data/local/tmp/map-20160831.apk pkg: /data/local/tmp/map-20160831.apkFailure [INSTALL_FAILED_ALREADY_EXISTS] Â∏∏ËßÅÂÆâË£ÖÂ§±Ë¥•ËæìÂá∫‰ª£Á†Å„ÄÅÂê´‰πâÂèäÂèØËÉΩÁöÑËß£ÂÜ≥ÂäûÊ≥ïÂ¶Ç‰∏ãÔºö ËæìÂá∫ Âê´‰πâ Ëß£ÂÜ≥ÂäûÊ≥ï INSTALL_FAILED_ALREADY_EXISTS Â∫îÁî®Â∑≤ÁªèÂ≠òÂú® ‰ΩøÁî® -r ÂèÇÊï∞ INSTALL_FAILED_INVALID_APK Êó†ÊïàÁöÑ APK Êñá‰ª∂ INSTALL_FAILED_INVALID_URI Êó†ÊïàÁöÑ APK Êñá‰ª∂Âêç Á°Æ‰øù APK Êñá‰ª∂ÂêçÈáåÊó†‰∏≠Êñá INSTALL_FAILED_INSUFFICIENT_STORAGE Á©∫Èó¥‰∏çË∂≥ Ê∏ÖÁêÜÁ©∫Èó¥ INSTALL_FAILED_DUPLICATE_PACKAGE Â∑≤ÁªèÂ≠òÂú®ÂêåÂêçÁ®ãÂ∫è INSTALL_FAILED_NO_SHARED_USER ËØ∑Ê±ÇÁöÑÂÖ±‰∫´Áî®Êà∑‰∏çÂ≠òÂú® INSTALL_FAILED_UPDATE_INCOMPATIBLE Â∑≤ÁªèÂÆâË£ÖËøáÁ≠æÂêç‰∏ç‰∏ÄÊ†∑ÁöÑÂêåÂêçÂ∫îÁî®Ôºå‰∏îÊï∞ÊçÆÊ≤°ÊúâÁßªÈô§ INSTALL_FAILED_SHARED_USER_INCOMPATIBLE ËØ∑Ê±ÇÁöÑÂÖ±‰∫´Áî®Êà∑Â≠òÂú®‰ΩÜÁ≠æÂêç‰∏ç‰∏ÄËá¥ INSTALL_FAILED_MISSING_SHARED_LIBRARY ÂÆâË£ÖÂåÖ‰ΩøÁî®‰∫ÜËÆæÂ§á‰∏ä‰∏çÂèØÁî®ÁöÑÂÖ±‰∫´Â∫ì INSTALL_FAILED_REPLACE_COULDNT_DELETE ÊõøÊç¢Êó∂Êó†Ê≥ïÂà†Èô§ INSTALL_FAILED_DEXOPT dex ‰ºòÂåñÈ™åËØÅÂ§±Ë¥•ÊàñÁ©∫Èó¥‰∏çË∂≥ INSTALL_FAILED_OLDER_SDK ËÆæÂ§áÁ≥ªÁªüÁâàÊú¨‰Ωé‰∫éÂ∫îÁî®Ë¶ÅÊ±Ç INSTALL_FAILED_CONFLICTING_PROVIDER ËÆæÂ§áÈáåÂ∑≤ÁªèÂ≠òÂú®‰∏éÂ∫îÁî®ÈáåÂêåÂêçÁöÑ content provider INSTALL_FAILED_NEWER_SDK ËÆæÂ§áÁ≥ªÁªüÁâàÊú¨È´ò‰∫éÂ∫îÁî®Ë¶ÅÊ±Ç INSTALL_FAILED_TEST_ONLY Â∫îÁî®ÊòØ test-only ÁöÑÔºå‰ΩÜÂÆâË£ÖÊó∂Ê≤°ÊúâÊåáÂÆö -t ÂèÇÊï∞ INSTALL_FAILED_CPU_ABI_INCOMPATIBLE ÂåÖÂê´‰∏çÂÖºÂÆπËÆæÂ§á CPU Â∫îÁî®Á®ãÂ∫è‰∫åËøõÂà∂Êé•Âè£ÁöÑ native code INSTALL_FAILED_MISSING_FEATURE Â∫îÁî®‰ΩøÁî®‰∫ÜËÆæÂ§á‰∏çÂèØÁî®ÁöÑÂäüËÉΩ INSTALL_FAILED_CONTAINER_ERROR sdcard ËÆøÈóÆÂ§±Ë¥• Á°ÆËÆ§ sdcard ÂèØÁî®ÔºåÊàñËÄÖÂÆâË£ÖÂà∞ÂÜÖÁΩÆÂ≠òÂÇ® INSTALL_FAILED_INVALID_INSTALL_LOCATION ‰∏çËÉΩÂÆâË£ÖÂà∞ÊåáÂÆö‰ΩçÁΩÆ ÂàáÊç¢ÂÆâË£Ö‰ΩçÁΩÆÔºåÊ∑ªÂä†ÊàñÂà†Èô§ -s ÂèÇÊï∞ INSTALL_FAILED_MEDIA_UNAVAILABLE ÂÆâË£Ö‰ΩçÁΩÆ‰∏çÂèØÁî® ‰∏ÄËà¨‰∏∫ sdcardÔºåÁ°ÆËÆ§ sdcard ÂèØÁî®ÊàñÂÆâË£ÖÂà∞ÂÜÖÁΩÆÂ≠òÂÇ® INSTALL_FAILED_VERIFICATION_TIMEOUT È™åËØÅÂÆâË£ÖÂåÖË∂ÖÊó∂ INSTALL_FAILED_VERIFICATION_FAILURE È™åËØÅÂÆâË£ÖÂåÖÂ§±Ë¥• INSTALL_FAILED_PACKAGE_CHANGED Â∫îÁî®‰∏éË∞ÉÁî®Á®ãÂ∫èÊúüÊúõÁöÑ‰∏ç‰∏ÄËá¥ INSTALL_FAILED_UID_CHANGED ‰ª•ÂâçÂÆâË£ÖËøáËØ•Â∫îÁî®Ôºå‰∏éÊú¨Ê¨°ÂàÜÈÖçÁöÑ UID ‰∏ç‰∏ÄËá¥ Ê∏ÖÈô§‰ª•ÂâçÂÆâË£ÖËøáÁöÑÊÆãÁïôÊñá‰ª∂ INSTALL_FAILED_VERSION_DOWNGRADE Â∑≤ÁªèÂÆâË£Ö‰∫ÜËØ•Â∫îÁî®Êõ¥È´òÁâàÊú¨ ‰ΩøÁî® -d ÂèÇÊï∞ INSTALL_FAILED_PERMISSION_MODEL_DOWNGRADE Â∑≤ÂÆâË£Ö target SDK ÊîØÊåÅËøêË°åÊó∂ÊùÉÈôêÁöÑÂêåÂêçÂ∫îÁî®ÔºåË¶ÅÂÆâË£ÖÁöÑÁâàÊú¨‰∏çÊîØÊåÅËøêË°åÊó∂ÊùÉÈôê INSTALL_PARSE_FAILED_NOT_APK ÊåáÂÆöË∑ØÂæÑ‰∏çÊòØÊñá‰ª∂ÔºåÊàñ‰∏çÊòØ‰ª• .apk ÁªìÂ∞æ INSTALL_PARSE_FAILED_BAD_MANIFEST Êó†Ê≥ïËß£ÊûêÁöÑ AndroidManifest.xml Êñá‰ª∂ INSTALL_PARSE_FAILED_UNEXPECTED_EXCEPTION Ëß£ÊûêÂô®ÈÅáÂà∞ÂºÇÂ∏∏ INSTALL_PARSE_FAILED_NO_CERTIFICATES ÂÆâË£ÖÂåÖÊ≤°ÊúâÁ≠æÂêç INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES Â∑≤ÂÆâË£ÖËØ•Â∫îÁî®Ôºå‰∏îÁ≠æÂêç‰∏é APK Êñá‰ª∂‰∏ç‰∏ÄËá¥ ÂÖàÂç∏ËΩΩËÆæÂ§á‰∏äÁöÑËØ•Â∫îÁî®ÔºåÂÜçÂÆâË£Ö INSTALL_PARSE_FAILED_CERTIFICATE_ENCODING Ëß£Êûê APK Êñá‰ª∂Êó∂ÈÅáÂà∞ CertificateEncodingException INSTALL_PARSE_FAILED_BAD_PACKAGE_NAME manifest Êñá‰ª∂ÈáåÊ≤°ÊúâÊàñËÄÖ‰ΩøÁî®‰∫ÜÊó†ÊïàÁöÑÂåÖÂêç INSTALL_PARSE_FAILED_BAD_SHARED_USER_ID manifest Êñá‰ª∂ÈáåÊåáÂÆö‰∫ÜÊó†ÊïàÁöÑÂÖ±‰∫´Áî®Êà∑ ID INSTALL_PARSE_FAILED_MANIFEST_MALFORMED Ëß£Êûê manifest Êñá‰ª∂Êó∂ÈÅáÂà∞ÁªìÊûÑÊÄßÈîôËØØ INSTALL_PARSE_FAILED_MANIFEST_EMPTY Âú® manifest Êñá‰ª∂ÈáåÊâæ‰∏çÂà∞ÊâæÂèØÊìç‰ΩúÊ†áÁ≠æÔºàinstrumentation Êàñ applicationÔºâ INSTALL_FAILED_INTERNAL_ERROR Âõ†Á≥ªÁªüÈóÆÈ¢òÂÆâË£ÖÂ§±Ë¥• INSTALL_FAILED_USER_RESTRICTED Áî®Êà∑Ë¢´ÈôêÂà∂ÂÆâË£ÖÂ∫îÁî® INSTALL_FAILED_DUPLICATE_PERMISSION Â∫îÁî®Â∞ùËØïÂÆö‰πâ‰∏Ä‰∏™Â∑≤ÁªèÂ≠òÂú®ÁöÑÊùÉÈôêÂêçÁß∞ INSTALL_FAILED_NO_MATCHING_ABIS Â∫îÁî®ÂåÖÂê´ËÆæÂ§áÁöÑÂ∫îÁî®Á®ãÂ∫è‰∫åËøõÂà∂Êé•Âè£‰∏çÊîØÊåÅÁöÑ native code INSTALL_CANCELED_BY_USER Â∫îÁî®ÂÆâË£ÖÈúÄË¶ÅÂú®ËÆæÂ§á‰∏äÁ°ÆËÆ§Ôºå‰ΩÜÊú™Êìç‰ΩúËÆæÂ§áÊàñÁÇπ‰∫ÜÂèñÊ∂à Âú®ËÆæÂ§á‰∏äÂêåÊÑèÂÆâË£Ö INSTALL_FAILED_ACWF_INCOMPATIBLE Â∫îÁî®Á®ãÂ∫è‰∏éËÆæÂ§á‰∏çÂÖºÂÆπ does not contain AndroidManifest.xml Êó†ÊïàÁöÑ APK Êñá‰ª∂ is not a valid zip file Êó†ÊïàÁöÑ APK Êñá‰ª∂ Offline ËÆæÂ§áÊú™ËøûÊé•ÊàêÂäü ÂÖàÂ∞ÜËÆæÂ§á‰∏é adb ËøûÊé•ÊàêÂäü unauthorized ËÆæÂ§áÊú™ÊéàÊùÉÂÖÅËÆ∏Ë∞ÉËØï error: device not found Ê≤°ÊúâËøûÊé•ÊàêÂäüÁöÑËÆæÂ§á ÂÖàÂ∞ÜËÆæÂ§á‰∏é adb ËøûÊé•ÊàêÂäü protocol failure ËÆæÂ§áÂ∑≤Êñ≠ÂºÄËøûÊé• ÂÖàÂ∞ÜËÆæÂ§á‰∏é adb ËøûÊé•ÊàêÂäü Unknown option: -s Android 2.2 ‰ª•‰∏ã‰∏çÊîØÊåÅÂÆâË£ÖÂà∞ sdcard ‰∏ç‰ΩøÁî® -s ÂèÇÊï∞ No space left on devicerm Á©∫Èó¥‰∏çË∂≥ Ê∏ÖÁêÜÁ©∫Èó¥ Permission denied ‚Ä¶ sdcard ‚Ä¶ sdcard ‰∏çÂèØÁî® ÂèÇËÄÉÔºöPackageManager.java adb install ÂÜÖÈÉ®ÂéüÁêÜÁÆÄ‰ªã adb install ÂÆûÈôÖÊòØÂàÜ‰∏âÊ≠•ÂÆåÊàêÔºö push apk Êñá‰ª∂Âà∞ /data/local/tmp„ÄÇ Ë∞ÉÁî® pm install ÂÆâË£Ö„ÄÇ Âà†Èô§ /data/local/tmp ‰∏ãÁöÑÂØπÂ∫î apk Êñá‰ª∂„ÄÇ ÊâÄ‰ª•ÔºåÂøÖË¶ÅÁöÑÊó∂ÂÄô‰πüÂèØ‰ª•Ê†πÊçÆËøô‰∏™Ê≠•È™§ÔºåÊâãÂä®ÂàÜÊ≠•ÊâßË°åÂÆâË£ÖËøáÁ®ã„ÄÇ Âç∏ËΩΩÂ∫îÁî®ÂëΩ‰ª§Ôºö 1adb uninstall [-k] &lt;packagename&gt; &lt;packagename&gt; Ë°®Á§∫Â∫îÁî®ÁöÑÂåÖÂêçÔºå-k ÂèÇÊï∞ÂèØÈÄâÔºåË°®Á§∫Âç∏ËΩΩÂ∫îÁî®‰ΩÜ‰øùÁïôÊï∞ÊçÆÂíåÁºìÂ≠òÁõÆÂΩï„ÄÇ ÂëΩ‰ª§Á§∫‰æãÔºö 1adb uninstall com.qihoo360.mobilesafe Ë°®Á§∫Âç∏ËΩΩ 360 ÊâãÊú∫Âç´Â£´„ÄÇ Ê∏ÖÈô§Â∫îÁî®Êï∞ÊçÆ‰∏éÁºìÂ≠òÂëΩ‰ª§Ôºö 1adb shell pm clear &lt;packagename&gt; &lt;packagename&gt; Ë°®Á§∫Â∫îÁî®ÂêçÂåÖÔºåËøôÊù°ÂëΩ‰ª§ÁöÑÊïàÊûúÁõ∏ÂΩì‰∫éÂú®ËÆæÁΩÆÈáåÁöÑÂ∫îÁî®‰ø°ÊÅØÁïåÈù¢ÁÇπÂáª‰∫Ü„ÄåÊ∏ÖÈô§ÁºìÂ≠ò„ÄçÂíå„ÄåÊ∏ÖÈô§Êï∞ÊçÆ„Äç„ÄÇ ÂëΩ‰ª§Á§∫‰æãÔºö 1adb shell pm clear com.qihoo360.mobilesafe Ë°®Á§∫Ê∏ÖÈô§ 360 ÊâãÊú∫Âç´Â£´ÁöÑÊï∞ÊçÆÂíåÁºìÂ≠ò„ÄÇ Êü•ÁúãÂâçÂè∞ ActivityÂëΩ‰ª§Ôºö 1adb shell dumpsys activity activities | grep mFocusedActivity ËæìÂá∫Á§∫‰æãÔºö 1mFocusedActivity: ActivityRecord&#123;8079d7e u0 com.cyanogenmod.trebuchet/com.android.launcher3.Launcher t42&#125; ÂÖ∂‰∏≠ÁöÑ com.cyanogenmod.trebuchet/com.android.launcher3.Launcher Â∞±ÊòØÂΩìÂâçÂ§Ñ‰∫éÂâçÂè∞ÁöÑ Activity„ÄÇ ‰∏éÂ∫îÁî®‰∫§‰∫í‰∏ªË¶ÅÊòØ‰ΩøÁî® am &lt;command&gt; ÂëΩ‰ª§ÔºåÂ∏∏Áî®ÁöÑ &lt;command&gt; Â¶Ç‰∏ãÔºö command Áî®ÈÄî start [options] &lt;INTENT&gt; ÂêØÂä® &lt;INTENT&gt; ÊåáÂÆöÁöÑ Activity startservice [options] &lt;INTENT&gt; ÂêØÂä® &lt;INTENT&gt; ÊåáÂÆöÁöÑ Service broadcast [options] &lt;INTENT&gt; ÂèëÈÄÅ &lt;INTENT&gt; ÊåáÂÆöÁöÑÂπøÊí≠ force-stop &lt;packagename&gt; ÂÅúÊ≠¢ &lt;packagename&gt; Áõ∏ÂÖ≥ÁöÑËøõÁ®ã &lt;INTENT&gt; ÂèÇÊï∞ÂæàÁÅµÊ¥ªÔºåÂíåÂÜô Android Á®ãÂ∫èÊó∂‰ª£Á†ÅÈáåÁöÑ Intent Áõ∏ÂØπÂ∫î„ÄÇ Áî®‰∫éÂÜ≥ÂÆö intent ÂØπË±°ÁöÑÈÄâÈ°πÂ¶Ç‰∏ãÔºö ÂèÇÊï∞ Âê´‰πâ -a &lt;ACTION&gt; ÊåáÂÆö actionÔºåÊØîÂ¶Ç android.intent.action.VIEW -c &lt;CATEGORY&gt; ÊåáÂÆö categoryÔºåÊØîÂ¶Ç android.intent.category.APP_CONTACTS -n &lt;COMPONENT&gt; ÊåáÂÆöÂÆåÊï¥ component ÂêçÔºåÁî®‰∫éÊòéÁ°ÆÊåáÂÆöÂêØÂä®Âì™‰∏™ ActivityÔºåÂ¶Ç com.example.app/.ExampleActivity &lt;INTENT&gt; ÈáåËøòËÉΩÂ∏¶Êï∞ÊçÆÔºåÂ∞±ÂÉèÂÜô‰ª£Á†ÅÊó∂ÁöÑ Bundle ‰∏ÄÊ†∑Ôºö ÂèÇÊï∞ Âê´‰πâ --esn &lt;EXTRA_KEY&gt; null ÂÄºÔºàÂè™Êúâ key ÂêçÔºâ `-e ‚Äìes ` string ÂÄº --ez &lt;EXTRA_KEY&gt; &lt;EXTRA_BOOLEAN_VALUE&gt; boolean ÂÄº --ei &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt; integer ÂÄº --el &lt;EXTRA_KEY&gt; &lt;EXTRA_LONG_VALUE&gt; long ÂÄº --ef &lt;EXTRA_KEY&gt; &lt;EXTRA_FLOAT_VALUE&gt; float ÂÄº --eu &lt;EXTRA_KEY&gt; &lt;EXTRA_URI_VALUE&gt; URI --ecn &lt;EXTRA_KEY&gt; &lt;EXTRA_COMPONENT_NAME_VALUE&gt; component name --eia &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt;[,&lt;EXTRA_INT_VALUE...] integer Êï∞ÁªÑ --ela &lt;EXTRA_KEY&gt; &lt;EXTRA_LONG_VALUE&gt;[,&lt;EXTRA_LONG_VALUE...] long Êï∞ÁªÑ Ë∞ÉËµ∑ ActivityÂëΩ‰ª§Ê†ºÂºèÔºö 1adb shell am start [options] &lt;INTENT&gt; ‰æãÂ¶ÇÔºö 1adb shell am start -n com.tencent.mm/.ui.LauncherUI Ë°®Á§∫Ë∞ÉËµ∑ÂæÆ‰ø°‰∏ªÁïåÈù¢„ÄÇ 1adb shell am start -n org.mazhuang.boottimemeasure/.MainActivity --es "toast" "hello, world" Ë°®Á§∫Ë∞ÉËµ∑ org.mazhuang.boottimemeasure/.MainActivity Âπ∂‰º†ÁªôÂÆÉ string Êï∞ÊçÆÈîÆÂÄºÂØπ toast - hello, world„ÄÇ Ë∞ÉËµ∑ ServiceÂëΩ‰ª§Ê†ºÂºèÔºö 1adb shell am startservice [options] &lt;INTENT&gt; ‰æãÂ¶ÇÔºö 1adb shell am startservice -n com.tencent.mm/.plugin.accountsync.model.AccountAuthenticatorService Ë°®Á§∫Ë∞ÉËµ∑ÂæÆ‰ø°ÁöÑÊüê Service„ÄÇ ÂèëÈÄÅÂπøÊí≠ÂëΩ‰ª§Ê†ºÂºèÔºö 1adb shell am broadcast [options] &lt;INTENT&gt; ‰æãÂ¶ÇÔºö 1adb shell am broadcast -a android.intent.action.BOOT_COMPLETED -n org.mazhuang.boottimemeasure/.BootCompletedReceiver Ë°®Á§∫Âêë org.mazhuang.boottimemeasure/.BootCompletedReceiver ÂèëÈÄÅ‰∏Ä‰∏™ BOOT_COMPLETED ÂπøÊí≠ÔºåËøôÁ±ªÁî®Ê≥ïÂú®ÊµãËØïÁöÑÊó∂ÂÄôÂæàÂÆûÁî®ÔºåÊØîÂ¶ÇÊüê‰∏™ÂπøÊí≠ÁöÑÂú∫ÊôØÂæàÈöæÂà∂ÈÄ†ÔºåÂèØ‰ª•ËÄÉËôëÈÄöËøáËøôÁßçÊñπÂºèÊù•ÂèëÈÄÅÂπøÊí≠„ÄÇ Âº∫Âà∂ÂÅúÊ≠¢Â∫îÁî®ÂëΩ‰ª§Ôºö 1adb shell am force-stop &lt;packagename&gt; ÂëΩ‰ª§Á§∫‰æãÔºö 1adb shell am force-stop com.qihoo360.mobilesafe Ë°®Á§∫ÂÅúÊ≠¢ 360 ÂÆâÂÖ®Âç´Â£´ÁöÑ‰∏ÄÂàáËøõÁ®ã‰∏éÊúçÂä°„ÄÇ Êñá‰ª∂ÁÆ°ÁêÜÂ§çÂà∂ËÆæÂ§áÈáåÁöÑÊñá‰ª∂Âà∞ÁîµËÑëÂëΩ‰ª§Ôºö 1adb pull &lt;ËÆæÂ§áÈáåÁöÑÊñá‰ª∂Ë∑ØÂæÑ&gt; [ÁîµËÑë‰∏äÁöÑÁõÆÂΩï] ÂÖ∂‰∏≠ ÁîµËÑë‰∏äÁöÑÁõÆÂΩï ÂèÇÊï∞ÂèØ‰ª•ÁúÅÁï•ÔºåÈªòËÆ§Â§çÂà∂Âà∞ÂΩìÂâçÁõÆÂΩï„ÄÇ ‰æãÔºö 1adb pull /sdcard/sr.mp4 ~/tmp/ Â∞èÊäÄÂ∑ßÔºöËÆæÂ§á‰∏äÁöÑÊñá‰ª∂Ë∑ØÂæÑÂèØËÉΩÈúÄË¶Å root ÊùÉÈôêÊâçËÉΩËÆøÈóÆÔºåÂ¶ÇÊûú‰Ω†ÁöÑËÆæÂ§áÂ∑≤Áªè root ËøáÔºåÂèØ‰ª•ÂÖà‰ΩøÁî® adb shell Âíå su ÂëΩ‰ª§Âú® adb shell ÈáåËé∑Âèñ root ÊùÉÈôêÂêéÔºåÂÖà cp /path/on/device /sdcard/filename Â∞ÜÊñá‰ª∂Â§çÂà∂Âà∞ sdcardÔºåÁÑ∂Âêé adb pull /sdcard/filename /path/on/pc„ÄÇ Â§çÂà∂ÁîµËÑëÈáåÁöÑÊñá‰ª∂Âà∞ËÆæÂ§áÂëΩ‰ª§Ôºö 1adb push &lt;ÁîµËÑë‰∏äÁöÑÊñá‰ª∂Ë∑ØÂæÑ&gt; &lt;ËÆæÂ§áÈáåÁöÑÁõÆÂΩï&gt; ‰æãÔºö 1adb push ~/sr.mp4 /sdcard/ Â∞èÊäÄÂ∑ßÔºöËÆæÂ§á‰∏äÁöÑÊñá‰ª∂Ë∑ØÂæÑÊôÆÈÄöÊùÉÈôêÂèØËÉΩÊó†Ê≥ïÁõ¥Êé•ÂÜôÂÖ•ÔºåÂ¶ÇÊûú‰Ω†ÁöÑËÆæÂ§áÂ∑≤Áªè root ËøáÔºåÂèØ‰ª•ÂÖà adb push /path/on/pc /sdcard/filenameÔºåÁÑ∂Âêé adb shell Âíå su Âú® adb shell ÈáåËé∑Âèñ root ÊùÉÈôêÂêéÔºåcp /sdcard/filename /path/on/device„ÄÇ Ê®°ÊãüÊåâÈîÆ/ËæìÂÖ•Âú® adb shell ÈáåÊúâ‰∏™ÂæàÂÆûÁî®ÁöÑÂëΩ‰ª§Âè´ inputÔºåÈÄöËøáÂÆÉÂèØ‰ª•ÂÅö‰∏Ä‰∫õÊúâË∂£ÁöÑ‰∫ãÊÉÖ„ÄÇ input ÂëΩ‰ª§ÁöÑÂÆåÊï¥ help ‰ø°ÊÅØÂ¶Ç‰∏ãÔºö 12345678910111213141516171819202122Usage: input [&lt;source&gt;] &lt;command&gt; [&lt;arg&gt;...]The sources are: mouse keyboard joystick touchnavigation touchpad trackball stylus dpad gesture touchscreen gamepadThe commands and default sources are: text &lt;string&gt; (Default: touchscreen) keyevent [--longpress] &lt;key code number or name&gt; ... (Default: keyboard) tap &lt;x&gt; &lt;y&gt; (Default: touchscreen) swipe &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt; [duration(ms)] (Default: touchscreen) press (Default: trackball) roll &lt;dx&gt; &lt;dy&gt; (Default: trackball) ÊØîÂ¶Ç‰ΩøÁî® adb shell input keyevent &lt;keycode&gt; ÂëΩ‰ª§Ôºå‰∏çÂêåÁöÑ keycode ËÉΩÂÆûÁé∞‰∏çÂêåÁöÑÂäüËÉΩÔºåÂÆåÊï¥ÁöÑ keycode ÂàóË°®ËØ¶ËßÅ KeyEventÔºåÊëòÂºïÈÉ®ÂàÜÊàëËßâÂæóÊúâÊÑèÊÄùÁöÑÂ¶Ç‰∏ãÔºö keycode Âê´‰πâ 3 HOME ÈîÆ 4 ËøîÂõûÈîÆ 5 ÊâìÂºÄÊã®Âè∑Â∫îÁî® 6 ÊåÇÊñ≠ÁîµËØù 24 Â¢ûÂä†Èü≥Èáè 25 Èôç‰ΩéÈü≥Èáè 26 ÁîµÊ∫êÈîÆ 27 ÊãçÁÖßÔºàÈúÄË¶ÅÂú®Áõ∏Êú∫Â∫îÁî®ÈáåÔºâ 64 ÊâìÂºÄÊµèËßàÂô® 82 ËèúÂçïÈîÆ 85 Êí≠Êîæ/ÊöÇÂÅú 86 ÂÅúÊ≠¢Êí≠Êîæ 87 Êí≠Êîæ‰∏ã‰∏ÄÈ¶ñ 88 Êí≠Êîæ‰∏ä‰∏ÄÈ¶ñ 122 ÁßªÂä®ÂÖâÊ†áÂà∞Ë°åÈ¶ñÊàñÂàóË°®È°∂ÈÉ® 123 ÁßªÂä®ÂÖâÊ†áÂà∞Ë°åÊú´ÊàñÂàóË°®Â∫ïÈÉ® 126 ÊÅ¢Â§çÊí≠Êîæ 127 ÊöÇÂÅúÊí≠Êîæ 164 ÈùôÈü≥ 176 ÊâìÂºÄÁ≥ªÁªüËÆæÁΩÆ 187 ÂàáÊç¢Â∫îÁî® 207 ÊâìÂºÄËÅîÁ≥ª‰∫∫ 208 ÊâìÂºÄÊó•ÂéÜ 209 ÊâìÂºÄÈü≥‰πê 210 ÊâìÂºÄËÆ°ÁÆóÂô® 220 Èôç‰ΩéÂ±èÂπï‰∫ÆÂ∫¶ 221 ÊèêÈ´òÂ±èÂπï‰∫ÆÂ∫¶ 223 Á≥ªÁªü‰ºëÁú† 224 ÁÇπ‰∫ÆÂ±èÂπï 231 ÊâìÂºÄËØ≠Èü≥Âä©Êâã 276 Â¶ÇÊûúÊ≤°Êúâ wakelock ÂàôËÆ©Á≥ªÁªü‰ºëÁú† ‰∏ãÈù¢ÊòØ input ÂëΩ‰ª§ÁöÑ‰∏Ä‰∫õÁî®Ê≥ï‰∏æ‰æã„ÄÇ ÁîµÊ∫êÈîÆÂëΩ‰ª§Ôºö 1adb shell input keyevent 26 ÊâßË°åÊïàÊûúÁõ∏ÂΩì‰∫éÊåâÁîµÊ∫êÈîÆ„ÄÇ ËèúÂçïÈîÆÂëΩ‰ª§Ôºö 1adb shell input keyevent 82 HOME ÈîÆÂëΩ‰ª§Ôºö 1adb shell input keyevent 3 ËøîÂõûÈîÆÂëΩ‰ª§Ôºö 1adb shell input keyevent 4 Èü≥ÈáèÊéßÂà∂Â¢ûÂä†Èü≥ÈáèÔºö 1adb shell input keyevent 24 Èôç‰ΩéÈü≥ÈáèÔºö 1adb shell input keyevent 25 ÈùôÈü≥Ôºö 1adb shell input keyevent 164 Â™í‰ΩìÊéßÂà∂Êí≠Êîæ/ÊöÇÂÅúÔºö 1adb shell input keyevent 85 ÂÅúÊ≠¢Êí≠ÊîæÔºö 1adb shell input keyevent 86 Êí≠Êîæ‰∏ã‰∏ÄÈ¶ñÔºö 1adb shell input keyevent 87 Êí≠Êîæ‰∏ä‰∏ÄÈ¶ñÔºö 1adb shell input keyevent 88 ÊÅ¢Â§çÊí≠ÊîæÔºö 1adb shell input keyevent 126 ÊöÇÂÅúÊí≠ÊîæÔºö 1adb shell input keyevent 127 ÁÇπ‰∫Æ/ÁÜÑÁÅ≠Â±èÂπïÂèØ‰ª•ÈÄöËøá‰∏äÊñáËÆ≤Ëø∞ËøáÁöÑÊ®°ÊãüÁîµÊ∫êÈîÆÊù•ÂàáÊç¢ÁÇπ‰∫ÆÂíåÁÜÑÁÅ≠Â±èÂπïÔºå‰ΩÜÂ¶ÇÊûúÊòéÁ°ÆÂú∞ÊÉ≥Ë¶ÅÁÇπ‰∫ÆÊàñËÄÖÁÜÑÁÅ≠Â±èÂπïÔºåÈÇ£ÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ãÊñπÊ≥ï„ÄÇ ÁÇπ‰∫ÆÂ±èÂπïÔºö 1adb shell input keyevent 224 ÁÜÑÁÅ≠Â±èÂπïÔºö 1adb shell input keyevent 223 ÊªëÂä®Ëß£ÈîÅÂ¶ÇÊûúÈîÅÂ±èÊ≤°ÊúâÂØÜÁ†ÅÔºåÊòØÈÄöËøáÊªëÂä®ÊâãÂäøËß£ÈîÅÔºåÈÇ£‰πàÂèØ‰ª•ÈÄöËøá input swipe Êù•Ëß£ÈîÅ„ÄÇ ÂëΩ‰ª§ÔºàÂèÇÊï∞‰ª•Êú∫Âûã Nexus 5ÔºåÂêë‰∏äÊªëÂä®ÊâãÂäøËß£ÈîÅ‰∏æ‰æãÔºâÔºö 1adb shell input swipe 300 1000 300 500 ÂèÇÊï∞ 300 1000 300 500 ÂàÜÂà´Ë°®Á§∫Ëµ∑ÂßãÁÇπxÂùêÊ†á Ëµ∑ÂßãÁÇπyÂùêÊ†á ÁªìÊùüÁÇπxÂùêÊ†á ÁªìÊùüÁÇπyÂùêÊ†á„ÄÇ ËæìÂÖ•ÊñáÊú¨Âú®ÁÑ¶ÁÇπÂ§Ñ‰∫éÊüêÊñáÊú¨Ê°ÜÊó∂ÔºåÂèØ‰ª•ÈÄöËøá input ÂëΩ‰ª§Êù•ËæìÂÖ•ÊñáÊú¨„ÄÇ ÂëΩ‰ª§Ôºö 1adb shell input text hello Áé∞Âú® hello Âá∫Áé∞Âú®ÊñáÊú¨Ê°Ü‰∫Ü„ÄÇ Êü•ÁúãÊó•ÂøóAndroid Á≥ªÁªüÁöÑÊó•ÂøóÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºåÂ∫ïÂ±ÇÁöÑ Linux ÂÜÖÊ†∏Êó•ÂøóËæìÂá∫Âà∞ /proc/kmsgÔºåAndroid ÁöÑÊó•ÂøóËæìÂá∫Âà∞ /dev/log„ÄÇ Android Êó•ÂøóÂëΩ‰ª§Ê†ºÂºèÔºö 1[adb] logcat [&lt;option&gt;] ... [&lt;filter-spec&gt;] ... Â∏∏Áî®Áî®Ê≥ïÂàó‰∏æÂ¶Ç‰∏ãÔºö ÊåâÁ∫ßÂà´ËøáÊª§Êó•ÂøóAndroid ÁöÑÊó•ÂøóÂàÜ‰∏∫Â¶Ç‰∏ãÂá†‰∏™Á∫ßÂà´Ôºö V ‚Äî‚Äî VerboseÔºàÊúÄ‰ΩéÔºåËæìÂá∫ÂæóÊúÄÂ§öÔºâ D ‚Äî‚Äî Debug I ‚Äî‚Äî Info W ‚Äî‚Äî Warning E ‚Äî‚Äî Error F ‚Äî‚Äî Fatal S ‚Äî‚Äî SilentÔºàÊúÄÈ´òÔºåÂï•‰πü‰∏çËæìÂá∫Ôºâ ÊåâÊüêÁ∫ßÂà´ËøáÊª§Êó•ÂøóÂàô‰ºöÂ∞ÜËØ•Á∫ßÂà´Âèä‰ª•‰∏äÁöÑÊó•ÂøóËæìÂá∫„ÄÇ ÊØîÂ¶ÇÔºåÂëΩ‰ª§Ôºö 1adb logcat *:W ‰ºöÂ∞Ü Warning„ÄÅError„ÄÅFatal Âíå Silent Êó•ÂøóËæìÂá∫„ÄÇ Êåâ tag ÂíåÁ∫ßÂà´ËøáÊª§Êó•ÂøóÊØîÂ¶ÇÔºåÂëΩ‰ª§Ôºö 1adb logcat ActivityManager:I MyApp:D *:S Ë°®Á§∫ËæìÂá∫ tag ActivityManager ÁöÑ Info ‰ª•‰∏äÁ∫ßÂà´Êó•ÂøóÔºåËæìÂá∫ tag MyApp ÁöÑ Debug ‰ª•‰∏äÁ∫ßÂà´Êó•ÂøóÔºåÂèäÂÖ∂ÂÆÉ tag ÁöÑ Silent Á∫ßÂà´Êó•ÂøóÔºàÂç≥Â±èËîΩÂÖ∂ÂÆÉ tag Êó•ÂøóÔºâ„ÄÇ Êó•ÂøóÊ†ºÂºèÂèØ‰ª•Áî® adb logcat -v &lt;format&gt; ÈÄâÈ°πÊåáÂÆöÊó•ÂøóËæìÂá∫Ê†ºÂºè„ÄÇ Êó•ÂøóÊîØÊåÅÊåâ‰ª•‰∏ãÂá†Áßç &lt;format&gt;Ôºö brief ÈªòËÆ§Ê†ºÂºè„ÄÇÊ†ºÂºè‰∏∫Ôºö 1&lt;priority&gt;/&lt;tag&gt;(&lt;pid&gt;): &lt;message&gt; Á§∫‰æãÔºö 1D/HeadsetStateMachine( 1785): Disconnected process message: 10, size: 0 process Ê†ºÂºè‰∏∫Ôºö 1&lt;priority&gt;(&lt;pid&gt;) &lt;message&gt; Á§∫‰æãÔºö 1D( 1785) Disconnected process message: 10, size: 0 (HeadsetStateMachine) tag Ê†ºÂºè‰∏∫Ôºö 1&lt;priority&gt;/&lt;tag&gt;: &lt;message&gt; Á§∫‰æãÔºö 1D/HeadsetStateMachine: Disconnected process message: 10, size: 0 raw Ê†ºÂºè‰∏∫Ôºö 1&lt;message&gt; Á§∫‰æãÔºö 1Disconnected process message: 10, size: 0 time Ê†ºÂºè‰∏∫Ôºö 1&lt;datetime&gt; &lt;priority&gt;/&lt;tag&gt;(&lt;pid&gt;): &lt;message&gt; Á§∫‰æãÔºö 108-28 22:39:39.974 D/HeadsetStateMachine( 1785): Disconnected process message: 10, size: 0 threadtime Ê†ºÂºè‰∏∫Ôºö 1&lt;datetime&gt; &lt;pid&gt; &lt;tid&gt; &lt;priority&gt; &lt;tag&gt;: &lt;message&gt; Á§∫‰æãÔºö 108-28 22:39:39.974 1785 1832 D HeadsetStateMachine: Disconnected process message: 10, size: 0 long Ê†ºÂºè‰∏∫Ôºö 12[ &lt;datetime&gt; &lt;pid&gt;:&lt;tid&gt; &lt;priority&gt;/&lt;tag&gt; ]&lt;message&gt; Á§∫‰æãÔºö 12[ 08-28 22:39:39.974 1785: 1832 D/HeadsetStateMachine ]Disconnected process message: 10, size: 0 ÊåáÂÆöÊ†ºÂºèÂèØ‰∏é‰∏äÈù¢ÁöÑËøáÊª§ÂêåÊó∂‰ΩøÁî®„ÄÇÊØîÂ¶ÇÔºö 1adb logcat -v long ActivityManager:I *:S Ê∏ÖÁ©∫Êó•Âøó1adb logcat -c ÂÜÖÊ†∏Êó•ÂøóÂëΩ‰ª§Ôºö 1adb shell dmesg ËæìÂá∫Á§∫‰æãÔºö 1234567&lt;6&gt;[14201.684016] PM: noirq resume of devices complete after 0.982 msecs&lt;6&gt;[14201.685525] PM: early resume of devices complete after 0.838 msecs&lt;6&gt;[14201.753642] PM: resume of devices complete after 68.106 msecs&lt;4&gt;[14201.755954] Restarting tasks ... done.&lt;6&gt;[14201.771229] PM: suspend exit 2016-08-28 13:31:32.679217193 UTC&lt;6&gt;[14201.872373] PM: suspend entry 2016-08-28 13:31:32.780363596 UTC&lt;6&gt;[14201.872498] PM: Syncing filesystems ... done. ‰∏≠Êã¨Âè∑ÈáåÁöÑ [14201.684016] ‰ª£Ë°®ÂÜÖÊ†∏ÂºÄÂßãÂêØÂä®ÂêéÁöÑÊó∂Èó¥ÔºåÂçï‰Ωç‰∏∫Áßí„ÄÇ ÈÄöËøáÂÜÖÊ†∏Êó•ÂøóÊàë‰ª¨ÂèØ‰ª•ÂÅö‰∏Ä‰∫õ‰∫ãÊÉÖÔºåÊØîÂ¶ÇË°°ÈáèÂÜÖÊ†∏ÂêØÂä®Êó∂Èó¥ÔºåÂú®Á≥ªÁªüÂêØÂä®ÂÆåÊØïÂêéÁöÑÂÜÖÊ†∏Êó•ÂøóÈáåÊâæÂà∞ Freeing init memory ÈÇ£‰∏ÄË°åÂâçÈù¢ÁöÑÊó∂Èó¥Â∞±ÊòØ„ÄÇ Êü•ÁúãËÆæÂ§á‰ø°ÊÅØÂûãÂè∑ÂëΩ‰ª§Ôºö 1adb shell getprop ro.product.model ËæìÂá∫Á§∫‰æãÔºö 1Nexus 5 ÁîµÊ±†Áä∂ÂÜµÂëΩ‰ª§Ôºö 1adb shell dumpsys battery ËæìÂÖ•Á§∫‰æãÔºö 123456789101112Current Battery Service state: AC powered: false USB powered: true Wireless powered: false status: 2 health: 2 present: true level: 44 scale: 100 voltage: 3872 temperature: 280 technology: Li-poly ÂÖ∂‰∏≠ scale ‰ª£Ë°®ÊúÄÂ§ßÁîµÈáèÔºålevel ‰ª£Ë°®ÂΩìÂâçÁîµÈáè„ÄÇ‰∏äÈù¢ÁöÑËæìÂá∫Ë°®Á§∫ËøòÂâ©‰∏ã 44% ÁöÑÁîµÈáè„ÄÇ Â±èÂπïÂàÜËæ®ÁéáÂëΩ‰ª§Ôºö 1adb shell wm size ËæìÂá∫Á§∫‰æãÔºö 1Physical size: 1080x1920 ËØ•ËÆæÂ§áÂ±èÂπïÂàÜËæ®Áéá‰∏∫ 1080px * 1920px„ÄÇ Â±èÂπïÂØÜÂ∫¶ÂëΩ‰ª§Ôºö 1adb shell wm density ËæìÂá∫Á§∫‰æãÔºö 1Physical density: 420 ËØ•ËÆæÂ§áÂ±èÂπïÂØÜÂ∫¶‰∏∫ 420dpi„ÄÇ ÊòæÁ§∫Â±èÂèÇÊï∞ÂëΩ‰ª§Ôºö 1adb shell dumpsys window displays ËæìÂá∫Á§∫‰æãÔºö 1234WINDOW MANAGER DISPLAY CONTENTS (dumpsys window displays) Display: mDisplayId=0 init=1080x1920 420dpi cur=1080x1920 app=1080x1794 rng=1080x1017-1810x1731 deferred=false layoutNeeded=false ÂÖ∂‰∏≠ mDisplayId ‰∏∫ ÊòæÁ§∫Â±èÁºñÂè∑Ôºåinit ÊòØÂàùÂßãÂàÜËæ®ÁéáÂíåÂ±èÂπïÂØÜÂ∫¶Ôºåapp ÁöÑÈ´òÂ∫¶ÊØî init ÈáåÁöÑË¶ÅÂ∞èÔºåË°®Á§∫Â±èÂπïÂ∫ïÈÉ®ÊúâËôöÊãüÊåâÈîÆÔºåÈ´òÂ∫¶‰∏∫ 1920 - 1794 = 126px Âêà 42dp„ÄÇ android_idÂëΩ‰ª§Ôºö 1adb shell settings get secure android_id ËæìÂá∫Á§∫‰æãÔºö 151b6be48bac8c569 IMEIÂú® Android 4.4 Âèä‰ª•‰∏ãÁâàÊú¨ÂèØÈÄöËøáÂ¶Ç‰∏ãÂëΩ‰ª§Ëé∑Âèñ IMEIÔºö 1adb shell dumpsys iphonesubinfo ËæìÂá∫Á§∫‰æãÔºö 123Phone Subscriber Info: Phone Type = GSM Device ID = 860955027785041 ÂÖ∂‰∏≠ÁöÑ Device ID Â∞±ÊòØ IMEI„ÄÇ ËÄåÂú® Android 5.0 Âèä‰ª•‰∏äÁâàÊú¨ÈáåËøô‰∏™ÂëΩ‰ª§ËæìÂá∫‰∏∫Á©∫ÔºåÂæóÈÄöËøáÂÖ∂ÂÆÉÊñπÂºèËé∑Âèñ‰∫ÜÔºàÈúÄË¶Å root ÊùÉÈôêÔºâÔºö 123adb shellsuservice call iphonesubinfo 1 ËæìÂá∫Á§∫‰æãÔºö 1234Result: Parcel( 0x00000000: 00000000 0000000f 00360038 00390030 '........8.6.0.9.' 0x00000010: 00350035 00320030 00370037 00350038 '5.5.0.2.7.7.8.5.' 0x00000020: 00340030 00000031 '0.4.1... ') ÊääÈáåÈù¢ÁöÑÊúâÊïàÂÜÖÂÆπÊèêÂèñÂá∫Êù•Â∞±ÊòØ IMEI ‰∫ÜÔºåÊØîÂ¶ÇËøôÈáåÁöÑÊòØ 860955027785041„ÄÇ ÂèÇËÄÉÔºöadb shell dumpsys iphonesubinfo not working since Android 5.0 Lollipop Android Á≥ªÁªüÁâàÊú¨ÂëΩ‰ª§Ôºö 1adb shell getprop ro.build.version.release ËæìÂá∫Á§∫‰æãÔºö 15.0.2 Mac Âú∞ÂùÄÂëΩ‰ª§Ôºö 1adb shell cat /sys/class/net/wlan0/address ËæìÂá∫Á§∫‰æãÔºö 1f8:a9:d0:17:42:4d CPU ‰ø°ÊÅØÂëΩ‰ª§Ôºö 1adb shell cat /proc/cpuinfo ËæìÂá∫Á§∫‰æãÔºö 1234567891011121314151617181920212223Processor : ARMv7 Processor rev 0 (v7l)processor : 0BogoMIPS : 38.40processor : 1BogoMIPS : 38.40processor : 2BogoMIPS : 38.40processor : 3BogoMIPS : 38.40Features : swp half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivtCPU implementer : 0x51CPU architecture: 7CPU variant : 0x2CPU part : 0x06fCPU revision : 0Hardware : Qualcomm MSM 8974 HAMMERHEAD (Flattened Device Tree)Revision : 000bSerial : 0000000000000000 ËøôÊòØ Nexus 5 ÁöÑ CPU ‰ø°ÊÅØÔºåÊàë‰ª¨‰ªéËæìÂá∫ÈáåÂèØ‰ª•ÁúãÂà∞‰ΩøÁî®ÁöÑÁ°¨‰ª∂ÊòØ Qualcomm MSM 8974Ôºåprocessor ÁöÑÁºñÂè∑ÊòØ 0 Âà∞ 3ÔºåÊâÄ‰ª•ÂÆÉÊòØÂõõÊ†∏ÁöÑÔºåÈááÁî®ÁöÑÊû∂ÊûÑÊòØ ARMv7 Processor rev 0 (v71)„ÄÇ ÂÜÖÂ≠ò‰ø°ÊÅØÂëΩ‰ª§Ôºö 1adb shell cat /proc/meminfo ËæìÂá∫Á§∫‰æãÔºö 12345678910111213141516171819202122232425262728293031323334353637MemTotal: 1027424 kBMemFree: 486564 kBBuffers: 15224 kBCached: 72464 kBSwapCached: 24152 kBActive: 110572 kBInactive: 259060 kBActive(anon): 79176 kBInactive(anon): 207736 kBActive(file): 31396 kBInactive(file): 51324 kBUnevictable: 3948 kBMlocked: 0 kBHighTotal: 409600 kBHighFree: 132612 kBLowTotal: 617824 kBLowFree: 353952 kBSwapTotal: 262140 kBSwapFree: 207572 kBDirty: 0 kBWriteback: 0 kBAnonPages: 265324 kBMapped: 47072 kBShmem: 1020 kBSlab: 57372 kBSReclaimable: 7692 kBSUnreclaim: 49680 kBKernelStack: 4512 kBPageTables: 5912 kBNFS_Unstable: 0 kBBounce: 0 kBWritebackTmp: 0 kBCommitLimit: 775852 kBCommitted_AS: 13520632 kBVmallocTotal: 385024 kBVmallocUsed: 61004 kBVmallocChunk: 209668 kB ÂÖ∂‰∏≠ÔºåMemTotal Â∞±ÊòØËÆæÂ§áÁöÑÊÄªÂÜÖÂ≠òÔºåMemFree ÊòØÂΩìÂâçÁ©∫Èó≤ÂÜÖÂ≠ò„ÄÇ Êõ¥Â§öÁ°¨‰ª∂‰∏éÁ≥ªÁªüÂ±ûÊÄßËÆæÂ§áÁöÑÊõ¥Â§öÁ°¨‰ª∂‰∏éÁ≥ªÁªüÂ±ûÊÄßÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÂëΩ‰ª§Êü•ÁúãÔºö 1adb shell cat /system/build.prop Ëøô‰ºöËæìÂá∫ÂæàÂ§ö‰ø°ÊÅØÔºåÂåÖÊã¨ÂâçÈù¢Âá†‰∏™Â∞èËäÇÊèêÂà∞ÁöÑ„ÄåÂûãÂè∑„ÄçÂíå„ÄåAndroid Á≥ªÁªüÁâàÊú¨„ÄçÁ≠â„ÄÇ ËæìÂá∫ÈáåËøòÂåÖÊã¨‰∏Ä‰∫õÂÖ∂ÂÆÉÊúâÁî®ÁöÑ‰ø°ÊÅØÔºåÂÆÉ‰ª¨‰πüÂèØÈÄöËøá adb shell getprop &lt;Â±ûÊÄßÂêç&gt; ÂëΩ‰ª§ÂçïÁã¨Êü•ÁúãÔºåÂàó‰∏æ‰∏ÄÈÉ®ÂàÜÂ±ûÊÄßÂ¶Ç‰∏ãÔºö Â±ûÊÄßÂêç Âê´‰πâ ro.build.version.sdk SDK ÁâàÊú¨ ro.build.version.release Android Á≥ªÁªüÁâàÊú¨ ro.build.version.security_patch Android ÂÆâÂÖ®Ë°•‰∏ÅÁ®ãÂ∫èÁ∫ßÂà´ ro.product.model ÂûãÂè∑ ro.product.brand ÂìÅÁâå ro.product.name ËÆæÂ§áÂêç ro.product.board Â§ÑÁêÜÂô®ÂûãÂè∑ ro.product.cpu.abilist CPU ÊîØÊåÅÁöÑ abi ÂàóË°® persist.sys.isUsbOtgEnabled ÊòØÂê¶ÊîØÊåÅ OTG dalvik.vm.heapsize ÊØè‰∏™Â∫îÁî®Á®ãÂ∫èÁöÑÂÜÖÂ≠ò‰∏äÈôê ro.sf.lcd_density Â±èÂπïÂØÜÂ∫¶ ÂÆûÁî®ÂäüËÉΩÂ±èÂπïÊà™ÂõæÂëΩ‰ª§Ôºö 1adb shell screencap -p /sdcard/sc.png ÁÑ∂ÂêéÂ∞Ü png Êñá‰ª∂ÂØºÂá∫Âà∞ÁîµËÑëÔºö 1adb pull /sdcard/sc.png ÂèØ‰ª•‰ΩøÁî® adb shell screencap -h Êü•Áúã screencap ÂëΩ‰ª§ÁöÑÂ∏ÆÂä©‰ø°ÊÅØÔºå‰∏ãÈù¢ÊòØ‰∏§‰∏™ÊúâÊÑè‰πâÁöÑÂèÇÊï∞ÂèäÂê´‰πâÔºö ÂèÇÊï∞ Âê´‰πâ -p ÊåáÂÆö‰øùÂ≠òÊñá‰ª∂‰∏∫ png Ê†ºÂºè -d display-id ÊåáÂÆöÊà™ÂõæÁöÑÊòæÁ§∫Â±èÁºñÂè∑ÔºàÊúâÂ§öÊòæÁ§∫Â±èÁöÑÊÉÖÂÜµ‰∏ãÔºâ ÂÆûÊµãÂ¶ÇÊûúÊåáÂÆöÊñá‰ª∂Âêç‰ª• .png ÁªìÂ∞æÊó∂ÂèØ‰ª•ÁúÅÁï• -p ÂèÇÊï∞ÔºõÂê¶ÂàôÈúÄË¶Å‰ΩøÁî® -p ÂèÇÊï∞„ÄÇÂ¶ÇÊûú‰∏çÊåáÂÆöÊñá‰ª∂ÂêçÔºåÊà™ÂõæÊñá‰ª∂ÁöÑÂÜÖÂÆπÂ∞ÜÁõ¥Êé•ËæìÂá∫Âà∞ stdout„ÄÇ ÂΩïÂà∂Â±èÂπïÂΩïÂà∂Â±èÂπï‰ª• mp4 Ê†ºÂºè‰øùÂ≠òÂà∞ /sdcardÔºö 1adb shell screenrecord /sdcard/filename.mp4 ÈúÄË¶ÅÂÅúÊ≠¢Êó∂Êåâ Ctrl-CÔºåÈªòËÆ§ÂΩïÂà∂Êó∂Èó¥ÂíåÊúÄÈïøÂΩïÂà∂Êó∂Èó¥ÈÉΩÊòØ 180 Áßí„ÄÇ Â¶ÇÊûúÈúÄË¶ÅÂØºÂá∫Âà∞ÁîµËÑëÔºö 1adb pull /sdcard/filename.mp4 ÂèØ‰ª•‰ΩøÁî® adb shell screenrecord --help Êü•Áúã screenrecord ÂëΩ‰ª§ÁöÑÂ∏ÆÂä©‰ø°ÊÅØÔºå‰∏ãÈù¢ÊòØÂ∏∏ËßÅÂèÇÊï∞ÂèäÂê´‰πâÔºö ÂèÇÊï∞ Âê´‰πâ ‚Äìsize WIDTHxHEIGHT ËßÜÈ¢ëÁöÑÂ∞∫ÂØ∏ÔºåÊØîÂ¶Ç 1280x720ÔºåÈªòËÆ§ÊòØÂ±èÂπïÂàÜËæ®Áéá„ÄÇ ‚Äìbit-rate RATE ËßÜÈ¢ëÁöÑÊØîÁâπÁéáÔºåÈªòËÆ§ÊòØ 4Mbps„ÄÇ ‚Äìtime-limit TIME ÂΩïÂà∂Êó∂ÈïøÔºåÂçï‰ΩçÁßí„ÄÇ ‚Äìverbose ËæìÂá∫Êõ¥Â§ö‰ø°ÊÅØ„ÄÇ ÈáçÊñ∞ÊåÇËΩΩ system ÂàÜÂå∫‰∏∫ÂèØÂÜôÊ≥®ÔºöÈúÄË¶Å root ÊùÉÈôê„ÄÇ /system ÂàÜÂå∫ÈªòËÆ§ÊåÇËΩΩ‰∏∫Âè™ËØªÔºå‰ΩÜÊúâ‰∫õÊìç‰ΩúÊØîÂ¶ÇÁªô Android Á≥ªÁªüÊ∑ªÂä†ÂëΩ‰ª§„ÄÅÂà†Èô§Ëá™Â∏¶Â∫îÁî®Á≠âÈúÄË¶ÅÂØπ /system ËøõË°åÂÜôÊìç‰ΩúÔºåÊâÄ‰ª•ÈúÄË¶ÅÈáçÊñ∞ÊåÇËΩΩÂÆÉ‰∏∫ÂèØËØªÂÜô„ÄÇ Ê≠•È™§Ôºö ËøõÂÖ• shell Âπ∂ÂàáÊç¢Âà∞ root Áî®Êà∑ÊùÉÈôê„ÄÇ ÂëΩ‰ª§Ôºö 12adb shellsu Êü•ÁúãÂΩìÂâçÂàÜÂå∫ÊåÇËΩΩÊÉÖÂÜµ„ÄÇ ÂëΩ‰ª§Ôºö 1mount ËæìÂá∫Á§∫‰æãÔºö 12345678910111213141516171819202122232425rootfs / rootfs ro,relatime 0 0tmpfs /dev tmpfs rw,seclabel,nosuid,relatime,mode=755 0 0devpts /dev/pts devpts rw,seclabel,relatime,mode=600 0 0proc /proc proc rw,relatime 0 0sysfs /sys sysfs rw,seclabel,relatime 0 0selinuxfs /sys/fs/selinux selinuxfs rw,relatime 0 0debugfs /sys/kernel/debug debugfs rw,relatime 0 0none /var tmpfs rw,seclabel,relatime,mode=770,gid=1000 0 0none /acct cgroup rw,relatime,cpuacct 0 0none /sys/fs/cgroup tmpfs rw,seclabel,relatime,mode=750,gid=1000 0 0none /sys/fs/cgroup/memory cgroup rw,relatime,memory 0 0tmpfs /mnt/asec tmpfs rw,seclabel,relatime,mode=755,gid=1000 0 0tmpfs /mnt/obb tmpfs rw,seclabel,relatime,mode=755,gid=1000 0 0none /dev/memcg cgroup rw,relatime,memory 0 0none /dev/cpuctl cgroup rw,relatime,cpu 0 0none /sys/fs/cgroup tmpfs rw,seclabel,relatime,mode=750,gid=1000 0 0none /sys/fs/cgroup/memory cgroup rw,relatime,memory 0 0none /sys/fs/cgroup/freezer cgroup rw,relatime,freezer 0 0/dev/block/platform/msm_sdcc.1/by-name/system /system ext4 ro,seclabel,relatime,data=ordered 0 0/dev/block/platform/msm_sdcc.1/by-name/userdata /data ext4 rw,seclabel,nosuid,nodev,relatime,noauto_da_alloc,data=ordered 0 0/dev/block/platform/msm_sdcc.1/by-name/cache /cache ext4 rw,seclabel,nosuid,nodev,relatime,data=ordered 0 0/dev/block/platform/msm_sdcc.1/by-name/persist /persist ext4 rw,seclabel,nosuid,nodev,relatime,data=ordered 0 0/dev/block/platform/msm_sdcc.1/by-name/modem /firmware vfat ro,context=u:object_r:firmware_file:s0,relatime,uid=1000,gid=1000,fmask=0337,dmask=0227,codepage=cp437,iocharset=iso8859-1,shortname=lower,errors=remount-ro 0 0/dev/fuse /mnt/shell/emulated fuse rw,nosuid,nodev,relatime,user_id=1023,group_id=1023,default_permissions,allow_other 0 0/dev/fuse /mnt/shell/emulated/0 fuse rw,nosuid,nodev,relatime,user_id=1023,group_id=1023,default_permissions,allow_other 0 0 ÊâæÂà∞ÂÖ∂‰∏≠Êàë‰ª¨ÂÖ≥Ê≥®ÁöÑÂ∏¶ /system ÁöÑÈÇ£‰∏ÄË°åÔºö 1/dev/block/platform/msm_sdcc.1/by-name/system /system ext4 ro,seclabel,relatime,data=ordered 0 0 ÈáçÊñ∞ÊåÇËΩΩ„ÄÇ ÂëΩ‰ª§Ôºö 1mount -o remount,rw -t yaffs2 /dev/block/platform/msm_sdcc.1/by-name/system /system ËøôÈáåÁöÑ /dev/block/platform/msm_sdcc.1/by-name/system Â∞±ÊòØÊàë‰ª¨‰ªé‰∏ä‰∏ÄÊ≠•ÁöÑËæìÂá∫ÈáåÂæóÂà∞ÁöÑÊñá‰ª∂Ë∑ØÂæÑ„ÄÇ Â¶ÇÊûúËæìÂá∫Ê≤°ÊúâÊèêÁ§∫ÈîôËØØÁöÑËØùÔºåÊìç‰ΩúÂ∞±ÊàêÂäü‰∫ÜÔºåÂèØ‰ª•ÂØπ /system ‰∏ãÁöÑÊñá‰ª∂‰∏∫ÊâÄÊ¨≤‰∏∫‰∫Ü„ÄÇ Êü•ÁúãËøûÊé•ËøáÁöÑ WiFi ÂØÜÁ†ÅÊ≥®ÔºöÈúÄË¶Å root ÊùÉÈôê„ÄÇ ÂëΩ‰ª§Ôºö 123adb shellsucat /data/misc/wifi/*.conf ËæìÂá∫Á§∫‰æãÔºö 123456789101112131415161718network=&#123; ssid="TP-LINK_9DFC" scan_ssid=1 psk="123456789" key_mgmt=WPA-PSK group=CCMP TKIP auth_alg=OPEN sim_num=1 priority=13893&#125;network=&#123; ssid="TP-LINK_F11E" psk="987654321" key_mgmt=WPA-PSK sim_num=1 priority=17293&#125; ssid Âç≥‰∏∫Êàë‰ª¨Âú® WLAN ËÆæÁΩÆÈáåÁúãÂà∞ÁöÑÂêçÁß∞Ôºåpsk ‰∏∫ÂØÜÁ†ÅÔºåkey_mgmt ‰∏∫ÂÆâÂÖ®Âä†ÂØÜÊñπÂºè„ÄÇ ËÆæÁΩÆÁ≥ªÁªüÊó•ÊúüÂíåÊó∂Èó¥Ê≥®ÔºöÈúÄË¶Å root ÊùÉÈôê„ÄÇ ÂëΩ‰ª§Ôºö 123adb shellsudate -s 20160823.131500 Ë°®Á§∫Â∞ÜÁ≥ªÁªüÊó•ÊúüÂíåÊó∂Èó¥Êõ¥Êîπ‰∏∫ 2016 Âπ¥ 08 Êúà 23 Êó• 13 ÁÇπ 15 ÂàÜ 00 Áßí„ÄÇ ÈáçÂêØÊâãÊú∫ÂëΩ‰ª§Ôºö 1adb reboot Ê£ÄÊµãËÆæÂ§áÊòØÂê¶Â∑≤ rootÂëΩ‰ª§Ôºö 12adb shellsu Ê≠§Êó∂ÂëΩ‰ª§Ë°åÊèêÁ§∫Á¨¶ÊòØ $ ÂàôË°®Á§∫Ê≤°Êúâ root ÊùÉÈôêÔºåÊòØ # ÂàôË°®Á§∫Â∑≤ root„ÄÇ ‰ΩøÁî® Monkey ËøõË°åÂéãÂäõÊµãËØïMonkey ÂèØ‰ª•ÁîüÊàê‰º™ÈöèÊú∫Áî®Êà∑‰∫ã‰ª∂Êù•Ê®°ÊãüÂçïÂáª„ÄÅËß¶Êë∏„ÄÅÊâãÂäøÁ≠âÊìç‰ΩúÔºåÂèØ‰ª•ÂØπÊ≠£Âú®ÂºÄÂèë‰∏≠ÁöÑÁ®ãÂ∫èËøõË°åÈöèÊú∫ÂéãÂäõÊµãËØï„ÄÇ ÁÆÄÂçïÁî®Ê≥ïÔºö 1adb shell monkey -p &lt;packagename&gt; -v 500 Ë°®Á§∫Âêë &lt;packagename&gt; ÊåáÂÆöÁöÑÂ∫îÁî®Á®ãÂ∫èÂèëÈÄÅ 500 ‰∏™‰º™ÈöèÊú∫‰∫ã‰ª∂„ÄÇ Monkey ÁöÑËØ¶ÁªÜÁî®Ê≥ïÂèÇËÄÉ ÂÆòÊñπÊñáÊ°£„ÄÇ ÂºÄÂêØ/ÂÖ≥Èó≠ WiFiÊ≥®ÔºöÈúÄË¶Å root ÊùÉÈôê„ÄÇ ÊúâÊó∂ÈúÄË¶ÅÊéßÂà∂ËÆæÂ§áÁöÑ WiFi Áä∂ÊÄÅÔºåÂèØ‰ª•Áî®‰ª•‰∏ãÊåá‰ª§ÂÆåÊàê„ÄÇ ÂºÄÂêØ WiFiÔºö 12adb rootadb shell svc wifi enable ÂÖ≥Èó≠ WiFiÔºö 12adb rootadb shell svc wifi disable Ëã•ÊâßË°åÊàêÂäüÔºåËæìÂá∫‰∏∫Á©∫ÔºõËã•Êú™ÂèñÂæó root ÊùÉÈôêÊâßË°åÊ≠§ÂëΩ‰ª§ÔºåÂ∞ÜÊâßË°åÂ§±Ë¥•ÔºåËæìÂá∫ Killed„ÄÇ Âà∑Êú∫Áõ∏ÂÖ≥ÂëΩ‰ª§ÈáçÂêØÂà∞ Recovery Ê®°ÂºèÂëΩ‰ª§Ôºö 1adb reboot recovery ‰ªé Recovery ÈáçÂêØÂà∞ AndroidÂëΩ‰ª§Ôºö 1adb reboot ÈáçÂêØÂà∞ Fastboot Ê®°ÂºèÂëΩ‰ª§Ôºö 1adb reboot bootloader ÈÄöËøá sideload Êõ¥Êñ∞Á≥ªÁªüÂ¶ÇÊûúÊàë‰ª¨‰∏ãËΩΩ‰∫Ü Android ËÆæÂ§áÂØπÂ∫îÁöÑÁ≥ªÁªüÊõ¥Êñ∞ÂåÖÂà∞ÁîµËÑë‰∏äÔºåÈÇ£‰πà‰πüÂèØ‰ª•ÈÄöËøá adb Êù•ÂÆåÊàêÊõ¥Êñ∞„ÄÇ ‰ª• Recovery Ê®°Âºè‰∏ãÊõ¥Êñ∞‰∏∫‰æãÔºö ÈáçÂêØÂà∞ Recovery Ê®°Âºè„ÄÇ ÂëΩ‰ª§Ôºö 1adb reboot recovery Âú®ËÆæÂ§áÁöÑ Recovery ÁïåÈù¢‰∏äÊìç‰ΩúËøõÂÖ• Apply update-Apply from ADB„ÄÇ Ê≥®Ôºö‰∏çÂêåÁöÑ Recovery ËèúÂçïÂèØËÉΩ‰∏éÊ≠§ÊúâÂ∑ÆÂºÇÔºåÊúâÁöÑÊòØ‰∏ÄÁ∫ßËèúÂçïÂ∞±Êúâ Apply update from ADB„ÄÇ ÈÄöËøá adb ‰∏ä‰º†ÂíåÊõ¥Êñ∞Á≥ªÁªü„ÄÇ ÂëΩ‰ª§Ôºö 1adb sideload &lt;path-to-update.zip&gt; Êõ¥Â§ö adb shell ÂëΩ‰ª§Android Á≥ªÁªüÊòØÂü∫‰∫é Linux ÂÜÖÊ†∏ÁöÑÔºåÊâÄ‰ª• Linux ÈáåÁöÑÂæàÂ§öÂëΩ‰ª§Âú® Android Èáå‰πüÊúâÁõ∏ÂêåÊàñÁ±ª‰ººÁöÑÂÆûÁé∞ÔºåÂú® adb shell ÈáåÂèØ‰ª•Ë∞ÉÁî®„ÄÇÊú¨ÊñáÊ°£ÂâçÈù¢ÁöÑÈÉ®ÂàÜÂÜÖÂÆπÂ∑≤ÁªèÁî®Âà∞‰∫Ü adb shell ÂëΩ‰ª§„ÄÇ Êü•ÁúãËøõÁ®ãÂëΩ‰ª§Ôºö 1adb shell ps ËæìÂá∫Á§∫‰æãÔºö 12345678USER PID PPID VSIZE RSS WCHAN PC NAMEroot 1 0 8904 788 ffffffff 00000000 S /initroot 2 0 0 0 ffffffff 00000000 S kthreadd...u0_a71 7779 5926 1538748 48896 ffffffff 00000000 S com.sohu.inputmethod.sogou:classicu0_a58 7963 5926 1561916 59568 ffffffff 00000000 S org.mazhuang.boottimemeasure...shell 8750 217 10640 740 00000000 b6f28340 R ps ÂêÑÂàóÂê´‰πâÔºö ÂàóÂêç Âê´‰πâ USER ÊâÄÂ±ûÁî®Êà∑ PID ËøõÁ®ã ID PPID Áà∂ËøõÁ®ã ID NAME ËøõÁ®ãÂêç Êü•ÁúãÂÆûÊó∂ËµÑÊ∫êÂç†Áî®ÊÉÖÂÜµÂëΩ‰ª§Ôºö 1adb shell top ËæìÂá∫Á§∫‰æãÔºö 1234567891011121314User 0%, System 6%, IOW 0%, IRQ 0%User 3 + Nice 0 + Sys 21 + Idle 280 + IOW 0 + IRQ 0 + SIRQ 3 = 307 PID PR CPU% S #THR VSS RSS PCY UID Name 8763 0 3% R 1 10640K 1064K fg shell top 131 0 3% S 1 0K 0K fg root dhd_dpc 6144 0 0% S 115 1682004K 115916K fg system system_server 132 0 0% S 1 0K 0K fg root dhd_rxf 1731 0 0% S 6 20288K 788K fg root /system/bin/mpdecision 217 0 0% S 6 18008K 356K fg shell /sbin/adbd ... 7779 2 0% S 19 1538748K 48896K bg u0_a71 com.sohu.inputmethod.sogou:classic 7963 0 0% S 18 1561916K 59568K fg u0_a58 org.mazhuang.boottimemeasure ... ÂêÑÂàóÂê´‰πâÔºö ÂàóÂêç Âê´‰πâ PID ËøõÁ®ã ID PR ‰ºòÂÖàÁ∫ß CPU% ÂΩìÂâçÁû¨Èó¥Âç†Áî® CPU ÁôæÂàÜÊØî S ËøõÁ®ãÁä∂ÊÄÅÔºàR=ËøêË°åÔºåS=Áù°Áú†ÔºåT=Ë∑üË∏™/ÂÅúÊ≠¢ÔºåZ=ÂÉµÂ∞∏ËøõÁ®ãÔºâ #THR Á∫øÁ®ãÊï∞ VSS Virtual Set Size ËôöÊãüËÄóÁî®ÂÜÖÂ≠òÔºàÂåÖÂê´ÂÖ±‰∫´Â∫ìÂç†Áî®ÁöÑÂÜÖÂ≠òÔºâ RSS Resident Set Size ÂÆûÈôÖ‰ΩøÁî®Áâ©ÁêÜÂÜÖÂ≠òÔºàÂåÖÂê´ÂÖ±‰∫´Â∫ìÂç†Áî®ÁöÑÂÜÖÂ≠òÔºâ PCY Ë∞ÉÂ∫¶Á≠ñÁï•‰ºòÂÖàÁ∫ßÔºåSP_BACKGROUND/SPFOREGROUND UID ËøõÁ®ãÊâÄÊúâËÄÖÁöÑÁî®Êà∑ ID NAME ËøõÁ®ãÂêç top ÂëΩ‰ª§ËøòÊîØÊåÅ‰∏Ä‰∫õÂëΩ‰ª§Ë°åÂèÇÊï∞ÔºåËØ¶ÁªÜÁî®Ê≥ïÂ¶Ç‰∏ãÔºö 1234567Usage: top [ -m max_procs ] [ -n iterations ] [ -d delay ] [ -s sort_column ] [ -t ] [ -h ] -m num ÊúÄÂ§öÊòæÁ§∫Â§öÂ∞ë‰∏™ËøõÁ®ã -n num Âà∑Êñ∞Â§öÂ∞ëÊ¨°ÂêéÈÄÄÂá∫ -d num Âà∑Êñ∞Êó∂Èó¥Èó¥ÈöîÔºàÂçï‰ΩçÁßíÔºåÈªòËÆ§ÂÄº 5Ôºâ -s col ÊåâÊüêÂàóÊéíÂ∫èÔºàÂèØÁî® col ÂÄºÔºöcpu, vss, rss, thrÔºâ -t ÊòæÁ§∫Á∫øÁ®ã‰ø°ÊÅØ -h ÊòæÁ§∫Â∏ÆÂä©ÊñáÊ°£ ÂÖ∂ÂÆÉÂ¶Ç‰∏ãÊòØÂÖ∂ÂÆÉÂ∏∏Áî®ÂëΩ‰ª§ÁöÑÁÆÄÂçïÊèèËø∞ÔºåÂâçÊñáÂ∑≤Áªè‰∏ìÈó®ËÆ≤ËøáÁöÑÂëΩ‰ª§‰∏çÂÜçÈ¢ùÂ§ñËØ¥ÊòéÔºö ÂëΩ‰ª§ ÂäüËÉΩ cat ÊòæÁ§∫Êñá‰ª∂ÂÜÖÂÆπ cd ÂàáÊç¢ÁõÆÂΩï chmod ÊîπÂèòÊñá‰ª∂ÁöÑÂ≠òÂèñÊ®°Âºè/ËÆøÈóÆÊùÉÈôê df Êü•ÁúãÁ£ÅÁõòÁ©∫Èó¥‰ΩøÁî®ÊÉÖÂÜµ grep ËøáÊª§ËæìÂá∫ kill ÊùÄÊ≠ªÊåáÂÆö PID ÁöÑËøõÁ®ã ls Âàó‰∏æÁõÆÂΩïÂÜÖÂÆπ mount ÊåÇËΩΩÁõÆÂΩïÁöÑÊü•ÁúãÂíåÁÆ°ÁêÜ mv ÁßªÂä®ÊàñÈáçÂëΩÂêçÊñá‰ª∂ ps Êü•ÁúãÊ≠£Âú®ËøêË°åÁöÑËøõÁ®ã rm Âà†Èô§Êñá‰ª∂ top Êü•ÁúãËøõÁ®ãÁöÑËµÑÊ∫êÂç†Áî®ÊÉÖÂÜµ adb ÁöÑÈùûÂÆòÊñπÂÆûÁé∞ fb-adb - A better shell for Android devices (for Mac). Ëá¥Ë∞¢ÊÑüË∞¢ÊúãÂèã‰ª¨Êó†ÁßÅÁöÑÂàÜ‰∫´‰∏éË°•ÂÖÖ„ÄÇ zxning linhua55 codeskyblue seasonyuu fan123199 ÂèÇËÄÉÈìæÊé• Android Debug Bridge ADB Shell Commands logcat Command-line Tool Android ADBÂëΩ‰ª§Â§ßÂÖ® adb ÂëΩ‰ª§Ë°åÁöÑ‰ΩøÁî®ËÆ∞ÂΩï Android ADBÂëΩ‰ª§Â§ßÂÖ®(ÈÄöËøáADBÂëΩ‰ª§Êü•ÁúãwifiÂØÜÁ†Å„ÄÅMACÂú∞ÂùÄ„ÄÅËÆæÂ§á‰ø°ÊÅØ„ÄÅÊìç‰ΩúÊñá‰ª∂„ÄÅÊü•ÁúãÊñá‰ª∂„ÄÅÊó•Âøó‰ø°ÊÅØ„ÄÅÂç∏ËΩΩ„ÄÅÂêØÂä®ÂíåÂÆâË£ÖAPKÁ≠â) ÈÇ£‰∫õÂÅöAndroidÂºÄÂèëÂøÖÈ°ªÁü•ÈÅìÁöÑADBÂëΩ‰ª§ adb shell top ÂÉèÈ´òÊâã‰∏ÄÊ†∑‰ΩøÁî®ADBÂëΩ‰ª§Ë°åÔºà2Ôºâ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JaveIOÊµÅ‰πãÂéãÁº©ÊµÅ(zip,Gzip)]]></title>
    <url>%2Farticle%2F837682646%2F</url>
    <content type="text"><![CDATA[JAVAIOÊµÅÊòØjavaÁöÑ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÈÉ®ÂàÜÔºåÊ∏ÖÊô∞ÊúâÂæàÂ§çÊùÇÔºåÂêÑÁßçÂêÑÊ†∑ÁöÑÊµÅÂàÜÁÆ°‰∏çÂêåÁöÑÂäüËÉΩ„ÄÇÊ≠£Á°Æ‰ΩøÁî®IOÊµÅÂèØ‰ª•ËÆ©‰Ω†ÁöÑËæìÂÖ•ËæìÂá∫ÊïàÁéáÂ¢ûÂä†ÔºåËøôÁØáÂçöÂÆ¢‰∏ªË¶ÅËØ¥‰∏Ä‰∏ãÂéãÁº©ÊµÅÁöÑ‰ΩøÁî®Ôºå‰ΩøÁî®JAVAÂÜÖÁΩÆAPIÂéãÁº©Ëß£ÂéãÁº©Êñá‰ª∂„ÄÇ ZIPÂéãÁº©‰∏ªË¶ÅÁöÑÁî®Âà∞ÁöÑAPIÊòØ123ZipFileZipInputStreamZipOutputStream ÂÆåÊï¥‰ª£Á†Å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261import java.io.BufferedInputStream;import java.io.BufferedOutputStream;import java.io.Closeable;import java.io.File;import java.io.FileInputStream;import java.io.FileNotFoundException;import java.io.FileOutputStream;import java.io.IOException;import java.util.Enumeration;import java.util.zip.ZipEntry;import java.util.zip.ZipException;import java.util.zip.ZipFile;import java.util.zip.ZipInputStream;import java.util.zip.ZipOutputStream;/** * * @author chendong * * &lt;/br&gt;‰ΩøÁî®javaÂÜÖÁΩÆAPIZipFileÂÆåÊàêÂØπÊñá‰ª∂ÁöÑÂéãÁº©Ëß£ÂéãÁº©Êìç‰Ωú * * &lt;/br&gt;Êñá‰ª∂‰∏≠Â¶ÇÊûúÊúâ‰∏≠ÊñáÂêçÁß∞Âä†ÂéãÂêéÁöÑÊñá‰ª∂‰ºöÂá∫Áé∞‰π±Á†ÅÔºå‰ΩÜÊòØËß£Âéã‰πãÂêéÂèàok‰∫ÜÔºåÂèØ‰ª•‰ΩøÁî®‰∏≠Êñá * * &lt;/br&gt;Êèê‰æõ‰∫ÜÂ§ßÊñá‰ª∂ÂºÇÊ≠•Âä†ÂéãËß£ÂéãÁöÑÊñπÊ≥ïÔºå‰ΩøÁî®ÂõûË∞ÉÊ£ÄÊµãÊòØÂê¶ÂÆåÊàê * * &lt;/br&gt;Êèê‰æõÂ∞èÊñá‰ª∂ÂêåÊ≠•Âä†ÂéãËß£ÂéãÊõ¥Âä†Êñπ‰æø * */public class ZipUtils &#123; /** * Áî®‰∫éÂ§ßÊñá‰ª∂Âä†ÂéãËß£ÂéãÁöÑÂõûË∞ÉÁõëÂê¨ * * @author chendong * */ public interface OnZipOverListener &#123; void onZipOver(); &#125; public interface OnUnZipOverListener &#123; void onUnZipOver(); &#125; /** * ÂéãÁº© &lt;/br&gt;ÊûÑÈÄ†Ê∫êÊñá‰ª∂ * * @param src * Ê∫êÊñá‰ª∂Ë∑ØÂæÑ * @param dest * ÁõÆÊ†áÊñá‰ª∂Ë∑ØÂæÑ * @throws FileNotFoundException */ public static void zip(String src, String dest, OnZipOverListener listener) &#123; File srcFile = new File(src); zip(srcFile, dest, listener); &#125; /** * ÂéãÁº© &lt;/br&gt;ÁîüÊàêÂéãÁº©ËæìÂá∫Êñá‰ª∂ÊµÅ * * @param srcFile * @param dest * @throws FileNotFoundException */ public static void zip(File srcFile, String dest, OnZipOverListener listener) &#123; ZipOutputStream destOs = null; try &#123; destOs = new ZipOutputStream(new FileOutputStream(dest)); zip(srcFile, destOs, ""); close(destOs); if (listener != null) listener.onZipOver(); &#125; catch (FileNotFoundException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; finally &#123; close(destOs); &#125; &#125; /** * ÂéãÁº©,‰ΩøÁî®ÈÄíÂΩí &lt;/br&gt;ÂÜôÊñá‰ª∂ &lt;/br&gt;‰∏ªË¶ÅÊìç‰ΩúÂú®Ëøô‰∏™ÂáΩÊï∞‰∏≠Ôºå‰ΩøÁî®ÈÄíÂΩíÂ¶ÇÊûúÊòØ‰∏Ä‰∏™Êñá‰ª∂ÔºåÂ∞ÜÂÖ∂ÂÜôÂÖ•ÊµÅ‰∏≠Âê¶ÂàôËøõË°åÈÄíÂΩí &lt;/br&gt;ZipEntry * Á±ªÊòØjava.util.zipÂåÖ‰∏ãÁöÑ‰∏Ä‰∏™Á±ªÔºå ZipEntry Á±ªÁî®‰∫éË°®Á§∫ ZIP Êñá‰ª∂Êù°ÁõÆ„ÄÇ Âà©Áî®Ëøô‰∏™Á±ªÂéãÁº©ÂíåËß£ÂéãzipÊñá‰ª∂ * * @param srcFile * @param destOs * @param string * @throws IOException */ private static void zip(File srcFile, ZipOutputStream destOs, String base) &#123; BufferedInputStream bis = null; try &#123; if (srcFile.isDirectory()) &#123; /* Â¶ÇÊûúÊ∫êÊñá‰ª∂ÊòØÁõÆÂΩï */ File[] files = srcFile.listFiles(); destOs.putNextEntry(new ZipEntry(base + "/")); base = base.length() == 0 ? "" : base + "/"; for (int i = 0; i &lt; files.length; i++) &#123; zip(files[i], destOs, base + files[i].getName()); &#125; &#125; else &#123; /* Â¶ÇÊûúÊòØÊñá‰ª∂ */ destOs.putNextEntry(new ZipEntry(base)); bis = new BufferedInputStream(new FileInputStream(srcFile)); byte[] buffer = new byte[1024]; int len = 0; while ((len = bis.read(buffer)) != -1) &#123; destOs.write(buffer, 0, len); &#125; close(bis); &#125; &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; finally &#123; close(bis); &#125; &#125; /** * Ëß£Âéã * * @param src * Ê∫êÊñá‰ª∂ÔºåÈúÄË¶ÅÊòØzipÊñá‰ª∂ * @param dest * ÁõÆÊ†áÊñá‰ª∂Ôºå */ public static void unzip(String src, String dest, OnUnZipOverListener listener) &#123; File destFile = new File(dest); /* ÁõÆÊ†áÊñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫‰πã */ if (!destFile.exists()) &#123; destFile.mkdirs(); &#125; /* ÊûÑÈÄ†Ê∫êÊñá‰ª∂ */ File srcFile = new File(src); if (!srcFile.exists()) &#123; return; &#125; unzip(srcFile, dest, listener); &#125; /** * Ëß£Âéã * * @param srcFile * @param destFile */ public static void unzip(File srcFile, String dest, OnUnZipOverListener listener) &#123; BufferedInputStream bis = null; BufferedOutputStream bos = null; try &#123; ZipFile srcZipFile = new ZipFile(srcFile); /* Ëé∑ÂæózipentryÁöÑÊûö‰∏æ */ Enumeration e = srcZipFile.entries(); ZipEntry entry = null;// ZipInputStream zis = new ZipInputStream(// new FileInputStream(srcFile)); // while((entry=zis.getNextEntry())!=null)&#123; while (e.hasMoreElements()) &#123; entry = (ZipEntry) e.nextElement(); if (entry.toString().equals("/")) &#123; continue; &#125; bis = new BufferedInputStream(srcZipFile.getInputStream(entry)); /* ÊûÑÂª∫ÂØπÂ∫îËæìÂá∫ÊµÅ */ bos = new BufferedOutputStream(new FileOutputStream(dest + "/" + entry.getName())); int len = 0; byte[] buffer = new byte[1024]; while ((len = bis.read(buffer)) != -1) &#123; bos.write(buffer, 0, len); &#125; bos.flush(); close(bis); close(bos); &#125; if (listener != null) listener.onUnZipOver(); &#125; catch (ZipException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; finally &#123; close(bis); close(bos); &#125; &#125; /** * ÂéãÁº©Âçï‰∏™ÊàñËÄÖÂ§ö‰∏™Êñá‰ª∂,‰ΩÜÊòØ‰∏çÂèØ‰ª•ÂêåÊó∂ÂéãÁº©Êñá‰ª∂ÂíåÊñá‰ª∂Â§π * * @param src * ÊÉ≥Ë¶ÅÂéãÁº©ÁöÑÊñá‰ª∂Ë∑ØÂæÑÔºå‰∏çÂèØ‰ª•ÊòØÊñá‰ª∂Â§π * @param dest * ÁõÆÊ†áË∑ØÂæÑÔºåxx.zip */ public static void zipFile(String[] src, String dest, OnZipOverListener listener) &#123; File parent = new File(new File(dest).getParent() + "/temp"); if (!parent.exists()) &#123; parent.mkdirs(); &#125; BufferedInputStream bis = null; BufferedOutputStream bos = null; File file = null; try &#123; int len = 0; byte[] buffer = new byte[1024]; for (String path : src) &#123; file = new File(path); bis = new BufferedInputStream(new FileInputStream(file)); bos = new BufferedOutputStream(new FileOutputStream( parent.getAbsolutePath() + "/" + file.getName())); while ((len = bis.read(buffer)) != -1) &#123; bos.write(buffer, 0, len); &#125; bos.flush(); close(bos); close(bis); &#125; zip(parent, dest, listener); for (File ff : parent.listFiles()) &#123; ff.delete(); &#125; parent.delete(); &#125; catch (FileNotFoundException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; finally &#123; close(bos); close(bis); &#125; &#125; private static void close(Closeable close) &#123; if (close != null) &#123; try &#123; close.close(); &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125; &#125;&#125; GZIPÂéãÁº© Ëøô‰∏™Ê≤°Â§™ÊêûÊáÇÔºå‰∏ÄÁõ¥Âú®ÂºÑÂä†ÂéãËß£ÂéãÊúâÁÇπÁÉ¶‰∫ÜÔºåÊîπÂ§©ÂÜçËØ¥ÂêßÔºåË¥¥‰∏Ä‰∏ãÂ∑≤ÁªèÂÆûÁé∞ÁöÑÁÆÄÂçïÂäüËÉΩ„ÄÇÂ∞±ÊòØÂä†Âéã‰∏Ä‰∏™Êñá‰ª∂ÔºåÊú¨Ë∫´GZIPÂ∞±ÊòØ‰∏ÄÂØπ‰∏ÄÁöÑÔºå‰πüÂ∞±ÊòØËØ¥ÊØèÊ¨°Âè™ËÉΩÂéãÁº©‰∏Ä‰∏™Êñá‰ª∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂéãÁº©Â§ö‰∏™ÈóÆ‰ª∑ÁöÑÊó∂ÂÄôË¶Å‰ΩøÁî®tarÂÖàÊâìÂåÖÔºåÁúãÂà∞ÁΩë‰∏äÊúâÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩÁöÑÔºå‰ΩÜÊòØ‰ΩøÁî®ÁöÑÈòøÂ∏ïÂ•áÁöÑÁ¨¨‰∏âÊñπÂ∫ìÔºåÂ∞±Ê≤°ÂéªËØï,ËøôÈÉ®ÂàÜÁöÑÊúâÁÇπ‰ªì‰øÉÔºå‰∏ªË¶ÅÊòØÁÉ¶‰∫ÜÔºåÂÜôÂÆåËøô‰∏™ÊàëÂ∞±ÂéªÁúãÁÇπÂà´ÁöÑ‰∫ÜÔºåËÄÅÁúã‰∏Ä‰∏™‰∏úË•øÁÉ¶ÂæóÊÖåÔºåÊîπÂ§©‰ºöÂú®ÂÆåÂñÑÂêß„ÄÇ ‰ª£Á†ÅÂÆûÁé∞123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109import java.io.BufferedInputStream;import java.io.BufferedOutputStream;import java.io.Closeable;import java.io.File;import java.io.FileInputStream;import java.io.FileNotFoundException;import java.io.FileOutputStream;import java.io.IOException;import java.util.zip.GZIPInputStream;import java.util.zip.GZIPOutputStream;/** * * ‰ΩøÁî®javaÂÜÖÁΩÆAPIÂÆåÊàêÊñá‰ª∂ÁöÑÂä†ÂéãËß£Âéã&lt;/br&gt; * ‰ΩøÁî®gzipÂéãÁº©ÂéãÁº©ÊïàÊûúÊõ¥Â•ΩÔºå‰ΩÜÊòØgzipÂéãÁº©Âè™ËÉΩÊòØ‰∏ÄÂØπ‰∏ÄÁöÑÔºå‰πüÂ∞±ÊòØËØ¥‰∏Ä‰∏™ÂéãÁº©ÂåÖÂè™ËÉΩËß£ÂéãÂá∫‰∏Ä‰∏™Êñá‰ª∂ÔºåÊâÄ‰ª•ÊÉ≥ÂéãÁº©Â§ö‰∏™Êñá‰ª∂Êó∂Â∞±ÈúÄË¶ÅÂÖà‰ΩøÁî®tarÂéãÊàê‰∏Ä‰∏™ÂåÖ * ÔºåÂÜçÁî®gzipÂéãÁº© * * @author chendong * */public class GZipUtils &#123; /** * gzipÂéãÁº©ÔºåÂ∞Ü‰∏Ä‰∏™Êñá‰ª∂ÂéãÁº©Âà∞Âà∂ÂÆöÂåÖ * * @param src * @param dest */ public static void gzip(String src) &#123; File srcFile = new File(src); if (!srcFile.exists()) &#123; return; &#125; BufferedInputStream bis = null; GZIPOutputStream gos = null; File destFile = new File(src + ".gz"); try &#123; /* Ëé∑ÂæóËæìÂÖ•ÊµÅ */ bis = new BufferedInputStream(new FileInputStream(src)); /* Ëé∑ÂæóÂéãÁº©ËæìÂá∫ÊµÅ */ gos = new GZIPOutputStream(new BufferedOutputStream( new FileOutputStream(destFile))); int len = 0; byte[] buffer = new byte[1024]; while ((len = bis.read(buffer)) != -1) &#123; gos.write(buffer, 0, len); &#125; gos.flush(); &#125; catch (FileNotFoundException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; finally &#123; close(gos); close(bis); &#125; &#125; /** * Ëß£Âéã * @param src * @param dest */ public static void ungzip(String src, String dest) &#123; File destFile = new File(dest); File srcFile = new File(src); GZIPInputStream gis = null; BufferedOutputStream bos = null; try &#123; if (!destFile.exists()) &#123; destFile.createNewFile(); &#125; if (!srcFile.exists()) &#123; return; &#125; bos = new BufferedOutputStream(new FileOutputStream(destFile)); gis = new GZIPInputStream(new FileInputStream(srcFile)); int len = 0; byte[] buffer = new byte[1024]; while ((len = gis.read(buffer)) != -1) &#123; bos.write(buffer, 0, len); &#125; &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; finally &#123; close(bos); close(gis); &#125; &#125; public static void pack(File files[]) &#123; &#125; private static void close(Closeable close) &#123; if (close != null) &#123; try &#123; close.close(); &#125; catch (IOException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125; &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÂÆö‰πâÊéß‰ª∂‰πùÂÆ´Ê†ºÊªëÂä®Ëß£ÈîÅ]]></title>
    <url>%2Farticle%2F2317215752%2F</url>
    <content type="text"><![CDATA[1. ÂâçË®Ä ÊúÄËøëÊÉ≥ÁªôËá™Â∑±ÂÅöÁöÑÁöÑappÊ∑ªÂä†‰∏Ä‰∏™ÊªëÂä®Ëß£ÈîÅÁöÑÂäüËÉΩÔºåÁî®ÁöÑÊòØ‰πêËßÜÁöÑÊâãÊú∫ÔºåÂ∞±Ê®°‰ªøÂÆÉÁöÑÊïàÊûúÂÆûÁé∞. ËßÜÈ¢ëÊºîÁ§∫‰∏Ä‰∏ãÊïàÊûú GitHub 2. LockPointÂÆû‰Ωì ÊØè‰∏™ÁÇπÊòØ‰∏Ä‰∏™ÂÆû‰ΩìÔºàLockPointÔºâÁî®Êù•Â≠òÂÇ®Ëøô‰∏™ÁÇπÁöÑÊâÄÊúâ‰ø°ÊÅØÔºåÂåÖÊã¨ÁÇπÁöÑÁâ©ÁêÜ‰ΩçÁΩÆ(x,y)ÂíåÁÇπÁöÑindex‰ΩçÁΩÆ(0-8) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162class LockPoint &#123; // ÁÇπÁöÑ‰ΩçÁΩÆ 0-8 int index; // ÁÇπÁöÑx,yÂùêÊ†á float x, y; // ÊûÑÈÄ†ÊñπÊ≥ïÔºåÂàùÂßãÂåñ‰∏Ä‰∏™ÁÇπ LockPoint(int index, float x, float y) &#123; this.index = index; this.x = x; this.y = y; &#125; // ÊûÑÈÄ†ÊñπÊ≥ïÔºå‰ªéÂè¶‰∏Ä‰∏™ÁÇπÂàùÂßãÂåñ LockPoint(LockPoint p) &#123; this.x = p.x; this.y = p.y; this.index = p.index; &#125; // ÈªòËÆ§ÊûÑÈÄ†ÊñπÊ≥ïÔºåÂàùÂßãÂåñ‰∏∫‰∏Ä‰∏™Á©∫ÁöÑÁÇπ LockPoint() &#123; this.x = -1; this.y = -1; this.index = -1; &#125; // Âà§Êñ≠ËØ•ÁÇπÊòØ‰∏çÊòØ‰∏Ä‰∏™Á©∫ÁöÑÁÇπ boolean isEmpty() &#123; return this.x == -1 &amp;&amp; this.y == -1; &#125; // ÈáçÊñ∞Áªô‰ΩçÁΩÆËµãÂÄº void init(float x, float y) &#123; this.x = x; this.y = y; &#125; // ËÆæÁΩÆ‰∏∫Âè¶‰∏ÄÁÇπÁöÑÂÄº void init(LockPoint p) &#123; this.x = p.x; this.y = p.y; this.index = p.index; &#125; // Âà§Êñ≠‰∏Ä‰∏™‰ΩçÁΩÆÊòØ‰∏çÊòØÂú®ËØ•ÁÇπËß¶Êë∏ËåÉÂõ¥ÂÜÖ,touchSensitiveRange‰∏∫Ëß¶Êë∏ÊúâÊïàÂçäÂæÑ boolean isTouchIn(float judgeX, float judgeY) &#123; return judgeX &lt; x + touchSensitiveRange &amp;&amp; judgeX &gt; x - touchSensitiveRange &amp;&amp; judgeY &lt; y + touchSensitiveRange &amp;&amp; judgeY &gt; y - touchSensitiveRange; &#125; // ÈáçÂÜôequalsÂíåhashCode @Override public boolean equals(Object o) &#123; LockPoint p = (LockPoint) o; return p.x == x &amp;&amp; p.y == y; &#125; @Override public int hashCode() &#123; return 2; &#125; String out(String tag) &#123; return tag + " : x = " + x + " , y = " + y; &#125; &#125; 3. ÂàùÂßãÂåñ ÂàùÂßãÂåñ‰πù‰∏™ÁÇπÁöÑ‰ΩçÁΩÆÔºåÈúÄË¶ÅÊ†πÊçÆÊéß‰ª∂ÁöÑÂ§ßÂ∞èÂä®ÊÄÅËÆ°ÁÆóÔºåÂõ†Ê≠§Âú®onMeare()‰πãÂêéËøõË°å ÈúÄÊ±ÇÊòØÈúÄË¶ÅÂ∞Ü‰πù‰∏™ÁÇπÊîæÂú®Êéß‰ª∂‰∏≠Èó¥ÔºåÊù•ÈÄÇÂ∫îÊéß‰ª∂Â§ßÂ∞èÁöÑÂèòÂåñÔºåÈ¶ñÂÖàÁ°ÆÂÆöÁ¨¨‰∏Ä‰∏™ÁÇπË∑ùÁ¶ªÂ∑¶ËæπÁöÑË∑ùÁ¶ªstartSpaceÔºå‰∏§‰∏™ÁÇπ‰πãÈó¥ÁöÑË∑ùÁ¶ª =ÔºàÊéß‰ª∂ÂÆΩÂ∫¶ - 2 * startSpaceÔºâÔºè2 123456789101112int size = getMeasuredWidth(); // Â∞ÜÂÆΩÈ´òËÆæÁΩÆ‰∏∫‰∏ÄÊ†∑ÁöÑÔºåÊ≠£ÊñπÂΩ¢ setMeasuredDimension(size, size); // ÂàùÂßãÂåñÂ±èÂπï‰∏≠ÁöÑ‰πù‰∏™ÁÇπÁöÑ‰ΩçÁΩÆÂíå‰∏ãÊ†á initLockPointArray = new LockPoint[9]; // startSpace ‰∏∫Ë∑ùÁ¶ªÂ∑¶ËæπÁöÑË∑ùÁ¶ªÔºåËÆ°ÁÆó‰πù‰∏™ÁÇπÁöÑ‰ΩçÁΩÆ,‰øùËØÅ‰πù‰∏™ÁÇπÊîæÂú®Êéß‰ª∂‰∏≠Èó¥ if (startSpace == AUTO_START_SPACING) &#123; //ÈªòËÆ§ÊòØÊéß‰ª∂ÁöÑ1/4 startSpace = size / 4; &#125; // ËÆ°ÁÆóÊØè‰∏§‰∏™ÁÇπ‰πãÈó¥ÁöÑÈó¥Èöî internalSpace = (size - 2 * startSpace) / 2; ÂàùÂßãÂåñ‰πù‰∏™ÁÇπÁöÑ‰ΩçÁΩÆ 12345678// ÂàùÂßãÂåñ‰πù‰∏™ÁÇπÁöÑ‰ΩçÁΩÆ int index = 0; for (int i = 0; i &lt; 3; i++) &#123; for (int j = 0; j &lt; 3; j++) &#123; initLockPointArray[index] = new LockPoint(index, startSpace + j * internalSpace, startSpace + i * internalSpace); index++; &#125; &#125; onMeasure()ÂÆåÊï¥‰ª£Á†Å 123456789101112131415161718192021222324252627282930// onMeasure‰πãÂêéÂàùÂßãÂåñÊï∞ÊçÆ @Override protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123; super.onMeasure(widthMeasureSpec, heightMeasureSpec); int size = getMeasuredWidth(); // Â∞ÜÂÆΩÈ´òËÆæÁΩÆ‰∏∫‰∏ÄÊ†∑ÁöÑÔºåÊ≠£ÊñπÂΩ¢ setMeasuredDimension(size, size); // ÂàùÂßãÂåñÂ±èÂπï‰∏≠ÁöÑ‰πù‰∏™ÁÇπÁöÑ‰ΩçÁΩÆÂíå‰∏ãÊ†á if (initLockPointArray == null) &#123; initLockPointArray = new LockPoint[9]; // startSpace ‰∏∫Ë∑ùÁ¶ªÂ∑¶ËæπÁöÑË∑ùÁ¶ªÔºåËÆ°ÁÆó‰πù‰∏™ÁÇπÁöÑ‰ΩçÁΩÆÊîæÂú®Êéß‰ª∂‰∏≠Èó¥ if (startSpace == AUTO_START_SPACING) &#123; startSpace = size / 4; &#125; // ËÆ°ÁÆóÊØè‰∏§‰∏™ÁÇπ‰πãÈó¥ÁöÑÈó¥Èöî internalSpace = (size - 2 * startSpace) / 2; // ÂàùÂßãÂåñ‰πù‰∏™ÁÇπÁöÑ‰ΩçÁΩÆ int index = 0; for (int i = 0; i &lt; 3; i++) &#123; for (int j = 0; j &lt; 3; j++) &#123; initLockPointArray[index] = new LockPoint(index, startSpace + j * internalSpace, startSpace + i * internalSpace); index++; &#125; &#125; // ‰∏∫‰∫ÜÂú®previewÊó∂ËÉΩÁúãÂà∞ÊïàÊûú if (isInEditMode()) &#123; historyPointList.addAll(Arrays.asList(initLockPointArray)); &#125; &#125; &#125; 4. onDraw ÁªòÂà∂ËøáÁ®ãÂ§ßËá¥ÂàÜ‰∏∫‰∏â‰∏™Ê≠•È™§ ÁªòÂà∂‰πù‰∏™ÁÇπÔºåËøôÊòØÊØèÊ¨°ÈÉΩÈúÄË¶ÅÁªòÂà∂ÁöÑ 1234LockPoint tempPoint;for (int i = 0; i &lt; initLockPointArray.length; i++) &#123; canvas.drawCircle(initLockPointArray[i].x, initLockPointArray[i].y, pointRadius, pointPaint);&#125; ÁªòÂà∂Â∑≤ÁªèÂàíËøáÁöÑÁÇπ 123456// ÁªòÂà∂‰πãÂâçËß¶ËøáÂ≠òÂÇ®Ëµ∑Êù•ÁöÑÁöÑÁÇπ,ÁªòÂà∂Á¨¨i‰∏™ÁÇπÂíåi+1‰∏™ÁÇπ‰πãÈó¥ÁöÑÁ∫ø if (historyPointList.size() &gt; 0) &#123; for (int i = 0; i &lt; historyPointList.size() - 1; i++) &#123; canvas.drawLine(historyPointList.get(i).x, historyPointList.get(i).y, historyPointList.get(i + 1).x, historyPointList.get(i + 1).y, linePaint); &#125; &#125; ÁªòÂà∂Ëß¶Êë∏ÁÇπÂíåÊúÄÂêé‰∏Ä‰∏™ÁÇπÁöÑËøûÁ∫ø 123456// ÁîªÊúÄÂêé‰∏Ä‰∏™ÁÇπÂíåËß¶Êë∏ÁöÑÁÇπ‰πãÈó¥ÁöÑÁ∫ø if (currentLockPoint != null &amp;&amp; currentLockPoint.x != -1 &amp;&amp; currentLockPoint.y != -1 &amp;&amp; touchPoint.x != -1 &amp;&amp; touchPoint.y != -1) &#123; canvas.drawLine(currentLockPoint.x, currentLockPoint.y, touchPoint.x, touchPoint.y, linePaint); &#125; 5. ‰∫ã‰ª∂Â§ÑÁêÜ ÂØπÁî®Êà∑touch‰∫ã‰ª∂ËøõË°åÂ§ÑÁêÜ Ë¶ÅËÆ∞ÂΩïÂΩìÂâçËß¶Êë∏ÁöÑÁÇπÔºåÁî®‰∫éÁªòÂà∂Ë∑üÈöèÊâãÊåáÁöÑËøûÁ∫ø Ê£ÄÊµãËß¶Êë∏ÁöÑÁÇπÊòØ‰∏çÊòØÂú®‰πù‰∏™ÁÇπ‰∏≠Êüê‰∏™ÁÇπÁöÑËåÉÂõ¥ÂÜÖÔºåÂ¶ÇÊûúÊòØÁöÑËØùËØ•ÁÇπË¶ÅÂä†ÂÖ•Ë¢´Ëß¶Êë∏ÁÇπÁöÑÂàóË°®‰∏≠ ÂΩìÊâãÊåáÊä¨Ëµ∑Êó∂ÔºåÊ∏ÖÈô§Êï∞ÊçÆ,ÊÅ¢Â§çÂàùÂßãÁä∂ÊÄÅ 12345678910111213141516171819202122232425262728293031323334353637@Override public boolean onTouchEvent(MotionEvent event) &#123; if (!isEnabled() || isEventOver) return false; int action = MotionEventCompat.getActionMasked(event); switch (action) &#123; // ÈáçÊñ∞ÂàùÂßãÂåñËß¶Êë∏ÁÇπ case MotionEvent.ACTION_DOWN: touchPoint.init(event.getX(), event.getY()); break; // ÁßªÂä®Êó∂Ê£ÄÊµãÊòØÂê¶Âú®Ëß¶Êë∏ËåÉÂõ¥ÂÜÖ case MotionEvent.ACTION_MOVE: touchPoint.init(event.getX(), event.getY()); LockPoint tempPoint; for (int i = 0; i &lt; initLockPointArray.length; i++) &#123; tempPoint = initLockPointArray[i]; if (!historyPointList.contains(tempPoint) &amp;&amp; tempPoint.isTouchIn(event.getX(), event.getY())) &#123; historyPointList.add(new LockPoint(tempPoint)); currentLockPoint.init(tempPoint); break; &#125; &#125; break; // Êä¨Ëµ∑Êó∂ÁªìÊùüÔºåÈáçÊñ∞ÂàùÂßãÂåñ case MotionEvent.ACTION_UP: case MotionEvent.ACTION_CANCEL: touchPoint.init(-1, -1); currentLockPoint.init(-1, -1); historyPointList.clear(); break; &#125; postInvalidate(); return true; &#125; 6. ‰ºòÂåñ-Â§öÁÇπËß¶Êéß‰∫ã‰ª∂Â§ÑÁêÜ Áî®Êà∑Âú®Ëß¶Êë∏Â±èÂπïÊó∂ÂèØËÉΩÊúâÂ§ö‰∏™ÊâãÊåáÂú®Êìç‰ΩúÔºå‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂú®ÂçïÊåáÊó∂Ê≤°ÊúâÈóÆÈ¢òÔºåÂÖºÂÆπÂ§öÁÇπËß¶ÊéßÁöÑÊÄùË∑ØÊòØÔºö ÂΩìÁî®Êà∑Ëß¶Âèëdown‰∫ã‰ª∂Êó∂ÔºåÊàë‰ª¨ÂèØ‰ª•Ëé∑ÂèñÂà∞‰∏Ä‰∏™pointerIdÔºåËøô‰∏™idÂîØ‰∏ÄÁöÑÊ†áÂøó‰∫ÜËøô‰∏™ÊåáÂ§¥ÔºåÂêéÈù¢ÂèëÁîüÁöÑÊâÄÊúâ‰∫ã‰ª∂ÈÉΩ‰ΩøÁî®Áî®Ëøô‰∏™pointerIdÊù•Ëé∑ÂèñÔºåÂè™Â§ÑÁêÜËøô‰∏™ÊåáÂ§¥ÁöÑ‰∫ã‰ª∂ÔºåÈÅøÂÖç‰∫ã‰ª∂ÁöÑÈîô‰π±„ÄÇ ÂΩìÊàë‰ª¨ÂºÄÂßãÁöÑÊó∂ÂÄôÊ†áÂøóÁöÑÈÇ£‰∏™ÊâãÊåáÊä¨Ëµ∑Êù•‰∫ÜÊÄé‰πàÂäûÂë¢Ôºå‰∏§‰∏™Ëß£ÂÜ≥ÊñπÊ≥ïÔºåÁ¨¨‰∏Ä‰∏™Â∞±ÊòØÁõ¥Êé•ÁªìÊùüÊï¥‰∏™ÊµÅÁ®ãÔºåÁõ∏ÂΩì‰∫éÂçïÊåáÊó∂ÊâãÊåáÊä¨Ëµ∑„ÄÇÁ¨¨‰∫å‰∏™ÊñπÊ≥ïÂ∞±ÊòØËΩ¨Áßª‰∫ã‰ª∂ÔºåÂΩì‰∏Ä‰∏™ÊåáÂ§¥Êä¨Ëµ∑Êó∂Ôºå‰ªéËØ•‰∫ã‰ª∂‰∏≠Ëé∑ÂèñËøòÊ≤°Êä¨Ëµ∑ÁöÑÊâãÊåáÔºåÊõ¥ÊîπÊ†áÂøóÁöÑpointerId,‰∫ã‰ª∂Â∞±ËΩ¨ÁßªÂà∞‰∫ÜÂè¶‰∏Ä‰∏™ÊâãÊåá‰∏äÔºåÊàë‰ª¨ÂÖ≥ÂøÉÂ∞±ÊòØÊñ∞ÊâãÊåáÁöÑËß¶Êë∏Âï¶ ÂÖ≥‰∫éÂØπ‰∫é‰∫ã‰ª∂ËøõË°åÂ§ÑÁêÜÁöÑÁõ∏ÂÖ≥Êú∫Âà∂ÂèØ‰ª•ÁúãAndroid‰∫ã‰ª∂Êú∫Âà∂ÔºåÂÜôÁöÑÈÉΩÊòØÊØîËæÉÂü∫Êú¨ÁöÑ‰∏úË•øÔºåÂêéÈù¢ÊÖ¢ÊÖ¢ÂÆåÂñÑÔºå‰∏çËøáÁêÜËß£Ëé∑ÂèñÂ§öÊåáÁöÑ‰∫ã‰ª∂9‚É£Ô∏èÁª∞Áª∞Êúâ‰ΩôÂï¶ ËØù‰∏çÂ§öËØ¥Ôºå‰∏ä‰ª£Á†ÅÔºåÊØîËæÉÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂú∞ÊñπÊàëÈÉΩÊ†áÊ≥®Âú®Ê≥®Èáä‰∏≠ÔºåÊñπ‰æøÊü•Êâæ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273// Â§ÑÁêÜËß¶Êë∏‰∫ã‰ª∂ÔºåÊîØÊåÅÂ§öÁÇπËß¶Êë∏ @Override public boolean onTouchEvent(MotionEvent event) &#123; // fast stop if (!isEnabled() || isEventOver) return false; // pointerIndex ÊòØ‰∫ã‰ª∂ÁöÑÂú®event‰∏≠ÁöÑ‰∏ãÊ†á int pointerIndex; // Ëé∑Âèñ‰∫ã‰ª∂Êé©Á†Å int action = MotionEventCompat.getActionMasked(event); switch (action) &#123; // ÈáçÊñ∞ÂàùÂßãÂåñËß¶Êë∏ÁÇπ case MotionEvent.ACTION_DOWN: // pointerId ËÆ∞ÂΩïÂΩìÂâçÊøÄÊ¥ªÁöÑpointerId activePointerId = event.getPointerId(0); // Ê†πÊçÆpointerIdÊü•Êâæ‰∫ã‰ª∂Âú®event‰∏≠ÁöÑ‰ΩçÁΩÆ pointerIndex = event.findPointerIndex(activePointerId); // Ê†πÊçÆ‰ΩçÁΩÆËé∑ÂèñÂà∞ÂÖ∑‰ΩìÁöÑ‰∫ã‰ª∂ÁöÑÂùêÊ†áÔºåËøôÈáåËé∑ÂæóÁöÑÂùêÊ†áÂ∞±ÊòØÊàë‰ª¨Ë¶ÅËÆ∞‰ΩèÁöÑÈÇ£‰∏™ÊåáÂ§¥ÁöÑÂùêÊ†á touchPoint.init(event.getX(pointerIndex), event.getY(pointerIndex)); break; case MotionEvent.ACTION_MOVE: // ÊâãÊåáÁßªÂä®Êó∂ËøòÊòØÊ†πÊçÆÊøÄÊ¥ªÁöÑpointerIdËé∑Âèñ‰∏ãÊ†áindex,Êù•ËøõË°åÂêéÁª≠Êìç‰ΩúÔºåÈÅøÂÖç‰∫ã‰ª∂Èîô‰π± pointerIndex = event.findPointerIndex(activePointerId); // pointerIndex &lt; 0Ë°®Á§∫ÊâãÊåáÁöÑ‰∫ã‰ª∂Ëé∑Âèñ‰∏çÂà∞‰∫ÜÔºåÁªìÊùüÂìçÂ∫î‰∫ã‰ª∂ if (pointerIndex &lt; 0) &#123; Log.e(TAG, "Got ACTION_MOVE event but have an invalid active pointer id."); cancelLockDraw(); return false; &#125; // Ê†πÊçÆÁßªÂä®ÁöÑ‰ΩçÁΩÆËé∑ÂèñÂùêÊ†áÔºåÂàùÂßãÂåñtouchPointÁöÑÂÄº touchPoint.init(event.getX(pointerIndex), event.getY(pointerIndex)); LockPoint tempPoint; // Ê£ÄÁ¥¢Ëß¶Êë∏ÁÇπÊúâÊ≤°ÊúâÂú®‰πù‰∏™ÁÇπ‰∏≠ÁöÑÊüê‰∏Ä‰∏™ÁöÑËß¶Êë∏ËåÉÂõ¥ÂÜÖ for (int i = 0; i &lt; initLockPointArray.length; i++) &#123; tempPoint = initLockPointArray[i]; if (!historyPointList.contains(tempPoint) &amp;&amp; tempPoint.isTouchIn(event.getX(pointerIndex), event.getY(pointerIndex))) &#123; LockPoint centerPoint = findCenterPoint(tempPoint); // ‰ºòÂåñÔºåÊü•Êâæ‰∏§‰∏™ÁÇπ‰πãÈó¥ÁöÑÁÇπÔºåÂêéÈù¢‰ºöÊúâ‰ªãÁªç if (!centerPoint.isEmpty()) &#123; activePoint(centerPoint); &#125; activePoint(tempPoint); break; &#125; &#125; break; case MotionEventCompat.ACTION_POINTER_UP: // Â§öÊåáÊìç‰Ωú‰∏≠ Èùû ÊúÄÂêé‰∏Ä‰∏™ÊâãÊåáÊä¨Ëµ∑Êó∂Ëß¶ÂèëACTION_POINTER_UPÔºåÊ≠§Êó∂Ë¶ÅËé∑ÂèñËøòÂú®Â±èÂπï‰∏äÁöÑÂÖ∂‰ªñÊâãÊåáËΩ¨Áßª‰∫ã‰ª∂ÁöÑÂØπË±° onSecondaryPointerUp(event); break; case MotionEvent.ACTION_UP: // ÊúÄÂêéÁöÑÊâãÊåáÊä¨Ëµ∑Ëß¶Âèë ACTION_UP pointerIndex = event.findPointerIndex(activePointerId); if (pointerIndex &lt; 0) &#123; Log.e(TAG, "Got ACTION_UP event but don't have an active pointer id."); activePointerId = INVALID_POINTER; return false; &#125; // ÂèëÂ∏ÉÁªòÂà∂ÁöÑÁªìÊûúÔºåÂèØËÉΩÊòØÁõëÂê¨ÂõûË∞É‰πãÁ±ªÁöÑ publishResult(); // ÁΩÆ‰∏∫-1 activePointerId = INVALID_POINTER; break; case MotionEvent.ACTION_CANCEL: // Á±ª‰ººup cancelLockDraw(); activePointerId = INVALID_POINTER; break; &#125; postInvalidate(); return true; &#125; ËΩ¨ÁßªÁÑ¶ÁÇπÁöÑÊñπÊ≥ï,Âú®ÂêÑÁßçÊéß‰ª∂ÁöÑÊ∫ê‰ª£Á†Å‰∏≠ÈöèÂ§ÑÂèØËßÅÔºåÊàë‰πüÊòØÊã∑Ë¥ùÂá∫Êù•Áõ¥Êé•Áî®ÁöÑÔºåÈÄªËæë‰∏çÊòØÂæàÂ§çÊùÇ 123456789101112131415 /** * ÂΩì‰∏Ä‰∏™ÊâãÊú∫Êä¨Ëµ∑Êó∂ÔºåËΩ¨ÁßªÁÑ¶ÁÇπ * * @param ev ‰∫ã‰ª∂ */private void onSecondaryPointerUp(MotionEvent ev) &#123; final int pointerIndex = MotionEventCompat.getActionIndex(ev); final int pointerId = MotionEventCompat.getPointerId(ev, pointerIndex); if (pointerId == activePointerId) &#123; // This was our active pointer going up. Choose a new // active pointer and adjust accordingly. final int newPointerIndex = pointerIndex == 0 ? 1 : 0; activePointerId = MotionEventCompat.getPointerId(ev, newPointerIndex); &#125; &#125; ÂèëÂ∏ÉÁªìÊûú 123456789101112131415161718192021222324/** * ÂèëÂ∏ÉÁªòÂà∂ÁªìÊûú */ private void publishResult() &#123; if (listener != null) &#123; isEventOver = true; StringBuilder sb = new StringBuilder(); for (LockPoint lockPoint : historyPointList) &#123; sb.append(lockPoint.index); &#125; String passWd = sb.toString(); boolean isFinish = listener.onFinish(LockView.this, passWd, passWd.length()); if (isFinish) &#123; // ËæìÂÖ•ÂêàÊ≥ï touchPoint.init(currentLockPoint); &#125; else &#123; // ËæìÂÖ•‰∏çÂêàÊ≥ï cancelLockDraw(); isEventOver = false; &#125; &#125; else &#123; cancelLockDraw(); &#125; &#125; ÂõûÂ§çÂàùÂßãÁä∂ÊÄÅ,Âõ†‰∏∫Âú®Â§öÂ§ÑË∞ÉÁî®‰∫ÜÔºåË¥¥‰∏Ä‰∏ã 123456789/** * ÁªìÊùüÁªòÂà∂ÔºåÊÅ¢Â§çÂàùÂßãÁä∂ÊÄÅ */ private void cancelLockDraw() &#123; touchPoint.init(-1, -1); currentLockPoint.init(-1, -1); historyPointList.clear(); postInvalidate(); &#125; 7. ‰ºòÂåñ-Ëá™Âä®Ê∑ªÂä†‰∏§ÁÇπ‰πãÈó¥ËøûÁ∫ø‰∏äÁöÑÁÇπ ÂΩìÊªëÂä®Êó∂Ë∂äËøá‰∏≠Èó¥ÁöÑÁÇπ‰πãÈó¥ËøûÊé•‰∏§Á´ØÔºåËá™Âä®Êü•ÊâæÂíåÊ∑ªÂä†‰∏§ÁÇπ‰πãÈó¥ÁöÑÁÇπÔºåÊâãÊú∫‰∏äÁöÑÊªëÂä®Ëß£ÈîÅ‰πüÊòØËøôÊ†∑ÁöÑÈÄªËæëÔºå‰∏çÁÑ∂‰ºöÂØºËá¥ÂõæÂΩ¢ÂæàÁπÅÁêêÔºå‰∏çÁæéËßÇËÄå‰∏î‰∏çÁ¨¶ÂêàÂ∏∏ËßÅÈÄªËæë„ÄÇ‰πüÂ∞±ÊòØËØ¥Â¶ÇÊûúÂΩìÂâçÊøÄÂèëÁöÑÁÇπÂíå‰∏ä‰∏Ä‰∏™ÊøÄÂèëÁöÑÁÇπ‰πãÈó¥ÊúâÊ≤°ÊúâÊøÄÂèëÁöÑÁÇπÔºåÈÇ£‰πàËá™Âä®Áªô‰ªñÊøÄÂèë„ÄÇ È¶ñÂÖàÂ¶ÇÊûú‰∏§‰∏™ÁÇπÊòØÁõ∏ÈÇªÁöÑÊàñËÄÖÊòØÂØπËßíÁ∫ø‰∏äÁõ∏ÈÇªÔºåÈÇ£‰πà‰∏≠Èó¥‰∏ÄÂÆö‰∏ç‰ºöÊúâÁ©∫‰∏ãÊù•ÁöÑÁÇπÔºåÈúÄË¶ÅÊéíÈô§Ëøô‰∏™ÊÉÖÂÜµ 123456789101112131415161718/** * Ê£ÄÊµãÁõ∏ÈÇª * * @param p1 ÁÇπ1 * @param p2 ÁÇπ2 * @return p1Âíåp2ÊòØÂê¶Áõ∏ÈÇªÔºåÊñúÂØπËßí‰πüÁÆóÁõ∏ÈÇª */ private boolean isAdjacentPoint(LockPoint p1, LockPoint p2) &#123; // internalSpaceÊòØÂàùÂßãÂåñÊó∂‰∏§‰∏™ÁÇπ‰πãÈó¥ÁöÑË∑ùÁ¶ªÔºåÈÉΩÊòØÁÆÄÂçïÁöÑËÆ°ÁÆóÂíåÊÉÖÂÜµÁΩóÂàó if ((p1.x == p2.x &amp;&amp; Math.abs(p1.y - p2.y) == internalSpace) || (p1.y == p2.y &amp;&amp; Math.abs(p1.x - p2.x) == internalSpace) || (Math.abs(p1.x - p2.x) == internalSpace &amp;&amp; Math.abs(p1.y - p2.y) == internalSpace)) &#123; Log.e(TAG, "Áõ∏ÈÇªÁÇπÔºå‰∏çÂ§ÑÁêÜ"); return true; &#125; return false; &#125; ÁÑ∂ÂêéÂ¶Ç‰ΩïÂà§Êñ≠‰∏Ä‰∏™ÁÇπ‰Ωç‰∫éÈ¶ñÂ∞æ‰∏§‰∏™ÊøÄÂèëÁÇπÁöÑ‰∏≠Èó¥ÔºåÊÄùË∑ØÊòØÂΩìËøô‰∏™ÁÇπÂú®‰∏§‰∏™ÁÇπÁöÑËøûÁ∫ø‰∏äÊó∂‰∏î‰∏çÊòØÈ¶ñÂ∞æ‰∏§‰∏™ÁÇπÂ∞±ÊòØ‰∏≠Èó¥ÁöÑÁÇπ„ÄÇÂà§Êñ≠ÁöÑÊ†πÊçÆÊòØÊñúÁéáÊòØ‰∏çÊòØÁõ∏Á≠âÔºåÂ∞±ÊòØÂàù‰∏≠ÁöÑÊï∞Â≠¶ÈóÆÈ¢òÂï¶„ÄÇ 12345678910111213/** * Âà§Êñ≠cÁÇπÊòØ‰∏çÊòØÂú®p1-p2ÁöÑÁõ¥Á∫ø‰∏ä * * @param p1 Ëµ∑ÂßãÁÇπ * @param p2 ÁªàÊ≠¢ÁÇπ * @param c Âà§Êñ≠ÁöÑÁÇπ * @return ÊòØÂê¶Âú®ËØ•Á∫ø‰∏ä */ private boolean isInLine(LockPoint p1, LockPoint p2, LockPoint c) &#123; float k1 = (p1.x - p2.x) * 1f / (p1.y - p2.y); float k2 = (p1.x - c.x) * 1f / (p1.y - c.y); return k1 == k2; &#125; ÊúÄÂêéÊï¥Âêà‰∏Ä‰∏ãÔºåÂéªÊéâ‰∏çÂøÖË¶ÅÁöÑÂà§Êñ≠ÔºåÂú®touch‰∫ã‰ª∂‰∏≠Ë∞ÉÁî® 123456789101112131415161718192021222324252627282930313233/** * Ê£ÄÊµãÂΩìÂâçÊøÄÊ¥ªÁöÑÁÇπÂíå‰∏ä‰∏Ä‰∏™ÊøÄÊ¥ªÁÇπ‰πãÈó¥ÁöÑÊòØÂê¶ÊúâÊ≤°ÊúâÊøÄÂèëÁöÑÁÇπ * * @param activePoint ÂΩìÂâçË¢´ÊøÄÂèëÁöÑÁÇπ * @return ÂΩìÂâçÊøÄÊ¥ªÁöÑÁÇπÂíå‰∏ä‰∏Ä‰∏™ÊøÄÊ¥ªÁÇπ‰πãÈó¥ÁöÑÊòØÂê¶ÊúâÊ≤°ÊúâÊøÄÂèëÁöÑÁÇπÔºåÊ≤°ÊúâËøîÂõûemptyÁöÑ&#123;@link LockPoint#isEmpty()&#125; */ private LockPoint findCenterPoint(LockPoint activePoint) &#123; LockPoint rstPoint = new LockPoint(); // Âè™Êúâ‰∏Ä‰∏™ÁÇπ‰∏çÈúÄË¶ÅÊØîËæÉ if (historyPointList.size() &lt; 1) &#123; return rstPoint; &#125; LockPoint tempPoint; // Ëé∑Âèñ‰∏ä‰∏™ÁÇπ LockPoint preActivePoint = historyPointList.get(historyPointList.size() - 1); // ‰∏§‰∏™ÁÇπÊòØ‰∏çÊòØÁõ∏ÈÇªÁöÑÔºåÊòØÁõ∏ÈÇªÁöÑÊòØÂùöÂÜ≥‰∏ç‰ºö‰∏≠Èó¥ÊúâÁÇπË¢´Á©∫Âá∫Êù•ÁöÑ if (isAdjacentPoint(preActivePoint, activePoint)) return rstPoint; for (int i = 0; i &lt; initLockPointArray.length; i++) &#123; tempPoint = initLockPointArray[i]; // Ê≤°ÊúâË¢´Ëß¶Êë∏Ëøá &amp;&amp; ‰∏çÊòØÈ¶ñÁÇπ &amp;&amp; ‰∏çÊòØÂ∞æÁÇπ if (!historyPointList.contains(tempPoint) &amp;&amp; !preActivePoint.equals(tempPoint) &amp;&amp; !activePoint.equals(tempPoint)) &#123; // Âú®ËøûÁ∫ø‰∏ä if (isInLine(preActivePoint, activePoint, tempPoint)) &#123; Log.e(TAG, "ÁÇπÂú®Á∫ø‰∏ä " + tempPoint.out("temp") + " " + preActivePoint.out("pre") + " " + activePoint.out("active")); rstPoint.init(tempPoint); break; &#125; &#125; &#125; return rstPoint; &#125; Âú®onTouchEvent‰∏≠Ë∞ÉÁî® 123456LockPoint centerPoint = findCenterPoint(tempPoint); // ‰ºòÂåñÔºåÊü•Êâæ‰∏§‰∏™ÁÇπ‰πãÈó¥ÁöÑÁÇπ if (!centerPoint.isEmpty()) &#123; activePoint(centerPoint); &#125; activePoint(tempPoint); 8. ‰ºòÂåñ-ÁªôË¢´Ëß¶Êë∏ÁöÑÁÇπÊ∑ªÂä†Âä®Áîª ÂΩìÊâãÊåáËß¶Êë∏Âà∞‰∏Ä‰∏™ÁÇπÊó∂ÔºåÊ∑ªÂä†‰∏Ä‰∏™Áº©ÊîæÂä®ÁîªÊù•ÂèçÈ¶àËß¶Êë∏Êìç‰Ωú ÊÄùË∑ØÊó∂ÔºåÂΩìËß¶Êë∏Âà∞‰∏Ä‰∏™ÁÇπÊó∂‰ΩøÁî®ValueAnimatorÂºÄÂêØÂä®ÁîªÔºå‰∏çÊñ≠ÊîπÂèòÂçäÂæÑÁöÑÂÄºÔºåÂú®ÁªòÂà∂Êó∂ËææÂà∞ÂÆûÁé∞Áº©ÊîæÁöÑÊïàÊûú 1234567891011121314151617181920212223242526272829303132333435363738394041424344/** * ÂºÄÂßãÁº©ÊîæÂä®Áîª */ private void startScaleAnimation() &#123; if (mScaleAnimator == null) &#123; mScaleAnimator = ValueAnimator.ofFloat(1f, scaleMax, 1f); mScaleAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() &#123; @Override public void onAnimationUpdate(ValueAnimator animation) &#123; float scale = (float) animation.getAnimatedValue(); // ‰∏çÊñ≠ÊîπÂèòÂçäÂæÑÁöÑÂÄº scalePointRadius = pointRadius * scale; postInvalidate(); &#125; &#125;); mScaleAnimator.addListener(new Animator.AnimatorListener() &#123; @Override public void onAnimationStart(Animator animation) &#123; &#125; @Override public void onAnimationEnd(Animator animation) &#123; // Âä®ÁîªÁªìÊùüÂêéÂàùÂßãÂåñÂõûÊ†áÂáÜÂçäÂæÑÁöÑÂÄº scalePointRadius = pointRadius; &#125; @Override public void onAnimationCancel(Animator animation) &#123; &#125; @Override public void onAnimationRepeat(Animator animation) &#123; &#125; &#125;); mScaleAnimator.setDuration(scaleAnimDuration); &#125; if (mScaleAnimator.isRunning()) mScaleAnimator.end(); mScaleAnimator.start(); &#125; ÂêåÊó∂Âú®onDraw()ÊñπÊ≥ï‰∏≠ÂØπÂàöÂàöËß¶Êë∏ÁöÑÁÇπË¶ÅËøõË°åÁªòÂà∂,Êõ¥ÊîπonDraw()ÊñπÊ≥ï‰∏≠ÁªòÂà∂‰πù‰∏™ÁÇπÁöÑÈÉ®ÂàÜÔºåÂØπÂàöÂàöËß¶Êë∏ÁöÑÁÇπ‰ΩøÁî®Áº©ÊîæÂêéÁöÑÂçäÂæÑÁªòÂà∂„ÄÇ 1234567891011// ÁªòÂà∂‰πù‰∏™ÁÇπÔºåÂΩìÂä®ÁîªÂú®ÊâßË°åÊó∂Ë¢´ÊøÄÊ¥ªÁöÑÁÇπ‰ºöË¢´ÊîæÂ§ß LockPoint tempPoint; for (int i = 0; i &lt; initLockPointArray.length; i++) &#123; tempPoint = initLockPointArray[i]; // ÊúÄÂêéËß¶Êë∏ÁöÑÁÇπ if (currentLockPoint != null &amp;&amp; currentLockPoint.equals(tempPoint)) &#123; canvas.drawCircle(tempPoint.x, tempPoint.y, scalePointRadius, pointPaint); &#125; else &#123; canvas.drawCircle(tempPoint.x, tempPoint.y, pointRadius, pointPaint); &#125; &#125; 9. ÂõûË∞É ‰ΩøÁî®ÁõëÂê¨Â∞ÜÁªìÊûúÂõûË∞ÉÁªô‰ΩøÁî®ËÄÖÔºåÂú®ACTION_UPÊó∂ÂèëÂ∏ÉÁªìÊûú 12345678910111213141516171819202122232425262728293031323334353637public interface OnLockFinishListener &#123; /** * * @param lockView Êéß‰ª∂ * @param passWd ÂØÜÁ†Å * @param passWsLength ÂØÜÁ†ÅÈïøÂ∫¶ * @return ÂΩìËøîÂõûtrueÊó∂ÔºåÁîªÈù¢Â∞Ü‰ºöÂÆöÊ†ºÂú®ÁªòÂà∂ÁªìÊùüÂêéÁöÑÁä∂ÊÄÅÔºåÊØîÂ¶ÇÂΩìÂØÜÁ†ÅËæìÂÖ•Ê≠£Á°ÆÁöÑÊó∂ÂÄô * ËøîÂõûfalseÊó∂ÔºåÁîªÈù¢‰ºöÈáçÊñ∞ÂàùÂßãÂåñÂõûÂàùÂßãÁä∂ÊÄÅÔºåÊØîÂ¶ÇÂØÜÁ†ÅÈáçÊñ∞‰∫åÊ¨°ËæìÂÖ•Á°ÆËÆ§ÊàñËÄÖÂØÜÁ†ÅÈîôËØØÁöÑÊó∂ÂÄô */ boolean onFinish(LockView lockView, String passWd, int passWsLength); &#125; /** * ÂèëÂ∏ÉÁªòÂà∂ÁªìÊûú */ private void publishResult() &#123; if (listener != null) &#123; isEventOver = true; StringBuilder sb = new StringBuilder(); for (LockPoint lockPoint : historyPointList) &#123; sb.append(lockPoint.index); &#125; String passWd = sb.toString(); boolean isFinish = listener.onFinish(LockView.this, passWd, passWd.length()); if (isFinish) &#123; // ÁîªÈù¢ÂÆöÊ†º touchPoint.init(currentLockPoint); &#125; else &#123; // ÊÅ¢Â§çÂàùÂßãÂåñ cancelLockDraw(); isEventOver = false; &#125; &#125; else &#123; cancelLockDraw(); &#125; &#125; 10. Áªº‰∏ä ËøòÈÅóÁïô‰∫Ü‰∏Ä‰∏™ÁÇπÔºåÂ∞±ÊòØËá™Âä®Ê∑ªÂä†‰∏≠Èó¥ÁöÑÁÇπÊó∂Â∫îËØ•‰πüÊòØÊúâÂä®ÁîªÊïàÊûúÁöÑÔºåÊöÇÊó∂ËøòÊ≤°ÂÅöÔºåÊúâÁ©∫Ë°•‰∏äÂêßÔºåÂ∏åÊúõÂ§ßÂÆ∂ÊåáÊ≠£„ÄÇ 11. ÂÆåÊï¥‰ª£Á†Å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514/** * Project : CdLibsTest * Package : com.march.cdlibstest.widget * CreateAt : 2016/11/26 * Describe : Ëá™ÂÆö‰πâÊéß‰ª∂ÂÆûÁé∞‰πùÂÆ´Ê†ºÊªëÂä®Ëß£ÈîÅ * * @author chendong */public class LockView extends View &#123; public static final String TAG = "LOCK_VIEW"; private static final int INVALID_POINTER = -1; private static final int AUTO_START_SPACING = -1; private static final int DEFAULT_MIN_POINT_NUM = 4; // ÊøÄÊ¥ªÁöÑËß¶Êë∏ÁÇπid private int activePointerId = INVALID_POINTER; // ÂõõËæπÁöÑÈó¥ÈöîÔºåÈªòËÆ§ÊòØÊéß‰ª∂ÁöÑ1Ôºè4 private int startSpace; // ‰∏§ÁÇπÈó¥Èöî private int internalSpace; // ÁÇπÁöÑÂçäÂæÑ private int pointRadius; // Âä®ÁîªscaleÁöÑÂçäÂæÑ private float scalePointRadius; // Ëß¶Êë∏ÂçäÂæÑÔºåÂú®ÁÇπÁöÑ‰∏ÄÂÆöËåÉÂõ¥ÂÜÖËß¶Âèë private int touchSensitiveRange; // Á∫øÂÆΩÂ∫¶ private int lineWidth; // ÁÇπÈ¢úËâ≤ private int pointColor; // Á∫øÈ¢úËâ≤ private int lineColor; // Áº©ÊîæÁöÑÂ§ßÂ∞è private float scaleMax; // Âä®ÁîªÊó∂Èó¥ private int scaleAnimDuration = 150; // Êú¨Ê¨°ÁªòÂà∂ÁªìÊùüÔºåË∞ÉÁî®init()ÊñπÊ≥ïÊÅ¢Â§çÂàùÂßãÂåñ private boolean isEventOver = false; class LockPoint &#123; // ÁÇπÁöÑ‰ΩçÁΩÆ 0-8 int index; // ÁÇπÁöÑx,yÂùêÊ†á float x, y; // ÊûÑÈÄ†ÊñπÊ≥ïÔºåÂàùÂßãÂåñ‰∏Ä‰∏™ÁÇπ LockPoint(int index, float x, float y) &#123; this.index = index; this.x = x; this.y = y; &#125; // ÊûÑÈÄ†ÊñπÊ≥ïÔºå‰ªéÂè¶‰∏Ä‰∏™ÁÇπÂàùÂßãÂåñ LockPoint(LockPoint p) &#123; this.x = p.x; this.y = p.y; this.index = p.index; &#125; // ÈªòËÆ§ÊûÑÈÄ†ÊñπÊ≥ïÔºåÂàùÂßãÂåñ‰∏∫‰∏Ä‰∏™Á©∫ÁöÑÁÇπ LockPoint() &#123; this.x = -1; this.y = -1; this.index = -1; &#125; // Âà§Êñ≠ËØ•ÁÇπÊòØ‰∏çÊòØ‰∏Ä‰∏™Á©∫ÁöÑÁÇπ boolean isEmpty() &#123; return this.x == -1 &amp;&amp; this.y == -1; &#125; // ÈáçÊñ∞Áªô‰ΩçÁΩÆËµãÂÄº void init(float x, float y) &#123; this.x = x; this.y = y; &#125; // ËÆæÁΩÆ‰∏∫Âè¶‰∏ÄÁÇπÁöÑÂÄº void init(LockPoint p) &#123; this.x = p.x; this.y = p.y; this.index = p.index; &#125; // Âà§Êñ≠‰∏Ä‰∏™‰ΩçÁΩÆÊòØ‰∏çÊòØÂú®ËØ•ÁÇπËß¶Êë∏ËåÉÂõ¥ÂÜÖ,touchSensitiveRange‰∏∫Ëß¶Êë∏ÊúâÊïàÂçäÂæÑ boolean isTouchIn(float judgeX, float judgeY) &#123; return judgeX &lt; x + touchSensitiveRange &amp;&amp; judgeX &gt; x - touchSensitiveRange &amp;&amp; judgeY &lt; y + touchSensitiveRange &amp;&amp; judgeY &gt; y - touchSensitiveRange; &#125; // ÈáçÂÜôequalsÂíåhashCode @Override public boolean equals(Object o) &#123; LockPoint p = (LockPoint) o; return p.x == x &amp;&amp; p.y == y; &#125; @Override public int hashCode() &#123; return 2; &#125; String out(String tag) &#123; return tag + " : x = " + x + " , y = " + y; &#125; &#125; // Âä®Áîª private ValueAnimator mScaleAnimator; // ÂàùÂßãÂåñÁöÑ‰πù‰∏™ÁÇπ private LockPoint[] initLockPointArray; // Ëß¶Êë∏ËøáÁöÑÁÇπÊ≥™È£ô private List&lt;LockPoint&gt; historyPointList; // Ëß¶Êë∏ÁöÑÁÇπ private LockPoint touchPoint; // ÂΩìÂâçÊúÄÂêé‰∏Ä‰∏™ÊøÄÊ¥ªÁöÑÁÇπ private LockPoint currentLockPoint; // ÁîªÁ∫ø private Paint linePaint; // ÁîªÁÇπ private Paint pointPaint; // ÁõëÂê¨ private OnLockFinishListener listener; public interface OnLockFinishListener &#123; /** * * @param lockView Êéß‰ª∂ * @param passWd ÂØÜÁ†Å * @param passWsLength ÂØÜÁ†ÅÈïøÂ∫¶ * @return ÂΩìËøîÂõûtrueÊó∂ÔºåÁîªÈù¢Â∞Ü‰ºöÂÆöÊ†ºÂú®ÁªòÂà∂ÁªìÊùüÂêéÁöÑÁä∂ÊÄÅ * ËøîÂõûfalseÊó∂ÔºåÁîªÈù¢‰ºöÈáçÊñ∞ÂàùÂßãÂåñÂõûÂàùÂßãÁä∂ÊÄÅ */ boolean onFinish(LockView lockView, String passWd, int passWsLength); &#125; public LockView(Context context) &#123; this(context, null); &#125; public LockView(Context context, AttributeSet attrs) &#123; this(context, attrs, 0); &#125; public LockView(Context context, AttributeSet attrs, int defStyleAttr) &#123; super(context, attrs, defStyleAttr); TypedArray typedArray = context.obtainStyledAttributes(attrs, R.styleable.LockView); float density = getResources().getDisplayMetrics().density; pointRadius = (int) typedArray.getDimension(R.styleable.LockView_lock_pointRadius, (8 * density)); scalePointRadius = pointRadius; touchSensitiveRange = (int) typedArray.getDimension(R.styleable.LockView_lock_touchSensitiveRange, pointRadius * 3); startSpace = (int) typedArray.getDimension(R.styleable.LockView_lock_startSpace, AUTO_START_SPACING); lineWidth = (int) typedArray.getDimension(R.styleable.LockView_lock_lineWidth, (5 * density)); lineColor = typedArray.getColor(R.styleable.LockView_lock_lineColor, Color.WHITE); pointColor = typedArray.getColor(R.styleable.LockView_lock_pointColor, Color.WHITE); scaleAnimDuration = typedArray.getInt(R.styleable.LockView_lock_scaleAnimDuration, 180); scaleMax = typedArray.getFloat(R.styleable.LockView_lock_scaleMax, 2.5f); typedArray.recycle(); historyPointList = new ArrayList&lt;&gt;(); touchPoint = new LockPoint(); currentLockPoint = new LockPoint(); pointPaint = new Paint(); pointPaint.setAntiAlias(true); pointPaint.setColor(pointColor); pointPaint.setStyle(Paint.Style.FILL_AND_STROKE); linePaint = new Paint(); linePaint.setAntiAlias(true); linePaint.setStrokeWidth(lineWidth); linePaint.setColor(lineColor); linePaint.setStyle(Paint.Style.STROKE); &#125; public void setListener(OnLockFinishListener listener) &#123; this.listener = listener; &#125; /** * ÂºÄÂßãÁº©ÊîæÂä®Áîª */ private void startScaleAnimation() &#123; if (mScaleAnimator == null) &#123; mScaleAnimator = ValueAnimator.ofFloat(1f, scaleMax, 1f); mScaleAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() &#123; @Override public void onAnimationUpdate(ValueAnimator animation) &#123; float scale = (float) animation.getAnimatedValue(); scalePointRadius = pointRadius * scale; postInvalidate(); &#125; &#125;); mScaleAnimator.addListener(new Animator.AnimatorListener() &#123; @Override public void onAnimationStart(Animator animation) &#123; &#125; @Override public void onAnimationEnd(Animator animation) &#123; scalePointRadius = pointRadius; &#125; @Override public void onAnimationCancel(Animator animation) &#123; &#125; @Override public void onAnimationRepeat(Animator animation) &#123; &#125; &#125;); mScaleAnimator.setDuration(scaleAnimDuration); &#125; if (mScaleAnimator.isRunning()) mScaleAnimator.end(); mScaleAnimator.start(); &#125; // Â§ÑÁêÜËß¶Êë∏‰∫ã‰ª∂ÔºåÊîØÊåÅÂ§öÁÇπËß¶Êë∏ @Override public boolean onTouchEvent(MotionEvent event) &#123; // fast stop if (!isEnabled() || isEventOver) return false; // pointerIndex ÊòØ‰∫ã‰ª∂ÁöÑÂú®event‰∏≠ÁöÑ‰∏ãÊ†á int pointerIndex; // Ëé∑Âèñ‰∫ã‰ª∂Êé©Á†Å int action = MotionEventCompat.getActionMasked(event); switch (action) &#123; // ÈáçÊñ∞ÂàùÂßãÂåñËß¶Êë∏ÁÇπ case MotionEvent.ACTION_DOWN: // pointerId ËÆ∞ÂΩïÂΩìÂâçÊøÄÊ¥ªÁöÑpointerId activePointerId = event.getPointerId(0); // Ê†πÊçÆpointerIdÊü•Êâæ‰∫ã‰ª∂Âú®event‰∏≠ÁöÑ‰ΩçÁΩÆ pointerIndex = event.findPointerIndex(activePointerId); // Ê†πÊçÆ‰ΩçÁΩÆËé∑ÂèñÂà∞ÂÖ∑‰ΩìÁöÑ‰∫ã‰ª∂ÁöÑÂùêÊ†áÔºåËøôÈáåËé∑ÂæóÁöÑÂùêÊ†áÂ∞±ÊòØÊàë‰ª¨Ë¶ÅËÆ∞‰ΩèÁöÑÈÇ£‰∏™ÊåáÂ§¥ÁöÑÂùêÊ†á touchPoint.init(event.getX(pointerIndex), event.getY(pointerIndex)); break; case MotionEvent.ACTION_MOVE: // ÊâãÊåáÁßªÂä®Êó∂ËøòÊòØÊ†πÊçÆÊøÄÊ¥ªÁöÑpointerIdËé∑Âèñ‰∏ãÊ†áindex,Êù•ËøõË°åÂêéÁª≠Êìç‰ΩúÔºåÈÅøÂÖç‰∫ã‰ª∂Èîô‰π± pointerIndex = event.findPointerIndex(activePointerId); // pointerIndex &lt; 0Ë°®Á§∫ÊâãÊåáÁöÑ‰∫ã‰ª∂Ëé∑Âèñ‰∏çÂà∞‰∫ÜÔºåÁªìÊùüÂìçÂ∫î‰∫ã‰ª∂ if (pointerIndex &lt; 0) &#123; Log.e(TAG, "Got ACTION_MOVE event but have an invalid active pointer id."); cancelLockDraw(); return false; &#125; // Ê†πÊçÆÁßªÂä®ÁöÑ‰ΩçÁΩÆËé∑ÂèñÂùêÊ†áÔºåÂàùÂßãÂåñtouchPointÁöÑÂÄº touchPoint.init(event.getX(pointerIndex), event.getY(pointerIndex)); LockPoint tempPoint; // Ê£ÄÁ¥¢Ëß¶Êë∏ÁÇπÊúâÊ≤°ÊúâÂú®‰πù‰∏™ÁÇπ‰∏≠ÁöÑÊüê‰∏Ä‰∏™ÁöÑËß¶Êë∏ËåÉÂõ¥ÂÜÖ for (int i = 0; i &lt; initLockPointArray.length; i++) &#123; tempPoint = initLockPointArray[i]; if (!historyPointList.contains(tempPoint) &amp;&amp; tempPoint.isTouchIn(event.getX(pointerIndex), event.getY(pointerIndex))) &#123; LockPoint centerPoint = findCenterPoint(tempPoint); if (!centerPoint.isEmpty()) &#123; activePoint(centerPoint); &#125; activePoint(tempPoint); break; &#125; &#125; break; case MotionEventCompat.ACTION_POINTER_UP: // Â§öÊåáÊìç‰Ωú‰∏≠ Èùû ÊúÄÂêé‰∏Ä‰∏™ÊâãÊåáÊä¨Ëµ∑Êó∂Ëß¶ÂèëACTION_POINTER_UPÔºåÊ≠§Êó∂Ë¶ÅËé∑ÂèñËøòÂú®Â±èÂπï‰∏äÁöÑÂÖ∂‰ªñÊâãÊåáËΩ¨Áßª‰∫ã‰ª∂ÁöÑÂØπË±° onSecondaryPointerUp(event); break; case MotionEvent.ACTION_UP: // ÊúÄÂêéÁöÑÊâãÊåáÊä¨Ëµ∑Ëß¶Âèë ACTION_UP pointerIndex = event.findPointerIndex(activePointerId); if (pointerIndex &lt; 0) &#123; Log.e(TAG, "Got ACTION_UP event but don't have an active pointer id."); activePointerId = INVALID_POINTER; return false; &#125; // ÂèëÂ∏ÉÁªòÂà∂ÁöÑÁªìÊûúÔºåÂèØËÉΩÊòØÁõëÂê¨ÂõûË∞É‰πãÁ±ªÁöÑ publishResult(); // ÁΩÆ‰∏∫-1 activePointerId = INVALID_POINTER; break; case MotionEvent.ACTION_CANCEL: // Á±ª‰ººup cancelLockDraw(); activePointerId = INVALID_POINTER; break; &#125; postInvalidate(); return true; &#125; /** * ÂèëÂ∏ÉÁªòÂà∂ÁªìÊûú */ private void publishResult() &#123; if (listener != null) &#123; isEventOver = true; StringBuilder sb = new StringBuilder(); for (LockPoint lockPoint : historyPointList) &#123; sb.append(lockPoint.index); &#125; String passWd = sb.toString(); boolean isFinish = listener.onFinish(LockView.this, passWd, passWd.length()); if (isFinish) &#123; // ËæìÂÖ•ÂêàÊ≥ï touchPoint.init(currentLockPoint); &#125; else &#123; // ËæìÂÖ•‰∏çÂêàÊ≥ï cancelLockDraw(); isEventOver = false; &#125; &#125; else &#123; cancelLockDraw(); &#125; &#125; /** * ÂΩì‰∏Ä‰∏™ÊâãÊú∫Êä¨Ëµ∑Êó∂ÔºåËΩ¨ÁßªÁÑ¶ÁÇπ * * @param ev ‰∫ã‰ª∂ */ private void onSecondaryPointerUp(MotionEvent ev) &#123; final int pointerIndex = MotionEventCompat.getActionIndex(ev); final int pointerId = MotionEventCompat.getPointerId(ev, pointerIndex); if (pointerId == activePointerId) &#123; // This was our active pointer going up. Choose a new // active pointer and adjust accordingly. final int newPointerIndex = pointerIndex == 0 ? 1 : 0; activePointerId = MotionEventCompat.getPointerId(ev, newPointerIndex); &#125; &#125; /** * Ê£ÄÊµãÂΩìÂâçÊøÄÊ¥ªÁöÑÁÇπÂíå‰∏ä‰∏Ä‰∏™ÊøÄÊ¥ªÁÇπ‰πãÈó¥ÁöÑÊòØÂê¶ÊúâÊ≤°ÊúâÊøÄÂèëÁöÑÁÇπ * * @param activePoint ÂΩìÂâçË¢´ÊøÄÂèëÁöÑÁÇπ * @return ÂΩìÂâçÊøÄÊ¥ªÁöÑÁÇπÂíå‰∏ä‰∏Ä‰∏™ÊøÄÊ¥ªÁÇπ‰πãÈó¥ÁöÑÊòØÂê¶ÊúâÊ≤°ÊúâÊøÄÂèëÁöÑÁÇπÔºåÊ≤°ÊúâËøîÂõûemptyÁöÑ&#123;@link LockPoint#isEmpty()&#125; */ private LockPoint findCenterPoint(LockPoint activePoint) &#123; LockPoint rstPoint = new LockPoint(); // Âè™Êúâ‰∏Ä‰∏™ÁÇπ‰∏çÈúÄË¶ÅÊØîËæÉ if (historyPointList.size() &lt; 1) &#123; return rstPoint; &#125; LockPoint tempPoint; // Ëé∑Âèñ‰∏ä‰∏™ÁÇπ LockPoint preActivePoint = historyPointList.get(historyPointList.size() - 1); // ‰∏§‰∏™ÁÇπÊòØ‰∏çÊòØÁõ∏ÈÇªÁöÑÔºåÊòØÁõ∏ÈÇªÁöÑÊòØÂùöÂÜ≥‰∏ç‰ºö‰∏≠Èó¥ÊúâÁÇπË¢´Á©∫Âá∫Êù•ÁöÑ if (isAdjacentPoint(preActivePoint, activePoint)) return rstPoint; for (int i = 0; i &lt; initLockPointArray.length; i++) &#123; tempPoint = initLockPointArray[i]; // Ê≤°ÊúâË¢´Ëß¶Êë∏Ëøá &amp;&amp; ‰∏çÊòØÈ¶ñÁÇπ &amp;&amp; ‰∏çÊòØÂ∞æÁÇπ if (!historyPointList.contains(tempPoint) &amp;&amp; !preActivePoint.equals(tempPoint) &amp;&amp; !activePoint.equals(tempPoint)) &#123; if (isInLine(preActivePoint, activePoint, tempPoint)) &#123; Log.e(TAG, "ÁÇπÂú®Á∫ø‰∏ä " + tempPoint.out("temp") + " " + preActivePoint.out("pre") + " " + activePoint.out("active")); rstPoint.init(tempPoint); break; &#125; &#125; &#125; return rstPoint; &#125; /** * Ê£ÄÊµãÁõ∏ÈÇª * * @param p1 ÁÇπ1 * @param p2 ÁÇπ2 * @return p1Âíåp2ÊòØÂê¶Áõ∏ÈÇªÔºåÊñúÂØπËßí‰πüÁÆóÁõ∏ÈÇª */ private boolean isAdjacentPoint(LockPoint p1, LockPoint p2) &#123; if ((p1.x == p2.x &amp;&amp; Math.abs(p1.y - p2.y) == internalSpace) || (p1.y == p2.y &amp;&amp; Math.abs(p1.x - p2.x) == internalSpace) || (Math.abs(p1.x - p2.x) == internalSpace &amp;&amp; Math.abs(p1.y - p2.y) == internalSpace)) &#123; Log.e(TAG, "Áõ∏ÈÇªÁÇπÔºå‰∏çÂ§ÑÁêÜ"); return true; &#125; return false; &#125; /** * Âà§Êñ≠cÁÇπÊòØ‰∏çÊòØÂú®p1-p2ÁöÑÁõ¥Á∫ø‰∏ä * * @param p1 Ëµ∑ÂßãÁÇπ * @param p2 ÁªàÊ≠¢ÁÇπ * @param c Âà§Êñ≠ÁöÑÁÇπ * @return ÊòØÂê¶Âú®ËØ•Á∫ø‰∏ä */ private boolean isInLine(LockPoint p1, LockPoint p2, LockPoint c) &#123; float k1 = (p1.x - p2.x) * 1f / (p1.y - p2.y); float k2 = (p1.x - c.x) * 1f / (p1.y - c.y); return k1 == k2; &#125; /** * ÊøÄÊ¥ªËØ•ÁÇπÔºåËØ•ÁÇπÂ∞Ü‰ºöÊ∑ªÂä†Âà∞ÈÄâ‰∏≠ÁÇπÂàóË°®‰∏≠ÔºåÁÑ∂ÂêéÊâßË°åÂä®Áîª * * @param tempPoint Ë¢´ÊøÄÊ¥ªÁöÑÁÇπ */ private void activePoint(LockPoint tempPoint) &#123; historyPointList.add(new LockPoint(tempPoint)); currentLockPoint.init(tempPoint); startScaleAnimation(); postInvalidate(); &#125; public void init() &#123; isEventOver = false; cancelLockDraw(); &#125; /** * ÁªìÊùüÁªòÂà∂ÔºåÊÅ¢Â§çÂàùÂßãÁä∂ÊÄÅ */ private void cancelLockDraw() &#123; touchPoint.init(-1, -1); currentLockPoint.init(-1, -1); historyPointList.clear(); postInvalidate(); &#125; // onMeasure‰πãÂêéÂàùÂßãÂåñÊï∞ÊçÆ @Override protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123; super.onMeasure(widthMeasureSpec, heightMeasureSpec); int size = getMeasuredWidth(); // Â∞ÜÂÆΩÈ´òËÆæÁΩÆ‰∏∫‰∏ÄÊ†∑ÁöÑÔºåÊ≠£ÊñπÂΩ¢ setMeasuredDimension(size, size); // ÂàùÂßãÂåñÂ±èÂπï‰∏≠ÁöÑ‰πù‰∏™ÁÇπÁöÑ‰ΩçÁΩÆÂíå‰∏ãÊ†á if (initLockPointArray == null) &#123; initLockPointArray = new LockPoint[9]; // startSpace ‰∏∫Ë∑ùÁ¶ªÂ∑¶ËæπÁöÑË∑ùÁ¶ªÔºåËÆ°ÁÆó‰πù‰∏™ÁÇπÁöÑ‰ΩçÁΩÆÊîæÂú®Êéß‰ª∂‰∏≠Èó¥ if (startSpace == AUTO_START_SPACING) &#123; startSpace = size / 4; &#125; // ËÆ°ÁÆóÊØè‰∏§‰∏™ÁÇπ‰πãÈó¥ÁöÑÈó¥Èöî internalSpace = (size - 2 * startSpace) / 2; // ÂàùÂßãÂåñ‰πù‰∏™ÁÇπÁöÑ‰ΩçÁΩÆ int index = 0; for (int i = 0; i &lt; 3; i++) &#123; for (int j = 0; j &lt; 3; j++) &#123; initLockPointArray[index] = new LockPoint(index, startSpace + j * internalSpace, startSpace + i * internalSpace); index++; &#125; &#125; // ‰∏∫‰∫ÜÂú®previewÊó∂ËÉΩÁúãÂà∞ÊïàÊûú if (isInEditMode()) &#123; historyPointList.addAll(Arrays.asList(initLockPointArray)); &#125; &#125; &#125; private void log(Object... objs) &#123; StringBuilder sb = new StringBuilder(); for (Object obj : objs) &#123; sb.append(obj.toString()).append(" "); &#125; Log.e(TAG, sb.toString()); &#125; @Override protected void onDraw(Canvas canvas) &#123; super.onDraw(canvas); // fast stop if (initLockPointArray == null) return; log(currentLockPoint.out("current"), touchPoint.out("touch")); // ÁîªÊúÄÂêé‰∏Ä‰∏™ÁÇπÂíåËß¶Êë∏ÁöÑÁÇπ‰πãÈó¥ÁöÑÁ∫ø if (currentLockPoint != null &amp;&amp; currentLockPoint.x != -1 &amp;&amp; currentLockPoint.y != -1 &amp;&amp; touchPoint.x != -1 &amp;&amp; touchPoint.y != -1) &#123; canvas.drawLine(currentLockPoint.x, currentLockPoint.y, touchPoint.x, touchPoint.y, linePaint); &#125; // ÁªòÂà∂‰πãÂâçËß¶ËøáÂ≠òÂÇ®Ëµ∑Êù•ÁöÑÁöÑÁÇπ if (historyPointList.size() &gt; 0) &#123; for (int i = 0; i &lt; historyPointList.size() - 1; i++) &#123; canvas.drawLine(historyPointList.get(i).x, historyPointList.get(i).y, historyPointList.get(i + 1).x, historyPointList.get(i + 1).y, linePaint); &#125; &#125; // ÁªòÂà∂‰πù‰∏™ÁÇπÔºåÂΩìÂä®ÁîªÂú®ÊâßË°åÊó∂Ë¢´ÊøÄÊ¥ªÁöÑÁÇπ‰ºöË¢´ÊîæÂ§ß LockPoint tempPoint; for (int i = 0; i &lt; initLockPointArray.length; i++) &#123; tempPoint = initLockPointArray[i]; if (currentLockPoint != null &amp;&amp; currentLockPoint.equals(tempPoint)) &#123; canvas.drawCircle(tempPoint.x, tempPoint.y, scalePointRadius, pointPaint); &#125; else &#123; canvas.drawCircle(tempPoint.x, tempPoint.y, pointRadius, pointPaint); &#125; &#125; &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰øùÂ≠òÁÖßÁâáÂíåËßÜÈ¢ëÂà∞Áõ∏ÂÜåÊòæÁ§∫]]></title>
    <url>%2Farticle%2F1969447237%2F</url>
    <content type="text"><![CDATA[ÁÖßÁâáÂíåËßÜÈ¢ë‰øùÂ≠òÂà∞Êú¨Âú∞ÁöÑÊñπÊ≥ïÂ§ßËá¥ÈÉΩÊòØÈÄöËøáÊµÅÁöÑÊñπÂºèÂÜôÂÖ•Êñá‰ª∂ÈáåÈù¢Â∞±ÂèØ‰ª•ËææÂà∞‰øùÂ≠òÂà∞Êñá‰ª∂Â§πÁöÑÁõÆÁöÑÔºå‰ΩÜÊòØ‰Ω†‰øùÂ≠òÂà∞Êñá‰ª∂Â§πÁöÑËµÑÊ∫êÂç¥‰∏ç‰∏ÄÂÆöËÉΩÂ§üÂú®Áõ∏ÂÜåÊòæÁ§∫Âá∫Êù•ÔºåÂè™ËÉΩÁøªÁúãÊñá‰ª∂ÁÆ°ÁêÜ„ÄÇÊÄé‰πàËÉΩÂ§üÂ∞Ü‰øùÂ≠òÂà∞Êú¨Âú∞ÁöÑÁÖßÁâáËßÜÈ¢ëÊòæÁ§∫Âú®Á≥ªÁªüÁõ∏ÂÜå‰∏≠ÔºåÊúÄÂ∏∏Áî®ÁöÑÊñπÂºèÊòØÂèëÈÄÅÂπøÊí≠Êâ´ÊèèÁöÑÊñπÂºèÊù•ÈÄöÁü•Á≥ªÁªüÊâ´ÊèèÊñá‰ª∂Â§πÔºå‰ΩÜÊòØËøôÁßçÊñπÂºèÁªèÂ∏∏‰∏çËµ∑‰ΩúÁî®ÔºåÊ†πÊú¨ÂéüÂõ†Âú®‰∫éÔºåÂêëÁ≥ªÁªüÂèëÈÄÅÂπøÊí≠Êó∂Á≥ªÁªüÂè™‰ºöÂéªÊâ´ÊèèÁ≥ªÁªüËµÑÊ∫êÁöÑÁõ∏ÂÜåÔºåÂ¶ÇÊûú‰Ω†‰øùÂ≠òÁöÑÊñá‰ª∂Â§πÊòØËá™Â∑±Âª∫Á´ãÁöÑÔºåÈÇ£‰πà‰Ω†ÂèëÂπøÊí≠Êó∂Á≥ªÁªüÊòØ‰∏ç‰ºöÊâ´ÊèèÂà∞ÁöÑ„ÄÇËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊÉ≥Ë¶ÅÊòæÁ§∫Âú®Áõ∏ÂÜåÈúÄË¶ÅÂ∞ÜÊï∞ÊçÆÊèíÂÖ•Âà∞ContentProvider‰∏≠ÔºåÂõ†Ê≠§ÂØπ‰∫éÈùûÁ≥ªÁªüËÉΩÂ§üÊâ´ÊèèÂà∞ÁöÑÁõ∏ÂÜåÊàë‰ª¨‰ΩøÁî®ÊâãÂä®ÊèíÂÖ•ÁöÑÊñπÂºè„ÄÇ ‰øùÂ≠òÂà∞Á≥ªÁªüËµÑÊ∫êÁõ∏ÂÜåÁ≥ªÁªüÁõ∏ÂÜåÊåáÁöÑÁöÑÊòØCamera„ÄÅDCIMÁ≠âÁ≠âËøô‰∫õÁõÆÂΩïÂØπÂ∫îÁöÑÁõ∏ÂÜåÔºåÂèØËÉΩËøòÊúâÂÖ∂‰ªñÁ≥ªÁªü‰ºöËá™Âä®Êâ´ÊèèÁöÑÁõ∏ÂÜåÔºå‰ΩÜÊòØÊöÇÊó∂Ê≤°ÊúâÂéªÊï¥ÁêÜËøô‰∫õ„ÄÇÂØπ‰∫éÁ≥ªÁªüÁõ∏ÂÜåÊù•ËØ¥ÔºåÂè™ÈúÄË¶ÅÂèëÈÄÅÂπøÊí≠ËøõË°åÊâ´ÊèèÂç≥ÂèØÔºåÊï∞ÊçÆ‰ºöËá™Âä®Ê∑ªÂä†Âà∞ContentProvider‰∏≠ÔºåÂΩìÁÑ∂Â¶ÇÊûú‰∏çÂèëÈÄÅÂπøÊí≠ÔºåÂú®ÊâãÊú∫ÈáçÂêØÊàñËÄÖËøá‰∏ÄÊÆµÊó∂Èó¥‰πãÂêéÔºåÊâ´ÊèèÊìç‰Ωú‰ªç‰ºöÂºÄÂêØÔºåÂõ†Ê≠§ÁªùÂØπÁªùÂØπ‰∏çÂèØ‰ª•Ëá™Â∑±ÂéªËøõË°åÊèíÂÖ•Êìç‰ΩúÔºåÂê¶ÂàôÁõ∏ÂÜå‰∏≠‰ºöÂá∫Áé∞‰∏§Âº†Áõ∏ÂêåÁöÑÁÖßÁâá„ÄÇ 12345678910111213/** * ÈíàÂØπÁ≥ªÁªüÊñáÂ§πÂè™ÈúÄË¶ÅÊâ´Êèè,‰∏çÁî®ÊèíÂÖ•ÂÜÖÂÆπÊèê‰æõËÄÖ,‰∏çÁÑ∂‰ºöÈáçÂ§ç * * @param context ‰∏ä‰∏ãÊñá * @param filePath Êñá‰ª∂Ë∑ØÂæÑ */private static void scanFile(Context context, String filePath) &#123; if (!checkFile(filePath)) return; Intent intent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE); intent.setData(Uri.fromFile(new File(filePath))); context.sendBroadcast(intent);&#125; ‰øùÂ≠òÂà∞ÈùûÁ≥ªÁªüËµÑÊ∫êÁõ∏ÂÜå‰øùÂ≠òÂà∞ÈùûÁ≥ªÁªüËµÑÊ∫êÁõ∏ÂÜå‰∏≠Êó∂ÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅËøõË°åContentProviderÁöÑÊèíÂÖ•Êõ¥Êñ∞ÔºåÊù•ËææÂà∞ÂèØ‰ª•Âú®Áõ∏ÂÜåÊòæÁ§∫ÁöÑÁõÆÁöÑ„ÄÇ ÂàùÂßãÂåñ ContentValues ÂÖ¨ÂÖ±Â≠óÊÆµÁÖßÁâáÂíåËßÜÈ¢ëÊòØÊúâ‰∏Ä‰∫õÂÖ¨ÂÖ±Â≠óÊÆµÔºåÂÜô‰∏Ä‰∏™ÂàùÂßãÂåñÂÖ¨ÂÖ±Â≠óÊÆµÁöÑÊñπÊ≥ïÔºåÁÆÄÂåñMediaStoreÂ≠óÊÆµÁöÑÂÜôÂÖ•Êìç‰Ωú„ÄÇ 12345678910111213141516171819/** * ÊèíÂÖ•Êó∂ÂàùÂßãÂåñÂÖ¨ÂÖ±Â≠óÊÆµ * * @param filePath Êñá‰ª∂ * @param time ms * @return ContentValues */private static ContentValues initCommonContentValues(String filePath, long time) &#123; ContentValues values = new ContentValues(); File saveFile = new File(filePath); long timeMillis = getTimeWrap(time); values.put(MediaStore.MediaColumns.TITLE, saveFile.getName()); values.put(MediaStore.MediaColumns.DISPLAY_NAME, saveFile.getName()); values.put(MediaStore.MediaColumns.DATE_MODIFIED, timeMillis); values.put(MediaStore.MediaColumns.DATE_ADDED, timeMillis); values.put(MediaStore.MediaColumns.DATA, saveFile.getAbsolutePath()); values.put(MediaStore.MediaColumns.SIZE, saveFile.length()); return values;&#125; ÊèíÂÖ•ÁÖßÁâáËµÑÊ∫ê‰øùÂ≠òÁÖßÁâáÂà∞Êú¨Âú∞ÔºåÂπ∂ÈÄöÁü•Áõ∏ÂÜåÊòæÁ§∫ÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊó∂Èó¥ÁöÑÂçï‰ΩçÂøÖÈ°ªÊòØms 123456789101112131415161718192021222324252627/** * ‰øùÂ≠òÂà∞ÁÖßÁâáÂà∞Êú¨Âú∞ÔºåÂπ∂ÊèíÂÖ•MediaStore‰ª•‰øùËØÅÁõ∏ÂÜåÂèØ‰ª•Êü•ÁúãÂà∞ * ËøôÊòØÊõ¥‰ºòÂåñÁöÑÊñπÊ≥ïÔºåÈò≤Ê≠¢ËØªÂèñÁöÑÁÖßÁâáËé∑Âèñ‰∏çÂà∞ÂÆΩÈ´ò * * @param context ‰∏ä‰∏ãÊñá * @param filePath Êñá‰ª∂Ë∑ØÂæÑ * @param createTime ÂàõÂª∫Êó∂Èó¥ &lt;=0Êó∂‰∏∫ÂΩìÂâçÊó∂Èó¥ ms * @param width ÂÆΩÂ∫¶ * @param height È´òÂ∫¶ */public static void insertImageToMediaStore(Context context, String filePath, long createTime, int width, int height) &#123; if (!checkFile(filePath)) return; createTime = getTimeWrap(createTime); ContentValues values = initCommonContentValues(filePath, createTime); values.put(MediaStore.Images.ImageColumns.DATE_TAKEN, createTime); values.put(MediaStore.Images.ImageColumns.ORIENTATION, 0); values.put(MediaStore.Images.ImageColumns.ORIENTATION, 0); if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.JELLY_BEAN) &#123; if (width &gt; 0) values.put(MediaStore.Images.ImageColumns.WIDTH, 0); if (height &gt; 0) values.put(MediaStore.Images.ImageColumns.HEIGHT, 0); &#125; values.put(MediaStore.MediaColumns.MIME_TYPE, getPhotoMimeType(filePath)); context.getApplicationContext().getContentResolver() .insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);&#125; ÊèíÂÖ•ËßÜÈ¢ëËµÑÊ∫ê‰øùÂ≠òËßÜÈ¢ëÂà∞Êú¨Âú∞ÔºåÂπ∂ÈÄöÁü•Áõ∏ÂÜåÊòæÁ§∫ÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊó∂Èó¥ÁöÑÂçï‰ΩçÂøÖÈ°ªÊòØms 123456789101112131415161718192021222324252627/** * ‰øùÂ≠òÂà∞ËßÜÈ¢ëÂà∞Êú¨Âú∞ÔºåÂπ∂ÊèíÂÖ•MediaStore‰ª•‰øùËØÅÁõ∏ÂÜåÂèØ‰ª•Êü•ÁúãÂà∞ * ËøôÊòØÊõ¥‰ºòÂåñÁöÑÊñπÊ≥ïÔºåÈò≤Ê≠¢ËØªÂèñÁöÑËßÜÈ¢ëËé∑Âèñ‰∏çÂà∞ÂÆΩÈ´ò * * @param context ‰∏ä‰∏ãÊñá * @param filePath Êñá‰ª∂Ë∑ØÂæÑ * @param createTime ÂàõÂª∫Êó∂Èó¥ &lt;=0Êó∂‰∏∫ÂΩìÂâçÊó∂Èó¥ ms * @param duration ËßÜÈ¢ëÈïøÂ∫¶ ms * @param width ÂÆΩÂ∫¶ * @param height È´òÂ∫¶ */public static void insertVideoToMediaStore(Context context, String filePath, long createTime, int width, int height, long duration) &#123; if (!checkFile(filePath)) return; createTime = getTimeWrap(createTime); ContentValues values = initCommonContentValues(filePath, createTime); values.put(MediaStore.Video.VideoColumns.DATE_TAKEN, createTime); if (duration &gt; 0) values.put(MediaStore.Video.VideoColumns.DURATION, duration); if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.JELLY_BEAN) &#123; if (width &gt; 0) values.put(MediaStore.Video.VideoColumns.WIDTH, width); if (height &gt; 0) values.put(MediaStore.Video.VideoColumns.HEIGHT, height); &#125; values.put(MediaStore.MediaColumns.MIME_TYPE, getVideoMimeType(filePath)); context.getContentResolver().insert(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, values);&#125; Ê≥®ÊÑèÂú®Â∫îÁî®ËøáÁ®ã‰∏≠ÂèëÁé∞ÔºåvivoÊâãÊú∫ÂíåÈ≠ÖÊóèÊâãÊú∫ÈÉ®ÂàÜÊú∫ÂûãÂè™ÊîØÊåÅÂú®Êñá‰ª∂ÁÆ°ÁêÜ‰∏≠Êü•ÁúãËßÜÈ¢ëÔºå‰ΩøÁî®Êú¨ÊñáÊèèËø∞ÁöÑÊñπÊ≥ïÊ∑ªÂä†ÂêéÊ≤°ÊúâÊïàÊûúÔºåÁî®ÂæÆ‰ø°‰øùÂ≠òËßÜÈ¢ëËØï‰∫Ü‰∏Ä‰∏ãÂêåÊ†∑‰∏çËÉΩÂú®Áõ∏ÂÜå‰∏≠Â∞ÜËßÜÈ¢ëÊòæÁ§∫Âá∫Êù•ÔºåÂ∫îËØ•ÊòØÊâãÊú∫ÁöÑÂéüÂõ†ÔºåÁâπÊ≠§Â£∞Êòé„ÄÇ ÈôÑÊ∫êÁ†ÅË¥¥‰∏Ä‰∏ãÂ∑•ÂÖ∑Á±ªÊ∫ê‰ª£Á†ÅÔºåÂ§ö‰∫Ü‰∏Ä‰∫õËæÖÂä©ÊñπÊ≥ïÔºåÊØîÂ¶ÇËé∑Âèñmime_typeÁöÑÂèÇÊï∞Á≠âÊñπÊ≥ï„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174/** * CreateAt : 2017/5/24 * Describe : Áõ∏ÂÜåÊõ¥Êñ∞ÈÄöÁü•Â∏ÆÂä©Á±ª * ÂàõÂª∫Êó∂Èó¥Âçï‰Ωçms * ËßÜÈ¢ëÊó∂ÈïøÂçï‰Ωçms * * @author chendong */public class AlbumNotifyHelper &#123; public static final String TAG = AlbumNotifyHelper.class.getSimpleName(); /////////////////////////////////////////////////////////////////////////// // ‰∏ãÈù¢ÊòØÂØπÂ§ñÂÖ¨ÂºÄÁöÑÈáçËΩΩÁöÑÊñπÊ≥ï /////////////////////////////////////////////////////////////////////////// public static void notifyScanDcim(Context context, String filePath) &#123; scanFile(context, filePath); &#125; public static void insertVideoToMediaStore(Context context, String filePath, long dateTaken, long duration) &#123; insertVideoToMediaStore(context, filePath, dateTaken, 0, 0, duration); &#125; public static void insertVideoToMediaStore(Context context, VideoUtil.VideoInfo videoInfo) &#123; insertVideoToMediaStore(context, videoInfo.originalVideoFilePath, videoInfo.dateTaken, videoInfo.width, videoInfo.height, videoInfo.duringTime); &#125; public static void insertImageToMediaStore(Context context, String filePath, long createTime) &#123; insertImageToMediaStore(context, filePath, createTime, 0, 0); &#125; /////////////////////////////////////////////////////////////////////////// // Êâ´ÊèèÁ≥ªÁªüÁõ∏ÂÜåÊ†∏ÂøÉÊñπÊ≥ï /////////////////////////////////////////////////////////////////////////// /** * ÈíàÂØπÁ≥ªÁªüÊñáÂ§πÂè™ÈúÄË¶ÅÊâ´Êèè,‰∏çÁî®ÊèíÂÖ•ÂÜÖÂÆπÊèê‰æõËÄÖ,‰∏çÁÑ∂‰ºöÈáçÂ§ç * * @param context ‰∏ä‰∏ãÊñá * @param filePath Êñá‰ª∂Ë∑ØÂæÑ */ public static void scanFile(Context context, String filePath) &#123; if (!checkFile(filePath)) return; Intent intent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE); intent.setData(Uri.fromFile(new File(filePath))); context.sendBroadcast(intent); &#125; /////////////////////////////////////////////////////////////////////////// // ÈùûÁ≥ªÁªüÁõ∏ÂÜåÂÉèMediaContent‰∏≠ÊèíÂÖ•Êï∞ÊçÆÔºåÊ†∏ÂøÉÊñπÊ≥ï /////////////////////////////////////////////////////////////////////////// /** * ÈíàÂØπÈùûÁ≥ªÁªüÊñá‰ª∂Â§π‰∏ãÁöÑÊñá‰ª∂,‰ΩøÁî®ËØ•ÊñπÊ≥ï * ÊèíÂÖ•Êó∂ÂàùÂßãÂåñÂÖ¨ÂÖ±Â≠óÊÆµ * * @param filePath Êñá‰ª∂ * @param time ms * @return ContentValues */ private static ContentValues initCommonContentValues(String filePath, long time) &#123; ContentValues values = new ContentValues(); File saveFile = new File(filePath); long timeMillis = getTimeWrap(time); values.put(MediaStore.MediaColumns.TITLE, saveFile.getName()); values.put(MediaStore.MediaColumns.DISPLAY_NAME, saveFile.getName()); values.put(MediaStore.MediaColumns.DATE_MODIFIED, timeMillis); values.put(MediaStore.MediaColumns.DATE_ADDED, timeMillis); values.put(MediaStore.MediaColumns.DATA, saveFile.getAbsolutePath()); values.put(MediaStore.MediaColumns.SIZE, saveFile.length()); return values; &#125; /** * ‰øùÂ≠òÂà∞ÁÖßÁâáÂà∞Êú¨Âú∞ÔºåÂπ∂ÊèíÂÖ•MediaStore‰ª•‰øùËØÅÁõ∏ÂÜåÂèØ‰ª•Êü•ÁúãÂà∞,ËøôÊòØÊõ¥‰ºòÂåñÁöÑÊñπÊ≥ïÔºåÈò≤Ê≠¢ËØªÂèñÁöÑÁÖßÁâáËé∑Âèñ‰∏çÂà∞ÂÆΩÈ´ò * * @param context ‰∏ä‰∏ãÊñá * @param filePath Êñá‰ª∂Ë∑ØÂæÑ * @param createTime ÂàõÂª∫Êó∂Èó¥ &lt;=0Êó∂‰∏∫ÂΩìÂâçÊó∂Èó¥ ms * @param width ÂÆΩÂ∫¶ * @param height È´òÂ∫¶ */ public static void insertImageToMediaStore(Context context, String filePath, long createTime, int width, int height) &#123; if (!checkFile(filePath)) return; createTime = getTimeWrap(createTime); ContentValues values = initCommonContentValues(filePath, createTime); values.put(MediaStore.Images.ImageColumns.DATE_TAKEN, createTime); values.put(MediaStore.Images.ImageColumns.ORIENTATION, 0); values.put(MediaStore.Images.ImageColumns.ORIENTATION, 0); if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.JELLY_BEAN) &#123; if (width &gt; 0) values.put(MediaStore.Images.ImageColumns.WIDTH, 0); if (height &gt; 0) values.put(MediaStore.Images.ImageColumns.HEIGHT, 0); &#125; values.put(MediaStore.MediaColumns.MIME_TYPE, getPhotoMimeType(filePath)); context.getApplicationContext().getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values); &#125; /** * ‰øùÂ≠òÂà∞ËßÜÈ¢ëÂà∞Êú¨Âú∞ÔºåÂπ∂ÊèíÂÖ•MediaStore‰ª•‰øùËØÅÁõ∏ÂÜåÂèØ‰ª•Êü•ÁúãÂà∞,ËøôÊòØÊõ¥‰ºòÂåñÁöÑÊñπÊ≥ïÔºåÈò≤Ê≠¢ËØªÂèñÁöÑËßÜÈ¢ëËé∑Âèñ‰∏çÂà∞ÂÆΩÈ´ò * * @param context ‰∏ä‰∏ãÊñá * @param filePath Êñá‰ª∂Ë∑ØÂæÑ * @param createTime ÂàõÂª∫Êó∂Èó¥ &lt;=0Êó∂‰∏∫ÂΩìÂâçÊó∂Èó¥ ms * @param duration ËßÜÈ¢ëÈïøÂ∫¶ ms * @param width ÂÆΩÂ∫¶ * @param height È´òÂ∫¶ */ public static void insertVideoToMediaStore(Context context, String filePath, long createTime, int width, int height, long duration) &#123; if (!checkFile(filePath)) return; createTime = getTimeWrap(createTime); ContentValues values = initCommonContentValues(filePath, createTime); values.put(MediaStore.Video.VideoColumns.DATE_TAKEN, createTime); if (duration &gt; 0) values.put(MediaStore.Video.VideoColumns.DURATION, duration); if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.JELLY_BEAN) &#123; if (width &gt; 0) values.put(MediaStore.Video.VideoColumns.WIDTH, width); if (height &gt; 0) values.put(MediaStore.Video.VideoColumns.HEIGHT, height); &#125; values.put(MediaStore.MediaColumns.MIME_TYPE, getVideoMimeType(filePath)); context.getContentResolver().insert(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, values); &#125; // ÊòØ‰∏çÊòØÁ≥ªÁªüÁõ∏ÂÜå private static boolean isSystemDcim(String path) &#123; return path.toLowerCase().contains(&quot;dcim&quot;) || path.toLowerCase().contains(&quot;camera&quot;); &#125; // Ëé∑ÂèñÁÖßÁâáÁöÑmine_type private static String getPhotoMimeType(String path) &#123; String lowerPath = path.toLowerCase(); if (lowerPath.endsWith(&quot;jpg&quot;) || lowerPath.endsWith(&quot;jpeg&quot;)) &#123; return &quot;image/jpeg&quot;; &#125; else if (lowerPath.endsWith(&quot;png&quot;)) &#123; return &quot;image/png&quot;; &#125; else if (lowerPath.endsWith(&quot;gif&quot;)) &#123; return &quot;image/gif&quot;; &#125; return &quot;image/jpeg&quot;; &#125; // Ëé∑ÂèñvideoÁöÑmine_type,ÊöÇÊó∂Âè™ÊîØÊåÅmp4,3gp private static String getVideoMimeType(String path) &#123; String lowerPath = path.toLowerCase(); if (lowerPath.endsWith(&quot;mp4&quot;) || lowerPath.endsWith(&quot;mpeg4&quot;)) &#123; return &quot;video/mp4&quot;; &#125; else if (lowerPath.endsWith(&quot;3gp&quot;)) &#123; return &quot;video/3gp&quot;; &#125; return &quot;video/mp4&quot;; &#125; // Ëé∑ÂæóËΩ¨ÂåñÂêéÁöÑÊó∂Èó¥ private static long getTimeWrap(long time) &#123; if (time &lt;= 0) &#123; return System.currentTimeMillis(); &#125; return time; &#125; // Ê£ÄÊµãÊñá‰ª∂Â≠òÂú® private static boolean checkFile(String filePath) &#123; boolean result = FileUtil.fileIsExist(filePath); Log.e(TAG, &quot;Êñá‰ª∂‰∏çÂ≠òÂú® path = &quot; + filePath); return result; &#125;&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DES,AES Âä†ÂØÜËß£ÂØÜ]]></title>
    <url>%2Farticle%2F3556316359%2F</url>
    <content type="text"><![CDATA[Âä†ÂØÜËß£ÂØÜÁöÑÂéüÁêÜÊòØ‰∏™ÂæàÈ∫ªÁÉ¶ÁöÑÈóÆÈ¢òÔºåÊàë‰πãÂâç‰∏äËøá‰∏ÄÈó®ËØæÂè´ÂØÜÁ†ÅÂ≠¶ÔºåÊúÄÂêé‰πüÊ≤°ÊÄé‰πàÂ≠¶ÊáÇÔºåÊâÄ‰ª•ËøôÈáåÊàë‰ª¨Âè™ÊòØ‰ΩøÁî®java‰ª£Á†ÅÂÆûÁé∞Âä†ÂØÜËß£ÂØÜÁöÑÂäüËÉΩÔºåËÄå‰∏çÊòØËÆ®ËÆ∫‰ªñÁöÑÂéüÁêÜ„ÄÇ DESÁÆÄÂçï‰ªãÁªç DES(Data Encryption Standard)Âç≥Êï∞ÊçÆÂä†ÂØÜÊ†áÂáÜÔºå‰ΩøÁî®56bitÂØÜÈí•ÔºåÂ∞Ü64bitÁöÑÊòéÊñáÊï∞ÊçÆÂùóÂä†ÂØÜ‰∏∫64bitÂØÜÊñá„ÄÇ DES‰ΩøÁî®56bitÂØÜÈí•Âä†ÂØÜÔºåÁßòÈí•Ë¶ÅÊ±Ç8‰∏™Â≠óËäÇ64bitÔºåÊØè‰∏™Â≠óËäÇÊúâ‰∏Ä‰ΩçÊòØÂ•áÂÅ∂Ê†°È™å‰Ωç„ÄÇ DESÂä†ÂØÜÂº∫Â∫¶Â∞èÔºåÂÆπÊòìË¢´Á†¥Ëß£ DESÂä†ÂØÜ‰ª£Á†ÅÂÆûÁé∞123456789101112131415161718192021222324252627282930313233343536373839404142/** * DESÂä†ÂØÜËß£ÂØÜ * @param data ÈúÄË¶ÅÂä†ÂØÜÁöÑÊï∞ÊçÆ * @param key ÁßòÈí•ÔºåÂøÖÈ°ªÊòØ8‰∏™Â≠óËäÇ * @param mode Âä†ÂØÜÊàñËÄÖËß£ÂØÜÊ®°Âºè * Cipher.ENCRYPT_MODE * Cipher.DECRYPT_MODE * @return */ public static byte[] DESCrypt(byte[] data, byte[] key, int mode) &#123; byte[] result = null; if (data == null || key == null || data.length &lt;= 0 || key.length &lt;= 0) return null; //DESÂØÜÁ†ÅÂøÖÈ°ªÊòØ8‰∏™Â≠óËäÇÔºå64bitÈïøÂ∫¶ try &#123; //ÂàõÂª∫Âä†ÂØÜÂºïÊìé Cipher cipher = Cipher.getInstance("DES"); //ÊåáÂÆö8‰∏™Â≠óËäÇÂØÜÁ†Å DESKeySpec desKeySpec = new DESKeySpec(key); //ÁîüÊàêÂØÜÁ†ÅÂ∑•ÂéÇ SecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance("DES"); //ÁîüÊàêÂØÜÁ†Å SecretKey secretKey = secretKeyFactory.generateSecret(desKeySpec); //ËÆæÁΩÆÊ®°ÂºèÔºåÂä†ÂØÜËß£ÂØÜ cipher.init(mode, secretKey); //Âä†ÂØÜ„ÄÇËÆæÁΩÆÂ≠óËäÇÊï∞ÁªÑ‰Ωú‰∏∫ÂæÖÂä†ÂØÜÂÜÖÂÆπ,ËøîÂõûÂÄºÊòØÊúÄÁªàÂä†ÂØÜÁªìÊûú result = cipher.doFinal(data); &#125; catch (NoSuchAlgorithmException e) &#123; e.printStackTrace(); &#125; catch (NoSuchPaddingException e) &#123; e.printStackTrace(); &#125; catch (InvalidKeyException e) &#123; e.printStackTrace(); &#125; catch (InvalidKeySpecException e) &#123; e.printStackTrace(); &#125; catch (BadPaddingException e) &#123; e.printStackTrace(); &#125; catch (IllegalBlockSizeException e) &#123; e.printStackTrace(); &#125; return result; &#125; AESÁÆÄÂçï‰ªãÁªç AES(Advanced Encryption Standard)ÔºåÂç≥‰∏∫È´òÁ∫ßÂä†ÂØÜÊ†áÂáÜ„ÄÇÂú®ÂØÜÁ†ÅÂ≠¶‰∏≠ÂèàÁß∞RijndaelÂä†ÂØÜÊ≥ïÔºåÊòØÁæéÂõΩËÅîÈÇ¶ÊîøÂ∫úÈááÁî®ÁöÑ‰∏ÄÁßçÂå∫ÂùóÂä†ÂØÜÊ†áÂáÜ„ÄÇËøô‰∏™Ê†áÂáÜÁî®Êù•Êõø‰ª£ÂéüÂÖàÁöÑDESÔºåÂ∑≤ÁªèË¢´Â§öÊñπÂàÜÊûê‰∏îÂπø‰∏∫ÂÖ®‰∏ñÁïåÊâÄ‰ΩøÁî®„ÄÇAESÁöÑÂå∫ÂùóÈïøÂ∫¶Âõ∫ÂÆö‰∏∫128 ÊØîÁâπÔºåÂØÜÈí•ÈïøÂ∫¶ÂàôÂèØ‰ª•ÊòØ128Ôºå192Êàñ256ÊØîÁâπÔºõ ‰ΩéÂº∫Â∫¶Âä†ÂØÜ‰ª£Á†ÅÂÆûÁé∞12345678910111213141516171819202122232425262728293031/** * AES‰ΩéÂº∫Â∫¶Âä†ÂØÜËß£ÂØÜ * @param data * @param key * @param mode Cipher.ENCRYPT_MODE * Cipher.DECRYPT_MODE * @return */ public static byte[] AESCrypt(byte[] data,byte[] key,int mode)&#123; byte[] result = null; if (data == null || key == null || data.length &lt;= 0 || key.length &lt;= 0) return null; try &#123; Cipher cipher = Cipher.getInstance("AES"); SecretKeySpec secretKeySpec = new SecretKeySpec(key,"AES"); cipher.init(mode,secretKeySpec); result = cipher.doFinal(data); &#125; catch (NoSuchAlgorithmException e) &#123; e.printStackTrace(); &#125; catch (NoSuchPaddingException e) &#123; e.printStackTrace(); &#125; catch (InvalidKeyException e) &#123; e.printStackTrace(); &#125; catch (BadPaddingException e) &#123; e.printStackTrace(); &#125; catch (IllegalBlockSizeException e) &#123; e.printStackTrace(); &#125; return result; &#125; È´òÂº∫Â∫¶Âä†ÂØÜÔºå‰ΩøÁî®ivÂèÇÊï∞1234567891011121314151617181920212223242526272829303132333435/** * AESÈ´òÂº∫Â∫¶Âä†ÂØÜ * * @param data * @param key * @param iv Áî®‰∫éAES/CBC„ÄÅPKCS5PaddingËøô‰∏™Â∏¶ÊúâÂä†ÂØÜÊ®°ÂºèÁöÑÁÆóÊ≥ï * @param mode * @return */ public static byte[] AESCrypt(byte[] data, byte[] key, byte[] iv, int mode) &#123; byte[] result = null; if (data == null || key == null || data.length &lt;= 0 || key.length &lt;= 0) return null; try &#123; Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding"); SecretKeySpec secretKeySpec = new SecretKeySpec(key, "AES"); //ÂáÜÂ§áivÂèÇÊï∞ÔºåÁî®‰∫éÊîØÊåÅCBCÊàñËÄÖECBÊ®°Âºè IvParameterSpec ivParameterSpec = new IvParameterSpec(iv); cipher.init(mode, secretKeySpec, ivParameterSpec); result = cipher.doFinal(data); &#125; catch (NoSuchAlgorithmException e) &#123; e.printStackTrace(); &#125; catch (NoSuchPaddingException e) &#123; e.printStackTrace(); &#125; catch (InvalidKeyException e) &#123; e.printStackTrace(); &#125; catch (BadPaddingException e) &#123; e.printStackTrace(); &#125; catch (IllegalBlockSizeException e) &#123; e.printStackTrace(); &#125; catch (InvalidAlgorithmParameterException e) &#123; e.printStackTrace(); &#125; return result; &#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonÂèëÈÄÅget/post/put/deleteËØ∑Ê±Ç]]></title>
    <url>%2Farticle%2F3174426477%2F</url>
    <content type="text"><![CDATA[GetËØ∑Ê±Ç12345# Â¶ÇÊûúÊ≤°ÊúâheaderÂèØ‰ª•‰∏ç‰º†request = urllib2.Request(reqUrl, reqHeader)# reqTimeOut‰∏∫Ë∂ÖÊó∂Êó∂Èó¥Ôºå‰∏çËÆæÁΩÆÂèØ‰ª•‰∏ç‰º†response = urllib2.urlopen(request, reqTimeOut)print respone.read() PostËØ∑Ê±Ç12345# Â¶ÇÊûúÊ≤°ÊúâheaderÂèØ‰ª•‰∏ç‰º†request = urllib2.Request(reqUrl,reqHeader,postData)# reqTimeOut‰∏∫Ë∂ÖÊó∂Êó∂Èó¥Ôºå‰∏çËÆæÁΩÆÂèØ‰ª•‰∏ç‰º†response = urllib2.urlopen(request, reqTimeOut)print respone.read() PutËØ∑Ê±Ç123456# Â¶ÇÊûúÊ≤°ÊúâheaderÂèØ‰ª•‰∏ç‰º†request = urllib2.Request(reqUrl,reqHeader,postData)# reqTimeOut‰∏∫Ë∂ÖÊó∂Êó∂Èó¥Ôºå‰∏çËÆæÁΩÆÂèØ‰ª•‰∏ç‰º†response = urllib2.urlopen(request, reqTimeOut)request.get_method = lambda: 'PUT'print respone.read() DeleteËØ∑Ê±Ç123456# Â¶ÇÊûúÊ≤°ÊúâheaderÂèØ‰ª•‰∏ç‰º†request = urllib2.Request(reqUrl,reqHeader,postData)# reqTimeOut‰∏∫Ë∂ÖÊó∂Êó∂Èó¥Ôºå‰∏çËÆæÁΩÆÂèØ‰ª•‰∏ç‰º†response = urllib2.urlopen(request, reqTimeOut)request.get_method = lambda: 'DELETE'print respone.read() debug12345//‰ΩøÁî®HandlerÊâìÂç∞Êó•ÂøóhttpHandler = urllib2.HTTPHandler(debuglevel=1)httpsHandler = urllib2.HTTPSHandler(debuglevel=1)opener = urllib2.build_opener(httpHandler, httpsHandler)urllib2.install_opener(opener) ÊÄªÁªì ‰∏Ä‰∏™ÈõÜÂêà‰∫ÜÂá†ÁßçËØ∑Ê±ÇÁöÑÂ∑•ÂÖ∑Á±ª 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192# -*-coding:utf-8 -*-import urllib2from httptst.Singleton import singleton__metaclass = type@singletonclass HttpHelper: def __init__(self): pass name = 'http helper' # header __reqHeader = &#123;&#125; # url __reqUrl = '' # time __reqTimeOut = 0 # ÊûÑÂª∫GetËØ∑Ê±Ç def __buildGetRequest(self): if len(self.__reqHeader) == 0: request = urllib2.Request(self.__reqUrl) else: request = urllib2.Request(self.__reqUrl, headers=self.__reqHeader) return request # ÊûÑÂª∫post,put,deleteËØ∑Ê±Ç def __buildPostPutDeleteRequest(self, postData): if len(self.__reqHeader) == 0: request = urllib2.Request(self.__reqUrl, data=postData) else: request = urllib2.Request(self.__reqUrl, headers=self.__reqHeader, data=postData) return request # Ê∑ªÂä†header def headers(self, headers): self.__reqHeader = headers return self # Ê∑ªÂä†url def url(self, url): print url self.__reqUrl = url return self # Ê∑ªÂä†Ë∂ÖÊó∂ def timeOut(self, time): self.__reqTimeOut = time return self # ÊòØÂê¶debug def debug(self): httpHandler = urllib2.HTTPHandler(debuglevel=1) httpsHandler = urllib2.HTTPSHandler(debuglevel=1) opener = urllib2.build_opener(httpHandler, httpsHandler) urllib2.install_opener(opener) return self # Â§ÑÁêÜresponse def __handleResponse(self, request, func): try: if self.__reqTimeOut == 0: res = urllib2.urlopen(request) else: res = urllib2.urlopen(request, self.__reqTimeOut) func(res.read()) except urllib2.HTTPError, e: print e.code # getËØ∑Ê±Ç def get(self, func): request = self.__buildGetRequest() self.__handleResponse(request, func) # postËØ∑Ê±Ç def post(self, postData, func): request = self.__buildPostPutDeleteRequest(postData=postData) self.__handleResponse(request, func) # putËØ∑Ê±Ç def put(self, putData, func): request = self.__buildPostPutDeleteRequest(postData=putData) request.get_method = lambda: 'PUT' self.__handleResponse(request, func) # deleteËØ∑Ê±Ç def delete(self, putData, func): request = self.__buildPostPutDeleteRequest(postData=putData) request.get_method = lambda: 'DELETE' self.__handleResponse(request, func) ÊµãËØï1234567891011121314def getData(data): print datahttpHelper = HttpHelper()url_baidu = 'http://www.baidu.com'#ÁÆÄÂçïÁöÑgetËØ∑Ê±ÇhttpHelper.url(url=url_baidu).get(func=getData)# postËØ∑Ê±ÇhttpHelper.debug() \ .url(url=url_post_pics) \ .headers(headers=getHeader()) \ .post(postData=post_data_pics, func=getData)# postËØ∑Ê±ÇhttpHelper.debug().url(url_post_invite_one).headers(getHeader()).post(post_data_invite_one,getData)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RSAÂä†ÂØÜËß£ÂØÜ]]></title>
    <url>%2Farticle%2F1309915903%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØÂØπÁß∞Âä†ÂØÜÔºå‰ªÄ‰πàÊòØÈùûÂØπÁß∞Âä†ÂØÜÔºü Âä†ÂØÜËß£ÂØÜ‰ΩøÁî®ÂêåÊ†∑ÁöÑÂØÜÈí•ÔºåÂàôÊòØÂØπÁß∞Âä†ÂØÜÔºå‰ΩøÁî®‰∏ç‰∏ÄÊ†∑ÁöÑÂØÜÈí•Â∞±ÊòØÈùûÂØπÁß∞Âä†ÂØÜÔºåRSAÂ±û‰∫éÈùûÂØπÁß∞Âä†ÂØÜ„ÄÇ RSA‰∏≠ÊúâÂÖ¨Èí•ÂíåÁßÅÈí•ÁöÑÊ¶ÇÂøµÔºåÂÖ¨Èí•Âä†ÂØÜÁßÅÈí•Ëß£ÂØÜÔºåÁßÅÈí•Âä†ÂØÜÂÖ¨Èí•Ëß£ÂØÜÔºå‰πüÂèØ‰ª•‰ΩøÁî®RSAÂØπÊ∂àÊÅØËøõË°åÁ≠æÂêç ‰∏Ä‰∫õÂ∏∏Èáè1234567891011121314151617181920212223242526272829/** * Âä†ÂØÜÁÆóÊ≥ïRSA */ public static final String KEY_ALGORITHM = "RSA"; /** * Á≠æÂêçÁÆóÊ≥ï */ public static final String SIGNATURE_ALGORITHM = "MD5withRSA"; /** * Ëé∑ÂèñÂÖ¨Èí•ÁöÑkey */ public static final String PUBLIC_KEY = "RSAPublicKey"; /** * Ëé∑ÂèñÁßÅÈí•ÁöÑkey */ public static final String PRIVATE_KEY = "RSAPrivateKey"; /** * RSAÊúÄÂ§ßÂä†ÂØÜÊòéÊñáÂ§ßÂ∞è */ private static final int MAX_ENCRYPT_BLOCK = 117; /** * RSAÊúÄÂ§ßËß£ÂØÜÂØÜÊñáÂ§ßÂ∞è */ private static final int MAX_DECRYPT_BLOCK = 128; 2.Ëé∑ÂèñÂØÜÈí•ÂØπ ËøôÈáå‰ΩøÁî®‰∫ÜÂÜÖÁΩÆÁöÑÊñπÊ≥ïËé∑ÂèñÁîüÊàêÁöÑÂÖ¨Èí•ÁßÅÈí•ÔºåËøîÂõûÁöÑÂØÜÈí•Â∑≤ÁªèÁªèËøá‰∫ÜBase64ÁºñÁ†ÅÁöÑÂ§ÑÁêÜÔºåÊòØÂèØËßÅÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849 /** * &lt;p&gt; * ÁîüÊàêÂØÜÈí•ÂØπ(ÂÖ¨Èí•ÂíåÁßÅÈí•) * &lt;/p&gt; * * @return * @throws Exception */ public static Map&lt;String, Object&gt; getKeyPair(int size) throws Exception &#123; KeyPairGenerator keyPairGen = KeyPairGenerator.getInstance(KEY_ALGORITHM); keyPairGen.initialize(size); KeyPair keyPair = keyPairGen.generateKeyPair(); RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic(); RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate(); Map&lt;String, Object&gt; keyMap = new HashMap&lt;String, Object&gt;(2); keyMap.put(PUBLIC_KEY, publicKey); keyMap.put(PRIVATE_KEY, privateKey); return keyMap; &#125;/** * &lt;p&gt; * Ëé∑ÂèñÁßÅÈí• * &lt;/p&gt; * * @param keyMap ÂØÜÈí•ÂØπ * @return Ëé∑ÂèñÁöÑkeyÂ∑≤ÁªèÁªèËøábase64ÁºñÁ†Å * @throws Exception */ public static String getPrivateKey(Map&lt;String, Object&gt; keyMap) throws Exception &#123; Key key = (Key) keyMap.get(PRIVATE_KEY); // return Base64Utils.encode(key.getEncoded()); return Base64.encodeToString(key.getEncoded(), Base64.NO_WRAP); &#125; /** * &lt;p&gt; * Ëé∑ÂèñÂÖ¨Èí• * &lt;/p&gt; * * @param keyMap ÂØÜÈí•ÂØπ * @return Ëé∑ÂèñÁöÑkeyÂ∑≤ÁªèÁªèËøábase64ÁºñÁ†Å * @throws Exception */ public static String getPublicKey(Map&lt;String, Object&gt; keyMap) throws Exception &#123; Key key = (Key) keyMap.get(PUBLIC_KEY); // return Base64Utils.encode(key.getEncoded()); return Base64.encodeToString(key.getEncoded(), Base64.NO_WRAP); &#125;` ÁßÅÈí•Âä†ÂØÜ123456789101112131415161718192021222324252627282930313233343536373839 /** * &lt;p&gt; * ÁßÅÈí•Âä†ÂØÜ * &lt;/p&gt; * * @param data Ê∫êÊï∞ÊçÆ * @param privateKey ÁßÅÈí•(BASE64ÁºñÁ†Å) * @return * @throws Exception */ public static byte[] encryptByPrivateKey(byte[] data, String privateKey) throws Exception &#123;// byte[] keyBytes = Base64Utils.decode(privateKey); byte[] keyBytes = Base64.decode(privateKey, Base64.NO_WRAP); PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); Key privateK = keyFactory.generatePrivate(pkcs8KeySpec); Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm()); cipher.init(Cipher.ENCRYPT_MODE, privateK); int inputLen = data.length; ByteArrayOutputStream out = new ByteArrayOutputStream(); int offSet = 0; byte[] cache; int i = 0; // ÂØπÊï∞ÊçÆÂàÜÊÆµÂä†ÂØÜ while (inputLen - offSet &gt; 0) &#123; if (inputLen - offSet &gt; MAX_ENCRYPT_BLOCK) &#123; cache = cipher.doFinal(data, offSet, MAX_ENCRYPT_BLOCK); &#125; else &#123; cache = cipher.doFinal(data, offSet, inputLen - offSet); &#125; out.write(cache, 0, cache.length); i++; offSet = i * MAX_ENCRYPT_BLOCK; &#125; byte[] encryptedData = out.toByteArray(); out.close(); return encryptedData; &#125; ÂÖ¨Èí•Âä†ÂØÜ123456789101112131415161718192021222324252627282930313233343536373839/** * &lt;p&gt; * ÂÖ¨Èí•Âä†ÂØÜ * &lt;/p&gt; * * @param data Ê∫êÊï∞ÊçÆ * @param publicKey ÂÖ¨Èí•(BASE64ÁºñÁ†Å) * @return * @throws Exception */ public static byte[] encryptByPublicKey(byte[] data, String publicKey) throws Exception &#123; byte[] keyBytes = Base64.decode(publicKey, Base64.NO_WRAP); X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); Key publicK = keyFactory.generatePublic(x509KeySpec); // ÂØπÊï∞ÊçÆÂä†ÂØÜ Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm()); cipher.init(Cipher.ENCRYPT_MODE, publicK); int inputLen = data.length; ByteArrayOutputStream out = new ByteArrayOutputStream(); int offSet = 0; byte[] cache; int i = 0; // ÂØπÊï∞ÊçÆÂàÜÊÆµÂä†ÂØÜ while (inputLen - offSet &gt; 0) &#123; if (inputLen - offSet &gt; MAX_ENCRYPT_BLOCK) &#123; cache = cipher.doFinal(data, offSet, MAX_ENCRYPT_BLOCK); &#125; else &#123; cache = cipher.doFinal(data, offSet, inputLen - offSet); &#125; out.write(cache, 0, cache.length); i++; offSet = i * MAX_ENCRYPT_BLOCK; &#125; byte[] encryptedData = out.toByteArray(); out.close(); return encryptedData; &#125; ÂÖ¨Èí•Ëß£ÂØÜ123456789101112131415161718192021222324252627282930313233343536373839/** * &lt;p&gt; * ÂÖ¨Èí•Ëß£ÂØÜ * &lt;/p&gt; * * @param encryptedData Â∑≤Âä†ÂØÜÊï∞ÊçÆ * @param publicKey ÂÖ¨Èí•(BASE64ÁºñÁ†Å) * @return * @throws Exception */public static byte[] decryptByPublicKey(byte[] encryptedData, String publicKey) throws Exception &#123; byte[] keyBytes = Base64.decode(publicKey, Base64.NO_WRAP); X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); Key publicK = keyFactory.generatePublic(x509KeySpec); Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm()); cipher.init(Cipher.DECRYPT_MODE, publicK); int inputLen = encryptedData.length; ByteArrayOutputStream out = new ByteArrayOutputStream(); int offSet = 0; byte[] cache; int i = 0; // ÂØπÊï∞ÊçÆÂàÜÊÆµËß£ÂØÜ while (inputLen - offSet &gt; 0) &#123; if (inputLen - offSet &gt; MAX_DECRYPT_BLOCK) &#123; cache = cipher.doFinal(encryptedData, offSet, MAX_DECRYPT_BLOCK); &#125; else &#123; cache = cipher.doFinal(encryptedData, offSet, inputLen - offSet); &#125; out.write(cache, 0, cache.length); i++; offSet = i * MAX_DECRYPT_BLOCK; &#125; byte[] decryptedData = out.toByteArray(); out.close(); return decryptedData;&#125; ÁßÅÈí•Ëß£ÂØÜ1234567891011121314151617181920212223242526272829303132333435363738/** * &lt;P&gt; * ÁßÅÈí•Ëß£ÂØÜ * &lt;/p&gt; * * @param encryptedData Â∑≤Âä†ÂØÜÊï∞ÊçÆ * @param privateKey ÁßÅÈí•(BASE64ÁºñÁ†Å) * @return * @throws Exception */ public static byte[] decryptByPrivateKey(byte[] encryptedData, String privateKey) throws Exception &#123; byte[] keyBytes = Base64.decode(privateKey, Base64.NO_WRAP); PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); Key privateK = keyFactory.generatePrivate(pkcs8KeySpec); Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm()); cipher.init(Cipher.DECRYPT_MODE, privateK); int inputLen = encryptedData.length; ByteArrayOutputStream out = new ByteArrayOutputStream(); int offSet = 0; byte[] cache; int i = 0; // ÂØπÊï∞ÊçÆÂàÜÊÆµËß£ÂØÜ while (inputLen - offSet &gt; 0) &#123; if (inputLen - offSet &gt; MAX_DECRYPT_BLOCK) &#123; cache = cipher.doFinal(encryptedData, offSet, MAX_DECRYPT_BLOCK); &#125; else &#123; cache = cipher.doFinal(encryptedData, offSet, inputLen - offSet); &#125; out.write(cache, 0, cache.length); i++; offSet = i * MAX_DECRYPT_BLOCK; &#125; byte[] decryptedData = out.toByteArray(); out.close(); return decryptedData; &#125; Ê∂àÊÅØÁ≠æÂêç123456789101112131415161718192021/** * &lt;p&gt; * Áî®ÁßÅÈí•ÂØπ‰ø°ÊÅØÁîüÊàêÊï∞Â≠óÁ≠æÂêç * &lt;/p&gt; * * @param data Â∑≤Âä†ÂØÜÊï∞ÊçÆ * @param privateKey ÁßÅÈí•(BASE64ÁºñÁ†Å) * @return * @throws Exception */public static String sign(byte[] data, String privateKey) throws Exception &#123; byte[] keyBytes = Base64.decode(privateKey, Base64.NO_WRAP); PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); PrivateKey privateK = keyFactory.generatePrivate(pkcs8KeySpec); Signature signature = Signature.getInstance(SIGNATURE_ALGORITHM); signature.initSign(privateK); signature.update(data); return Base64.encodeToString(signature.sign(), Base64.NO_WRAP);&#125; È™åËØÅÁ≠æÂêç12345678910111213141516171819202122/** * &lt;p&gt; * ‰ΩøÁî®ÂÖ¨Èí•Ê†°È™åÊï∞Â≠óÁ≠æÂêç * &lt;/p&gt; * * @param data Â∑≤Âä†ÂØÜÊï∞ÊçÆ * @param publicKey ÂÖ¨Èí•(BASE64ÁºñÁ†Å) * @param sign Êï∞Â≠óÁ≠æÂêç * @return * @throws Exception */ public static boolean verifySign(byte[] data, String publicKey, String sign) throws Exception &#123; byte[] keyBytes = Base64.decode(publicKey, Base64.NO_WRAP); X509EncodedKeySpec keySpec = new X509EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); PublicKey publicK = keyFactory.generatePublic(keySpec); Signature signature = Signature.getInstance(SIGNATURE_ALGORITHM); signature.initVerify(publicK); signature.update(data); return signature.verify(Base64.decode(sign, Base64.NO_WRAP)); &#125; ÊäΩÂèñÂÖ¨ÂÖ±‰ª£Á†Å ÂèØ‰ª•ÂèëÁé∞ÊúâÂæàÂ§öÈáçÂ§ç‰ª£Á†ÅÔºåËøôÊ†∑ÂÜôÊòØ‰∏∫‰∫ÜÊõ¥Âä†Ê∏ÖÊô∞Ôºå‰ª£Á†ÅÊäΩÂèñ‰∏Ä‰∏ã 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273/** * * ‰ΩøÁî®ÁßÅÈí•Êìç‰ΩúÊó∂ * @param data * @param key * @param mode * @return * @throws Exception */ public static byte[] UsePrivate(byte[] data, String key,int mode) throws Exception &#123; byte[] keyBytes = Base64.decode(key, Base64.NO_WRAP); PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); Key privateK = keyFactory.generatePrivate(pkcs8KeySpec); Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm()); cipher.init(mode, privateK); int inputLen = data.length; ByteArrayOutputStream out = new ByteArrayOutputStream(); int offSet = 0; byte[] cache; int i = 0; // ÂØπÊï∞ÊçÆÂàÜÊÆµËß£ÂØÜ while (inputLen - offSet &gt; 0) &#123; if (inputLen - offSet &gt; MAX_DECRYPT_BLOCK) &#123; cache = cipher.doFinal(data, offSet, MAX_DECRYPT_BLOCK); &#125; else &#123; cache = cipher.doFinal(data, offSet, inputLen - offSet); &#125; out.write(cache, 0, cache.length); i++; offSet = i * MAX_DECRYPT_BLOCK; &#125; byte[] decryptedData = out.toByteArray(); out.close(); return decryptedData; &#125; /** * ‰ΩøÁî®ÂÖ¨Èí•Êìç‰Ωú * @param data * @param key * @param mode * @return * @throws Exception */ public static byte[] UsePublic(byte[] data, String key,int mode) throws Exception &#123; byte[] keyBytes = Base64.decode(key, Base64.NO_WRAP); X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes); KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM); Key publicK = keyFactory.generatePublic(x509KeySpec); Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm()); cipher.init(mode, publicK); int inputLen = data.length; ByteArrayOutputStream out = new ByteArrayOutputStream(); int offSet = 0; byte[] cache; int i = 0; // ÂØπÊï∞ÊçÆÂàÜÊÆµËß£ÂØÜ while (inputLen - offSet &gt; 0) &#123; if (inputLen - offSet &gt; MAX_DECRYPT_BLOCK) &#123; cache = cipher.doFinal(data, offSet, MAX_DECRYPT_BLOCK); &#125; else &#123; cache = cipher.doFinal(data, offSet, inputLen - offSet); &#125; out.write(cache, 0, cache.length); i++; offSet = i * MAX_DECRYPT_BLOCK; &#125; byte[] decryptedData = out.toByteArray(); out.close(); return decryptedData; &#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mac + AndroidStudio Âø´Êç∑Êìç‰Ωú]]></title>
    <url>%2Farticle%2F8d16bcb4%2F</url>
    <content type="text"><![CDATA[Âø´Êç∑ÈîÆÂ∏∏Áî®123456789101112131415161718- Âø´ÈÄüÊèêÁ§∫alt + Enter- Ë∑≥ËΩ¨Âà∞Êüê‰∏ÄË°åcommand + L- Êï¥ÁêÜ‰ª£Á†Åalt + command + L- ÈáçÂëΩÂêçÂèòÈáèshift + F6- ‰ª£Á†ÅÂ§ßÂ∞èÂÜôËΩ¨Êç¢shift + command + u- ÂàóÈÄâ‰∏≠alt + Èº†Ê†á ÊèêÂèñ12345- ÊèêÂèñ‰ª£Á†ÅÂùó‰∏∫ÊñπÊ≥ïalt + command + M (method)- ÊèêÂèñÂ±ÄÈÉ®ÂèòÈáè‰∏∫ÂÖ®Â±ÄÂèòÈáèalt + command + F (field) ÊêúÁ¥¢ÔºèÊõøÊç¢12345678910111213141516- ÊêúÁ¥¢ java Êñá‰ª∂command + O- ÊêúÁ¥¢ÊâÄÊúâÊñá‰ª∂shift + command + O - Êñá‰ª∂ÂÜÖÊü•ÊâæÊñáÊú¨command + F- È°πÁõÆÂÜÖÊü•ÊâæÊñáÊú¨shift + command + F- Êñá‰ª∂ÂÜÖÊñáÊú¨ÊõøÊç¢command + R- È°πÁõÆÂÜÖÊñáÊú¨ÊõøÊç¢shift + command + R- search everywhere ÂèåÂáª shift project Êìç‰Ωú12345678910- ÊâìÂºÄ ProjectStructurecommand + ;(ÂàÜÂè∑)- ÊâìÂºÄ settingscommand + ,(ÈÄóÂè∑)- ËøêË°åÈ°πÁõÆcontrol + R- ËøêË°å freelineshift + command + F10 ‰ª£Á†ÅÂø´Êç∑Áî®Ê≥ïÈÄöÁî®12345678910111213141516171819202122232425User user = new User();// Âà§Êñ≠‰∏ç‰∏∫Á©∫; user.nnif (user != null) &#123;&#125;// Âà§Êñ≠‰∏∫Á©∫; user.nullif (user == null) &#123;&#125;// ËøîÂõû; user.returnreturn user;// instanceof Âà§Êñ≠; user.instList temp = user instanceof List ? ((List) list) : null;// ÁîüÊàêÊù°‰ª∂Ë°®ËææÂºè; Êù°‰ª∂Ë°®ËææÂºè.if Â¶ÇËæìÂÖ• 100&gt;10.ifif (100 &gt; 10) &#123; &#125;// ÁîüÊàêwhileÂæ™ÁéØ; Êù°‰ª∂Ë°®ËææÂºè.while Â¶ÇËæìÂÖ• 100&gt;10.whilewhile (100 &gt; 10) &#123; &#125; Âø´ÈÄüÈÅçÂéÜ12345678910111213141516List&lt;String&gt; list = new ArrayList&lt;&gt;();// list.forfor (String s : list) &#123; &#125;// list.forifor (int i = 0; i &lt; list.size(); i++) &#123; &#125;// list.forrfor (int i = list.size() - 1; i &gt;= 0; i--) &#123; &#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>DevEnvironment</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TabLayout]]></title>
    <url>%2Farticle%2F1315779230%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªç TabLayout ÁöÑËØ¶ÁªÜ‰ΩøÁî®ÔºåÊåÅÁª≠ÂÆåÂñÑ‰∏≠‚Ä¶ TabLayout ÁöÑÂü∫Êú¨Â±ûÊÄßÂèäÊïàÊûú TabLayout ‰∏é ViewPager ËÅîÂä® Ëá™ÂÆö‰πâ TabLayout ÁöÑ tab ÊòæÁ§∫ Âü∫Êú¨Â±ûÊÄß‰ªãÁªç12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;android.support.design.widget.TabLayout android:id="@+id/fragment_discover_tably" android:layout_width="match_parent" android:layout_height="wrap_content"/&gt; 1. tabModeapp:tabMode="fixed|scrollable" tabModeÂ±ûÊÄßÊúâ‰∏§‰∏™ÂèñÂÄº:fixedÊó∂ÔºåÊâÄÊúâÁöÑtab‰ºöÂ±Ö‰∏≠ÊòæÁ§∫ÔºåÊòØ‰∏çÂèØÊªëÂä®ÁöÑÔºåscrollableÊó∂ÔºåÊâÄÊúâÁöÑtab‰ºöÈù†Â∑¶ÊòæÁ§∫ÔºåÂΩìtabÊï∞ÈáèÂæàÂ§öÊó∂ÔºåÂ∞±‰ºöÂëàÁé∞ÊªëÂä®ÁöÑÊïàÊûúÔºåËøôÂØπÈÄÇÈÖçÂ∞èÂ±èÂπïÊâãÊú∫Ëá≥ÂÖ≥ÈáçË¶Å„ÄÇ2. ÂØºËà™Êù°ÁöÑÈ´òÂ∫¶ÂíåÈ¢úËâ≤app:tabIndicatorHeight="3dp"app:tabIndicatorColor="#af00"3. tabÁöÑÂÆΩÂ∫¶ÈôêÂà∂ÂΩìÊñáÂ≠óÂæàÂ∞ëÊó∂‰ªçÊóß‰∏ç‰ºöÂ∞è‰∫étabMinWidthÂΩìÊñáÂ≠óËøáÂ§öÊó∂Ôºå‰πü‰∏ç‰ºöÂ∞ÜtabÊíëÁöÑË∂ÖËøátabMaxWidthapp:tabMaxWidth="150dp"app:tabMinWidth="60dp"4. tabË¢´ÈÄâ‰∏≠ÊàñÊ≤°ÊúâË¢´ÈÄâ‰∏≠Êó∂ÁöÑÈ¢úËâ≤app:tabTextColor="@color/black"app:tabSelectedTextColor="@color/colorPrimary"5. Êõ¥ÊîπTab‰∏äÈù¢ÁöÑTextViewÁöÑËØ¶ÁªÜÊòæÁ§∫app:tabTextAppearance="@style/TabLayoutStyle"&lt;style name="TabLayoutStyle" parent="TextAppearance.Design.Tab"&gt; &lt;item name="android:textSize"&gt;16sp&lt;/item&gt; &lt;item name="android:textStyle"&gt;normal&lt;/item&gt;&lt;/style&gt;6. ËÉåÊôØapp:tabBackground="@color/transparent"ËÆæÁΩÆtabÁöÑËÉåÊôØÈ¢úËâ≤ÔºåÈªòËÆ§TabLayoutÁÇπÂáªÊó∂ÊòØÊúâÂÖâÊôïÊïàÊûúÁöÑÔºå‰ΩøÁî®ËØ•Â±ûÊÄßÂèØ‰ª•ÂéªÊéâÂÖâÊôïÊïàÊûú„ÄÇ7. tabÈó¥ÈöîÈªòËÆ§tabÂ∑¶Âè≥‰∏§ËæπÊòØÊúâpaddingÁöÑÔºå‰ΩøÁî®‰ª•‰∏ãÂ±ûÊÄßÂèØ‰ª•ÂéªÊéâpaddingÔºåÂè™‰ΩøÁî®tabPaddingÊòØÊ≤°ÊúâÊïàÊûúÁöÑÔºåË¶ÅÂÖ∑‰ΩìÂà∞ËÆæÁΩÆÂà∞Âì™‰∏™padding app:tabPadding="0dp"app:tabPaddingBottom="0dp"app:tabPaddingEnd="0dp"app:tabPaddingStart="0dp"app:tabPaddingTop="0dp" ‰∏é ViewPager ËÅîÂä®‰ΩøÁî® TabLayout ÁöÑ setupWithViewPager() ÊñπÊ≥ïÔºåÂèØ‰ª•ÂÆûÁé∞‰∏é ViewPager ÁöÑËÅîÂä®Ôºå‰ΩÜÊòØÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂÜô ViewPager Êó∂ÈúÄË¶ÅÂÆûÁé∞ getTitle() ÊñπÊ≥ïÔºåÁî®Êù•ËÆæÁΩÆ tab ÁöÑÊ†áÈ¢ò„ÄÇÂéüÂÖàÁªô Tab ËÆæÁΩÆÁöÑÊ†áÈ¢òÂ∞Ü‰ºöË¢´Ë¶ÜÁõñÊéâ„ÄÇ 1tabLy.setupWithViewPager(viewPager); Ëá™ÂÆö‰πâ Tab ÊòæÁ§∫ÈªòËÆ§ÁöÑ TabLayout ÊòØÂèØ‰ª•ÊòæÁ§∫ÊñáÂ≠óÂíå Icon ÁöÑÔºå‰ΩÜÊòØÂÆöÂà∂Â∫¶‰∏çÊòØÂæàÈ´òÔºåÂæÄÂæÄ‰∏çËÉΩÂÆûÁé∞È¢ÑÊúüÊïàÊûúÔºå‰∏çËøáÂ•ΩÂú® TabLayout ÂºÄÊîæ‰∫Ü setCustomView(childView) Ëøô‰∏™ API Êù•ÊîØÊåÅÊàë‰ª¨Ëá™ÂÆö‰πâ TabLayout ÁöÑUIÔºåÂΩìÁÑ∂Ëá™ÂÆö‰πâÊòæÁ§∫‰πãÂêé‰πüÊçüÂ§±‰∫ÜÂàáÊç¢Êó∂È¢úËâ≤ÂàáÊç¢Á≠âÊïàÊûúÔºåÈúÄË¶ÅÊàë‰ª¨Ëá™Â∑±Êù•Â§ÑÁêÜÔºå‰∏ãÈù¢ÊòØÊàëÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ËæÖÂä©Á±ªÔºå‰ΩøÁî®Á±ª‰ºº adapter ÁöÑÂΩ¢ÂºèÊù•Âä†ËΩΩ TabLayout ÁöÑÊØè‰∏™ tab ÁöÑÊòæÁ§∫ÔºåÂÆûÁé∞Ëá™ÂÆö‰πâÊïàÊûúÔºå‰πüÂØπÈÄâ‰∏≠‰∫ã‰ª∂Á≠â‰Ωú‰∫ÜÁÆÄÂåñÊìç‰Ωú„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194/** * CreateAt : 2017/3/29 * Describe : TabLayoutÈÄÇÈÖçÂô®,Âø´ÈÄüÂÆûÁé∞TabLayoutËá™ÂÆö‰πâViewÊï∞ÊçÆÂä†ËΩΩ * * @author chendong */public abstract class BaseTabAdapter&lt;T&gt; &#123; public static final String TAG = BaseTabAdapter.class.getSimpleName(); private Context mContext; // Ëá™ÂÆö‰πâÂ∏ÉÂ±ÄlayoutÊñá‰ª∂ private int mResId; // Êï∞ÊçÆÊ∫ê private List&lt;T&gt; mDatas; // ÂÖ®ÈÉ®ÁöÑÊéß‰ª∂ÔºåÁî®Êù•ÂàáÊç¢Êó∂ÊîπÂèòÊòæÁ§∫ private List&lt;TabLayoutViewHolder&gt; mTabLayoutViewHolders; // tabLayout private TabLayout mTabLayout; // ÁÆÄÂåñÁöÑtabÁÇπÂáª‰∫ã‰ª∂ private OnTabSelectListener&lt;T&gt; mOnTabSelectListener; private boolean mIsReady; /** * TabÈÄâ‰∏≠ÁöÑÊé•Âè£ * * @param &lt;T&gt; */ public interface OnTabSelectListener&lt;T&gt; &#123; void onSelect(int pos, T data); &#125; protected BaseTabAdapter(Context context, List&lt;T&gt; datas, int resId) &#123; mDatas = datas; mContext = context; mResId = resId; mTabLayoutViewHolders = new ArrayList&lt;&gt;(); &#125; public void attachTabLayout(TabLayout tabLayout) &#123; tabLayout.clearOnTabSelectedListeners(); attachTabLayout(tabLayout, 0); &#125; public void attachTabLayout(TabLayout tabLayout, int posSelect) &#123; mIsReady = false; mTabLayout = tabLayout; // ËÆæÁΩÆÂØºËà™Êù°È´òÂ∫¶=0 tabLayout.setSelectedTabIndicatorHeight(0); tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() &#123; @Override public void onTabSelected(TabLayout.Tab tab) &#123; L.e(TAG, "onTabSelected " + tab.getPosition()); int position = tab.getPosition(); if (mIsReady &amp;&amp; mOnTabSelectListener != null) &#123; mOnTabSelectListener.onSelect(position, mDatas.get(position)); &#125; updateStatus(mTabLayoutViewHolders.get(position), mDatas.get(position), true); &#125; @Override public void onTabUnselected(TabLayout.Tab tab) &#123; L.e(TAG, "onTabUnselected " + tab.getPosition()); updateStatus(mTabLayoutViewHolders.get(tab.getPosition()), mDatas.get(tab.getPosition()), false); &#125; @Override public void onTabReselected(TabLayout.Tab tab) &#123; L.e(TAG, "onTabReselected " + tab.getPosition()); updateStatus(mTabLayoutViewHolders.get(tab.getPosition()), mDatas.get(tab.getPosition()), true); &#125; &#125;); // ÂàùÂßãÂåñview,ÈªòËÆ§ÂàùÂßãÂåñ‰∏∫ÂÖ®ÈÉ®‰∏çÈÄâ‰∏≠ View childView; TabLayoutViewHolder holder; TabLayout.Tab tab; for (int i = 0; i &lt; mDatas.size(); i++) &#123; childView = LayoutInflater.from(mContext).inflate(mResId, tabLayout, false); holder = new TabLayoutViewHolder(childView); mTabLayoutViewHolders.add(holder); updateStatus(mTabLayoutViewHolders.get(i), mDatas.get(i), false); tab = tabLayout.newTab().setCustomView(childView); tabLayout.addTab(tab); &#125; // ÈÄâ‰∏≠ÂàùÂßãÂåñÈÄâ‰∏≠ÁöÑÈÇ£‰∏™ TabLayout.Tab tabAt = tabLayout.getTabAt(posSelect); if (tabAt != null) &#123; tabAt.select(); if (mOnTabSelectListener != null) &#123; mOnTabSelectListener.onSelect(posSelect, mDatas.get(posSelect)); &#125; &#125; mIsReady = true; &#125; public void notifyItemChanged(int pos) &#123; if (pos &gt;= 0 &amp;&amp; pos &lt; mDatas.size()) &#123; TabLayout.Tab tabAt; tabAt = mTabLayout.getTabAt(pos); updateStatus(mTabLayoutViewHolders.get(pos), mDatas.get(pos), tabAt != null &amp;&amp; tabAt.isSelected()); &#125; &#125; public void notityDataSetChanged() &#123; TabLayout.Tab tabAt; for (int i = 0; i &lt; mDatas.size(); i++) &#123; tabAt = mTabLayout.getTabAt(i); updateStatus(mTabLayoutViewHolders.get(i), mDatas.get(i), tabAt != null &amp;&amp; tabAt.isSelected()); &#125; &#125; /** * ÊäΩË±°ÊñπÊ≥ïÔºåÊõ¥Êñ∞Êéß‰ª∂Áä∂ÊÄÅÊòæÁ§∫ * * @param holder view holder * @param data Êï∞ÊçÆ * @param isSelect ÊòØÂê¶ÈÄâ‰∏≠ */ public abstract void updateStatus(TabLayoutViewHolder holder, T data, boolean isSelect); public void setOnTabSelectListener(OnTabSelectListener&lt;T&gt; onTabSelectListener) &#123; mOnTabSelectListener = onTabSelectListener; &#125; public interface OnBuildTabListener&lt;D&gt; &#123; TabLayout.Tab onBuild(TabLayout.Tab tab, D data); &#125; public static &lt;D&gt; void buildTabLayout(TabLayout tabLayout, List&lt;D&gt; datas, OnBuildTabListener&lt;D&gt; listener) &#123; TabLayout.Tab tab; for (D data : datas) &#123; tab = tabLayout.newTab(); tabLayout.addTab(listener.onBuild(tab, data)); &#125; &#125; /** * ÂÖ¨ÂÖ±holderÔºåÁî®Êù•Â≠òÂÇ®ÂíåÂø´ÈÄüËé∑ÂèñÊéß‰ª∂ */ public static class TabLayoutViewHolder &#123; private View parentView; private SparseArray&lt;View&gt; mCacheViews; public View getItemView() &#123; return parentView; &#125; TabLayoutViewHolder(View parentView) &#123; this.parentView = parentView; mCacheViews = new SparseArray&lt;&gt;(); &#125; public &lt;V extends View&gt; V getView(int resId) &#123; V v = (V) mCacheViews.get(resId); if (v == null) &#123; v = (V) parentView.findViewById(resId); if (v != null) &#123; mCacheViews.put(resId, v); &#125; &#125; return v; &#125; &#125; public void setUpViewPager(final ViewPager viewPager) &#123; if (mTabLayout == null) &#123; Log.e("chendong", "TabLayout is null ,invoke attachTabLayout first"); return; &#125; mTabLayout.addOnTabSelectedListener(new MyOnTabSelectedListener() &#123; @Override public void onTabSelected(TabLayout.Tab tab) &#123; if (viewPager != null) viewPager.setCurrentItem(tab.getPosition()); &#125; &#125;); if (viewPager != null) viewPager.addOnPageChangeListener(new MyOnPageChangeListener() &#123; @Override public void onPageSelected(int position) &#123; if (mTabLayout != null) &#123; TabLayout.Tab tabAt = mTabLayout.getTabAt(position); if (tabAt != null) tabAt.select(); &#125; &#125; &#125;); &#125;&#125; how to usage? 123456789101112131415161718BaseTabAdapter&lt;Baby&gt; adapter = new BaseTabAdapter&lt;Baby&gt;(mActivty, babies, R.layout.vip_select_family_baby_item) @Override public void updateStatus(TabLayoutViewHolder holder, Baby data, boolean isSelect) &#123; holder.getView(R.id.parent).getLayoutParams().width = (int) (BaoBaoApplication.DISPLAY_WIDTH / 3f); TextView nameTv = holder.getView(R.id.tv_name); nameTv.setText(data.getBabyName()); holder.getView(R.id.view_line).setBackgroundColor(isSelect ? ContextCompat.getColor(mBaseFragmentActivity, R.color.colorPrimary) : ContextCompat.getColor(mBaseFragmentActivity, R.color.color_EFEFEF)); &#125;&#125;;adapter.setOnTabSelectListener(new BaseTabAdapter.OnTabSelectListener&lt;Baby&gt;() &#123; @Override public void onSelect(int pos, Baby data) &#123; // ËØ∑Ê±ÇÊï∞ÊçÆÔºåÂ±ïÁ§∫Êï∞ÊçÆ &#125;&#125;);adapter.attachTabLayout(mTabLayout, 1);]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®‰º†ÁªüAndroidÁªÑ‰ª∂ÂÆûÁé∞È´òÊïàÊï∞ÊçÆÂä†ËΩΩ]]></title>
    <url>%2Farticle%2F3092091804%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä Êú¨Êñá‰∏ªË¶Å‰ªãÁªç‰ΩøÁî®ContentProvider + Sqlite + LoaderÁ≠âAndroidÁöÑÂü∫Êú¨ÁªÑ‰ª∂ÂÆûÁé∞È´òÂÜÖËÅö‰ΩéËÄ¶ÂêàÁöÑÊï∞ÊçÆÂä†ËΩΩÁöÑÊï∞ÊçÆËÆæËÆ°Ê®°ÂºèÔºåËøôÊòØ‰∏ÄÁßç‰º†ÁªüËÄåÈ´òÊïàÁöÑÊï∞ÊçÆÂä†ËΩΩÔºåÁÜüÊÇâËøôÁßçÊ®°ÂºèÂêåÊó∂‰πüÊòØÂØπContentProviderÁöÑÊõ¥Â•ΩÊéåÊè°„ÄÇ ‰ºòÂäø ContentProviderÂèØ‰ª•ÈùûÂ∏∏ÁÆÄÂçïÁöÑË∞ÉÊï¥Êï∞ÊçÆÊ∫êËÄå‰∏çÂΩ±ÂìçÂÖ∂‰ªñÁ®ãÂ∫è„ÄÇÂ§ñÈÉ®Á®ãÂ∫è‰∏çÂÖ≥ÂøÉÊï∞ÊçÆÔºåÂè™ÂÖ≥ÂøÉËøîÂõûÁöÑCursor.‰∏æ‰∏™‰æãÂ≠êÔºåContentProviderÊåáÂêëÁöÑÊï∞ÊçÆÂ∫ìÂèØ‰ª•ÈöèÊó∂ÊîπÂèò‰∏ç‰ºöÂΩ±Âìç‰ΩøÁî®ËÄÖÔºåÂêåÊó∂ContentProvider‰πüÂèØ‰ª•ËøîÂõûÁΩëÁªúÊï∞ÊçÆÔºå‰ΩøÁî®ËÄÖÂè™Ë¶ÅÊ±ÇÁªìÊûúÊòØCursor,‰ΩÜÊòØÂØπ‰∫éÊï∞ÊçÆÊù•Ëá™Âì™ÈáåÂπ∂‰∏çÂÖ≥ÂøÉÔºåËøôÊ†∑Â∞±ÂÆûÁé∞‰∫ÜÊï∞ÊçÆËØªÂèñÂíå‰ΩøÁî®ÁöÑÂàÜÁ¶ª„ÄÇ Êèê‰æõÊï∞ÊçÆÂÆâÂÖ®‰øùÊä§‰∏éÊùÉÈôêÁÆ°ÁêÜÔºåContentProvider‰ΩøÁî®ÊéàÊùÉÊú∫Âà∂ÔºåÂØπÊï∞ÊçÆÂú®Êñπ‰æøËÆøÈóÆÁöÑÂêåÊó∂ËøõË°å‰∫ÜÂæàÂ•ΩÂú∞‰øùÊä§„ÄÇ Âº∫Â§ßÁöÑAPIÊîØÊåÅÔºåGoogleÂÆòÊñπÊèê‰æõ‰∫ÜÂº∫Â§ßÁöÑAPI. ##LoaderÁâπÁÇπÔºö ‰∏éActivityÁÆ°ÁêÜÂêåÊ≠•Ôºå‰∏éActivity/FragmentÁîüÂëΩÂë®ÊúüÂêåÊ≠•ÔºåÂàõÂª∫‰∏éÈîÄÊØÅÈÉΩ‰ºöÂèóÂà∞Activity/FragmentÁîüÂëΩÂë®ÊúüÁöÑÁÆ°ÁêÜ„ÄÇËøôÂ∞±ÊÑèÂë≥ÁùÄÊàë‰ª¨‰∏çÈúÄË¶ÅÂÜçÂéªËÄÉËôë‰ΩïÊó∂ÂéªÂä†ËΩΩÊï∞ÊçÆÔºå‰ΩøÁî®Loader‰πãÂêé‰ºöÁªìÂêàActivityÊàñËÄÖFragmentÁöÑÁîüÂëΩÂë®ÊúüËá™Ë°åËøõË°åÂä†ËΩΩÂíåÊõ¥Êñ∞„ÄÇ ÂÜÖÈÉ®Á∫øÁ®ãÂºÇÊ≠•Âä†ËΩΩÔºåÊàë‰ª¨‰πüÂ∞±‰∏çÈúÄË¶ÅÂÜçÂéªÂºÄÂêØÁ∫øÁ®ãËé∑ÂèñÊï∞ÊçÆËß£ÊûêÊï∞ÊçÆÔºåÂ§ßÂ§ßÂáèÂ∞ë‰∫Ü‰ª£Á†ÅÈáè„ÄÇ Êï∞ÊçÆÊ∫êÂèëÁîüÊîπÂèòÊó∂ÂÆûÊó∂Êõ¥Êñ∞ÔºåË≤å‰ººÊàë‰ª¨Ëá™Â∑±ÁöÑÊï∞ÊçÆÊï∞ÊçÆÊòØÊó†Ê≥ïËá™Âä®Êõ¥Êñ∞ÁöÑÔºå‰∏çËøá‰∏çË¶ÅÁ¥ßÔºåÂè™ÈúÄË¶Å‰∏ÄË°åÁÆÄÂçïÁöÑreStartLoaderÂ∞±ÂèØ‰ª•ÊâãÂä®ÈáçÊñ∞Âä†ËΩΩ‰∏Ä‰∏ã„ÄÇ Êï∞ÊçÆÂàÜÂ±Ç Loader ÂÜôÊìç‰Ωú ContentProvider SQLite ÂÆö‰πâÂÖ≥Á≥ªÁ±ª ÂÆö‰πâ‰∏Ä‰∏™ÂÖ≥Á≥ªÁ±ªÔºåÂ£∞ÊòéË°®ÁªìÊûÑ,Uri,ÊéàÊùÉ 1234567891011121314151617181920212223242526public class WebContract &#123; public static final String Tb_History = &quot;tb_history&quot;; public static final String Tb_BookMark = &quot;tb_bookmark&quot;; public static final String Authority = &quot;com.march.db_browser&quot;; public static class History implements BaseColumns &#123; //content://com.march.db_browser/tb_history public static final Uri ContentUri = Uri.parse( &quot;content://&quot; + Authority).buildUpon().appendPath(Tb_History).build(); public static final String Link = &quot;link&quot;; public static final String Icon = &quot;icon&quot;; public static final String Title = &quot;title&quot;; public static final String Time = &quot;time&quot;; &#125; public static class BookMark implements BaseColumns &#123; //content://com.march.db_browser/tb_history public static final Uri ContentUri = Uri.parse( &quot;content://&quot; + Authority).buildUpon().appendPath(Tb_BookMark).build(); public static final String Link = &quot;link&quot;; public static final String Icon = &quot;icon&quot;; public static final String Title = &quot;title&quot;; public static final String Time = &quot;time&quot;; &#125;&#125; ÁªßÊâøContentProvider ÂÆûÁé∞Êï∞ÊçÆÊèê‰æõËÄÖÔºåËÆæÂÆöÂ•ΩCode‰Ωú‰∏∫Ë°®ËµÑÊ∫êÁöÑÂîØ‰∏ÄÊ†áÁ§∫Ôºå‰ΩøÁî®UriMacherÂåπÈÖç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889public class WebContentProvider extends ContentProvider &#123;/*‰∏∫ÂèØ‰ª•ËÆøÈóÆÁöÑÊï∞ÊçÆÂ∫ìË°®ËµÑÊ∫êÂÆö‰πâ‰ª£Âè∑ÔºåÂå∫ÂàÜÂì™‰∏™Ë°®ÂèØ‰ª•Ë¢´ËÆøÈóÆ*/private static final int CODE_BOOKMARK = 0x1;private static final int CODE_HISTORY = 0x2;/*‰ΩøÁî®UriMacherÁîüÊàêËÆøÈóÆÁöÑUri*/private static UriMatcher uriMatcher;/*‰ΩøÁî®ÈùôÊÄÅ‰ª£Á†ÅÂùóÂàùÂßãÂåñUriMacher,Ê∑ªÂä†*/static &#123;uriMatcher = new UriMatcher(UriMatcher.NO_MATCH);uriMatcher.addURI(WebContract.Authority, WebContract.Tb_BookMark, CODE_BOOKMARK);uriMatcher.addURI(WebContract.Authority, WebContract.Tb_History, CODE_HISTORY);&#125;private MySqliteOpenHelper mySqliteOpenHelper;private SQLiteDatabase db;@Overridepublic boolean onCreate() &#123;mySqliteOpenHelper = new MySqliteOpenHelper(getContext(), "db_browser", 1);return false;&#125;@Overridepublic Cursor query(Uri uri, String[] projection, String selection, String[] selectionArgs, String sortOrder) &#123;Cursor cursor = null;if (uri != null) &#123;int code = uriMatcher.match(uri);db = mySqliteOpenHelper.getWritableDatabase();switch (code) &#123;case CODE_BOOKMARK:cursor = db.query(WebContract.Tb_BookMark, null, null, null, null, null, null);break;case CODE_HISTORY:cursor = db.query(WebContract.Tb_History, null, null, null, null, null, null);break;&#125;&#125;if (cursor == null) &#123;Log.i("chendong", "cursor is null");&#125; // db.close();//ËØªÊìç‰Ωú‰∏çËÉΩÂÖ≥Èó≠ËøûÊé•ÔºåÂÜôÊìç‰ΩúÈúÄË¶ÅÂÖ≥Èó≠ËøûÊé•return cursor;&#125;@Overridepublic String getType(Uri uri) &#123;return null;&#125;@Overridepublic Uri insert(Uri uri, ContentValues values) &#123;Uri uri_return = null;if (uri != null) &#123;int code = uriMatcher.match(uri);db = mySqliteOpenHelper.getWritableDatabase();long id = -1;switch (code) &#123;case CODE_BOOKMARK:id = db.insert(WebContract.Tb_BookMark, null, values);break;case CODE_HISTORY:id = db.insert(WebContract.Tb_History, null, values);break;&#125;if (id != -1) &#123;uri_return = ContentUris.withAppendedId(uri, id);&#125;db.close();&#125;return uri_return;&#125;@Overridepublic int delete(Uri uri, String selection, String[] selectionArgs) &#123;// Implement this to handle requests to delete one or more rows.throw new UnsupportedOperationException("Not yet implemented");&#125;@Overridepublic int update(Uri uri, ContentValues values, String selection, String[] selectionArgs) &#123;// TODO: Implement this to handle requests to update one or more rows.throw new UnsupportedOperationException("Not yet implemented");&#125;&#125; ‰ΩøÁî®LoaderÂä†ËΩΩÊï∞ÊçÆ``` adapter = new SimpleCursorAdapter(this, R.layout.item_listview, null, new String[]{WebContract.History.Title, WebContract.History.Link}, new int[]{R.id.item_listview_title, R.id.item_listview_url}, SimpleCursorAdapter.FLAG_REGISTER_CONTENT_OBSERVER); listView.setAdapter(adapter); getLoaderManager().initLoader(0x123, bundle, this); //ËøôÊòØÂÆûÁé∞ÁöÑ implements LoaderManager.LoaderCallbacks&lt;Cursor&gt; ÁöÑÊñπÊ≥ï @Override public Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args) { int action = args.getInt(&quot;action&quot;); CursorLoader cursorLoader = null; Log.i(&quot;chendong&quot;, &quot;action is &quot; + action); if (action == 0) { //history cursorLoader = new CursorLoader(this, WebContract.History.ContentUri, null, null, null, null); } else { cursorLoader = new CursorLoader(this, WebContract.BookMark.ContentUri, null, null, null, null); } return cursorLoader; } @Override public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data) { Log.i(&quot;chendong&quot;, &quot;get data &quot;); adapter.changeCursor(data); } @Override public void onLoaderReset(Loader&lt;Cursor&gt; loader) { } ‰ΩøÁî® getLoaderManager().restartLoader(0x123, bundle, this); ÈáçÊñ∞Âä†ËΩΩÊï∞ÊçÆ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÁºñÁ†ÅËß£Á†ÅÂèäÂÖ∂ÂéüÁêÜ]]></title>
    <url>%2Farticle%2F438600076%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä Êú¨ÊñáÁî®Âà∞ASCIIË°®ÔºåBase64ÂØπÁÖßË°®ËØ∑Ëá™Ë°åÁôæÂ∫¶„ÄÇ Ê¶ÇÂøµÔºöÁºñÁ†ÅËß£Á†ÅÂ∞±ÊòØ‰ΩøÁî®ÁâπÂÆöÁöÑÁÆóÊ≥ïÔºåÂ∞ÜÊï∞ÊçÆËøõË°åÂ§ÑÁêÜÔºåÂΩ¢ÊàêÊï∞ÊçÆÁöÑÂè¶Â§ñ‰∏ÄÁßçË°®Áé∞ÂΩ¢ÂºèÔºåÁºñÁ†ÅÂêéÁöÑÊï∞ÊçÆÂèØ‰ª•‰ΩøÁî®Ëß£Á†ÅÁÆóÊ≥ïËøòÂéüÂá∫ÂéüÂßãÊï∞ÊçÆ„ÄÇ Base64ÁÆÄ‰ªã Base64ÁÆóÊ≥ïÂèØ‰ª•Â∞Ü‰ªªÊÑèÁöÑÂ≠óËäÇÊï∞ÁªÑÊï∞ÊçÆÈÄöËøáÁÆóÊ≥ïÁîüÊàêÂè™ÊúâÔºàËã±ÊñáÂ§ßÂ∞èÂÜôÔºåÊï∞Â≠óÔºå+Ôºå/ÔºâÂÖ±64ÁßçÂ≠óÁ¨¶ÁöÑÂ≠óÁ¨¶‰∏≤Êï∞ÊçÆÔºõÁõ∏ÂΩì‰∫éÂ∞Ü‰ªªÊÑèÂÜÖÂÆπËΩ¨Êç¢‰∏∫ÂèØËßÅÂ≠óÁ¨¶‰∏≤Ë°®Á§∫„ÄÇ ‰πüÂ∞±ÊòØÂ∞Ü‰∏çÂèØËßÅÁöÑÊï∞ÊçÆËΩ¨Êç¢‰∏∫ASCIIÁ†ÅÊï∞ÊçÆÔºå‰æø‰∫éÂú®JsonÂíåXml‰∏≠‰º†ÈÄí„ÄÇ Base64Api1234567891011121314//Â∞ÜÂ≠óËäÇÊï∞ÁªÑÁºñÁ†ÅÔºåËøîÂõû‰∏∫StringBase64.encodeToString(byte[] bs,int flag);//Â∞ÜÂ≠óËäÇÊï∞ÁªÑÁºñÁ†ÅÔºåËøîÂõûÂ≠óËäÇÊï∞ÁªÑBase64.encode(byte[] bs,int flag);//Â∞ÜÂ≠óËäÇÊï∞ÁªÑÊåâÊåáÂÆö‰ΩçÁΩÆÈÉ®ÂàÜÁºñÁ†ÅÔºåËøîÂõûÂ≠óÁ¨¶‰∏≤Base64.encodeToString(byte[] bs,int offset,int lenth);//Â∞ÜÂ≠óËäÇÊï∞ÁªÑÊåâÊåáÂÆö‰ΩçÁΩÆÈÉ®ÂàÜÁºñÁ†ÅÔºåËøîÂõûÂ≠óËäÇÊï∞ÁªÑBase64.encode(byte[] bs,int offset,int lenth);//Â∞ÜÁºñÁ†ÅÂêéÁöÑÂ≠óÁ¨¶‰∏≤Ëß£Á†ÅËøîÂõûÂ≠óËäÇÊï∞ÁªÑBase64.decode(String str,int flag);//Â∞ÜÁºñÁ†ÅÂêéÁöÑÂ≠óËäÇÊï∞ÁªÑËß£Á†ÅËøîÂõûÂ≠óËäÇÊï∞ÁªÑBase64.decode(byte[],int flag);//Â∞ÜÁºñÁ†ÅÂêéÁöÑÂ≠óËäÇÊï∞ÁªÑÊåâÊåáÂÆö‰ΩçÁΩÆÈÉ®ÂàÜËß£Á†ÅÔºåËøîÂõûÂ≠óËäÇÊï∞ÁªÑBase64.decode(byte[] bs,int offset,int len); flagÂ∏∏Èáè1234567891011Base64.CRLF Ëøô‰∏™ÂèÇÊï∞ÊÑèÊÄùÊòØWinÈ£éÊ†ºÁöÑÊç¢Ë°åÁ¨¶ÔºåÊÑèÊÄùÂ∞±ÊòØ‰ΩøÁî®CR LFËøô‰∏ÄÂØπ‰Ωú‰∏∫‰∏ÄË°åÁöÑÁªìÂ∞æËÄå‰∏çÊòØUnixÈ£éÊ†ºÁöÑLFBase64.DEFAULT Ëøô‰∏™ÂèÇÊï∞ÊòØÈªòËÆ§Ôºå‰ΩøÁî®ÈªòËÆ§ÁöÑÊñπÊ≥ïÊù•Âä†ÂØÜBase64.NO_PADDING Ëøô‰∏™ÂèÇÊï∞ÊòØÁï•ÂéªÂä†ÂØÜÂ≠óÁ¨¶‰∏≤ÊúÄÂêéÁöÑ‚Äù=‚ÄùBase64.NO_WRAP Ëøô‰∏™ÂèÇÊï∞ÊÑèÊÄùÊòØÁï•ÂéªÊâÄÊúâÁöÑÊç¢Ë°åÁ¨¶ÔºàËÆæÁΩÆÂêéCRLFÂ∞±Ê≤°Áî®‰∫ÜÔºâBase64.URL_SAFE Ëøô‰∏™ÂèÇÊï∞ÊÑèÊÄùÊòØÂä†ÂØÜÊó∂‰∏ç‰ΩøÁî®ÂØπURLÂíåÊñá‰ª∂ÂêçÊúâÁâπÊÆäÊÑè‰πâÁöÑÂ≠óÁ¨¶Êù•‰Ωú‰∏∫Âä†ÂØÜÂ≠óÁ¨¶ÔºåÂÖ∑‰ΩìÂ∞±ÊòØ‰ª•-Âíå_Âèñ‰ª£+Âíå///‰π†ÊÉØ‰∏ä‰ΩøÁî®Base64.NO_WRAPÔºå‰ΩøÁî®‰ªÄ‰πàÊñπÂºèÁºñÁ†ÅÂ∞±ÈúÄË¶Å‰ΩøÁî®‰ªÄ‰πàÊñπÂºèËß£Á†Å„ÄÇ Base64ÂéüÁêÜ Base64Âú®ÁºñÁ†ÅÊó∂ÊåâÁÖß‰∏â‰∏™Â≠óËäÇ‰∏ÄÁªÑÂàÜÁªÑÔºå ËøõË°åÂ§ÑÁêÜÔºåÊØè‰∏â‰∏™Â≠óËäÇÂú®ÁºñÁ†Å‰πãÂêéË¢´ËΩ¨Êç¢‰∏∫4‰∏™Â≠óÁ¨¶„ÄÇ ÊØè‰∏™Â≠óËäÇÊúâ8‰∏™bit(‰πüÂøÖÈ°ªÊòØË¶ÅÊ±ÇÊúâ8bitÔºåÊâÄ‰ª•‰∏≠ÊñáÊòØ‰∏çÂèØ‰ª•ÁöÑ),‰∏â‰∏™Â≠óËäÇÂ∞±Êúâ24‰∏™bit. ‰ΩÜÊòØÊàë‰ª¨Âè™Êúâ64 ÁßçÂ≠óÁ¨¶ÈÄâÊã©Ôºå‰πüÂ∞±ÊòØBase64ÁöÑÂ≠óÁ¨¶ÊúÄÂ§öÂè™ËÉΩÁî®6bitÊù•Ë°®Á§∫ÔºåÂÜçÂ§ßÂ∞±‰ºöË∂ÖÂá∫64ÁöÑËåÉÂõ¥ÔºåÊâÄ‰ª•ÁºñÁ†Å‰ª•ÂêéÊòæÁ§∫ÁöÑÂ≠óÁ¨¶ÂºÄÂßã‰∏§‰ΩçÊòØ0. ÈÇ£‰πàÂéüÂÖà24bitÁöÑÊï∞ÊçÆË¶ÅÊòæÁ§∫Âú®Áé∞Âú®ÊØè‰∏™Â≠óÁ¨¶Âè™Êúâ6bitÁöÑË°®Á§∫ÊñπÊ≥ï‰∏äÔºåÂæàÊòéÊòæÈúÄË¶Å4‰∏™Â≠óÁ¨¶Ôºà3*8 == 4*6Ôºâ ÂΩìÊï∞ÊçÆÈïøÂ∫¶Âú®Êó†Ê≥ïÊª°Ë∂≥3ÁöÑÂÄçÊï∞ÁöÑÊó∂ÂÄô‰ºöÂú®Êú´Â∞æÊ∑ªÂä†‚Äú=‚ÄúÂÖ∑‰ΩìÁöÑËΩ¨Êç¢ÊñπÊ≥ïÁõ¥Êé•ËØ¥ÂèØËÉΩÊúâÁÇπÊäΩË±°Ôºå Â≠óÁ¨¶‰∏≤Base64ÁºñÁ†ÅËøáÁ®ã Â≠óÁ¨¶‰∏≤String str = &quot;0Aa&quot;;È¶ñÂÖàÔºåÂéüÂÖàÊØè‰∏™Â≠óÁ¨¶ÊòØ2‰∏™Â≠óËäÇ16bit,ÂØπ‰∫éËã±ÊñáÊù•ËØ¥Ââç8‰∏™bitÊòØ0Ôºå‰πüÂ∞±ÊòØÂè™Êúâ8‰∏™bit,Áé∞Âú®ÊòØ3‰∏™Â≠óÁ¨¶Ôºå3*8=24‰∏™bitÈúÄË¶ÅÊòæÁ§∫„ÄÇ ËΩ¨Êç¢ get 0 A a ASCII 48 65 97 ‰∫åËøõÂà∂Ë°®Á§∫ 00110000 01000001 01100001 Áé∞Âú®ÊãºÂáëÊàêÊòØËøôÊ†∑ÁöÑ‰∫åËøõÂà∂‰∏≤( 001100 000100 000101 100001)ÔºåÂ∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫Base64ÂèØ‰ª•ÊòæÁ§∫ÁöÑÊ®°ÂºèÔºåÈúÄË¶ÅÊØèÊ¨°Âèñ6‰Ωç‰Ωú‰∏∫‰∏Ä‰∏™Base64Â≠óÁ¨¶,Ââç‰∏§‰ΩçË°•0 get 1 2 3 4 ÂºÄÂßã 001100 000100 000101 100001 ËΩ¨Âåñ 00001100 00000100 00000101 00100001 ËΩ¨‰∏∫10ËøõÂà∂ 12 4 5 33 Base64Â≠óÁ¨¶ M E F h ‰∫åËøõÂà∂Êï∞ÁªÑÁºñÁ†ÅËøáÁ®ã Ëøô‰∏™‰æãÂ≠êÂ∑≤ÁªèÂæàÊ∏ÖÊô∞ÁöÑËß£Èáä‰∫ÜBase64ÁöÑÁºñÁ†ÅËøáÁ®ãÔºåÁΩë‰∏äÊúâ‰∫∫Ëá™Â∑±ÂÆûÁé∞‰∫ÜBase64ÁºñÁ†ÅÁöÑÁ±ªÔºåandroidÊ∫êÁ†Å‰πü‰∏çÈöæÔºåËøôÊòØÁºñÁ†ÅÂ≠óÁ¨¶‰∏≤ÁúãËµ∑Êù•ËøòÊòØÊØîËæÉÊ∏ÖÊô∞ÁöÑÔºåÊàë‰ª¨‰πüÂèØ‰ª•Êõ¥Êú¨Ë¥®‰∏ÄÁÇπ byte[] bs = new byte[]{1,10,20};ËøôÊòØ‰∏Ä‰∏™byteÊï∞ÁªÑÔºåÂ§ç‰π†‰∏Ä‰∏ãÔºå1‰∏™byteÊòØ8‰∏™bit,ÂèØ‰ª•Ë°®Á§∫ÁöÑËåÉÂõ¥0-127‰πãÈó¥ÔºåÊàë‰ª¨Âú®Ë∞ÉÁî®Base64ÁöÑÂáΩÊï∞Êó∂ÔºåÊú¨Ë¥®‰πüÊòØÂú®Êìç‰ΩúÂ≠óËäÇÊï∞ÁªÑÔºåÂêåÊ†∑ÁöÑÂéüÁêÜ byte 1 10 20 ‰∫åËøõÂà∂Ë°®Á§∫ 00000001 00001010 00010100 6‰Ωç‰∏ÄÁªÑÔºå‰∫åËøõÂà∂‰∏≤000000 010000 101000 010100 get 1 2 3 4 ÂºÄÂßã 000000 010000 101000 010100 ËΩ¨Âåñ 00000000 00010000 00101000 00010100 ËΩ¨‰∏∫10ËøõÂà∂ 0 16 40 20 Base64Â≠óÁ¨¶ A Q o U HexÁºñÁ†ÅÁÆÄ‰ªã HexÂ∞±ÊòØ16ËøõÂà∂ÔºåÊú¨Ë¥®‰∏äÊòØÂ∞ÜÂ≠óËäÇÊï∞ÁªÑËΩ¨Âåñ‰∏∫16ËøõÂà∂ÔºåÁÑ∂ÂêéÁî®Â≠óÁ¨¶‰∏≤ÁöÑÂΩ¢ÂºèË°®Áé∞Âá∫Êù•ÔºåÊàë‰ª¨Áü•ÈÅì16ËøõÂà∂ÁöÑÂèñÂÄºËåÉÂõ¥Â∞±ÊòØÂú®0-f‰πãÈó¥ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Â∞ÜÊó†Ê≥ïÊòæÁ§∫ÁöÑÂ≠óËäÇÊï∞ÁªÑÊï∞ÊçÆÊòæÁ§∫Âá∫Êù•„ÄÇ ÂéüÁêÜÊñπÈù¢ÊØîËµ∑Base64Â∞±ÁÆÄÂçïÂæàÂ§ö‰∫ÜÔºå‰∏Ä‰∏™8bitÁöÑÊï∞ÊçÆÔºå‰πüÂ∞±ÊòØÔºàxxxx xxxxÔºâ,ÊØè4‰∏™bitÂèØ‰ª•ËΩ¨Âåñ‰∏∫‰∏Ä‰∏™16ËøõÂà∂Ë°®Á§∫Ôºå‰πüÂ∞±ÊòØ8‰∏™bit‰ºöËΩ¨Âåñ‰∏∫Ôºà00-ffÔºâ‰πãÈó¥ÁöÑ16ËøõÂà∂Êï∞Â≠ó„ÄÇ HexÁºñÁ†ÅÂÆûÁé∞12345678910111213141516171819202122232425262728293031323334/** * Â≠óËäÇÊï∞ÁªÑËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ * ‰∏Ä‰∏™Â≠óËäÇÂΩ¢Êàê‰∏§‰∏™Â≠óÁ¨¶ÔºåÊòØÂéüÊù•Êï∞ÊçÆÈïøÂ∫¶ÁöÑ‰∏§ÂÄç * * @param data * @return */ public static String toHex(byte[] data) &#123; String ret = null; //todo Â∞ÜÂ≠óËäÇÊï∞ÁªÑËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ if (data != null &amp;&amp; data.length &gt; 0) &#123; StringBuilder sb = new StringBuilder(); for (byte b : data) &#123; //ÂàÜÂà´Ëé∑ÂèñÈ´òÂõõ‰ΩçÂíå‰ΩéÂõõ‰ΩçËΩ¨Êç¢‰∏∫Â≠óÁ¨¶ int h = (b &gt;&gt; 4) &amp; 0x0f; int l = b &amp; 0x0f; char ch, cl; if (h &gt; 9) &#123;//0x0a~0x0f ch = (char) ('A' + (h - 10)); &#125; else &#123;//0~9 ch = (char) ('0' + h); &#125; if (l &gt; 9) &#123;//0x0a~0x0f cl = (char) ('A' + (l - 10)); &#125; else &#123;//0~9 cl = (char) ('0' + l); &#125; sb.append(ch).append(cl); &#125; ret = sb.toString(); &#125; return ret; &#125; HexÁºñÁ†ÅÂéüÁêÜÂàÜÊûê ÁÆÄÂçïËØ¥‰∏Ä‰∏ãÔºå&amp;ËøêÁÆóÔºå‰∏§ËÄÖÈÉΩ‰∏∫1ÁªìÊûúÊâçÊòØ1Ôºåb&gt;&gt;4&amp;0xfÂèñÂá∫È´òÂõõ‰ΩçÔºåb&amp;0x0fÂèñÂá∫‰ΩéÂõõ‰ΩçÔºå‰∏æ‰∏™‰æãÂ≠êÔºö Â≠óËäÇÊòØ b = 1010 1111 b&gt;&gt;4 b = 00001010 b&gt;&gt;4&amp;0x0f ‰πüÂ∞±ÊòØ 00001010&amp;00001111 ‚Äî-&gt; 1010È´òÂõõ‰ΩçÂèñÂá∫Êù•‰∫ÜÔºåÂèñÂæó‰ΩéÂõõ‰ΩçÂéüÁêÜ‰∏ÄÊ†∑„ÄÇÂêéÈù¢ÁöÑÊìç‰ΩúÂ∞±ÊòØÊ†πÊçÆÊï∞ÊçÆÁöÑÂ§ßÂ∞èËΩ¨Êç¢‰∏Ä‰∏ãÊ†ºÂºèÔºåÂõ†‰∏∫ÊãøÂà∞ÁöÑÊï∞ÊçÆÊòØÂçÅËøõÂà∂ÁöÑÈÇ£‰πàËåÉÂõ¥‰ºöÂú®0-15‰πãÈó¥ÔºåÈúÄË¶ÅËΩ¨Êç¢‰∏∫16ËøõÂà∂ÁöÑ0-f. HexËß£Á†ÅÂÆûÁé∞12345678910111213141516171819202122232425262728293031323334353637383940414243/** * Â∞ÜÁºñÁ†ÅÂ≠óÁ¨¶‰∏≤Ëß£Á†Å‰∏∫Â≠óËäÇÊï∞ÁªÑ * * @param data * @return */ public static byte[] fromHex(String data) &#123; byte[] ret = null; //todo Â∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫Â≠óËäÇÊï∞ÁªÑ if (data != null) &#123; int len = data.length(); char[] chs = data.toCharArray(); ret = new byte[len/2]; int ih = 0,il=0,v=0,j=0; if (len &gt; 0 &amp;&amp; len % 2 == 0) &#123; for (int i = 0; i &lt; len - 1; i += 2,j++) &#123; char ch = chs[i]; char cl = chs[i+1]; if(ch&gt;=&apos;A&apos;&amp;&amp;ch&lt;=&apos;F&apos;)&#123; ih = 10 + (ch - &apos;A&apos;); &#125;else if(ch &gt;=&apos;a&apos;&amp;&amp;ch&lt;=&apos;f&apos;)&#123; ih = 10 + (ch - &apos;a&apos;); &#125;else if(ch&gt;&apos;0&apos;&amp;&amp;ch&lt;=&apos;9&apos;)&#123; ih = ch - &apos;0&apos;; &#125; if(cl&gt;=&apos;A&apos;)&#123; il = 10 + (cl - &apos;A&apos;); &#125;else if(cl &gt;=&apos;a&apos;)&#123; il = 10 + (cl - &apos;a&apos;); &#125;else if(cl&gt;&apos;0&apos;)&#123; il = cl - &apos;0&apos;; &#125; v = ((ih&amp;0x0f)&lt;&lt;4)|(il&amp;0x0f); ret[j] = (byte)v; &#125; &#125; &#125; return ret; &#125; HexËß£Á†ÅÂéüÁêÜÂàÜÊûê Áõ∏ÂΩì‰∫éÁºñÁ†ÅÁöÑÈÄÜËøêÁÆóÔºåÊ†πÊçÆÂ≠óÁ¨¶‰∏≤ÊØèÊ¨°Âèñ‰∏§‰ΩçÔºåËΩ¨Êç¢ÊàêintÔºåÂú®ËøõË°åÁßª‰ΩçÂ∞ÜÂÖ∂ÊãºÊàê‰∏Ä‰∏™Â≠óËäÇÔºåÊÄé‰πàÊãºÁöÑÔºüv = ((ih&amp;0x0f)&lt;&lt;4)|(il&amp;0x0f); Ëøô‰∏ÄÂè•ÔºåÂÅáËÆæÊàë‰ª¨Ëé∑ÂæóÁöÑÂ≠óÁ¨¶‰∏≤ÊúÄÂêéËΩ¨ÂåñÁªìÊûúÊòØ10Âíå5Ôºå‰πüÂ∞±ÊòØ1010Ôºå0101„ÄÇ10&lt;&lt;4,ÁªìÊûúÊòØ10100000ÔºåÁÑ∂Âêé10100000 | 0101Ôºå|ËøêÁÆóÂè™Ë¶ÅÊúâ1Âàô‰∏∫1ÔºåÁªìÊûúÊòØ10100101Â∞±ÂÆåÊàê‰∫ÜÊãºÊé•Â∑•‰Ωú„ÄÇ ÊÄªÁªì Base64ÂíåHexÊòØÊØîËæÉÂ∏∏ËßÅÁöÑÁºñÁ†ÅÊñπÂºèÔºåÂØπÊØî‰∏Ä‰∏ãÔºåBase64ÊØè3‰∏™Â≠óËäÇËΩ¨Âåñ‰∏∫4‰∏™Â≠óËäÇÔºåÊØè‰∏™Â≠óËäÇÊµ™Ë¥π2bit,HexÁºñÁ†ÅÔºåÊØè‰∏™Â≠óËäÇËΩ¨Âåñ‰∏∫‰∏§‰∏™Â≠óËäÇÔºåÊØè‰∏™Â≠óËäÇÊµ™Ë¥π4bit,ÊâÄ‰ª•ËØ¥Base64Êõ¥Âä†ËäÇÁúÅÁ©∫Èó¥ÔºåËÄå‰∏îÁî®Ëµ∑Êù•ÁÆÄÂçïÂæóÂ§ö„ÄÇ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndridStudio ‰ΩøÁî® Freeline Âä†ÈÄüÁºñËØë]]></title>
    <url>%2Farticle%2F3239800061%2F</url>
    <content type="text"><![CDATA[buildscript { repositories { jcenter() maven { url ‚Äúhttps://jitpack.io‚Äú } maven { url ‚Äúhttps://dl.bintray.com/chendongmarch/maven‚Äú } } dependencies { classpath ‚Äòcom.android.tools.build:gradle:2.2.2‚Äô classpath ‚Äòcom.antfortune.freeline:gradle:0.8.1‚Äô // NOTE: Do not place your application dependencies here; they belong // in the individual module build.gradle files }} apply plugin: ‚Äòcom.antfortune.freeline‚Äô//ÈòøÈáåÂ¢ûÈáèÁºñËØë freeline { hack true productFlavor ‚Äòbabyphoto‚Äô applicationProxy false }]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>DevEnvironment</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MetrailDesign]]></title>
    <url>%2Farticle%2F3353371585%2F</url>
    <content type="text"><![CDATA[Theme123456789101112131415161718&lt;style name="AppTheme" parent="Theme.AppCompat.Light.NoActionBar"&gt;&lt;!--ÂØºËà™Ê†èÂ∫ïËâ≤--&gt;&lt;item name="colorPrimary"&gt;@color/accent_material_dark&lt;/item&gt;&lt;!--Áä∂ÊÄÅÊ†èÂ∫ïËâ≤--&gt;&lt;item name="colorPrimaryDark"&gt;@color/accent_material_light&lt;/item&gt;&lt;!--ÂØºËà™Ê†è‰∏äÁöÑÊ†áÈ¢òÈ¢úËâ≤--&gt;&lt;item name="android:textColorPrimary"&gt;@android:color/black&lt;/item&gt;&lt;!--ActivityÁ™óÂè£ÁöÑÈ¢úËâ≤--&gt;&lt;item name="android:windowBackground"&gt;@color/white&lt;/item&gt;&lt;!--ÊåâÈíÆÈÄâ‰∏≠ÊàñËÄÖÁÇπÂáªËé∑ÂæóÁÑ¶ÁÇπÂêéÁöÑÈ¢úËâ≤--&gt;&lt;item name="colorAccent"&gt;@color/accent_material_light&lt;/item&gt;&lt;!--Âíå colorAccentÁõ∏ÂèçÔºåÊ≠£Â∏∏Áä∂ÊÄÅ‰∏ãÊåâÈíÆÁöÑÈ¢úËâ≤,ÊâÄÊúâÊéß‰ª∑Âú®Ê≤°ÊúâËé∑ÂæóÁÑ¶ÁÇπÊó∂ÁöÑÈ¢úËâ≤--&gt;&lt;item name="colorControlNormal"&gt;#ff0000&lt;/item&gt;&lt;!--ButtonÊåâÈíÆÊ≠£Â∏∏Áä∂ÊÄÅÈ¢úËâ≤--&gt;&lt;item name="colorButtonNormal"&gt;@color/accent_material_light&lt;/item&gt;&lt;!--EditText ËæìÂÖ•Ê°Ü‰∏≠Â≠ó‰ΩìÁöÑÈ¢úËâ≤--&gt;&lt;item name="editTextColor"&gt;@android:color/white&lt;/item&gt;&lt;/style&gt; ##TextInputLayout XMLÊñá‰ª∂123456789101112&lt;android.support.design.widget.TextInputLayout android:id="@+id/md_textinputlayout" android:layout_width="match_parent" android:layout_height="wrap_content" &gt; &lt;EditText android:id="@+id/md_edittext" android:layout_width="match_parent" android:layout_height="wrap_content" android:hint="ËØ∑ËæìÂÖ•ÊñáÊú¨" /&gt; &lt;/android.support.design.widget.TextInputLayout&gt; ‰ª£Á†ÅÊòæÁ§∫ÈîôËØØ‰ø°ÊÅØ,ÊñáÊú¨È¢úËâ≤ÁöÑÈúÄË¶Å‰ΩøÁî®Theme‰øÆÊîπ1234567891011TextInputLayout tily1=(TextInputLayout) findViewById(R.id.tily1);tily1.setHint("Êñ∞ÁöÑHint");tily1.getEditText().addTextChangedListener(new TextWatcher()); //Âú®ÁõëÂê¨‰πã‰∏≠ËøõË°åÂ¶Ç‰∏ãËÆæÁΩÆÂèØ‰ª•ÊòæÁ§∫ÈîôËØØ‰ø°ÊÅØint num = 0;if (((num = s.toString().length()) &lt; 6) &amp;&amp; num != 0) &#123; textInputLayout.setErrorEnabled(true); textInputLayout.setError("ÈïøÂ∫¶‰∏çËÉΩÂ∞è‰∫é6");&#125; else &#123; textInputLayout.setErrorEnabled(false);&#125; SnackBar‰ª£Á†Å1234567891011121314Snackbar snackbar = Snackbar.make(view, "SnackBarÊµãËØï", Snackbar.LENGTH_SHORT) //ÁÇπÂáª‰∫ã‰ª∂‰∏≠ÊåâÈíÆÁöÑÈ¢úËâ≤ .setActionTextColor(Color.WHITE) //ËÆæÁΩÆÁÇπÂáª‰∫ã‰ª∂ .setAction("SnackBar", new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; Log.i("chendong", "ÁÇπÂáª‰∫Üaction"); &#125; &#125;);//‰øÆÊîπËÉåÊôØÈ¢úËâ≤snackbar.getView().setBackgroundColor(Color.GRAY);snackbar.show();&#125; FloatingActionButton123456789101112&lt;android.support.design.widget.FloatingActionButton android:layout_width="wrap_content" android:layout_height="wrap_content" android:src="@mipmap/ic_launcher" android:layout_alignParentRight="true" android:layout_alignParentBottom="true" android:layout_margin="10dp" android:onClick="ClickFloatButton" app:fabSize="normal" app:backgroundTint="#f00" app:elevation="5dp" /&gt; Â±ûÊÄß //‰∏äÈù¢ÁöÑÊñá‰ª∂‰ΩøÁî®Áõ∏ÂØπÂ∏ÉÂ±ÄÔºåÂèØ‰ª•‰ΩøÁî®Áõ∏ÂØπÈîöÁÇπÁöÑËÆæÁΩÆÂÆö‰Ωçfab app:layout_anchor=‚Äù@id/md_recyclerview‚Äù//ÈîöÁÇπÔºåÂü∫‰∫éÂì™‰∏™Êéß‰ª∂ÂÆö‰Ωç app:layout_anchorGravity=‚Äùbottom|right|end‚Äù//Áõ∏ÂØπÈîöÁÇπÁöÑ‰ΩçÁΩÆ app:fabSize=‚Äùnormal‚Äù//Êéß‰ª∂Â§ßÂ∞èÔºåÂè™ÊîØÊåÅ‰∏§ÁßçÂ§ßÂ∞èÔºåmini,normal app:backgroundTint=‚Äù#f00‚Äù//ÊîπÂèòËÉåÊôØÈ¢úËâ≤Ôºå‰∏çËÆæÁΩÆÂ•ΩÂÉèÊòØÈªëÁöÑËøòÊòØË∑üÈöè‰∏ªÈ¢ò app:elevation=‚Äù5dp‚Äù//Èò¥ÂΩ±12345678910111213141516171819202122232425## AppBarLayout - AppBarLayoutÊú¨Ë∫´ÊòØ‰∏Ä‰∏™ÂûÇÁõ¥ÁöÑLinearLayoutÔºåË¢´‰ªñÂåÖË£πÁöÑÊéß‰ª∂Â∞Ü‰Ωú‰∏∫ActionBarÂ±ïÁ§∫```xml&lt;android.support.design.widget.AppBarLayout android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;&gt;&lt;android.support.v7.widget.Toolbar android:id=&quot;@+id/md_toolbar&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;?attr/actionBarSize&quot; android:minHeight=&quot;?attr/actionBarSize&quot; android:background=&quot;?attr/colorPrimary&quot; android:layout_marginBottom=&quot;20dp&quot;&gt;&lt;/android.support.v7.widget.Toolbar&gt;&lt;TextView android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:padding=&quot;10dp&quot; android:text=&quot;ËøôÊòØappbarlayoutÊµãËØï&quot; android:gravity=&quot;center_horizontal&quot; android:textSize=&quot;20sp&quot;/&gt;&lt;/android.support.design.widget.AppBarLayout&gt; CoordinatorLayout Ëøô‰∏™ÔºàCoordinatorÔºâÂçïËØçÁöÑÊÑèÊÄùÊòØÂçèË∞ÉÂô®ÔºåÂÆÉÊòØÂçèË∞ÉÊéß‰ª∂‰πãÈó¥Âä®ÁîªÊïàÊûúÁöÑ‰∏Ä‰∏™Â∏ÉÂ±Ä 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;android.support.design.widget.CoordinatorLayoutxmlns:android="http://schemas.android.com/apk/res/android"xmlns:tools="http://schemas.android.com/tools"xmlns:app="http://schemas.android.com/apk/res-auto"android:layout_width="match_parent"android:layout_height="match_parent"tools:context="com.awesome.newfeatures.SecondActivity"&gt;&lt;android.support.design.widget.AppBarLayoutandroid:layout_width="match_parent"android:layout_height="wrap_content"&gt;&lt;android.support.v7.widget.Toolbarandroid:id="@+id/md_toolbar"android:layout_width="match_parent"android:layout_height="?attr/actionBarSize"android:minHeight="50dp"android:background="?attr/colorPrimary"android:layout_marginBottom="20dp" app:layout_scrollFlags="scroll|enterAlways"/&gt;&lt;android.support.design.widget.TabLayoutandroid:id="@+id/md_tablayout"android:layout_width="match_parent"android:layout_height="wrap_content"app:tabGravity="fill"app:tabTextColor="#f00"app:tabIndicatorColor="#00f"app:tabMode="fixed"app:tabIndicatorHeight="2dp"/&gt;&lt;/android.support.design.widget.AppBarLayout&gt;&lt;android.support.v7.widget.RecyclerViewandroid:id="@+id/md_recyclerview"android:layout_width="match_parent"android:layout_height="match_parent" app:layout_behavior="@string/appbar_scrolling_view_behavior"/&gt;&lt;android.support.design.widget.FloatingActionButtonandroid:layout_width="wrap_content"android:layout_height="wrap_content"android:src="@mipmap/ic_launcher"app:backgroundTint="#00f"app:elevation="5dp"android:layout_margin="16dp"app:layout_anchor="@id/md_recyclerview"app:layout_anchorGravity="bottom|right|end"android:onClick="Click"/&gt;&lt;/android.support.design.widget.CoordinatorLayout&gt; app:layout_behavior=‚Äù@string/appbar_scrolling_view_behavior‚Äù//Âú®ËßÜÂõæ‰∏≠ÂèØÊªëÂä®ÁöÑÁªÑ‰ª∂‰ΩøÁî®ËØ•Â±ûÊÄßÊ†áÁ§∫ÔºåÂøÖÈ°ªÊòØRecyclerViewÊàñNestedScrollView ËØïÈ™åË°®ÊòéÔºåÂºÄÂßã‰ΩøÁî®ÂêéÈù¢‰∏§‰∏™Â±ûÊÄßÂπ∂Ê≤°Ëµ∑‰ΩúÁî®ÔºåÂêéÊù•ÂèëÁé∞ÈúÄË¶ÅÂõ∫ÂÆötoolbarÈ´òÂ∫¶Êâç‰ºöËµ∑‰ΩúÁî®„ÄÇ FloatingActionButtonË¢´ÂåÖË£πÂú®CoordinatorLayout‰∏≠Êó∂ÂèØ‰ª•Èò≤Ê≠¢SnackBarË∑≥Âá∫Êó∂ÈÅÆÊå°Fab app:layout_scrollFlags=‚Äùscroll|enterAlways‚Äù//‰∏âÁßçÂèñÂÄº Â±ûÊÄßÈÄâÊã© ÊèèËø∞ scroll ÊâÄÊúâÈúÄË¶ÅÊªëÂä®ÁöÑËßÜÂõæÈúÄË¶ÅÂÆö‰πâËØ•Â±ûÊÄßÔºå‰∏ç‰ΩøÁî®ËØ•Â±ûÊÄßÁöÑËßÜÂõæÂ∞Ü‰ºöÂõ∫ÂÆöÂú®Â±èÂπïÈ°∂Á´Øthis flag should be set for all views that want to scroll off the screen - for views that do not use this flag, they‚Äôll remain pinned to the top of the screen enterAlways ‰ªªÊÑèÂêë‰∏ãÁöÑÊìç‰Ωú‰ºöÂØºËá¥ÈöêËóèËßÜÂõæÊòæÁ§∫Âá∫Êù•this flag ensures that any downward scroll will cause this view to become visible, enabling the ‚Äòquick return‚Äô pattern enterAlwaysCollapsed Ëøô‰∏™flagÂÆö‰πâÁöÑÊòØ‰ΩïÊó∂ËøõÂÖ•ÔºàÂ∑≤ÁªèÊ∂àÂ§±‰πãÂêé‰ΩïÊó∂ÂÜçÊ¨°ÊòæÁ§∫Ôºâ„ÄÇÂÅáËÆæ‰Ω†ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÊúÄÂ∞èÈ´òÂ∫¶ÔºàminHeightÔºâÂêåÊó∂enterAlways‰πüÂÆö‰πâ‰∫ÜÔºåÈÇ£‰πàviewÂ∞ÜÂú®Âà∞ËææËøô‰∏™ÊúÄÂ∞èÈ´òÂ∫¶ÁöÑÊó∂ÂÄôÂºÄÂßãÊòæÁ§∫ÔºåÂπ∂‰∏î‰ªéËøô‰∏™Êó∂ÂÄôÂºÄÂßãÊÖ¢ÊÖ¢Â±ïÂºÄÔºåÂΩìÊªöÂä®Âà∞È°∂ÈÉ®ÁöÑÊó∂ÂÄôÂ±ïÂºÄÂÆå„ÄÇWhen your view has declared a minHeight and you use this flag, your View will only enter at its minimum height (i.e., ‚Äòcollapsed‚Äô), only re-expanding to its full height when the scrolling view has reached it‚Äôs top. exitUntilCollapsed Ëøô‰∏™flagÊó∂ÂÆö‰πâ‰ΩïÊó∂ÈÄÄÂá∫ÔºåÂΩì‰Ω†ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™minHeightÔºåËøô‰∏™viewÂ∞ÜÂú®ÊªöÂä®Âà∞ËææËøô‰∏™ÊúÄÂ∞èÈ´òÂ∫¶ÁöÑÊó∂ÂÄôÊ∂àÂ§±„ÄÇ this flag causes the view to scroll off until it is ‚Äòcollapsed‚Äô (its minHeight) before exiting CollapsingToolbarLayout ‰ΩøÁî®CollapsingToolbarLayoutÁªìÂêàCoordinatorLayoutÂÆûÁé∞ÂèØÁº©ÊîæÁöÑActionBar,Âú®‰ΩøÁî®CoordinatorLayout‰∏ÄÁõ¥ÂÆûÁé∞‰∏ç‰∫ÜÂàóË°®ÊªëÂä®Âà∞È°∂Á´ØÊâçÊòæÁ§∫ÁöÑÊïàÊûúÔºå‰ΩøÁî®CollapsingToolbarLayoutÂèØ‰ª•ÂÆûÁé∞ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;android.support.design.widget.CoordinatorLayoutxmlns:android="http://schemas.android.com/apk/res/android"xmlns:tools="http://schemas.android.com/tools"xmlns:app="http://schemas.android.com/apk/res-auto"android:layout_width="match_parent"android:layout_height="match_parent"tools:context="com.awesome.newfeatures.SecondActivity"&gt; //ÈúÄË¶ÅÂõ∫ÂÆöÈ´òÂ∫¶&lt;android.support.design.widget.AppBarLayoutandroid:id="@+id/appbar"android:layout_width="match_parent"android:layout_height="160dp"&gt;&lt;android.support.design.widget.CollapsingToolbarLayoutandroid:layout_width="match_parent"android:layout_height="match_parent"app:contentScrim="?attr/colorPrimary"app:layout_scrollFlags="scroll|exitUntilCollapsed"&gt;&lt;ImageViewandroid:id="@+id/backdrop"android:layout_width="match_parent"android:layout_height="match_parent"android:scaleType="centerCrop"android:src="@mipmap/ic_launcher"app:layout_collapseMode="parallax"/&gt;&lt;android.support.v7.widget.Toolbarandroid:id="@+id/md_toolbar"android:layout_width="match_parent"android:layout_height="?attr/actionBarSize"app:layout_collapseMode="pin"/&gt;&lt;/android.support.design.widget.CollapsingToolbarLayout&gt;&lt;/android.support.design.widget.AppBarLayout&gt; &lt;android.support.v7.widget.RecyclerViewandroid:id="@+id/md_recyclerview"android:layout_width="match_parent"android:layout_height="wrap_content"app:layout_behavior="@string/appbar_scrolling_view_behavior"/&gt; &lt;android.support.design.widget.FloatingActionButtonandroid:layout_width="wrap_content"android:layout_height="wrap_content"android:src="@mipmap/ic_launcher"app:backgroundTint="#00f"app:elevation="5dp"android:layout_margin="16dp"app:layout_anchor="@id/md_recyclerview"app:layout_anchorGravity="bottom|right|end"android:onClick="Click"/&gt;&lt;/android.support.design.widget.CoordinatorLayout&gt; AppBarLayoutÈ´òÂ∫¶ÈúÄË¶ÅÂõ∫ÂÆö CollapsingToolbarLayoutËÆæÁΩÆapp:layout_scrollFlags 1234567- 23.1.0‰ª•ÂêéÊñ∞Â¢û‰∏Ä‰∏™snapÂèØ‰ª•Âú®ÊãâÂä®Âà∞Â∫ïÈÉ®Êó∂‰∫ßÁîüÁº©ÊîæÊïàÊûú- app:layout_scrollFlags=&quot;scroll|enterAlways&quot;- app:layout_scrollFlags=&quot;scroll|enterAlwaysCollapsed&quot;- ‰∏çËÆ∫ToolBarÊòØÂê¶ËÆæÁΩÆpinÊ®°ÂºèÔºåÂ∞Ü‰ºöÂÖ®ÈÉ®ÊªöÂá∫Â±èÂπïÔºå‰ªªÊÑè‰∏ãÊãâÂä®Áîª‰ºö‰ΩøÈöêËóèÁöÑËßÜÂõæÊòæÁ§∫Âá∫Êù•- app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;- //ËÆæÁΩÆ‰∏∫pinÊ®°ÂºèÁöÑÂõ∫ÂÆöÂú®È°∂Á´ØÔºå‰∏ãÊãâÂà∞È°∂ÈÉ®ÊâçÊòæÁ§∫Âá∫ÈöêËóèËßÜÂõæ- app:layout_collapseMode=&quot;parallax&quot;//ÈúÄË¶ÅÂõ∫ÂÆöÁöÑËßÜÂõæ‰ΩøÁî®pinÊ®°ÂºèÔºåÈúÄË¶ÅÊªëÂä®ÁöÑËßÜÂõæ‰ΩøÁî®parallaxÊ®°Âºè ‰∏Ä‰∫õÂ±ûÊÄßsetTitle(CharSequence)//ËÆæÁΩÆÂõ∫ÂÆöÂú®È°∂Á´ØÊó∂ÊòæÁ§∫ÁöÑtitlesetContentScrim(Drawable)app:contentScrim=‚Äù?attr/colorPrimary‚Äù//‰øÆÊîπÂõ∫ÂÆöÂú®È°∂Á´ØÁöÑËÉåÊôØÈ¢úËâ≤setStatusBarScrim(Drawable)//Áä∂ÊÄÅÊ†èËÉåÊôØÔºå5.0‰ª•‰∏äÊúâÊïàapp:layout_collapseParallaxMultiplier=‚Äù0.6‚Äù//ÊªëÂä®ÁöÑËßÜËßâÂ∑ÆÔºå‰∫ßÁîüÁöÑÊïàÊûúÊòØÊèêÂâçÂ∞ÜÊäòÂè†ÁöÑËßÜÂõæÈöêËóèÊéâ‰∫Üapp:layout_collapseMode=‚Äùparallax|pin‚Äù//ÊªëÂä®Ê®°ÂºèÔºåÁº©ÊîæÊàñËÄÖÂõ∫ÂÆöcollapsingToolbarLayout.setTitle(&quot;title&quot;);//ËÆæÁΩÆÊ†áÈ¢òÔºåÂ∞Ü‰ºöËá™Âä®ËøõË°åÁº©Êîæ//ËÆæÁΩÆÈ¢úËâ≤ÂêéÂ∞Ü‰ºöËá™Âä®ËøõË°åÈ¢úËâ≤ËøáÊ∏°collapsingToolbarLayout.setExpandedTitleColor(Color.WHITE);collapsingToolbarLayout.setCollapsedTitleTextColor(Color.GREEN); DrawerLayout+NavigationView ÁªìÂêà‰πãÂâçÂ≠¶ÁöÑÊÄªÁªìÂú®‰∏Ä‰∏™Â∏ÉÂ±Ä‰∏≠ÔºåÈ¶ñÂÖàDrawerLayoutÈúÄË¶ÅÊúâ‰∏§‰∏™Â≠êviewÔºå‰∏äÈù¢ÁöÑ‰∏Ä‰∏™‰ª£Ë°®content,‰∏ãÈù¢ÁöÑNavigationView‰ª£Ë°®ËèúÂçïÂØºËà™ÔºåÂΩìÁÑ∂‰Ω†ÂèØ‰ª•ÊõøÊç¢ÊàêËá™Â∑±ÁöÑÂ∏ÉÂ±ÄÔºåÁî®Êù•ÂÅöÂÖ∂‰ªñÁöÑ‰∫ãÊÉÖ„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970 &lt;android.support.v4.widget.DrawerLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" android:id="@+id/md_DrawerLayout" android:layout_width="match_parent" android:layout_height="match_parent" android:fitsSystemWindows="true" tools:context=".MainActivity" &gt; &lt;android.support.design.widget.CoordinatorLayout android:layout_width="match_parent" android:layout_height="wrap_content" &gt; &lt;android.support.design.widget.AppBarLayout android:id="@+id/appbar" android:layout_width="match_parent" android:layout_height="160dp" &gt; &lt;android.support.design.widget.CollapsingToolbarLayout android:id="@+id/md_CollapsingToolbarLayout" android:layout_width="match_parent" android:layout_height="match_parent" app:contentScrim="?attr/colorPrimary" app:layout_scrollFlags="scroll|exitUntilCollapsed" &gt; &lt;ImageView android:id="@+id/backdrop" android:layout_width="match_parent" android:layout_height="match_parent" android:scaleType="centerCrop" android:src="@mipmap/ic_launcher" app:layout_collapseMode="parallax" app:layout_collapseParallaxMultiplier="0.3" /&gt; &lt;android.support.v7.widget.Toolbar android:id="@+id/md_toolbar" android:layout_width="match_parent" android:layout_height="?attr/actionBarSize" app:layout_collapseMode="pin" /&gt; &lt;/android.support.design.widget.CollapsingToolbarLayout&gt; &lt;/android.support.design.widget.AppBarLayout&gt; &lt;android.support.v7.widget.RecyclerView android:id="@+id/md_recyclerview" android:layout_width="match_parent" android:layout_height="wrap_content"app:layout_behavior="@string/appbar_scrolling_view_behavior" /&gt; &lt;android.support.design.widget.FloatingActionButton android:layout_width="wrap_content" android:layout_height="wrap_content" android:src="@mipmap/ic_launcher" app:backgroundTint="#00f" app:elevation="5dp" android:layout_margin="16dp" app:layout_anchor="@id/md_recyclerview" app:layout_anchorGravity="bottom|right|end" android:onClick="Click" /&gt; &lt;/android.support.design.widget.CoordinatorLayout&gt; &lt;android.support.design.widget.NavigationView android:id="@+id/md_NavigationView" android:layout_width="wrap_content" android:layout_height="match_parent" android:layout_gravity="start" app:headerLayout="@layout/header" app:menu="@menu/drawer" /&gt; &lt;/android.support.v4.widget.DrawerLayout&gt; Âá†‰∏™Â±ûÊÄß1234567891011121314ÂÖ≥‰∫éNavigationView‰∏≠itemÁöÑÂ≠ó‰ΩìÈ¢úËâ≤ÂíåiconÈÄâ‰∏≠Áä∂ÊÄÅÈ¢úËâ≤ÊòØÂéªÂΩìÂâç‰∏ªÈ¢òtheme‰∏≠ÁöÑ&lt;--Ê≠£Â∏∏Áä∂ÊÄÅ‰∏ãÂ≠ó‰ΩìÈ¢úËâ≤ÂíåiconÈ¢úËâ≤--&gt;&lt;item name=&quot;android:textColorPrimary&quot;&gt;@android:color/darker_gray&lt;/item&gt;&lt;--ÈÄâ‰∏≠Áä∂ÊÄÅiconÁöÑÈ¢úËâ≤ÂíåÂ≠ó‰ΩìÈ¢úËâ≤--&gt;&lt;item name=&quot;colorPrimary&quot;&gt;@color/accent_material_light&lt;/item&gt;ÂΩìÁÑ∂‰Ω†ÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÊñπÊ≥ïÊàñËÄÖÂ±ûÊÄßÊù•ÊîπÂèòËøô‰∏ÄÁä∂ÊÄÅÔºösetItemBackgroundResource(int)app:itemBackground`//ÁªômenuËÆæÁΩÆËÉåÊôØËµÑÊ∫êsetItemIconTintList(ColorStateList)app:itemIconTint`//ÁªômenuÁöÑiconËÆæÁΩÆÈ¢úËâ≤ÔºåÂØπÂ∫îÁöÑÂ±ûÊÄßsetItemTextColor(ColorStateList)app:itemTextColor`//ÁªômenuÁöÑitemËÆæÁΩÆÂ≠ó‰ΩìÈ¢úËâ≤ÔºåÂØπÂ∫îÁöÑÂ±ûÊÄßapp:headerLayout=&quot;@layout/header&quot;//NavigationViewÁöÑÂ§¥ÈÉ®Â∏ÉÂ±Äapp:menu=&quot;@menu/drawer&quot;`//NavigationViewÁöÑËèúÂçïÊñá‰ª∂ ‰ª£Á†Å12345678910111213141516171819mDrawerLayout = (DrawerLayout) findViewById(R.id.md_DrawerLayout);//Ëøô‰∏™ÁªÑ‰ª∂Â∞Ü‰ºöÂ±ïÁ§∫‰∏Ä‰∏™ÂõæÊ†áÂú®Â∑¶‰∏äËßíÔºåÂÆÉÊòØ‰∏Ä‰∏™DrawerListenerÁöÑÂ≠êÁ±ªÔºå‰ΩøÁî®ÂÆÉÂèØ‰ª•ÁÆÄÂçïÂú∞ÂàõÂª∫‰∏Ä‰∏™ÊäΩÂ±âÁöÑÊéßÂà∂ÂõæÊ†áÔºåv4ÂåÖ‰∏ãÁöÑËØ•ÁªÑ‰ª∂ÂèØ‰ª•ËÆæÁΩÆÂØºËà™ÂõæÊ†áÔºå‰ΩÜÊòØÂ∑≤ÁªèËøáÊó∂ÔºåËøôÈáå‰ΩøÁî®v7ÂåÖ‰∏ãÁöÑÁªÑ‰ª∂Ôºå‰ΩÜÊòØÊ≤°Êúâ‰∫ÜËÆæÁΩÆÂõæÊ†áÁöÑÂèÇÊï∞ÔºåÂ¶ÇÊûúÊÉ≥Ëá™ÂÆö‰πâÂèØ‰ª•‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑÂõæÊ†áÔºåÂú®ÂÆûÁé∞DrawerListenerÊó∂ÂÅöÂ§ÑÁêÜActionBarDrawerToggle mDrawerToggle = new ActionBarDrawerToggle(this, mDrawerLayout, toolbar, R.string.close, R.string.open);//Ê≤°ÊúâÊâæÂà∞ÂêàÈÄÇÁöÑÊñπÊ≥ï‰øÆÊîπÂõæÊ†áÔºåËøô‰∏™ÊñπÊ≥ïÊ≤°ÊúâÊïàÊûú mDrawerToggle.setHomeAsUpIndicator(R.mipmap.ic_launcher); //ÂàùÂßãÂåñÁä∂ÊÄÅ mDrawerToggle.syncState(); mDrawerLayout.setDrawerListener(mDrawerToggle); //ËÆæÁΩÆÂØºËà™Ê†èNavigationViewÁöÑÁÇπÂáª‰∫ã‰ª∂ final NavigationView mNavigationView = (NavigationView) findViewById(R.id.md_NavigationView); mNavigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() &#123; @Override public boolean onNavigationItemSelected(MenuItem menuItem) &#123; //‰ΩøÁî®ËØ•ÊñπÊ≥ïÂèØ‰ª•ÈÄâ‰∏≠ItemÔºå‰ΩÜÊòØÂá∫Áé∞‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢òÔºåÁÇπÂáªÊó∂ÊúâÊó∂‰ºöÈÄ†ÊàêÈÄâ‰∏≠Êó†Ê≥ïÂèñÊ∂àÔºåËØïËøá‰∏Ä‰∏™Ëß£ÂÜ≥ÂäûÊ≥ïÊòØËé∑ÂæóMenuÁöÑÊâÄÊúâItemËÆæÁΩÆ‰∏çÈÄâ‰∏≠ÂèØ‰ª•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ menuItem.setChecked(true); mDrawerLayout.closeDrawers();//ÂÖ≥Èó≠ÊäΩÂ±â return true; &#125; &#125;);]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[v4v7 Êñ∞Êéß‰ª∂]]></title>
    <url>%2Farticle%2F1947623271%2F</url>
    <content type="text"><![CDATA[AlertDialogv7È£éÊ†ºÁöÑDialogÁõ∏ÂØπÂéüÊù•ÁöÑÁâàÊú¨ÂéªÊéâ‰∫ÜË∑≥Ë∑ÉÂºπÂá∫ÁöÑÂä®ÁîªÔºå‰∏ãÊñπÊåâÈíÆÂéªÊéâ‰∫ÜËæπÊ°ÜÔºåËÅöÈõÜÂú®‰∫ÜÂè≥‰æßÔºåÊòæÁ§∫Êó∂ÂéªÊéâ‰∫ÜÂàÜÈöîÁ∫ø„ÄÇ ToolBarÂèñ‰ª£ÂéüÂÖàÁöÑActionBarÂÆûÁé∞Áõ∏ÂØπÂÆåÁæéÁöÑÂÆöÂà∂ xmlÊñá‰ª∂12345678&lt;android.support.v7.widget.Toolbarandroid:id="@+id/md_toolbar"android:layout_width="match_parent"android:layout_height="?attr/actionBarSize"android:minHeight="50dp"android:background="?attr/colorPrimary"android:layout_marginBottom="20dp" &gt; ‰ª£Á†Å123456789101112131415161718192021 //ÈöêËóèÁ≥ªÁªüÈªòËÆ§title,ÊàëÂΩìÊó∂‰øÆÊîπ‰∫ÜthemeÁî®ÁöÑnoactionbarÁöÑThemeÊâÄ‰ª•ËøôË°å‰ª£Á†ÅÂπ∂Ê≤°Áî®getSupportActionBar().setDisplayShowTitleEnabled(false);Toolbar toolbar = (Toolbar) findViewById(R.id.md_toolbar);//Ê†áÈ¢òtoolbar.setTitle("ÊµãËØï");//ÂâØÊ†áÈ¢òÔºåÊòæÁ§∫Âú®Ê†áÈ¢ò‰∏ãÊñπtoolbar.setSubtitle("ÂâØÊ†áÈ¢ò");//logo,ÊòæÁ§∫Âú®Ê†áÈ¢òÂ∑¶‰æßtoolbar.setLogo(R.mipmap.ic_launcher); //ÂØºËà™ÂõæÊ†áÔºåÊòæÁ§∫Âú®ÊúÄÂ∑¶‰æßÔºåÂèØ‰ª•‰ΩøÁî®ËØ•ÂõæÊ†áË∞ÉÂá∫ËèúÂçïtoolbar.setNavigationIcon(android.R.drawable.ic_input_delete);//Ëøô‰∏™Âπ∂Ê≤°ÊúâÁî®ÔºåËÆæÁΩÆËèúÂçïÊó∂ÈáçÂÜôonCreateOptionMenuÂç≥ÂèØ//toolbar.inflateMenu(R.menu.menu_main);setSupportActionBar(toolbar);toolbar.setOnMenuItemClickListener(new OnMenuItemClickListener() &#123; @Override public boolean onMenuItemClick(MenuItem item) &#123;Toast.makeText(MainActivity.this, "ÁÇπÂáª‰∫Ü" + item.getItemId(), Toast.LENGTH_SHORT).show(); return false; &#125;&#125;); È¢òÂ§ñËØù,Â¶Ç‰ΩïÂàõÂª∫ËèúÂçïÈ°π12345678910111213141516171819202122232425262728293031323334//ÈáçÂÜôËØ•ÊñπÊ≥ïÔºåËèúÂçïÂ∞Ü‰ºöÊòæÁ§∫Âú®toobar‰∏ä@Overridepublic boolean onCreateOptionsMenu(Menu menu) &#123; getMenuInflater().inflate(R.menu.menu_main, menu); //Ëé∑Âèñtoolbar‰∏äÁöÑËèúÂçïview,‰πüÂèØ‰ª•Âú®‰∏äÈù¢ÁöÑsetOnMenuItemClickListenerÂÆûÁé∞Êõ¥Âä†ÁÆÄÂçïÔºåËøôÈáåÂè™ÊòØ‰∏Ä‰∏™ÊºîÁ§∫„ÄÇ MenuItem item = menu.findItem(R.id.action_share); //Âº∫ËΩ¨‰∏∫‰Ω†ÈúÄË¶ÅÁöÑview View actionView = item.getActionView(); return super.onCreateOptionsMenu(menu);&#125;//ËèúÂçïÊñá‰ª∂Ôºå‰∏∫Ê≤°ÊúâÊé•Ëß¶ËøáÁöÑÂ∞è‰ºô‰º¥ÂáÜÂ§áÁöÑÈ¢ù,Áõ∏ÂÖ≥Â±ûÊÄßËØ∑Ëá™Ë°åÊü•ÊñáÊ°£//res/menu/menu_main.xml&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;xmlns:tools=&quot;http://schemas.android.com/tools&quot;tools:context=&quot;.MainActivity&quot;&gt;&lt;itemandroid:id=&quot;@+id/ab_search&quot;android:orderInCategory=&quot;80&quot;android:title=&quot;action_search&quot; app:actionViewClass=&quot;android.support.v7.widget.SearchView&quot;/&gt;&lt;itemandroid:id=&quot;@+id/action_share&quot;android:orderInCategory=&quot;90&quot;android:title=&quot;action_share&quot; app:actionProviderClass=&quot;android.support.v7.widget.ShareActionProvider&quot;app:showAsAction=&quot;ifRoom&quot;/&gt;&lt;itemandroid:id=&quot;@+id/action_settings&quot;android:orderInCategory=&quot;100&quot;android:title=&quot;action_settings&quot;app:showAsAction=&quot;never&quot;/&gt;&lt;/menu&gt; LinearLayoutCompat Âú®Êéß‰ª∂‰∏≠Èó¥Ê∑ªÂä†ÂàÜÈöîÁ∫ø 1234567891011&lt;android.support.v7.widget.LinearLayoutCompatandroid:layout_width="match_parent"android:layout_height="wrap_content"android:layout_gravity="center|center_horizontal"android:orientation="vertical"app:divider="@drawable/line"app:dividerPadding="4dp"app:showDividers="middle"&gt;.....&lt;/android.support.v7.widget.LinearLayoutCompat&gt; app:divider=‚Äù@drawable/line‚Äù ÁªôÂàÜÈöîÁ∫øËÆæÁΩÆÈ¢úËâ≤ÔºåËøôÈáå‰Ω†ÈúÄË¶ÅÂú®drawableÂú®ÂÆö‰πâshapeËµÑÊ∫êÔºåÂê¶ÂàôÂ∞ÜÊ≤°ÊúâÊïàÊûú„ÄÇ app:dividerPadding=‚Äù25dp‚Äù ÁªôÂàÜÈöîÁ∫øËÆæÁΩÆË∑ùÁ¶ªÂ∑¶Âè≥ËæπË∑ùÁöÑË∑ùÁ¶ª„ÄÇ app:showDividers=‚Äùmiddle|beginning|end‚Äù ÂàÜÈöîÁ∫øÊòæÁ§∫ÁöÑ‰ΩçÁΩÆÔºåÊúâÂõõÁßçÂèÇÊï∞ÂÄºÔºömiddle ÊØè‰∏™item‰πãÈó¥ÔºåbeginningÊúÄÈ°∂Á´ØÊòæÁ§∫ÂàÜÈöîÁ∫øÔºåend ÊúÄÂ∫ïÁ´ØÊòæÁ§∫ÂàÜÈöîÁ∫øÔºånone‰∏çÊòæÁ§∫Èó¥ÈöîÁ∫ø„ÄÇ ListPopupWindow123456789101112131415161718192021222324public void showListPopup(View view) &#123; String items[] = &#123;"item1", "item2", "item3", "item4", "item5"&#125;; final ListPopupWindow listPopupWindow = new ListPopupWindow(this); //ËÆæÁΩÆListViewÁ±ªÂûãÁöÑÈÄÇÈÖçÂô® listPopupWindow.setAdapter(new ArrayAdapter&lt;String&gt;(SwipeRefreshActivity.this, android.R.layout.simple_list_item_1, items)); //ÁªôÊØè‰∏™itemËÆæÁΩÆÁõëÂê¨‰∫ã‰ª∂ listPopupWindow.setOnItemClickListener(new AdapterView.OnItemClickListener() &#123; @Override public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) &#123; Toast.makeText(SwipeRefreshActivity.this, "the position is" + position, Toast.LENGTH_SHORT).show(); //listPopupWindow.dismiss(); &#125; &#125;); //ËÆæÁΩÆListPopupWindowÁöÑÈîöÁÇπ,‰πüÂ∞±ÊòØÂºπÂá∫Ê°ÜÁöÑ‰ΩçÁΩÆÊòØÁõ∏ÂØπÂΩìÂâçÂèÇÊï∞ViewÁöÑ‰ΩçÁΩÆÊù•ÊòæÁ§∫Ôºå listPopupWindow.setAnchorView(view); //ListPopupWindow Ë∑ùÈîöÁÇπÁöÑË∑ùÁ¶ªÔºå‰πüÂ∞±ÊòØÁõ∏ÂØπÈîöÁÇπViewÁöÑ‰ΩçÁΩÆ listPopupWindow.setHorizontalOffset(100); listPopupWindow.setVerticalOffset(100); //ËÆæÁΩÆÂØπËØùÊ°ÜÁöÑÂÆΩÈ´ò listPopupWindow.setWidth(300); listPopupWindow.setHeight(600); listPopupWindow.setModal(false); listPopupWindow.show(); &#125; PopupMenu12345678910111213141516public void showPopupMenu(View view) &#123;//ÂèÇÊï∞View ÊòØËÆæÁΩÆÂΩìÂâçËèúÂçïÊòæÁ§∫ÁöÑÁõ∏ÂØπ‰∫éViewÁªÑ‰ª∂‰ΩçÁΩÆÔºåÂÖ∑‰Ωì‰ΩçÁΩÆÁ≥ªÁªü‰ºöÂ§ÑÁêÜPopupMenu popupMenu = new PopupMenu(this, view);//Âä†ËΩΩmenuÂ∏ÉÂ±ÄpopupMenu.getMenuInflater().inflate(R.menu.menu_main, popupMenu.getMenu());//ËÆæÁΩÆmenu‰∏≠ÁöÑitemÁÇπÂáª‰∫ã‰ª∂popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() &#123;@Overridepublic boolean onMenuItemClick(MenuItem item) &#123;return false;&#125;&#125;);//ËÆæÁΩÆpopupWindowÊ∂àÂ§±ÁöÑÁÇπÂáª‰∫ã‰ª∂popupMenu.setOnDismissListener(this);popupMenu.show();&#125; Êñ∞È£éÊ†ºSpinner12345&lt;Spinner android:id="@+id/spinner" style="@android:style/Widget.Holo.Light.Spinner" android:layout_width="wrap_content" android:layout_height="wrap_content"&gt;&lt;/Spinner&gt; v4 SwipeRefreshLayout SwipeRefreshLayoutÁªßÊâøËá™ViewGroup,ÁêÜËÆ∫‰∏äÂèØ‰ª•ÂÆåÊàê‰ªª‰ΩïViewÁöÑÂà∑Êñ∞ ‰ª£Á†Å12345678final SwipeRefreshLayout swipeRefreshLayout = (SwipeRefreshLayout) findViewById(R.id.md_SwipeRefreshLayout);//ËÆæÁΩÆËøõÂ∫¶Êù°ÁöÑÈ¢úËâ≤swipeRefreshLayout.setColorSchemeColors(Color.RED, Color.BLUE, Color.GREEN);//ËÆæÁΩÆÂúÜÂΩ¢ËøõÂ∫¶Êù°Â§ßÂ∞èswipeRefreshLayout.setSize(SwipeRefreshLayout.LARGE);//ËÆæÁΩÆËøõÂ∫¶Êù°ËÉåÊôØÈ¢úËâ≤ swipeRefreshLayout.setProgressBackgroundColorSchemeColor(Color.WHITE);//ËÆæÁΩÆ‰∏ãÊãâÂ§öÂ∞ëË∑ùÁ¶ª‰πãÂêéÂºÄÂßãÂà∑Êñ∞Êï∞ÊçÆÔºå‰∏çË¶ÅËÆæÁΩÆÁöÑÂ§™Â§ßÔºå‰∏çÁÑ∂ÊÄé‰πàÊãâÈÉΩ‰∏çÂà∑Êñ∞swipeRefreshLayout.setDistanceToTriggerSync(5);]]></content>
      <categories>
        <category>Android</category>
        <category>View</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËΩØ‰ª∂ËÆæËÆ°ÂéüÂàô]]></title>
    <url>%2Farticle%2F1361585574%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªË¶Å‰ªãÁªçËÆæËÆ°Ê®°ÂºèÁöÑËÆæËÆ°Âíå‰ΩøÁî®„ÄÇ Á±ªÊòØ‰∏çÁ®≥ÂÆöÁöÑÔºå‰ΩÜÊòØÊäΩË±°Áõ∏ÂØπÁ®≥ÂÆöÔºå‰æùËµñ‰∫éÊäΩË±°Â∞ÜËé∑ÂæóÊõ¥Âä†Á®≥ÂÆöÁöÑÁ±ªÁªìÊûÑ„ÄÇ ËÆæËÆ°ÂéüÂàôÂçï‰∏ÄÊåáË¥£ ÊØè‰∏™Á±ªÂè™Ë¥üË¥£Âçï‰∏ÄÁöÑÂäüËÉΩÔºåÈÅøÂÖç‰øÆÊîπ‰∏Ä‰∏™ÂäüËÉΩÂÆåÊàêÂè¶‰∏Ä‰∏™ÂäüËÉΩÁöÑÈîôËØØÂá∫Áé∞„ÄÇ ÈáåÊ∞èÊõøÊç¢/ÊäΩË±°Á±ªÂéüÂàô Â≠êÁ±ªÂÆûÁé∞Áà∂Á±ªÁöÑÊäΩË±°ÊñπÊ≥ï Â≠êÁ±ª‰∏çË¶Å‰øÆÊîπÁà∂Á±ªÁöÑÈùûÊäΩË±°ÊñπÊ≥ï Â≠êÁ±ªÂÆûÁé∞ÊäΩË±°ÊñπÊ≥ïÊó∂ÂâçÁΩÆÊù°‰ª∂ÔºàÂèÇÊï∞ÔºâÂ∫îËØ•Êõ¥Âä†ÂÆΩÊùæ Â≠êÁ±ªÈáçÂÜôÁà∂Á±ªÁöÑÊñπÊ≥ïÂêéÁΩÆÊù°‰ª∂ÔºàËøîÂõûÂÄºÔºâÂ∫îËØ•Êõ¥Âä†‰∏•Ê†º ‰æùËµñÂÄíÁΩÆ È´òÂ±ÇÊ®°Âùó‰∏çÂ∫îËØ•‰æùËµñ‰∫éÂ∫ïÂ±ÇÊ®°ÂùóÔºå‰∫åËÄÖÈÉΩÂ∫îËØ•‰æùËµñ‰∫éÊäΩË±° ÊäΩË±°‰∏çËÉΩ‰æùËµñ‰∫éÁªÜËäÇÔºåÁªÜËäÇË¶Å‰æùËµñÊäΩË±° Â§öÁî®ÊäΩË±°ÁöÑÊé•Âè£ÊèèËø∞Âä®‰Ωú„ÄÇÊäΩË±°Èöæ‰ª•Êâ©Â±ïÊàñËÄÖÊâ©Â±ïÂ§çÊùÇÁöÑÁöÑÂä®‰ΩúÔºåÈôç‰ΩéÂä®‰ΩúÊâßË°åËÄÖÂíåÂä®‰ΩúÊâøÂèóËÄÖ‰πãÈó¥ÁöÑÂÖ≥ËÅî Ëø™Á±≥ÁâπÊ≥ïÂàô/ÊúÄÂ∞ëÁü•ÈÅìÂéüÂàô ÊØè‰∏™Á±ªÂØπËá™Â∑±‰æùËµñÁöÑÁ±ªÁü•ÈÅìÁöÑË∂äÂ∞ëË∂äÂ•ΩÔºåË¢´‰æùËµñÁöÑÁ±ªÂºÄÊîæÂÖ¨ÂºÄÁöÑÊñπÊ≥ïÂç¥Â∞ÅË£ÖÂÜÖÈÉ®Â§çÊùÇÁöÑÈÄªËæë ÂºÄÈó≠ÂéüÂàô ÂØπÊâ©Â±ïÊòØÂºÄÊîæÁöÑÂØπ‰øÆÊîπÊòØÂ∞ÅÈó≠ÁöÑ ‰ΩøÁî®Â¢ûÂä†ËΩØ‰ª∂ÂÆû‰ΩìÁöÑÊñπÊ≥ïÊù•Êâ©Â±ïÂäüËÉΩËÄå‰∏çË¶Å‰ΩøÁî®‰øÆÊîπ‰ª£Á†ÅÁöÑÊñπÂºè Êé•Âè£ÈöîÁ¶ªÂéüÂàô ‰∏Ä‰∏™Á±ªÂØπÂè¶‰∏Ä‰∏™Á±ªÁöÑ‰æùËµñÂ∫îËØ•Âª∫Á´ãÂú®ÊúÄÂ∞èÁöÑÊé•Âè£‰∏äÔºå‰πüÂ∞±ÊòØ‰∏çË¶ÅÂº∫Ëø´Â≠êÁ±ªÂÆûÁé∞‰ªñ‰∏çÈúÄË¶ÅÁöÑÂäüËÉΩÔºåÂ¶ÇÊûúÈúÄË¶ÅËøô‰πàÂÅöÈÇ£‰πàËØ¥ÊòéËøô‰∏™Êé•Âè£ÊúÄÂ∞èÊé•Âè£ÈúÄË¶ÅÊãÜÂàÜ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidÂºÄÂèëÈóÆÈ¢òÂ∏∏ËßÅÈóÆÈ¢ò]]></title>
    <url>%2Farticle%2F1817351074%2F</url>
    <content type="text"><![CDATA[ÊñπÊ≥ïÊï∞ÈáèË∂ÖÂá∫ÈôêÂà∂ ‰ΩøÁî®ÂàÜÂåÖÁ≠ñÁï• Âá∫Áé∞exit value 3‰πãÁ±ªÁöÑÈîôËØØÈÄöÂ∏∏ÊòØÊñπÊ≥ïÊï∞ÁõÆË∂ÖÂá∫ÈôêÂà∂‰∫ÜÔºåÂª∫ËÆÆ‰ΩøÁî®ÂàÜÂåÖÊú∫Âà∂Ôºå‰ΩÜËøô‰∏çÊòØËß£ÂÜ≥ÈóÆÈ¢òÁöÑÊñπÊ≥ï,ÊúÄÈáçË¶ÅÁöÑËøòÊòØÂáÜÁ°ÆÈÄâÊã©Á±ªÂ∫ìÔºåÁ≤æÁÆÄÊñπÊ≥ïÊï∞„ÄÇ 1234567891011121314//ÂºïÂÖ•ÂàÜÂåÖcompile 'com.android.support:multidex:1.0.1'ÔºèÔºèÊ∑ªÂä†ÂÖÅËÆ∏Â§öÊñπÊ≥ïdefaultConfig &#123; multiDexEnabled true &#125;ÔºèÔºèÂú®ApplicationÊ∑ªÂä†ÂàÜÂåÖÂàùÂßãÂåñ@Overrideprotected void attachBaseContext(Context base) &#123; super.attachBaseContext(base); MultiDex.install(this); ÔΩù ÊñπÊ≥ïÊï∞ÁªüËÆ° Êé®Ëçê‰∏Ä‰∏™Êèí‰ª∂ÔºåÂèØ‰ª•ËÆ°ÁÆóÊØè‰∏™ÂåÖ‰∏ãÈù¢ÁöÑÊñπÊ≥ïÊï∞ÁõÆ Âú®app.gradleÊñá‰ª∂Â§¥Ê∑ªÂä†‰ª•‰∏ãÊèí‰ª∂Ôºå‰ºöÂú®app/build/outputs/dexcount/debug.txtÊñá‰ª∂ÈáåÁîüÊàêÊØè‰∏™ÂåÖ‰∏ãÈù¢ÁöÑÊñπÊ≥ïÊï∞ÔºåÂ¶Ç‰∏ãÔºöapply plugin: ‚Äòcom.getkeepsafe.dexcount‚Äô 123456789101112methods fields package/class name8 0 &lt;unnamed&gt;21186 8027 android6 0 android.accessibilityservice34 0 android.animation556 33 android.app3 0 android.app.usage2 0 android.appwidget488 50 android.content42 43 android.content.pm106 6 android.content.res79 0 android.database Á≠æÂêçÈóÆÈ¢ò12345678910111213141516171819202122//Ê≠£ÂºèÁ≠æÂêçÁõ∏ÂÖ≥‰ø°ÊÅØsigningConfigs &#123; myConfig &#123; storeFile file("Áõ∏ÂØπÊàñËÄÖÁªùÂØπË∑ØÂæÑ") storePassword "sangular123" keyAlias "sangular" keyPassword "sangular123" &#125;&#125;buildTypes &#123; //releaseÁâàÊú¨ÁöÑÊ≠£ÂºèÁ≠æÂêç release &#123; //minifyEnabled true ÊâìÂåÖÂèëÂ∏ÉÊó∂‰ºö‰ΩøÁî®ËØ•‰ª£Á†Å //proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' signingConfig signingConfigs.myConfig &#125; //debugÁâàÊú¨‰πüÁî®Ê≠£ÂºèÁ≠æÂêçË∞ÉËØïÔºåËøôÊ†∑ÂèØ‰ª•Âú®debugÁâàÊú¨‰∏ã‰ΩøÁî®Á¨¨‰∏âÊñπÁôªÈôÜÁ≠âÂäüËÉΩ debug &#123; signingConfig signingConfigs.myConfig ÔΩù&#125;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>AndroidTips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â∏∏ËßÅÊéíÂ∫èÂèäÊêúÁ¥¢ÁÆóÊ≥ïÊÄªÁªì]]></title>
    <url>%2Farticle%2F395850883%2F</url>
    <content type="text"><![CDATA[Arrays.sort()Arrays.sort()‰ΩøÁî®‰∫Ü‰∏§ÁßçÊéíÂ∫èÊñπÊ≥ïÔºåÂø´ÈÄüÊéíÂ∫èÂíå‰ºòÂåñÁöÑÂêàÂπ∂ÊéíÂ∫è„ÄÇ Âø´ÈÄüÊéíÂ∫è‰∏ªË¶ÅÊòØÂØπÂì™‰∫õÂü∫Êú¨Á±ªÂûãÊï∞ÊçÆÔºàint,short,longÁ≠âÔºâÊéíÂ∫è„ÄÇ ËÄåÂêàÂπ∂ÊéíÂ∫èÁî®‰∫éÂØπÂØπË±°Á±ªÂûãËøõË°åÊéíÂ∫è„ÄÇ ÂéüÂõ†Ôºö‰ΩøÁî®‰∏çÂêåÁ±ªÂûãÁöÑÊéíÂ∫èÁÆóÊ≥ï‰∏ªË¶ÅÊòØÁî±‰∫éÂø´ÈÄüÊéíÂ∫èÊòØ‰∏çÁ®≥ÂÆöÁöÑÔºåËÄåÂêàÂπ∂ÊéíÂ∫èÊòØÁ®≥ÂÆöÁöÑ„ÄÇËøôÈáåÁöÑÁ®≥ÂÆöÊòØÊåáÊØîËæÉÁõ∏Á≠âÁöÑÊï∞ÊçÆÂú®ÊéíÂ∫è‰πãÂêé‰ªçÁÑ∂ÊåâÁÖßÊéíÂ∫è‰πãÂâçÁöÑÂâçÂêéÈ°∫Â∫èÊéíÂàó„ÄÇÂØπ‰∫éÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºåÁ®≥ÂÆöÊÄßÊ≤°ÊúâÊÑè‰πâÔºåËÄåÂØπ‰∫éÂØπË±°Á±ªÂûãÔºåÁ®≥ÂÆöÊÄßÊòØÊØîËæÉÈáçË¶ÅÁöÑÔºåÂõ†‰∏∫ÂØπË±°Áõ∏Á≠âÁöÑÂà§Êñ≠ÂèØËÉΩÂè™ÊòØÂà§Êñ≠ÂÖ≥ÈîÆÂ±ûÊÄßÔºåÊúÄÂ•Ω‰øùÊåÅÁõ∏Á≠âÂØπË±°ÁöÑÈùûÂÖ≥ÈîÆÂ±ûÊÄßÁöÑÈ°∫Â∫è‰∏éÊéíÂ∫èÂâç‰∏ÄËá¥„ÄÇ Âè¶Â§ñ‰∏Ä‰∏™ÂéüÂõ†ÊòØÁî±‰∫éÂêàÂπ∂ÊéíÂ∫èÁõ∏ÂØπËÄåË®Ä ÊØîËæÉÊ¨°Êï∞ ÊØîÂø´ÈÄüÊéíÂ∫èÂ∞ëÔºå ÁßªÂä®(ÂØπË±°ÂºïÁî®ÁöÑÁßªÂä®)Ê¨°Êï∞ ÊØîÂø´ÈÄüÊéíÂ∫èÂ§öÔºåËÄåÂØπ‰∫éÂØπË±°Êù•ËØ¥ÔºåÁßªÂä®ÊòØÁÆÄÂçïÁöÑÔºåÂè™ÊòØÂºïÁî®ÁöÑËΩ¨Êç¢Ôºå‰ΩÜÊòØÊØîËæÉÁõ∏ÂØπÊõ¥Âä†ËÄóÊó∂„ÄÇ ÂêàÂπ∂ÊéíÂ∫èÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØn*logn, Âø´ÈÄüÊéíÂ∫èÁöÑÂπ≥ÂùáÊó∂Èó¥Â§çÊùÇÂ∫¶‰πüÊòØn*lognÔºå‰ΩÜÊòØÂêàÂπ∂ÊéíÂ∫èÁöÑÈúÄË¶ÅÈ¢ùÂ§ñÁöÑn‰∏™ÂºïÁî®ÁöÑÁ©∫Èó¥„ÄÇ ÊéíÂ∫èÁÆóÊ≥ïÂÆûÁé∞ÂÜíÊ≥°ÊéíÂ∫è12345678910111213//ÂÜíÊ≥°:0 ~ n-1 0 ~ n-1-i//ÂÜíÊ≥°ÊéíÂ∫è:‰∏§‰∏§ÊØîËæÉ,ÊØîËæÉn-1Ë∂ü,ÊØè‰∏ÄË∂üÊØîËæÉn-i-1Ê¨°public static void BubbleSort(int a[])&#123; int n = a.length; for(int i = 0; i &lt; n - 1; i++) //ÊØîËæÉn-1Ë∂ü for(int j = 0; j &lt; n - 1 - i; j++)&#123;//ÊØîËæÉn-i-1Ê¨°! if(a[j+1] &lt; a[j])&#123; a[j+1] = a[j+1] ^ a[j]; a[j] = a[j] ^ a[j+1]; a[j+1] = a[j] ^ a[j+1]; &#125; &#125;&#125; ÈÄâÊã©ÊéíÂ∫è123456789101112131415161718//ÈÄâÊã©ÊéíÂ∫è:ÈÅçÂéÜÂâçn-1‰∏™ÂÖÉÁ¥†,‰∏é i+1 Áõ¥Âà∞ n ‰∏™ÂÖÉÁ¥†ÊØîËæÉ,ËÆ∞ÂΩïÂ∞èÊï∞‰∏ãÊ†ápublic static void SelectSort(int a[])&#123; int n = a.length; for(int i = 0; i &lt; n - 1; i++)&#123; int min = i; for(int j = i + 1; j &lt; n; j++)&#123; if(a[min] &gt; a[j])&#123; min = j; &#125; &#125; if(min != i)&#123; a[i] = a[i] ^ a[min]; a[min] = a[min] ^ a[i]; a[i] = a[min] ^ a[i]; &#125; &#125;&#125; ÊèíÂÖ•ÊéíÂ∫è1234567891011121314//ÊèíÂÖ•ÊéíÂ∫è:Â∑¶Ëæπ‰∏∫ÊúâÂ∫èÂå∫Âüü,ÈÅçÂéÜÁ¨¨‰∏Ä‰∏™Áõ¥Âà∞Á¨¨n‰∏™,‰∏éÂâçi‰∏™ÊØîËæÉ public static void InsertSort(int a[])&#123; int n = a.length; for(int i = 1;i &lt; n; i++) for(int j = i; j &gt; 0; j--)&#123; if(a[j] &lt; a[j-1])&#123; a[j] = a[j] ^ a[j-1]; a[j-1] = a[j-1] ^ a[j]; a[j] = a[j-1] ^ a[j]; &#125; else break; &#125; &#125; Âø´ÈÄüÊéíÂ∫è1234567891011121314151617181920212223public static void quicksort(int n[], int left, int right) &#123; int dp; if (left &lt; right) &#123; dp = partition(n, left, right); quicksort(n, left, dp - 1); quicksort(n, dp + 1, right); &#125; &#125;public static int partition(int n[], int left, int right) &#123; int pivot = n[left]; while (left &lt; right) &#123; while (left &lt; right &amp;&amp; n[right] &gt;= pivot) right--; if (left &lt; right) n[left++] = n[right]; while (left &lt; right &amp;&amp; n[left] &lt;= pivot) left++; if (left &lt; right) n[right--] = n[left]; &#125; n[left] = pivot; return left;&#125; ÊêúÁ¥¢ÁÆóÊ≥ïÂÆûÁé∞‰∫åÂàÜÊ≥ïÊêúÁ¥¢123456789101112131415161718public static int HalfSearch(int a[],int target)&#123; int bottom = 0; int top = a.length - 1; int middle = (top + bottom) / 2; while(bottom &lt;= top)&#123; if(a[middle] &gt; target)&#123; top = middle - 1; &#125; else if(a[middle] &lt; target)&#123; bottom = middle + 1; &#125; else &#123; return middle; &#125; middle = (top + bottom) / 2; &#125; return -1; &#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
</search>